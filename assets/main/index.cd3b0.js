System.register("chunks:///_virtual/AChecker.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './ComponentUtils.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, cclegacy, Button, _decorator, native, Component, pComponentUtils;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      Button = module.Button;
      _decorator = module._decorator;
      native = module.native;
      Component = module.Component;
    }, function (module) {
      pComponentUtils = module.pComponentUtils;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _class2, _class3, _descriptor, _descriptor2, _descriptor3;
      cclegacy._RF.push({}, "b73ddeQHiFAm7CD7UW2vQwR", "AChecker", undefined);
      var _cc$_decorator = _decorator,
        ccclass = _cc$_decorator.ccclass,
        property = _cc$_decorator.property;
      var AChecker = exports('AChecker', (_dec = ccclass("AChecker"), _dec2 = property({}), _dec3 = property({}), _dec4 = property({
        type: Button
      }), _dec(_class2 = (_class3 = /*#__PURE__*/function (_cc$Component) {
        _inheritsLoose(AChecker, _cc$Component);
        function AChecker() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _cc$Component.call.apply(_cc$Component, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "text", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "version", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "testButton", _descriptor3, _assertThisInitialized(_this));
          return _this;
        }
        var _proto = AChecker.prototype;
        _proto.onLoad = function onLoad() {
          console.log("[AChecker loaded] Landing >>> ", this.text, " Version: ", this.version);
          pComponentUtils.appends({
            _options: {
              _handlers: this._onTest,
              _target: this.testButton
            },
            _type: Button.EventType.CLICK,
            _binder: this
          });
        };
        _proto._onTest = function _onTest() {
          var _class = "com/cocos/game/AppActivity";
          try {
            native.reflection.callStaticMethod(_class, 'showAlert', '()V');
            console.log("???????? Calling native Android Quick Check method.");
          } catch (err) {
            console.error("SOMETHINGE ERROR WHEN TRYING TO CALL ANDROID SEMTHOD", err.toString(), JSON.stringify(err));
          }
        };
        return AChecker;
      }(Component), (_descriptor = _applyDecoratedDescriptor(_class3.prototype, "text", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return "Hello, AChecker!";
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class3.prototype, "version", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return 1.0;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class3.prototype, "testButton", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class3)) || _class2));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/Actioner.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './Decorators.ts', './UpdateManager.ts', './AsyncUtils.ts', './StringUtils.ts', './MathUtils.ts', './NodeUtils.ts', './ClassUtils.ts'], function (exports) {
  var _inheritsLoose, _asyncToGenerator, _regeneratorRuntime, cclegacy, Node, pDecorators, UpdateManager, pAsyncUtils, pStringUtils, pMathUtils, pNodeUtils, pClassUtils;
  return {
    setters: [function (module) {
      _inheritsLoose = module.inheritsLoose;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      Node = module.Node;
    }, function (module) {
      pDecorators = module.pDecorators;
    }, function (module) {
      UpdateManager = module.UpdateManager;
    }, function (module) {
      pAsyncUtils = module.pAsyncUtils;
    }, function (module) {
      pStringUtils = module.pStringUtils;
    }, function (module) {
      pMathUtils = module.pMathUtils;
    }, function (module) {
      pNodeUtils = module.pNodeUtils;
    }, function (module) {
      pClassUtils = module.pClassUtils;
    }],
    execute: function () {
      cclegacy._RF.push({}, "e10f17zD2dJl7vTQkthxciP", "Actioner", undefined);
      var _Action = /*#__PURE__*/function () {
        function _Action() {
          this._update = null;
        }
        var _proto = _Action.prototype;
        _proto["do"] = function _do() {
          !!this._update && pDecorators.instance(UpdateManager).add({
            _function: this._update,
            _this: this
          });
          return this._do();
        };
        _proto.stop = function stop() {
          !!this._update && pDecorators.instance(UpdateManager).remove({
            _function: this._update,
            _this: this
          });
          this._stop();
        };
        _proto._stop = function _stop() {};
        return _Action;
      }();
      var _Delay = /*#__PURE__*/function (_Action2) {
        _inheritsLoose(_Delay, _Action2);
        function _Delay() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _Action2.call.apply(_Action2, [this].concat(args)) || this;
          _this._duration = 0;
          _this._uid = '';
          return _this;
        }
        var _proto2 = _Delay.prototype;
        _proto2.init = function init(data) {
          this._duration = data;
          this._uid = pStringUtils.uuid();
        };
        _proto2._do = function _do() {
          return pAsyncUtils.wait({
            id: this._uid,
            time: this._duration
          });
        };
        return _Delay;
      }(_Action);
      var _Callback = /*#__PURE__*/function (_Action3) {
        _inheritsLoose(_Callback, _Action3);
        function _Callback() {
          var _this2;
          for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
            args[_key2] = arguments[_key2];
          }
          _this2 = _Action3.call.apply(_Action3, [this].concat(args)) || this;
          _this2._function = [];
          return _this2;
        }
        var _proto3 = _Callback.prototype;
        _proto3.init = function init(data) {
          this._function = pClassUtils.mapper(data);
        };
        _proto3._do = /*#__PURE__*/function () {
          var _do2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  if (this._function) {
                    _context.next = 2;
                    break;
                  }
                  return _context.abrupt("return");
                case 2:
                  pClassUtils.invoker(this._function);
                case 3:
                case "end":
                  return _context.stop();
              }
            }, _callee, this);
          }));
          function _do() {
            return _do2.apply(this, arguments);
          }
          return _do;
        }();
        return _Callback;
      }(_Action);
      var _MoveTo = /*#__PURE__*/function (_Action4) {
        _inheritsLoose(_MoveTo, _Action4);
        function _MoveTo() {
          var _this3;
          for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
            args[_key3] = arguments[_key3];
          }
          _this3 = _Action4.call.apply(_Action4, [this].concat(args)) || this;
          _this3._duration = 0;
          _this3._positioner = null;
          _this3._eslapsed = 0;
          _this3._self = null;
          _this3._easing = null;
          _this3._promiser = null;
          _this3._resolver = null;
          _this3._update = function (_dt) {
            _this3._eslapsed += _dt;
            var _progress = _this3._eslapsed / _this3._duration;
            if (_progress >= 1) {
              _this3.stop();
              return;
            }
            var _easing = _this3._easing(_progress);
            var _wpos = _this3._positioner(_this3._self);
            var _tpos = _this3._self.worldPosition.clone().lerp(_wpos, _easing);
            _this3._self.setWorldPosition(_tpos);
          };
          return _this3;
        }
        var _proto4 = _MoveTo.prototype;
        _proto4.init = function init(data) {
          this._duration = data.duration;
          this._self = data.self;
          this._easing = pMathUtils.getEasing(data.easing);
          this._positioner = pNodeUtils.revoleFlexPosition(data.target, true);
        };
        _proto4._stop = function _stop() {
          this._resolver && this._resolver();
          this._promiser = Promise.resolve();
        };
        _proto4._do = function _do() {
          var _this4 = this;
          this._eslapsed = 0;
          this._promiser = new Promise(function (_rs) {
            return _this4._resolver = _rs;
          });
          return this._promiser;
        };
        return _MoveTo;
      }(_Action);
      var _ActionInterval = /*#__PURE__*/function () {
        function _ActionInterval() {
          this._data = [];
          this._isStarted = false;
          this._index = 0;
          this._target = null;
        }
        _ActionInterval.create = function create(target) {
          var instance = new _ActionInterval();
          instance._init(target);
          return instance;
        };
        var _proto5 = _ActionInterval.prototype;
        _proto5._init = function _init(target) {
          this._target = target instanceof Node ? target : target.node;
        };
        _proto5.start = /*#__PURE__*/function () {
          var _start = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {
            var _target;
            return _regeneratorRuntime().wrap(function _callee2$(_context2) {
              while (1) switch (_context2.prev = _context2.next) {
                case 0:
                  if (this._target) {
                    _context2.next = 2;
                    break;
                  }
                  return _context2.abrupt("return", null);
                case 2:
                  if (!(this._isStarted || this._data.length <= 0)) {
                    _context2.next = 4;
                    break;
                  }
                  return _context2.abrupt("return");
                case 4:
                  this._isStarted = true;
                  this._index = 0;
                case 6:
                  if (!(this._index < this._data.length)) {
                    _context2.next = 17;
                    break;
                  }
                  _target = this._data[this._index];
                  if (_target) {
                    _context2.next = 10;
                    break;
                  }
                  return _context2.abrupt("continue", 14);
                case 10:
                  _context2.next = 12;
                  return _target["do"]();
                case 12:
                  if (this._isStarted) {
                    _context2.next = 14;
                    break;
                  }
                  return _context2.abrupt("break", 17);
                case 14:
                  this._index++;
                  _context2.next = 6;
                  break;
                case 17:
                  return _context2.abrupt("return", this);
                case 18:
                case "end":
                  return _context2.stop();
              }
            }, _callee2, this);
          }));
          function start() {
            return _start.apply(this, arguments);
          }
          return start;
        }();
        _proto5.delay = function delay(duration) {
          var _delay = new _Delay();
          _delay.init(duration);
          this._data.push(_delay);
          return this;
        };
        _proto5.stop = function stop(clean) {
          if (clean === void 0) {
            clean = false;
          }
          if (!this._isStarted) return;
          this._isStarted = false;
          var _target = this._data[this._index];
          _target == null || _target.stop();
          clean && (this._data = []);
          return this;
        };
        _proto5.to = function to(duration, target, easing) {
          var _moveTo = new _MoveTo();
          _moveTo.init({
            duration: duration,
            target: target,
            easing: easing,
            self: this._target
          });
          this._data.push(_moveTo);
          return this;
        };
        _proto5.call = function call(callback) {
          var _callback = new _Callback();
          _callback.init(callback);
          this._data.push(_callback);
          return this;
        };
        return _ActionInterval;
      }();
      var Actioner = exports('default', _ActionInterval.create);
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/AlertDialog.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts'], function (exports) {
  var _inheritsLoose, cclegacy, _decorator, UIBase;
  return {
    setters: [function (module) {
      _inheritsLoose = module.inheritsLoose;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
    }, function (module) {
      UIBase = module.UIBase;
    }],
    execute: function () {
      var _dec, _class, _dec2, _class3;
      cclegacy._RF.push({}, "7bb7eMLYYVDS7MCC3kZ6qLT", "AlertDialog", undefined);
      var ccclass = _decorator.ccclass;
      var AlertDialogQueueItem = (_dec = ccclass('AlertDialogQueueItem'), _dec(_class = function AlertDialogQueueItem(onDismissed) {
        this.onDismissed = void 0;
        this.onDismissed = onDismissed;
      }) || _class);
      var AlertDialog = exports('AlertDialog', (_dec2 = ccclass('AlertDialog'), _dec2(_class3 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(AlertDialog, _UIBase);
        function AlertDialog() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          _this.onDismissed = null;
          _this.queue = new Array();
          return _this;
        }
        var _proto = AlertDialog.prototype;
        _proto.show = function show(onDismissed, addQueue, forceAddQueue) {
          if (addQueue === void 0) {
            addQueue = false;
          }
          if (forceAddQueue === void 0) {
            forceAddQueue = true;
          }
          if (addQueue) {
            this.queue.push(new AlertDialogQueueItem(onDismissed));
            if (this.queue.length == 1) {
              this.setupContentUI();
              this.onDismissed = onDismissed;
            }
          } else {
            if (this.queue.length > 0 && forceAddQueue) {
              this.queue.push(new AlertDialogQueueItem(onDismissed));
            } else {
              this.setupContentUI();
              this.onDismissed = onDismissed;
            }
          }
        };
        _proto.setupContentUI = function setupContentUI() {};
        _proto._onClosed = function _onClosed() {
          this.node.active = false;
          if (this.queue.length > 0) {
            this.queue.splice(0, 1);
            if (this.queue.length > 0) {
              this.show(this.queue[0].onDismissed, false, false);
            }
          }
        };
        _proto.onConfirm = function onConfirm() {
          if (typeof this.onDismissed === "function") this.onDismissed();
          this._onClosed();
        };
        _proto.onClosed = function onClosed() {
          this._onClosed();
        };
        return AlertDialog;
      }(UIBase)) || _class3));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/AlwayCenter.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './Enums.ts', './ComponentUtils.ts', './Constants.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _createClass, cclegacy, _decorator, Node, Enum, UITransform, v3, Component, EComponentInvokeOptions, pComponentUtils, CCGroup;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _createClass = module.createClass;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Node = module.Node;
      Enum = module.Enum;
      UITransform = module.UITransform;
      v3 = module.v3;
      Component = module.Component;
    }, function (module) {
      EComponentInvokeOptions = module.EComponentInvokeOptions;
    }, function (module) {
      pComponentUtils = module.pComponentUtils;
    }, function (module) {
      CCGroup = module.CCGroup;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7;
      cclegacy._RF.push({}, "456dciRjMpFuYOoEf3A1nZH", "AlwayCenter", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var core = CCGroup.core,
        editor = CCGroup.editor;
      var AlwayCenter = exports('AlwayCenter', (_dec = ccclass("AlwayCenter"), _dec2 = property({
        type: Node,
        group: core
      }), _dec3 = property({
        group: core
      }), _dec4 = property({
        type: Node,
        group: core
      }), _dec5 = property({
        group: core
      }), _dec6 = property({
        type: Node,
        group: core
      }), _dec7 = property({
        group: core
      }), _dec8 = property({
        group: editor,
        displayName: "Update"
      }), _dec9 = property({
        type: Enum(EComponentInvokeOptions)
      }), _dec(_class = (_class2 = /*#__PURE__*/function (_Component) {
        _inheritsLoose(AlwayCenter, _Component);
        function AlwayCenter() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _Component.call.apply(_Component, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "center", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "centerOffset", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "left", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "leftOffset", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "right", _descriptor5, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "rightOffset", _descriptor6, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "option", _descriptor7, _assertThisInitialized(_this));
          return _this;
        }
        var _proto = AlwayCenter.prototype;
        _proto.onEnable = function onEnable() {
          this._invoker(EComponentInvokeOptions.OnEnable);
        };
        _proto.start = function start() {
          this._invoker(EComponentInvokeOptions.OnStart);
        };
        _proto._invoker = function _invoker(type) {
          type === this.option && this._updatePosition();
        };
        _proto._updatePosition = function _updatePosition() {
          this.center.setPosition(this.centerOffset);
          var _cwp = this.center.worldPosition.clone();
          var _trans = pComponentUtils.getSafeComponent(this.center, UITransform);
          var _size = _trans.contentSize.clone();
          var width = _size.width;
          var _lwp = _cwp.clone().add(v3(this.leftOffset - width / 2, 0, 0));
          var _rwp = _cwp.clone().add(v3(this.rightOffset + width / 2, 0, 0));
          this.left.setWorldPosition(_lwp);
          this.right.setWorldPosition(_rwp);
        };
        _createClass(AlwayCenter, [{
          key: "eUpdate",
          get: function get() {
            return false;
          },
          set: function set(value) {
            value && this._updatePosition();
          }
        }]);
        return AlwayCenter;
      }(Component), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "center", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "centerOffset", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return v3();
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "left", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "leftOffset", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return 0;
        }
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "right", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, "rightOffset", [_dec7], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return 0;
        }
      }), _applyDecoratedDescriptor(_class2.prototype, "eUpdate", [_dec8], Object.getOwnPropertyDescriptor(_class2.prototype, "eUpdate"), _class2.prototype), _descriptor7 = _applyDecoratedDescriptor(_class2.prototype, "option", [_dec9], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return EComponentInvokeOptions.None;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/AnimationFX.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './EventDriver.ts', './Decorators.ts'], function (exports) {
  var _inheritsLoose, cclegacy, _decorator, js, NSEventDriver, pDecorators;
  return {
    setters: [function (module) {
      _inheritsLoose = module.inheritsLoose;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      js = module.js;
    }, function (module) {
      NSEventDriver = module.NSEventDriver;
    }, function (module) {
      pDecorators = module.pDecorators;
    }],
    execute: function () {
      var _dec, _dec2, _class;
      cclegacy._RF.push({}, "45709mUaMlFzKdPNhFA+NwL", "AnimationFX", undefined);
      var ccclass = _decorator.ccclass;
      var logger = pDecorators.logger;
      var AnimationFX = exports('AnimationFX', (_dec = ccclass('AnimationFX'), _dec2 = logger({
        name: "AnimationFX",
        level: -1
      }), _dec(_class = _dec2(_class = /*#__PURE__*/function (_NSEventDriver$Compon) {
        _inheritsLoose(AnimationFX, _NSEventDriver$Compon);
        function AnimationFX() {
          return _NSEventDriver$Compon.apply(this, arguments) || this;
        }
        var _proto = AnimationFX.prototype;
        _proto.onLoad = function onLoad() {
          this._init();
        };
        _proto._init = function _init() {
          this.destroy();
          this.error("[AnimationFX] Error: Please override the 'init' function for " + js.getClassName(this) + " class");
        };
        return AnimationFX;
      }(NSEventDriver.Component)) || _class) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/ArrayUtils.ts", ['cc'], function (exports) {
  var cclegacy;
  return {
    setters: [function (module) {
      cclegacy = module.cclegacy;
    }],
    execute: function () {
      cclegacy._RF.push({}, "496cbcGQXNFV6SGFzDL032P", "ArrayUtils", undefined);
      var _hSmallerFinder = function _hSmallerFinder(curr, prev, value) {
        return curr <= value && curr > prev;
      };
      var _ArrayUtils = /*#__PURE__*/function () {
        function _ArrayUtils() {}
        var _proto = _ArrayUtils.prototype;
        _proto.chunks = function chunks(array, size) {
          if (size <= 0) return [array];
          var _result = [];
          for (var i = 0; i < array.length; i += size) {
            _result.push(array.slice(i, i + size));
          }
          return _result;
        };
        _proto.shift = function shift(arr, centerValue) {
          if (arr.length === 0) return [];
          var _valueIndex = arr.indexOf(centerValue);
          if (_valueIndex === -1) return [].concat(arr);
          var _centerIndex = Math.floor((arr.length - 1) / 2);
          var _rotateCount = (_valueIndex - _centerIndex + arr.length) % arr.length;
          return [].concat(arr.slice(_rotateCount), arr.slice(0, _rotateCount));
        };
        _proto.flatter = function flatter(target) {
          for (var _len = arguments.length, targets = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
            targets[_key - 1] = arguments[_key];
          }
          if (target === undefined && targets.length <= 0) return [];
          //@ts-ignore
          return [target].concat(targets).flat();
        };
        _proto.findSmallerNearest = function findSmallerNearest(list, prop, value, mechanic) {
          if (mechanic === void 0) {
            mechanic = _hSmallerFinder;
          }
          return list.reduce(function (prev, curr) {
            if (curr[prop] === undefined || typeof curr[prop] === 'number') {
              var _curr = curr[prop];
              var _prev = prev ? prev[prop] : Number.NEGATIVE_INFINITY;
              if (mechanic(_curr, _prev, value)) return curr;
            }
            return prev;
          }, undefined);
        };
        _proto.shuffle = function shuffle(array) {
          for (var i = array.length - 1; i > 0; i--) {
            var j = Math.floor(Math.random() * (i + 1));
            var _ref = [array[j], array[i]];
            array[i] = _ref[0];
            array[j] = _ref[1];
          }
          return array;
        };
        _proto.extractEqually = function extractEqually(arr, data) {
          if (data === void 0) {
            data = [];
          }
          if (arr.every(function (a) {
            return a <= 0;
          })) return data;
          var _min = this.min(arr, 0);
          var _root = arr.map(function (a) {
            return Math.max(a - _min, 0);
          });
          var _left = arr.map(function () {
            return _min;
          });
          data.push(_left);
          return this.extractEqually(_root, data);
        };
        _proto.min = function min(arr, above) {
          if (above === void 0) {
            above = 0;
          }
          arr = arr.filter(function (e) {
            return e > above;
          });
          return Math.min.apply(Math, arr);
        };
        _proto.noDuplicated = function noDuplicated(array, property) {
          var uniqueMap = new Map();
          array.forEach(function (item) {
            var key = item[property];
            uniqueMap.set(key, item);
          });
          return Array.from(uniqueMap.values());
        };
        return _ArrayUtils;
      }();
      /**
      * @deprecated Please use `pArray` instead
      */
      var arr = exports('arr', new _ArrayUtils());
      var pArray = exports('pArray', arr);
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/ArticleCommand.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './Connection.ts'], function (exports) {
  var _asyncToGenerator, _regeneratorRuntime, cclegacy, _connection;
  return {
    setters: [function (module) {
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
    }, function (module) {
      _connection = module.default;
    }],
    execute: function () {
      exports('default', request);
      cclegacy._RF.push({}, "2f976TIgItN/6vvX4X5LSJH", "ArticleCommand", undefined);
      var AHC;
      (function (_AHC) {
        var prefix = _AHC.prefix = "game.articleHandler.";
      })(AHC || (AHC = {}));
      function request(_x, _x2, _x3) {
        return _request.apply(this, arguments);
      }
      function _request() {
        _request = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(command, payload, cb) {
          return _regeneratorRuntime().wrap(function _callee$(_context) {
            while (1) switch (_context.prev = _context.next) {
              case 0:
                return _context.abrupt("return", _connection.send(AHC.prefix + command, payload, cb));
              case 1:
              case "end":
                return _context.stop();
            }
          }, _callee);
        }));
        return _request.apply(this, arguments);
      }
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/AssetManager.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './Decorators.ts', './EventDriver.ts', './ResponeCode.ts', './GlobalConfig.ts', './UserCommand.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _createClass, _initializerDefineProperty, _assertThisInitialized, _asyncToGenerator, _regeneratorRuntime, cclegacy, SpriteFrame, _decorator, Component, assetManager, Texture2D, pDecorators, NSEventDriver, ResponseCode, GlobalConfig, request;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _createClass = module.createClass;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      SpriteFrame = module.SpriteFrame;
      _decorator = module._decorator;
      Component = module.Component;
      assetManager = module.assetManager;
      Texture2D = module.Texture2D;
    }, function (module) {
      pDecorators = module.pDecorators;
    }, function (module) {
      NSEventDriver = module.NSEventDriver;
    }, function (module) {
      ResponseCode = module.ResponseCode;
    }, function (module) {
      GlobalConfig = module.default;
    }, function (module) {
      request = module.default;
    }],
    execute: function () {
      exports('NSAsset', void 0);
      cclegacy._RF.push({}, "ee5210oAS1MBYy0WVmslJtc", "AssetManager", undefined);
      var singleton = pDecorators.singleton,
        logger = pDecorators.logger;
      var _cc$_decorator = _decorator,
        ccclass = _cc$_decorator.ccclass,
        property = _cc$_decorator.property;
      var NSAsset;
      (function (_NSAsset, _dec, _dec2, _dec3, _class, _class2, _descriptor, _dec4, _dec5, _class4) {
        var _Component = (_dec = ccclass("NSAsset._Component"), _dec2 = singleton(), _dec3 = property([SpriteFrame]), _dec(_class = _dec2(_class = (_class2 = /*#__PURE__*/function (_cc$Component) {
          _inheritsLoose(_Component, _cc$Component);
          function _Component() {
            var _this;
            for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
              args[_key] = arguments[_key];
            }
            _this = _cc$Component.call.apply(_cc$Component, [this].concat(args)) || this;
            _initializerDefineProperty(_this, "ranks", _descriptor, _assertThisInitialized(_this));
            return _this;
          }
          var _proto = _Component.prototype;
          _proto.getRank = function getRank(index) {
            return this.ranks[index - 1] || null;
          };
          return _Component;
        }(Component), _descriptor = _applyDecoratedDescriptor(_class2.prototype, "ranks", [_dec3], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return [];
          }
        }), _class2)) || _class) || _class);
        var Manager = (_dec4 = singleton({
          initer: "_init",
          destroyer: "_destroyer",
          wake: 'Instantly',
          pooler: true
        }), _dec5 = logger("AssetManager"), _dec4(_class4 = _dec5(_class4 = /*#__PURE__*/function (_NSEventDriver$Handle) {
          _inheritsLoose(Manager, _NSEventDriver$Handle);
          function Manager() {
            var _this2;
            for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
              args[_key2] = arguments[_key2];
            }
            _this2 = _NSEventDriver$Handle.call.apply(_NSEventDriver$Handle, [this].concat(args)) || this;
            _this2._am = null;
            _this2._data = {
              url: {
                icons: "https://s3.pokee.club/config/data/avatars_icon.json",
                avatars: "https://s3.pokee.club/config/data/avatars.json"
              },
              data: {
                avatars: [],
                icons: []
              }
            };
            return _this2;
          }
          var _proto2 = Manager.prototype;
          _proto2.getData = function getData(of) {
            return this._data.data[of];
          };
          _proto2._load = /*#__PURE__*/function () {
            var _load2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(key, event, onFail) {
              var _this3 = this;
              return _regeneratorRuntime().wrap(function _callee2$(_context2) {
                while (1) switch (_context2.prev = _context2.next) {
                  case 0:
                    return _context2.abrupt("return", new Promise(function (resolve, reject) {
                      assetManager.loadRemote(_this3._data.url[key], /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(err, asset) {
                        var _response, _keys2, _keys;
                        return _regeneratorRuntime().wrap(function _callee$(_context) {
                          while (1) switch (_context.prev = _context.next) {
                            case 0:
                              if (!err) {
                                _context.next = 15;
                                break;
                              }
                              _context.prev = 1;
                              _context.next = 4;
                              return onFail();
                            case 4:
                              _response = _context.sent;
                              _keys2 = Object.values(_response);
                              _context.next = 8;
                              return _this3.loads(_keys2, "link_url");
                            case 8:
                              _this3.invoke(event, _keys2);
                              _context.next = 14;
                              break;
                            case 11:
                              _context.prev = 11;
                              _context.t0 = _context["catch"](1);
                              _this3.warn("Error loading " + key, err);
                            case 14:
                              return _context.abrupt("return", reject(err));
                            case 15:
                              _keys = Object.values(asset.json);
                              _context.next = 18;
                              return _this3.loads(_keys, "link_url");
                            case 18:
                              _this3._data.data[key] = _keys;
                              _this3.invoke(event, _keys);
                              resolve();
                            case 21:
                            case "end":
                              return _context.stop();
                          }
                        }, _callee, null, [[1, 11]]);
                      })));
                    }));
                  case 1:
                  case "end":
                    return _context2.stop();
                }
              }, _callee2);
            }));
            function _load(_x, _x2, _x3) {
              return _load2.apply(this, arguments);
            }
            return _load;
          }();
          _proto2.get = /*#__PURE__*/function () {
            var _get = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(avatar) {
              var _avatars$find,
                _this4 = this,
                _avatars$find2;
              var _avatars, _default, _avatar;
              return _regeneratorRuntime().wrap(function _callee3$(_context3) {
                while (1) switch (_context3.prev = _context3.next) {
                  case 0:
                    if (avatar) {
                      _context3.next = 2;
                      break;
                    }
                    return _context3.abrupt("return", null);
                  case 2:
                    _context3.next = 4;
                    return this.wait('onAvatarsLoaded');
                  case 4:
                    _avatars = this.getData('avatars');
                    _default = ((_avatars$find = _avatars.find(function (_avatar) {
                      return !!_avatar;
                    })) == null ? void 0 : _avatars$find.frame) || null;
                    if (!String(avatar).includes("http")) {
                      _context3.next = 11;
                      break;
                    }
                    _avatar = _avatars.find(function (_av) {
                      return _av.link_url === avatar;
                    });
                    if (!_avatar) {
                      _context3.next = 10;
                      break;
                    }
                    return _context3.abrupt("return", _avatar.frame || null);
                  case 10:
                    return _context3.abrupt("return", new Promise(function (_rs) {
                      assetManager.loadRemote(avatar, function (err, asset) {
                        if (err) {
                          _this4.warn("Failed to load image from:", avatar, err);
                          _rs(_default);
                        }
                        try {
                          var spriteFrame = new SpriteFrame();
                          var texture = new Texture2D();
                          texture.image = asset;
                          spriteFrame.texture = texture;
                          if (spriteFrame) {
                            _rs(spriteFrame);
                          } else {
                            _this4.warn("Failed to create sprite frame from " + avatar);
                            _rs(_default);
                          }
                        } catch (e) {
                          _this4.warn("Exception creating sprite frame:", e);
                          _rs(_default);
                        }
                      });
                    }));
                  case 11:
                    return _context3.abrupt("return", ((_avatars$find2 = _avatars.find(function (_av) {
                      return _av.id === Number(avatar);
                    })) == null ? void 0 : _avatars$find2.frame) || null);
                  case 12:
                  case "end":
                    return _context3.stop();
                }
              }, _callee3, this);
            }));
            function get(_x6) {
              return _get.apply(this, arguments);
            }
            return get;
          }();
          _proto2.loads = function loads(arr, key) {
            var _this5 = this;
            var promises = arr.map(function (item) {
              var url = key ? item[key] : item;
              return new Promise(function (resolve, reject) {
                _this5._am.loadRemote(url, function (err, asset) {
                  if (err) {
                    reject(err);
                    return;
                  }
                  try {
                    var _spr = SpriteFrame.createWithImage(asset);
                    _spr ? (item.frame = _spr, resolve(_spr)) : reject(new Error("Failed to create sprite frame from " + url));
                  } catch (e) {
                    reject(e);
                  }
                });
              });
            });
            return Promise.all(promises);
          };
          _proto2._init = /*#__PURE__*/function () {
            var _init2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5() {
              return _regeneratorRuntime().wrap(function _callee5$(_context5) {
                while (1) switch (_context5.prev = _context5.next) {
                  case 0:
                    this._am = assetManager;
                    //this._manager = NSAsyncer.Manager.create<TEvent | NSEventDefine.TEvent>(this, this._asyncer);

                    try {
                      this._load("avatars", 'onAvatarsLoaded', /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {
                        var msg, data, code, avatars;
                        return _regeneratorRuntime().wrap(function _callee4$(_context4) {
                          while (1) switch (_context4.prev = _context4.next) {
                            case 0:
                              _context4.next = 2;
                              return GlobalConfig.instance.wait('onLoggingIn', false);
                            case 2:
                              _context4.next = 4;
                              return request('getDefaultAvatars', {});
                            case 4:
                              msg = _context4.sent;
                              data = msg.data, code = msg.code;
                              _context4.t0 = code;
                              _context4.next = _context4.t0 === ResponseCode.SUCCESS ? 9 : 11;
                              break;
                            case 9:
                              avatars = data.avatars;
                              return _context4.abrupt("return", avatars);
                            case 11:
                            case "end":
                              return _context4.stop();
                          }
                        }, _callee4);
                      })));
                      //this._load("icons", 'onIconsLoaded');
                    } catch (e) {
                      this.warn("Error loading assets", e);
                    }
                  case 2:
                  case "end":
                    return _context5.stop();
                }
              }, _callee5, this);
            }));
            function _init() {
              return _init2.apply(this, arguments);
            }
            return _init;
          }();
          _proto2._destroyer = function _destroyer() {};
          _createClass(Manager, [{
            key: "helper",
            get: function get() {
              return pDecorators.wait(_Component);
            }
          }]);
          return Manager;
        }(NSEventDriver.Handler)) || _class4) || _class4);
        _NSAsset.Manager = Manager;
        function instance() {
          return pDecorators.instance(Manager);
        }
        _NSAsset.instance = instance;
        function helper() {
          return instance().helper;
        }
        _NSAsset.helper = helper;
      })(NSAsset || (NSAsset = exports('NSAsset', {})));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/AsyncClasser.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './ArrayUtils.ts', './EventDriver.ts'], function (exports) {
  var _inheritsLoose, _createForOfIteratorHelperLoose, _asyncToGenerator, _regeneratorRuntime, cclegacy, pArray, NSEventDriver;
  return {
    setters: [function (module) {
      _inheritsLoose = module.inheritsLoose;
      _createForOfIteratorHelperLoose = module.createForOfIteratorHelperLoose;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
    }, function (module) {
      pArray = module.pArray;
    }, function (module) {
      NSEventDriver = module.NSEventDriver;
    }],
    execute: function () {
      exports('NSAsyncer', void 0);
      cclegacy._RF.push({}, "d2752AM9jdJz5J7GWEU+eZR", "AsyncClasser", undefined);

      /**
       * @deprecated Now `NSEventDriver` is used to handle events, this class is no longer needed.
       */
      var NSAsyncer;
      (function (_NSAsyncer) {
        var Classer = /*#__PURE__*/function (_NSEventDriver$Handle) {
          _inheritsLoose(Classer, _NSEventDriver$Handle);
          function Classer() {
            var _this2;
            for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
              args[_key] = arguments[_key];
            }
            _this2 = _NSEventDriver$Handle.call.apply(_NSEventDriver$Handle, [this].concat(args)) || this;
            _this2._isDone = false;
            _this2._binder = null;
            _this2._function = null;
            _this2._resolver = null;
            return _this2;
          }
          Classer.generate = function generate(handler, route, _function, _this) {
            var _ret = new Classer();
            _ret._setup(handler, route, _function, _this);
            return _ret;
          };
          var _proto = Classer.prototype;
          _proto._setup = function _setup(handler, route, _function, _this) {
            this._binder = _this || this;
            this._function = _function;
            handler.add(route, {
              _function: this._handler,
              _this: this
            });
          };
          _proto._handler = function _handler() {
            var _this$_function;
            this.invoke('onReady');
            this._isDone = true;
            for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
              args[_key2] = arguments[_key2];
            }
            this._function && (_this$_function = this._function).call.apply(_this$_function, [this._binder].concat(args));
            this._resolver && this._resolver();
          };
          _proto.wait = /*#__PURE__*/function () {
            var _wait = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {
              var _this3 = this;
              return _regeneratorRuntime().wrap(function _callee$(_context) {
                while (1) switch (_context.prev = _context.next) {
                  case 0:
                    if (!this._isDone) {
                      _context.next = 2;
                      break;
                    }
                    return _context.abrupt("return");
                  case 2:
                    _context.next = 4;
                    return new Promise(function (rs) {
                      return _this3._resolver = rs;
                    });
                  case 4:
                  case "end":
                    return _context.stop();
                }
              }, _callee, this);
            }));
            function wait() {
              return _wait.apply(this, arguments);
            }
            return wait;
          }();
          return Classer;
        }(NSEventDriver.Handler);
        _NSAsyncer.Classer = Classer;
        var Manager = /*#__PURE__*/function () {
          function Manager() {
            this._ = {};
          }
          Manager.create = function create(handler, _event) {
            for (var _len3 = arguments.length, _events = new Array(_len3 > 2 ? _len3 - 2 : 0), _key3 = 2; _key3 < _len3; _key3++) {
              _events[_key3 - 2] = arguments[_key3];
            }
            var manager = new Manager();
            _events = pArray.flatter.apply(pArray, [_event].concat(_events));
            manager._init(handler, _events);
            return manager;
          };
          var _proto2 = Manager.prototype;
          _proto2._init = function _init(handler, _events) {
            for (var _iterator = _createForOfIteratorHelperLoose(_events), _step; !(_step = _iterator()).done;) {
              var _step$value = _step.value,
                _router = _step$value[0],
                _function = _step$value[1],
                _binder = _step$value[2];
              var _asyncer = Classer.generate(handler, _router, _function, _binder);
              this._[_router] = _asyncer;
            }
          };
          _proto2.get = function get(key) {
            return this._[key];
          };
          _proto2.wait = /*#__PURE__*/function () {
            var _wait2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(key) {
              var asyncer;
              return _regeneratorRuntime().wrap(function _callee2$(_context2) {
                while (1) switch (_context2.prev = _context2.next) {
                  case 0:
                    asyncer = this.get(key);
                    _context2.next = 3;
                    return asyncer == null ? void 0 : asyncer.wait();
                  case 3:
                  case "end":
                    return _context2.stop();
                }
              }, _callee2, this);
            }));
            function wait(_x) {
              return _wait2.apply(this, arguments);
            }
            return wait;
          }();
          _proto2.bind = function bind(target, event, callback, binder) {
            binder = binder || this;
            var asyncer = this.get(target);
            asyncer == null || asyncer.add(event, {
              _function: callback,
              _this: binder
            });
          };
          return Manager;
        }();
        _NSAsyncer.Manager = Manager;
      })(NSAsyncer || (NSAsyncer = exports('NSAsyncer', {})));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/AsyncUtils.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './ArrayUtils.ts', './GlobalUtils.ts'], function (exports) {
  var _createForOfIteratorHelperLoose, _createClass, _asyncToGenerator, _regeneratorRuntime, cclegacy, pArray, pGlobalUtils;
  return {
    setters: [function (module) {
      _createForOfIteratorHelperLoose = module.createForOfIteratorHelperLoose;
      _createClass = module.createClass;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
    }, function (module) {
      pArray = module.pArray;
    }, function (module) {
      pGlobalUtils = module.pGlobalUtils;
    }],
    execute: function () {
      cclegacy._RF.push({}, "257b4aXfCpFAb5tKFjjkjMg", "AsyncUtils", undefined);
      var _AsyncUtils = /*#__PURE__*/function () {
        function _AsyncUtils() {
          this._data = {};
        }
        var _proto = _AsyncUtils.prototype;
        _proto.countdown = function countdown(second, every, updater) {
          var _this = this;
          if (every === void 0) {
            every = 1;
          }
          var is_mms = typeof second === 'number' ? true : second.is_mms === undefined ? true : second.is_mms;
          var time = typeof second === 'number' ? second * 1000 : is_mms ? second.time * 1000 : second.time;
          var id = typeof second === 'number' ? pGlobalUtils.uuid() : second.id || pGlobalUtils.uuid();
          var _start = Date.now();
          var _left = time;
          var _count = 0;
          var _every = every * 1000;
          return new Promise(function (_rs) {
            _this._data[id] = setInterval(function () {
              var _now = Date.now();
              var _passed = _now - _start;
              _count += _passed;
              _left -= _now - _start;
              _start = _now;
              if (_count >= _every) {
                _count -= _every;
                try {
                  updater && updater(Math.ceil(_left / 1000));
                } catch (e) {}
              }
              if (_left <= 0) {
                clearInterval(_this._data[id]);
                delete _this._data[id];
                try {
                  updater && updater(0);
                } catch (e) {}
                _rs();
              }
            });
          });
        };
        _proto.wait = /*#__PURE__*/function () {
          var _wait = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(second) {
            var _this2 = this;
            var is_mms, time, id;
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  is_mms = typeof second === 'number' ? true : second.is_mms === undefined ? true : second.is_mms;
                  time = typeof second === 'number' ? second * 1000 : is_mms ? second.time * 1000 : second.time;
                  id = typeof second === 'number' ? pGlobalUtils.uuid() : second.id || pGlobalUtils.uuid();
                  return _context.abrupt("return", new Promise(function (rs) {
                    return _this2._data[id] = setTimeout(function () {
                      return rs(id);
                    }, time);
                  }));
                case 4:
                case "end":
                  return _context.stop();
              }
            }, _callee);
          }));
          function wait(_x) {
            return _wait.apply(this, arguments);
          }
          return wait;
        }();
        _proto.stop = function stop(_id) {
          for (var _len = arguments.length, _ids = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
            _ids[_key - 1] = arguments[_key];
          }
          _ids = pArray.flatter.apply(pArray, [_id].concat(_ids));
          for (var _iterator = _createForOfIteratorHelperLoose(_ids), _step; !(_step = _iterator()).done;) {
            var id = _step.value;
            var _rid = typeof id === 'string' ? id : id.id;
            var _did = this._data[_rid];
            if (_did) {
              clearTimeout(_did);
              delete this._data[_rid];
            }
          }
        };
        _proto.every = /*#__PURE__*/function () {
          var _every2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(_id, _do) {
            return _regeneratorRuntime().wrap(function _callee2$(_context2) {
              while (1) switch (_context2.prev = _context2.next) {
                case 0:
                  _context2.next = 2;
                  return this.wait(_id);
                case 2:
                  _do && _do();
                  this.every(_id, _do);
                  return _context2.abrupt("return", _id);
                case 5:
                case "end":
                  return _context2.stop();
              }
            }, _callee2, this);
          }));
          function every(_x2, _x3) {
            return _every2.apply(this, arguments);
          }
          return every;
        }();
        _proto.stopAll = function stopAll() {
          for (var id in this._data) {
            var _did = this._data[id];
            if (_did) {
              clearTimeout(_did);
              clearInterval(_did);
              delete this._data[id];
            }
          }
        };
        return _AsyncUtils;
      }();
      var pAsyncUtils = exports('pAsyncUtils', new _AsyncUtils());
      var _NSDynamicAsync;
      (function (_NSDynamicAsync2) {
        var _Helper = /*#__PURE__*/function () {
          function _Helper() {
            this._promises = [];
            this._resolving = false;
          }
          _Helper.create = function create() {
            var ret = new _Helper();
            return ret;
          };
          var _proto2 = _Helper.prototype;
          _proto2.add = function add(promise) {
            var _this$_promises;
            for (var _len2 = arguments.length, promises = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {
              promises[_key2 - 1] = arguments[_key2];
            }
            (_this$_promises = this._promises).push.apply(_this$_promises, [promise].flat().concat(promises));
          };
          _proto2.revolse = /*#__PURE__*/function () {
            var _revolse = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {
              return _regeneratorRuntime().wrap(function _callee3$(_context3) {
                while (1) switch (_context3.prev = _context3.next) {
                  case 0:
                    this._resolving = true;
                    _context3.next = 3;
                    return Promise.all(this._promises);
                  case 3:
                  case "end":
                    return _context3.stop();
                }
              }, _callee3, this);
            }));
            function revolse() {
              return _revolse.apply(this, arguments);
            }
            return revolse;
          }();
          _createClass(_Helper, [{
            key: "resolving",
            get: function get() {
              return this._resolving;
            }
          }]);
          return _Helper;
        }();
        var _Core = /*#__PURE__*/function () {
          function _Core() {
            this._helpers = [];
            this._index = 0;
          }
          var _proto3 = _Core.prototype;
          _proto3.add = function add(promise) {
            var _helper;
            var helper = this._helpers[this._index];
            if (!helper || helper.resolving) {
              helper = _Helper.create();
              this._helpers.push(helper);
            }
            for (var _len3 = arguments.length, promises = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {
              promises[_key3 - 1] = arguments[_key3];
            }
            (_helper = helper).add.apply(_helper, [promise].concat(promises));
          };
          _proto3._handler = /*#__PURE__*/function () {
            var _handler2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(index) {
              var helper;
              return _regeneratorRuntime().wrap(function _callee4$(_context4) {
                while (1) switch (_context4.prev = _context4.next) {
                  case 0:
                    helper = this._helpers[index];
                    if (helper) {
                      _context4.next = 3;
                      break;
                    }
                    return _context4.abrupt("return");
                  case 3:
                    this._index = index;
                    _context4.next = 6;
                    return helper.revolse();
                  case 6:
                    _context4.next = 8;
                    return this._handler(index + 1);
                  case 8:
                  case "end":
                    return _context4.stop();
                }
              }, _callee4, this);
            }));
            function _handler(_x4) {
              return _handler2.apply(this, arguments);
            }
            return _handler;
          }();
          _proto3._reset = function _reset() {
            var length = this._helpers.length;
            if (this._index < length - 1) {
              var dif = length - this._index - 1;
              this._helpers = this._helpers.splice(this._index + 1, dif);
            }
            this._index = 0;
          };
          _proto3.revolse = /*#__PURE__*/function () {
            var _revolse2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5() {
              return _regeneratorRuntime().wrap(function _callee5$(_context5) {
                while (1) switch (_context5.prev = _context5.next) {
                  case 0:
                    _context5.next = 2;
                    return this._handler(0);
                  case 2:
                    this._reset();
                  case 3:
                  case "end":
                    return _context5.stop();
                }
              }, _callee5, this);
            }));
            function revolse() {
              return _revolse2.apply(this, arguments);
            }
            return revolse;
          }();
          return _Core;
        }();
        _NSDynamicAsync2._Core = _Core;
      })(_NSDynamicAsync || (_NSDynamicAsync = {}));
      var pDynamicAync = exports('pDynamicAync', new _NSDynamicAsync._Core());
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/AudioManager.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './Decorators.ts', './Enums.ts', './ArrayUtils.ts', './AsyncUtils.ts', './StringUtils.ts', './EventDriver.ts', './EventManager.ts', './DBStorage.ts', './JsonUtils.ts', './GameManager.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _createForOfIteratorHelperLoose, _createClass, _initializerDefineProperty, _assertThisInitialized, _asyncToGenerator, _regeneratorRuntime, cclegacy, _decorator, Enum, AudioClip, tween, AudioSource, director, pDecorators, EAudioID, getEnumLength, pArray, pAsyncUtils, pStringUtils, NSEventDriver, pEventManager, DBStorage, JsonUtils, GameManager;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _createForOfIteratorHelperLoose = module.createForOfIteratorHelperLoose;
      _createClass = module.createClass;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Enum = module.Enum;
      AudioClip = module.AudioClip;
      tween = module.tween;
      AudioSource = module.AudioSource;
      director = module.director;
    }, function (module) {
      pDecorators = module.pDecorators;
    }, function (module) {
      EAudioID = module.EAudioID;
      getEnumLength = module.getEnumLength;
    }, function (module) {
      pArray = module.pArray;
    }, function (module) {
      pAsyncUtils = module.pAsyncUtils;
    }, function (module) {
      pStringUtils = module.pStringUtils;
    }, function (module) {
      NSEventDriver = module.NSEventDriver;
    }, function (module) {
      pEventManager = module.pEventManager;
    }, function (module) {
      DBStorage = module.DBStorage;
    }, function (module) {
      JsonUtils = module.default;
    }, function (module) {
      GameManager = module.GameManager;
    }],
    execute: function () {
      exports('NSAudio', void 0);
      cclegacy._RF.push({}, "4ffd0zFRfxPlLrzyUFC8SpS", "AudioManager", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var singleton = pDecorators.singleton,
        logger = pDecorators.logger;
      var NSAudio;
      (function (_NSAudio, _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _dec7, _dec8, _dec9, _dec10, _dec11, _dec12, _class4, _class5, _descriptor5) {
        var Player = (_dec = ccclass('NSAudio.Player'), _dec2 = property({
          type: Enum(EAudioID)
        }), _dec3 = property({
          type: [AudioClip]
        }), _dec4 = property({}), _dec5 = property({
          min: 0,
          max: 1,
          slide: true
        }), _dec6 = property({}), _dec(_class = (_class2 = /*#__PURE__*/function () {
          function Player() {
            _initializerDefineProperty(this, "id", _descriptor, this);
            _initializerDefineProperty(this, "audios", _descriptor2, this);
            _initializerDefineProperty(this, "_volume", _descriptor3, this);
            _initializerDefineProperty(this, "isMusic", _descriptor4, this);
            this._sources = [];
            this._id = pStringUtils.uuid();
            this._current = null;
          }
          var _proto = Player.prototype;
          _proto._create = function _create(audio) {
            if (audio === void 0) {
              audio = this.audio;
            }
            var source = new AudioSource();
            source.clip = audio;
            this._sources.push(source);
            return source;
          };
          _proto.getId = function getId(time) {
            return {
              id: this._id,
              time: time
            };
          };
          _proto.play = /*#__PURE__*/function () {
            var _play = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(target, volume, isMusic, isLoop) {
              var _this = this;
              return _regeneratorRuntime().wrap(function _callee$(_context) {
                while (1) switch (_context.prev = _context.next) {
                  case 0:
                    if (volume === void 0) {
                      volume = this.volume;
                    }
                    if (isMusic === void 0) {
                      isMusic = this.isMusic;
                    }
                    if (isLoop === void 0) {
                      isLoop = false;
                    }
                    if (target) {
                      _context.next = 5;
                      break;
                    }
                    return _context.abrupt("return");
                  case 5:
                    volume = volume != undefined ? volume : this.volume;
                    isMusic = isMusic != undefined ? isMusic : this.isMusic;
                    isLoop = isLoop != undefined ? isLoop : false;
                    this._current = this._create(target);
                    this._current.volume = volume;
                    this._current.loop = isLoop;
                    this._current.play();
                    this._sources = this._sources.filter(function (s) {
                      return s !== _this._current;
                    });
                    director._compScheduler.disableComp(this._current);
                  case 14:
                  case "end":
                    return _context.stop();
                }
              }, _callee, this);
            }));
            function play(_x, _x2, _x3, _x4) {
              return _play.apply(this, arguments);
            }
            return play;
          }();
          _proto.random = /*#__PURE__*/function () {
            var _random = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(volume, isMusic, isLoop) {
              return _regeneratorRuntime().wrap(function _callee2$(_context2) {
                while (1) switch (_context2.prev = _context2.next) {
                  case 0:
                    if (volume === void 0) {
                      volume = this.volume;
                    }
                    if (isMusic === void 0) {
                      isMusic = this.isMusic;
                    }
                    if (isLoop === void 0) {
                      isLoop = false;
                    }
                    if (!(this.audios.length < 0)) {
                      _context2.next = 5;
                      break;
                    }
                    return _context2.abrupt("return");
                  case 5:
                    _context2.next = 7;
                    return this.play(this.audio, volume, isMusic, isLoop);
                  case 7:
                  case "end":
                    return _context2.stop();
                }
              }, _callee2, this);
            }));
            function random(_x5, _x6, _x7) {
              return _random.apply(this, arguments);
            }
            return random;
          }();
          _proto.stop = function stop() {
            var _this$_current;
            pAsyncUtils.stop(this._id);
            (_this$_current = this._current) == null || _this$_current.stop();
            this._sources.forEach(function (s) {
              if (!!s) {
                s.stop();
                director._compScheduler.disableComp(s);
              }
            });
          };
          _createClass(Player, [{
            key: "volume",
            get: function get() {
              return this._volume;
            },
            set: function set(x) {
              this._volume = x;
              this._current && (this._current.volume = x);
              this._sources.forEach(function (s) {
                return s.volume = x;
              });
            }
          }, {
            key: "audio",
            get: function get() {
              var rand = Math.random() * this.audios.length >> 0;
              return this.audios[rand];
            }
          }, {
            key: "current",
            get: function get() {
              return this._current;
            }
          }]);
          return Player;
        }(), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "id", [_dec2], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return EAudioID.NONE;
          }
        }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "audios", [_dec3], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return [];
          }
        }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "_volume", [_dec4], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return 0.5;
          }
        }), _applyDecoratedDescriptor(_class2.prototype, "volume", [_dec5], Object.getOwnPropertyDescriptor(_class2.prototype, "volume"), _class2.prototype), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "isMusic", [_dec6], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return false;
          }
        })), _class2)) || _class);
        var _ng = {
          name: 'Config',
          id: '1'
        };
        var _eg = {
          name: 'Editor',
          id: '1'
        };
        var Manager = (_dec7 = ccclass('NSAudio.Manager'), _dec8 = singleton(), _dec9 = logger({
          name: 'AudioManager',
          level: -1
        }), _dec10 = property({
          type: [Player],
          visible: true,
          group: _ng
        }), _dec11 = property({
          group: _eg
        }), _dec12 = property({
          group: _eg
        }), _dec7(_class4 = _dec8(_class4 = _dec9(_class4 = (_class5 = /*#__PURE__*/function (_NSEventDriver$Compon) {
          _inheritsLoose(Manager, _NSEventDriver$Compon);
          function Manager() {
            var _this2;
            for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
              args[_key] = arguments[_key];
            }
            _this2 = _NSEventDriver$Compon.call.apply(_NSEventDriver$Compon, [this].concat(args)) || this;
            _initializerDefineProperty(_this2, "_players", _descriptor5, _assertThisInitialized(_this2));
            _this2._musics = {};
            _this2._sounds = {};
            _this2._onces = [['onSoundChange', _this2._onSoundChange, _assertThisInitialized(_this2)], ['onVolumeChange', _this2._onVolumeChange, _assertThisInitialized(_this2)], ['onOnOffMusic', _this2._onOnOffMusic, _assertThisInitialized(_this2)], ['onOnOffSound', _this2._onOnOffSound, _assertThisInitialized(_this2)], ['onLandingLogin', _this2._onLandingLogin, _assertThisInitialized(_this2)],
            //['onLoggingIn', this._onLoggingIn, this],
            ['onJoinTable', _this2._onJoinTable, _assertThisInitialized(_this2)], ['onLeaveTable', _this2._onLeaveTable, _assertThisInitialized(_this2)]
            //['onLandingMainScreen', this.actChangeBGM, this]
            ];

            _this2._bgmtw = null;
            _this2._bgm = EAudioID.NONE;
            _this2._soundVol = 1;
            _this2._musicVol = 1;
            _this2._isOnMusic = true;
            _this2._isOnSound = true;
            return _this2;
          }
          var _proto2 = Manager.prototype;
          _proto2._onOnOffMusic = function _onOnOffMusic(status) {
            this._isOnMusic = status;
            var _volume = status ? this._musicVol <= 0 ? 0.5 : this._musicVol : 0;
            Object.values(this._musics).forEach(function (player) {
              return player.volume = _volume;
            });
          };
          _proto2._onOnOffSound = function _onOnOffSound(status) {
            this._isOnSound = status;
            var _volume = status ? this._soundVol <= 0 ? 0.5 : this._soundVol : 0;
            Object.values(this._sounds).forEach(function (player) {
              return player.volume = _volume;
            });
          };
          _proto2._onSoundChange = function _onSoundChange(volumn) {
            this._soundVol = volumn;
            Object.values(this._sounds).forEach(function (player) {
              return player.volume = volumn;
            });
          };
          _proto2._onVolumeChange = function _onVolumeChange(volumn) {
            this._musicVol = volumn;
            Object.values(this._musics).forEach(function (player) {
              return player.volume = volumn;
            });
          };
          _proto2._onLoggingIn = /*#__PURE__*/function () {
            var _onLoggingIn2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {
              var _str, _db;
              return _regeneratorRuntime().wrap(function _callee3$(_context3) {
                while (1) switch (_context3.prev = _context3.next) {
                  case 0:
                    _str = pDecorators.instance(DBStorage);
                    _context3.next = 3;
                    return _str.wait('onDoneInit');
                  case 3:
                    _db = _str.gets('MUSIC', 'VOLUME');
                    this._onSoundChange(JsonUtils.isValidData(_db.VOLUME) ? JSON.parse(_db.VOLUME) : 0.5);
                    this._onOnOffSound(JsonUtils.isValidData(_db.MUSIC) ? JSON.parse(_db.MUSIC) : true);
                    this.log("onLoggingIn >> ", _db);
                  case 7:
                  case "end":
                    return _context3.stop();
                }
              }, _callee3, this);
            }));
            function _onLoggingIn() {
              return _onLoggingIn2.apply(this, arguments);
            }
            return _onLoggingIn;
          }();
          _proto2._onLandingLogin = /*#__PURE__*/function () {
            var _onLandingLogin2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {
              var _lc, _ld;
              return _regeneratorRuntime().wrap(function _callee4$(_context4) {
                while (1) switch (_context4.prev = _context4.next) {
                  case 0:
                    _lc = GameManager.Instance.getStorage();
                    _context4.next = 3;
                    return _lc.gets('LANGUAGE', 'IS_ON_MUSIC', 'VOLUME');
                  case 3:
                    _ld = _context4.sent;
                    this._onVolumeChange(JsonUtils.isValidData(_ld.VOLUME) ? JSON.parse(_ld.VOLUME) : 0.5);
                    this._onOnOffMusic(JsonUtils.isValidData(_ld.IS_ON_MUSIC) ? JSON.parse(_ld.IS_ON_MUSIC) : true);
                    this.actChangeBGM();
                    this.invoke('onDoneInit');
                  case 8:
                  case "end":
                    return _context4.stop();
                }
              }, _callee4, this);
            }));
            function _onLandingLogin() {
              return _onLandingLogin2.apply(this, arguments);
            }
            return _onLandingLogin;
          }();
          _proto2.actUpdateMusic = function actUpdateMusic(isOn, save) {
            if (save === void 0) {
              save = true;
            }
            this._onOnOffMusic(isOn);
            save && this.actSaveMusic();
          };
          _proto2.actUpdateMusicVolume = function actUpdateMusicVolume(volume, save) {
            if (save === void 0) {
              save = true;
            }
            this._onVolumeChange(volume);
            save && this.actSaveMusic();
          };
          _proto2.actUpdateSound = function actUpdateSound(isOn, save) {
            if (save === void 0) {
              save = true;
            }
            this._onOnOffSound(isOn);
            save && this.actSaveSound();
          };
          _proto2.actUpdateSoundVolume = function actUpdateSoundVolume(volume, save) {
            if (save === void 0) {
              save = true;
            }
            this._onSoundChange(volume);
            save && this.actSaveSound();
          };
          _proto2.actSaveSound = function actSaveSound() {
            var _str = pDecorators.instance(DBStorage);
            _str.save({
              key: 'MUSIC',
              value: JSON.stringify(this._isOnSound)
            }, {
              key: 'VOLUME',
              value: JSON.stringify(this._soundVol)
            });
          };
          _proto2.actSaveMusic = function actSaveMusic() {
            var _lc = GameManager.Instance.getStorage();
            _lc.saves({
              key: 'IS_ON_MUSIC',
              value: JSON.stringify(this._isOnMusic)
            }, {
              key: 'VOLUME',
              value: JSON.stringify(this._musicVol)
            });
          };
          _proto2.actChangeBGM = function actChangeBGM() {
            this.stop(EAudioID.BGM_BACKGROUND);
            this.play({
              id: EAudioID.BGM_BACKGROUND,
              isMusic: true,
              isLoop: true,
              volume: this._musicVol
            });
          };
          _proto2._onJoinTable = function _onJoinTable() {
            this.stop(EAudioID.BGM_BACKGROUND);
          };
          _proto2._onLeaveTable = function _onLeaveTable() {
            this.actChangeBGM();
          };
          _proto2.fade = function fade(id) {
            var _this$_bgmtw,
              _this3 = this;
            if (this._bgm === id) return;
            var _old = this._musics[this._bgm];
            if (!_old) return;
            (_this$_bgmtw = this._bgmtw) == null || _this$_bgmtw.stop();
            this._bgmtw = tween(_old).to(0.25, {
              volume: 0
            }).call(function () {
              _old.stop();
              _this3.play({
                id: id,
                isMusic: true,
                isLoop: true,
                volume: 0
              });
              var _new = _this3._musics[id];
              _this3._bgmtw = tween(_new).to(0.25, {
                volume: _this3._musicVol
              }).start();
            }).start();
          };
          _proto2.play = function play(id) {
            var _this4 = this;
            for (var _len2 = arguments.length, ids = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {
              ids[_key2 - 1] = arguments[_key2];
            }
            ids = pArray.flatter.apply(pArray, [id].concat(ids));
            var _loop = function _loop() {
              var ret = _step.value;
              var option = typeof ret == 'number' ? {
                id: ret
              } : ret;
              var player = _this4._players.find(function (p) {
                return p.id === option.id;
              });
              _this4.log("PLAY AUDIO >>", EAudioID[option.id], option);
              if (!player) {
                _this4.warn("Player not found for id: " + EAudioID[option.id]);
                return 1; // continue
              }

              if (option.isMusic) {
                _this4._bgm = player.id;
                //this._musics[option.id] = player;
              }

              _this4._musics[option.id] = player;
              player.random(_this4._isOnMusic ? _this4._musicVol : 0, option.isMusic, option.isLoop);
            };
            for (var _iterator = _createForOfIteratorHelperLoose(ids), _step; !(_step = _iterator()).done;) {
              if (_loop()) continue;
            }
          };
          _proto2.get = function get(id) {
            if (!id) return null;
            var opt = typeof id == 'number' ? id : id.id;
            return this._players.find(function (p) {
              return p.id == opt;
            });
          };
          _proto2.sequence = /*#__PURE__*/function () {
            var _sequence = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(id) {
              var _len3,
                ids,
                _key3,
                _iterator2,
                _step2,
                item,
                _this$get$current$dur,
                _this$get,
                _delay,
                _args5 = arguments;
              return _regeneratorRuntime().wrap(function _callee5$(_context5) {
                while (1) switch (_context5.prev = _context5.next) {
                  case 0:
                    for (_len3 = _args5.length, ids = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {
                      ids[_key3 - 1] = _args5[_key3];
                    }
                    ids = pArray.flatter.apply(pArray, [id].concat(ids));
                    _iterator2 = _createForOfIteratorHelperLoose(ids);
                  case 3:
                    if ((_step2 = _iterator2()).done) {
                      _context5.next = 25;
                      break;
                    }
                    item = _step2.value;
                    if (!(typeof item == 'number')) {
                      _context5.next = 9;
                      break;
                    }
                    this.play(item);
                    _context5.next = 23;
                    break;
                  case 9:
                    if (!('delay' in item)) {
                      _context5.next = 15;
                      break;
                    }
                    this.play(item.option);
                    _context5.next = 13;
                    return pAsyncUtils.wait(item.delay);
                  case 13:
                    _context5.next = 23;
                    break;
                  case 15:
                    if (!('isDelayExactPrevious' in item)) {
                      _context5.next = 22;
                      break;
                    }
                    this.play(item.option);
                    _delay = (_this$get$current$dur = (_this$get = this.get(item.option)) == null || (_this$get = _this$get.current) == null ? void 0 : _this$get.duration) != null ? _this$get$current$dur : 0;
                    _context5.next = 20;
                    return pAsyncUtils.wait(_delay);
                  case 20:
                    _context5.next = 23;
                    break;
                  case 22:
                    this.play(item);
                  case 23:
                    _context5.next = 3;
                    break;
                  case 25:
                  case "end":
                    return _context5.stop();
                }
              }, _callee5, this);
            }));
            function sequence(_x8) {
              return _sequence.apply(this, arguments);
            }
            return sequence;
          }();
          _proto2.onLoad = /*#__PURE__*/function () {
            var _onLoad = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6() {
              return _regeneratorRuntime().wrap(function _callee6$(_context6) {
                while (1) switch (_context6.prev = _context6.next) {
                  case 0:
                    pEventManager.on(this._onces);
                  case 1:
                  case "end":
                    return _context6.stop();
                }
              }, _callee6, this);
            }));
            function onLoad() {
              return _onLoad.apply(this, arguments);
            }
            return onLoad;
          }();
          _proto2.onDestroy = function onDestroy() {
            pEventManager.off(this._onces);
          };
          _proto2.stop = function stop(id) {
            var _this5 = this;
            for (var _len4 = arguments.length, ids = new Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {
              ids[_key4 - 1] = arguments[_key4];
            }
            ids = pArray.flatter.apply(pArray, [id].concat(ids));
            var _loop2 = function _loop2() {
              var ret = _step3.value;
              var player = _this5._players.find(function (p) {
                return p.id === ret;
              });
              player == null || player.stop();
            };
            for (var _iterator3 = _createForOfIteratorHelperLoose(ids), _step3; !(_step3 = _iterator3()).done;) {
              _loop2();
            }
          };
          _proto2.stopAll = function stopAll() {
            for (var _iterator4 = _createForOfIteratorHelperLoose(this._players), _step4; !(_step4 = _iterator4()).done;) {
              var player = _step4.value;
              player == null || player.stop();
            }
          };
          _createClass(Manager, [{
            key: "reset",
            get: function get() {
              return false;
            },
            set: function set(v) {
              if (!v) return;
              this._players = [];
              for (var i = 0; i < getEnumLength(EAudioID); i++) {
                this._players[i] = new Player();
                this._players[i].id = i;
              }
            }
          }, {
            key: "filter",
            get: function get() {
              return false;
            },
            set: function set(v) {
              if (v) {
                var _seen = new Set();
                var _filters = [];
                for (var i = 0; i < this._players.length; i++) {
                  var player = this._players[i];
                  if (!_seen.has(player.id)) {
                    _seen.add(player.id);
                    _filters.push(player);
                  }
                }
                this._players = _filters;
              }
            }
          }, {
            key: "soundVol",
            get: function get() {
              return this._soundVol;
            }
          }, {
            key: "musicVol",
            get: function get() {
              return this._musicVol;
            }
          }, {
            key: "isOnMusic",
            get: function get() {
              return this._isOnMusic;
            }
          }, {
            key: "isOnSound",
            get: function get() {
              return this._isOnSound;
            }
          }]);
          return Manager;
        }(NSEventDriver.Component), (_descriptor5 = _applyDecoratedDescriptor(_class5.prototype, "_players", [_dec10], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return [];
          }
        }), _applyDecoratedDescriptor(_class5.prototype, "reset", [_dec11], Object.getOwnPropertyDescriptor(_class5.prototype, "reset"), _class5.prototype), _applyDecoratedDescriptor(_class5.prototype, "filter", [_dec12], Object.getOwnPropertyDescriptor(_class5.prototype, "filter"), _class5.prototype)), _class5)) || _class4) || _class4) || _class4);
        _NSAudio.Manager = Manager;
      })(NSAudio || (NSAudio = exports('NSAudio', {})));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/AutoAlignCameras.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './GlobalConfig.ts', './ComponentUtils.ts', './EventManager.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _createForOfIteratorHelperLoose, _createClass, _asyncToGenerator, _regeneratorRuntime, cclegacy, _decorator, Camera, Component, GlobalConfig, pComponentUtils, pEventManager;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _createForOfIteratorHelperLoose = module.createForOfIteratorHelperLoose;
      _createClass = module.createClass;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Camera = module.Camera;
      Component = module.Component;
    }, function (module) {
      GlobalConfig = module.default;
    }, function (module) {
      pComponentUtils = module.pComponentUtils;
    }, function (module) {
      pEventManager = module.pEventManager;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _class, _class2, _descriptor;
      cclegacy._RF.push({}, "a025eHi72NAcbT+uBRHwkeA", "AutoAlignCameras", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var _binder = Symbol('__binder__');
      var AutoAlignCameras = exports('AutoAlignCameras', (_dec = ccclass("AutoAlignCameras"), _dec2 = property({
        type: [Camera]
      }), _dec3 = property({
        type: [Camera]
      }), _dec(_class = (_class2 = /*#__PURE__*/function (_Component) {
        _inheritsLoose(AutoAlignCameras, _Component);
        function AutoAlignCameras() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _Component.call.apply(_Component, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "_cameras", _descriptor, _assertThisInitialized(_this));
          _this._events = [['onDesignResolutionChanged', _this._update, _assertThisInitialized(_this)], ['onCanvasResize', _this._update, _assertThisInitialized(_this)]];
          return _this;
        }
        var _proto = AutoAlignCameras.prototype;
        _proto.onLoad = /*#__PURE__*/function () {
          var _onLoad = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {
            var _iterator, _step, _cam;
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  this._update();
                  pEventManager.on(this._events);
                  for (_iterator = _createForOfIteratorHelperLoose(this.cameras); !(_step = _iterator()).done;) {
                    _cam = _step.value;
                    _cam[_binder] = this._update.bind(this);
                    _cam.node.on(Camera.TARGET_TEXTURE_CHANGE, _cam[_binder], this);
                  }
                case 3:
                case "end":
                  return _context.stop();
              }
            }, _callee, this);
          }));
          function onLoad() {
            return _onLoad.apply(this, arguments);
          }
          return onLoad;
        }();
        _proto.onDestroy = function onDestroy() {
          pEventManager.off(this._events);
          for (var _iterator2 = _createForOfIteratorHelperLoose(this.cameras), _step2; !(_step2 = _iterator2()).done;) {
            var _cam = _step2.value;
            _cam.node.off(Camera.TARGET_TEXTURE_CHANGE, _cam[_binder], this);
          }
        };
        _proto._update = /*#__PURE__*/function () {
          var _update2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {
            return _regeneratorRuntime().wrap(function _callee2$(_context2) {
              while (1) switch (_context2.prev = _context2.next) {
                case 0:
                  _context2.next = 2;
                  return GlobalConfig.instance.wait('onGameInited', false);
                case 2:
                  pComponentUtils.alignCamera(this.cameras);
                case 3:
                case "end":
                  return _context2.stop();
              }
            }, _callee2, this);
          }));
          function _update() {
            return _update2.apply(this, arguments);
          }
          return _update;
        }();
        _createClass(AutoAlignCameras, [{
          key: "cameras",
          get: function get() {
            return this._cameras;
          },
          set: function set(x) {
            this._cameras = [].concat(new Set(x));
          }
        }]);
        return AutoAlignCameras;
      }(Component), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "_cameras", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return [];
        }
      }), _applyDecoratedDescriptor(_class2.prototype, "cameras", [_dec3], Object.getOwnPropertyDescriptor(_class2.prototype, "cameras"), _class2.prototype)), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/AutoClose.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, cclegacy, _decorator, Node, isValid, Component, UIBase;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Node = module.Node;
      isValid = module.isValid;
      Component = module.Component;
    }, function (module) {
      UIBase = module.UIBase;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _class, _class2, _descriptor, _descriptor2, _dec4, _dec5, _dec6, _class4, _class5, _descriptor3, _descriptor4;
      cclegacy._RF.push({}, "50717zBYmJMZ7oMU++0PKR9", "AutoClose", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var _Helper = (_dec = ccclass('AutoClose._Helper'), _dec2 = property({
        type: [Node]
      }), _dec3 = property({}), _dec(_class = (_class2 = /*#__PURE__*/function () {
        function _Helper() {
          _initializerDefineProperty(this, "target", _descriptor, this);
          _initializerDefineProperty(this, "activeOnOpen", _descriptor2, this);
        }
        var _proto = _Helper.prototype;
        _proto.close = function close() {
          this.target.forEach(function (_node) {
            return isValid(_node) && (_node.active = false);
          });
        };
        _proto.open = function open() {
          if (!this.activeOnOpen) return;
          this.target.forEach(function (_node) {
            return isValid(_node) && (_node.active = true);
          });
        };
        return _Helper;
      }(), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "target", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return [];
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "activeOnOpen", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return false;
        }
      })), _class2)) || _class);
      var AutoClose = exports('AutoClose', (_dec4 = ccclass('AutoClose'), _dec5 = property({
        type: UIBase
      }), _dec6 = property({
        type: [_Helper]
      }), _dec4(_class4 = (_class5 = /*#__PURE__*/function (_Component) {
        _inheritsLoose(AutoClose, _Component);
        function AutoClose() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _Component.call.apply(_Component, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "root", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "helpers", _descriptor4, _assertThisInitialized(_this));
          _this._events = [['onClose', _this._onClose, _assertThisInitialized(_this)], ['onOpen', _this._onOpen, _assertThisInitialized(_this)]];
          return _this;
        }
        var _proto2 = AutoClose.prototype;
        _proto2.onLoad = function onLoad() {
          if (!this.root) {
            this.destroy();
            return;
          }
          this.root.on(this._events);
        };
        _proto2.onDestroy = function onDestroy() {
          var _this$root;
          (_this$root = this.root) == null || _this$root.off(this._events);
        };
        _proto2._onClose = function _onClose() {
          this.helpers.forEach(function (_helper) {
            return _helper.close();
          });
        };
        _proto2._onOpen = function _onOpen() {
          this.helpers.forEach(function (_helper) {
            return _helper.open();
          });
        };
        return AutoClose;
      }(Component), (_descriptor3 = _applyDecoratedDescriptor(_class5.prototype, "root", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class5.prototype, "helpers", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return [];
        }
      })), _class5)) || _class4));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/AvatarItem.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc'], function (exports) {
  var _inheritsLoose, _createClass, cclegacy, _decorator, Sprite, Toggle, Component;
  return {
    setters: [function (module) {
      _inheritsLoose = module.inheritsLoose;
      _createClass = module.createClass;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Sprite = module.Sprite;
      Toggle = module.Toggle;
      Component = module.Component;
    }],
    execute: function () {
      var _dec, _class;
      cclegacy._RF.push({}, "ad8c5oOVq9Co4PllB/s9PKy", "AvatarItem", undefined);
      var ccclass = _decorator.ccclass;
      var AvatarItem = exports('AvatarItem', (_dec = ccclass('AvatarItem'), _dec(_class = /*#__PURE__*/function (_Component) {
        _inheritsLoose(AvatarItem, _Component);
        function AvatarItem() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _Component.call.apply(_Component, [this].concat(args)) || this;
          _this._index = 0;
          _this._sprite = null;
          _this._toggler = null;
          return _this;
        }
        var _proto = AvatarItem.prototype;
        _proto.onLoad = function onLoad() {
          this._sprite = this.getComponent(Sprite);
          this._toggler = this.getComponent(Toggle);
        };
        _proto.setContent = function setContent(index, frame) {
          if (!frame) return;
          this._index = index;
          this._sprite.spriteFrame = frame;
        };
        _createClass(AvatarItem, [{
          key: "index",
          get: function get() {
            return this._index;
          }
        }, {
          key: "isChecked",
          get: function get() {
            return this._toggler.isChecked;
          }
        }]);
        return AvatarItem;
      }(Component)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/BaseStorage.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './Constants.ts', './EventManager.ts', './ArrayUtils.ts', './JsonUtils.ts'], function (exports) {
  var _createForOfIteratorHelperLoose, _asyncToGenerator, _regeneratorRuntime, cclegacy, dStorageObject, pEventManager, pArray, JsonUtils;
  return {
    setters: [function (module) {
      _createForOfIteratorHelperLoose = module.createForOfIteratorHelperLoose;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
    }, function (module) {
      dStorageObject = module.dStorageObject;
    }, function (module) {
      pEventManager = module.pEventManager;
    }, function (module) {
      pArray = module.pArray;
    }, function (module) {
      JsonUtils = module.default;
    }],
    execute: function () {
      cclegacy._RF.push({}, "2cbaduXKOdKYosYcavbRq9h", "BaseStorage", undefined);
      var BaseStorage = exports('BaseStorage', /*#__PURE__*/function () {
        function BaseStorage() {
          this._data = dStorageObject;
          this._events = [['onLoggingIn', this._onLoggingIn, this]];
          pEventManager.on(this._events);
          this._init();
        }
        var _proto = BaseStorage.prototype;
        _proto.save = function save(key, value) {
          this._data[key] = value;
          return this._save();
        };
        _proto.saves = function saves(data) {
          for (var _len = arguments.length, datas = new Array(_len > 1 ? _len - 1 : 0), _key2 = 1; _key2 < _len; _key2++) {
            datas[_key2 - 1] = arguments[_key2];
          }
          datas = pArray.flatter.apply(pArray, [data].concat(datas));
          for (var _iterator = _createForOfIteratorHelperLoose(datas), _step; !(_step = _iterator()).done;) {
            var _step$value = _step.value,
              key = _step$value.key,
              value = _step$value.value;
            this._data[key] = value;
          }
          return this._save();
        };
        _proto.get = function get(key) {
          //@ts-ignore
          return this._data[key];
        };
        _proto.load = /*#__PURE__*/function () {
          var _load = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(key, replacer) {
            var value;
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  _context.next = 2;
                  return this.get(key);
                case 2:
                  value = _context.sent;
                  return _context.abrupt("return", JsonUtils.isValidData(value) ? JSON.parse(value) : replacer);
                case 4:
                case "end":
                  return _context.stop();
              }
            }, _callee, this);
          }));
          function load(_x, _x2) {
            return _load.apply(this, arguments);
          }
          return load;
        }();
        _proto.remove = /*#__PURE__*/function () {
          var _remove = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(key) {
            return _regeneratorRuntime().wrap(function _callee2$(_context2) {
              while (1) switch (_context2.prev = _context2.next) {
                case 0:
                  delete this._data[key];
                  this._save();
                case 2:
                case "end":
                  return _context2.stop();
              }
            }, _callee2, this);
          }));
          function remove(_x3) {
            return _remove.apply(this, arguments);
          }
          return remove;
        }();
        _proto.removes = function removes(key) {
          for (var _len2 = arguments.length, keys = new Array(_len2 > 1 ? _len2 - 1 : 0), _key3 = 1; _key3 < _len2; _key3++) {
            keys[_key3 - 1] = arguments[_key3];
          }
          keys = pArray.flatter.apply(pArray, [key].concat(keys));
          for (var _iterator2 = _createForOfIteratorHelperLoose(keys), _step2; !(_step2 = _iterator2()).done;) {
            var k = _step2.value;
            delete this._data[k];
          }
          return this._save();
        };
        _proto.clear = function clear() {
          this._data = dStorageObject;
          this._onClear();
        };
        _proto.gets = /*#__PURE__*/function () {
          var _gets = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {
            var _this = this;
            var data,
              _len3,
              keys,
              _key4,
              _args4 = arguments;
            return _regeneratorRuntime().wrap(function _callee4$(_context4) {
              while (1) switch (_context4.prev = _context4.next) {
                case 0:
                  data = {};
                  for (_len3 = _args4.length, keys = new Array(_len3), _key4 = 0; _key4 < _len3; _key4++) {
                    keys[_key4] = _args4[_key4];
                  }
                  _context4.next = 4;
                  return Promise.all(keys.map( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(_key) {
                    return _regeneratorRuntime().wrap(function _callee3$(_context3) {
                      while (1) switch (_context3.prev = _context3.next) {
                        case 0:
                          _context3.next = 2;
                          return _this.get(_key);
                        case 2:
                          return _context3.abrupt("return", data[_key] = _context3.sent);
                        case 3:
                        case "end":
                          return _context3.stop();
                      }
                    }, _callee3);
                  }))));
                case 4:
                  return _context4.abrupt("return", data);
                case 5:
                case "end":
                  return _context4.stop();
              }
            }, _callee4);
          }));
          function gets() {
            return _gets.apply(this, arguments);
          }
          return gets;
        }();
        return BaseStorage;
      }());
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/BubbleChat.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './LanguageManager.ts', './ComponentUtils.ts', './Enums.ts', './EventDriver.ts'], function (exports) {
  var _inheritsLoose, _extends, _applyDecoratedDescriptor, _initializerDefineProperty, _assertThisInitialized, _createClass, _asyncToGenerator, _regeneratorRuntime, cclegacy, _decorator, tween, Node, Label, UIOpacity, UITransform, Component, LanguageMananger, pComponentUtils, NStackType, NSEventDriver;
  return {
    setters: [function (module) {
      _inheritsLoose = module.inheritsLoose;
      _extends = module.extends;
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _createClass = module.createClass;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      tween = module.tween;
      Node = module.Node;
      Label = module.Label;
      UIOpacity = module.UIOpacity;
      UITransform = module.UITransform;
      Component = module.Component;
    }, function (module) {
      LanguageMananger = module.LanguageMananger;
    }, function (module) {
      pComponentUtils = module.pComponentUtils;
    }, function (module) {
      NStackType = module.NStackType;
    }, function (module) {
      NSEventDriver = module.NSEventDriver;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _class5, _class6, _descriptor, _descriptor2, _descriptor3, _descriptor4;
      cclegacy._RF.push({}, "aacdbU/hb9B96hSgVKrE+fJ", "BubbleChat", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var CoreGroup = {
        name: "Core",
        id: "0"
      };
      var _StackHelper = /*#__PURE__*/function (_NSEventDriver$Handle) {
        _inheritsLoose(_StackHelper, _NSEventDriver$Handle);
        function _StackHelper() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _NSEventDriver$Handle.call.apply(_NSEventDriver$Handle, [this].concat(args)) || this;
          _this._tws = null;
          _this._twe = null;
          _this._onInit = null;
          _this._onDestroy = null;
          return _this;
        }
        var _proto = _StackHelper.prototype;
        _proto.display = function display(_opx, _duration, _fade, _package) {
          var _this$_tws,
            _this$_twe,
            _this2 = this;
          if (!this._checker(_package)) return;
          var data = this._getPackage();
          if (!data) return;
          (_this$_tws = this._tws) == null || _this$_tws.stop();
          (_this$_twe = this._twe) == null || _this$_twe.stop();
          this._tws = tween(_opx).to(_fade, {
            opacity: 255
          }).start();
          this._twe = tween(_opx).delay(_duration).to(_fade, {
            opacity: 0
          }).call(function () {
            return _this2.invoke('onDone');
          }).start();
          this.invoke('onDisplayed', data);
        };
        _proto.destroy = function destroy() {
          var _this$_tws2, _this$_twe2;
          (_this$_tws2 = this._tws) == null || _this$_tws2.stop();
          (_this$_twe2 = this._twe) == null || _this$_twe2.stop();
          this._onDestroy && this._onDestroy();
        };
        _proto.init = function init() {
          this._onInit && this._onInit();
        };
        return _StackHelper;
      }(NSEventDriver.Handler);
      var _OneStack = /*#__PURE__*/function (_StackHelper2) {
        _inheritsLoose(_OneStack, _StackHelper2);
        function _OneStack() {
          var _this3;
          for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
            args[_key2] = arguments[_key2];
          }
          _this3 = _StackHelper2.call.apply(_StackHelper2, [this].concat(args)) || this;
          _this3._isDisplayed = false;
          _this3._package = null;
          _this3._onInit = function () {
            _this3.add('onDone', {
              _function: _this3._onDone,
              _this: _assertThisInitialized(_this3)
            });
          };
          _this3._onDestroy = function () {
            _this3.remove('onDone', {
              _function: _this3._onDone,
              _this: _assertThisInitialized(_this3)
            });
          };
          return _this3;
        }
        var _proto2 = _OneStack.prototype;
        _proto2._getPackage = function _getPackage() {
          return this._package;
        };
        _proto2._checker = function _checker(_package) {
          if (this._isDisplayed) return false;
          this._isDisplayed = true;
          this._package = _package;
          return true;
        };
        _proto2._onDone = function _onDone() {
          this._isDisplayed = false;
        };
        return _OneStack;
      }(_StackHelper);
      var _CompleteStack = /*#__PURE__*/function (_StackHelper3) {
        _inheritsLoose(_CompleteStack, _StackHelper3);
        function _CompleteStack() {
          var _this4;
          for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
            args[_key3] = arguments[_key3];
          }
          _this4 = _StackHelper3.call.apply(_StackHelper3, [this].concat(args)) || this;
          _this4._packages = [];
          _this4._isDisplayed = false;
          _this4._onInit = function () {
            _this4.add('onDone', {
              _function: _this4._onDone,
              _this: _assertThisInitialized(_this4)
            });
            _this4.add('onDisplayed', {
              _function: _this4._onDisplayed,
              _this: _assertThisInitialized(_this4)
            });
          };
          _this4._onDestroy = function () {
            _this4.remove('onDone', {
              _function: _this4._onDone,
              _this: _assertThisInitialized(_this4)
            });
            _this4.remove('onDisplayed', {
              _function: _this4._onDisplayed,
              _this: _assertThisInitialized(_this4)
            });
          };
          return _this4;
        }
        var _proto3 = _CompleteStack.prototype;
        _proto3._checker = function _checker(_package) {
          this._packages.push(_package);
          return !this._isDisplayed && this._packages.length <= 1;
        };
        _proto3._onDone = function _onDone() {
          this._isDisplayed = false;
        };
        _proto3.display = function display(_opx, _duration, _fade, _package) {
          var _this$_tws3,
            _this$_twe3,
            _this5 = this;
          if (!this._checker(_package)) return;
          var data = this._getPackage();
          if (!data) return;
          (_this$_tws3 = this._tws) == null || _this$_tws3.stop();
          (_this$_twe3 = this._twe) == null || _this$_twe3.stop();
          this._tws = tween(_opx).to(_fade, {
            opacity: 255
          }).start();
          this._twe = tween(_opx).delay(_duration).to(_fade, {
            opacity: 0
          }).call(function () {
            return _this5.invoke('onDone');
          }).start();
          this.invoke('onDisplayed', data);
        };
        _proto3._onDisplayed = function _onDisplayed() {
          this._isDisplayed = true;
        };
        _proto3._getPackage = function _getPackage() {
          return this._packages.shift();
        };
        return _CompleteStack;
      }(_StackHelper);
      var _LastStack = /*#__PURE__*/function (_StackHelper4) {
        _inheritsLoose(_LastStack, _StackHelper4);
        function _LastStack() {
          var _this6;
          for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {
            args[_key4] = arguments[_key4];
          }
          _this6 = _StackHelper4.call.apply(_StackHelper4, [this].concat(args)) || this;
          _this6._package = null;
          return _this6;
        }
        var _proto4 = _LastStack.prototype;
        _proto4._getPackage = function _getPackage() {
          return this._package;
        };
        _proto4._checker = function _checker(_package) {
          this._package = _package;
          return true;
        };
        return _LastStack;
      }(_StackHelper);
      var BubbleChat = exports('BubbleChat', (_dec = ccclass("BubbleChat"), _dec2 = property({
        type: Node,
        group: CoreGroup
      }), _dec3 = property({
        type: Label,
        group: CoreGroup
      }), _dec4 = property({
        type: Label,
        group: CoreGroup
      }), _dec5 = property({
        min: 0,
        group: CoreGroup
      }), _dec6 = property(_extends({}, NStackType.ccProperty, {
        group: CoreGroup
      })), _dec(_class5 = (_class6 = /*#__PURE__*/function (_Component) {
        _inheritsLoose(BubbleChat, _Component);
        function BubbleChat() {
          var _this7;
          for (var _len5 = arguments.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {
            args[_key5] = arguments[_key5];
          }
          _this7 = _Component.call.apply(_Component, [this].concat(args)) || this;
          _initializerDefineProperty(_this7, "root", _descriptor, _assertThisInitialized(_this7));
          _initializerDefineProperty(_this7, "_lblChat", _descriptor2, _assertThisInitialized(_this7));
          _initializerDefineProperty(_this7, "fadeDuration", _descriptor3, _assertThisInitialized(_this7));
          _initializerDefineProperty(_this7, "stackType", _descriptor4, _assertThisInitialized(_this7));
          _this7._opx = null;
          _this7._trans = null;
          _this7._stack = null;
          _this7._attemp = 0;
          return _this7;
        }
        var _proto5 = BubbleChat.prototype;
        _proto5.onLoad = function onLoad() {
          this._opx = pComponentUtils.getSafeComponent(this.root, UIOpacity);
          this._trans = pComponentUtils.getSafeComponent(this.lblChat, UITransform);
          this._opx.opacity = 0;
          switch (this.stackType) {
            case NStackType.EEnum.ONLY_ONE:
              this._stack = new _OneStack();
              break;
            case NStackType.EEnum.COMPLETE:
              this._stack = new _CompleteStack();
              break;
            case NStackType.EEnum.LAST:
              this._stack = new _LastStack();
              break;
          }
          this._stack.add('onDisplayed', {
            _function: this._onDisplayed,
            _this: this
          });
        };
        _proto5._onDisplayed = function _onDisplayed(_package) {
          var key = _package.key;
          var str = LanguageMananger.instance.getString(key);
          this.lblChat.string = str;
        };
        _proto5.chat = /*#__PURE__*/function () {
          var _chat = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(key, duration) {
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  this._stack.display(this._opx, duration, this.fadeDuration, {
                    key: key
                  });
                case 1:
                case "end":
                  return _context.stop();
              }
            }, _callee, this);
          }));
          function chat(_x, _x2) {
            return _chat.apply(this, arguments);
          }
          return chat;
        }();
        _proto5.onDestroy = function onDestroy() {
          this._stack.remove('onDisplayed', {
            _function: this._onDisplayed,
            _this: this
          });
          this._stack.destroy();
        };
        _proto5.test = function test(target, raw) {
          raw += String(this._attemp++);
          this.chat({
            raw: raw
          }, 3);
        };
        _createClass(BubbleChat, [{
          key: "lblChat",
          get: function get() {
            return this._lblChat;
          },
          set: function set(value) {
            this._lblChat = value;
            !!value && (value.overflow = Label.Overflow.RESIZE_HEIGHT);
          }
        }]);
        return BubbleChat;
      }(Component), (_descriptor = _applyDecoratedDescriptor(_class6.prototype, "root", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class6.prototype, "_lblChat", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _applyDecoratedDescriptor(_class6.prototype, "lblChat", [_dec4], Object.getOwnPropertyDescriptor(_class6.prototype, "lblChat"), _class6.prototype), _descriptor3 = _applyDecoratedDescriptor(_class6.prototype, "fadeDuration", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return 0.15;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class6.prototype, "stackType", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return NStackType.EEnum.LAST;
        }
      })), _class6)) || _class5));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/BundleUtils.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './EventManager.ts'], function (exports) {
  var _asyncToGenerator, _regeneratorRuntime, _createForOfIteratorHelperLoose, cclegacy, pEventManager;
  return {
    setters: [function (module) {
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
      _createForOfIteratorHelperLoose = module.createForOfIteratorHelperLoose;
    }, function (module) {
      cclegacy = module.cclegacy;
    }, function (module) {
      pEventManager = module.pEventManager;
    }],
    execute: function () {
      cclegacy._RF.push({}, "f99f8v0Cs1BI5BM8kRCZFrS", "BundleUtils", undefined);
      var _BundleUtils = /*#__PURE__*/function () {
        function _BundleUtils() {}
        var _proto = _BundleUtils.prototype;
        _proto.load = /*#__PURE__*/function () {
          var _load = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(bundle, paths, event) {
            var loaded;
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  loaded = 0;
                  return _context.abrupt("return", new Promise(function (rs) {
                    for (var _iterator = _createForOfIteratorHelperLoose(paths), _step; !(_step = _iterator()).done;) {
                      var ret = _step.value;
                      bundle.loadDir(ret, function (err, prefabs) {
                        loaded++;
                        err && console.warn('[BundleUtils] Warning >>', err);
                        if (loaded >= paths.length) {
                          pEventManager.invoke(event);
                          rs(prefabs);
                        }
                      });
                    }
                  }));
                case 2:
                case "end":
                  return _context.stop();
              }
            }, _callee);
          }));
          function load(_x, _x2, _x3) {
            return _load.apply(this, arguments);
          }
          return load;
        }();
        return _BundleUtils;
      }();
      var pBundleUtils = exports('pBundleUtils', new _BundleUtils());
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/CaptchaHelper.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './TypesLanguageManager.ts', './MathUtils.ts', './LanguageManager.ts'], function (exports) {
  var _applyDecoratedDescriptor, _createClass, _initializerDefineProperty, cclegacy, _decorator, SpriteFrame, CCELang, numberToTLang, pMathUtils, LanguageMananger;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _createClass = module.createClass;
      _initializerDefineProperty = module.initializerDefineProperty;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      SpriteFrame = module.SpriteFrame;
    }, function (module) {
      CCELang = module.CCELang;
      numberToTLang = module.numberToTLang;
    }, function (module) {
      pMathUtils = module.pMathUtils;
    }, function (module) {
      LanguageMananger = module.LanguageMananger;
    }],
    execute: function () {
      exports('NSCaptcha', void 0);
      cclegacy._RF.push({}, "0f9acFlD2pDDaaXgxOZr5km", "CaptchaHelper", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var NSCaptcha;
      (function (_NSCaptcha, _dec, _dec2, _dec3, _class, _class2, _descriptor, _descriptor2, _dec4, _dec5, _class4, _class5, _descriptor3) {
        var Config = (_dec = ccclass("NSCaptcha.Config"), _dec2 = property({
          override: true,
          type: CCELang,
          visible: true
        }), _dec3 = property([SpriteFrame]), _dec(_class = (_class2 = /*#__PURE__*/function () {
          function Config() {
            _initializerDefineProperty(this, "_group", _descriptor, this);
            _initializerDefineProperty(this, "list", _descriptor2, this);
          }
          var _proto = Config.prototype;
          _proto.get = function get() {
            var _rand = pMathUtils.random(0, this.list.length - 1, "INTEGER");
            return this.list[_rand];
          };
          _createClass(Config, [{
            key: "group",
            get: function get() {
              return numberToTLang(this._group);
            }
          }]);
          return Config;
        }(), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "_group", [_dec2], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return 0;
          }
        }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "list", [_dec3], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return [];
          }
        })), _class2)) || _class);
        var Manager = (_dec4 = ccclass("NSCaptcha.Manager"), _dec5 = property(Config), _dec4(_class4 = (_class5 = /*#__PURE__*/function () {
          function Manager() {
            _initializerDefineProperty(this, "list", _descriptor3, this);
            this._selector = 0;
            this._count = 0;
          }
          var _proto2 = Manager.prototype;
          _proto2.mix = function mix(targets, applier, title) {
            var _this = this;
            var _range = targets.map(function (_target) {
              var _rand = pMathUtils.random(0, _this.list.length - 1, "INTEGER");
              applier(_target, _this.list[_rand].get(), _rand);
              return _rand;
            });
            var _rand = pMathUtils.random(0, _range.length - 1, "INTEGER");
            this._selector = _range[_rand];
            this._count = _range.filter(function (id) {
              return id === _this._selector;
            }).length;
            var _selector = this.list[this._selector];
            var _title = LanguageMananger.instance.getStrings(_selector.group, 'txt_choose_capcha');
            title(_title.txt_choose_capcha.replace("@target", _title[_selector.group]));
          };
          _proto2.check = function check(selected) {
            var _this2 = this;
            return selected.length === this._count && selected.every(function (_select) {
              return _select === _this2._selector;
            });
          };
          return Manager;
        }(), _descriptor3 = _applyDecoratedDescriptor(_class5.prototype, "list", [_dec5], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return [];
          }
        }), _class5)) || _class4);
        _NSCaptcha.Manager = Manager;
      })(NSCaptcha || (NSCaptcha = exports('NSCaptcha', {})));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/CardTutorial.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './GameTutorial.ts', './UICardType.ts', './UIFlippingObject.ts', './UICardsDealer.ts', './Decorators.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _asyncToGenerator, _regeneratorRuntime, cclegacy, _decorator, Node, GameTutorial, NSCardType, UIFlippingObject, NSCardsDealer, pDecorators;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Node = module.Node;
    }, function (module) {
      GameTutorial = module.GameTutorial;
    }, function (module) {
      NSCardType = module.NSCardType;
    }, function (module) {
      UIFlippingObject = module.default;
    }, function (module) {
      NSCardsDealer = module.NSCardsDealer;
    }, function (module) {
      pDecorators = module.pDecorators;
    }],
    execute: function () {
      exports('NSCardsTutorial', void 0);
      cclegacy._RF.push({}, "697b64mw4tFgaz9lTFzuOHQ", "CardTutorial", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var NSCardsTutorial;
      (function (_NSCardsTutorial, _dec, _dec2, _dec3, _dec4, _class, _class2, _descriptor, _descriptor2, _descriptor3, _dec5, _dec6, _dec7, _class4, _class5, _descriptor4, _descriptor5, _dec8, _dec9, _dec10, _class7, _class8, _descriptor6, _descriptor7) {
        var _HandCard = (_dec = ccclass("GameTutorial._HandCard"), _dec2 = property({
          min: 0
        }), _dec3 = property({
          type: [NSCardType.CCEDeck],
          readonly: {
            deep: false
          }
        }), _dec4 = property({
          type: [UIFlippingObject],
          readonly: {
            deep: false
          }
        }), _dec(_class = (_class2 = /*#__PURE__*/function () {
          function _HandCard(amount) {
            if (amount === void 0) {
              amount = 2;
            }
            _initializerDefineProperty(this, "speed", _descriptor, this);
            _initializerDefineProperty(this, "cards", _descriptor2, this);
            _initializerDefineProperty(this, "view", _descriptor3, this);
            this.cards = new Array(amount).fill(0);
            this.view = new Array(amount).fill(null);
          }
          var _proto = _HandCard.prototype;
          _proto.show = /*#__PURE__*/function () {
            var _show = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {
              var _idx, _ret;
              return _regeneratorRuntime().wrap(function _callee$(_context) {
                while (1) switch (_context.prev = _context.next) {
                  case 0:
                    _idx = 0;
                  case 1:
                    if (!(_idx < this.cards.length)) {
                      _context.next = 8;
                      break;
                    }
                    _ret = this.view[_idx];
                    _context.next = 5;
                    return _ret == null ? void 0 : _ret.invoke(NSCardType.from(_idx), 0, this.speed);
                  case 5:
                    ++_idx;
                    _context.next = 1;
                    break;
                  case 8:
                  case "end":
                    return _context.stop();
                }
              }, _callee, this);
            }));
            function show() {
              return _show.apply(this, arguments);
            }
            return show;
          }();
          return _HandCard;
        }(), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "speed", [_dec2], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return 0.25;
          }
        }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "cards", [_dec3], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return [];
          }
        }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "view", [_dec4], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return [];
          }
        })), _class2)) || _class);
        _NSCardsTutorial._HandCard = _HandCard;
        var _PlayerHandCard = (_dec5 = ccclass("GameTutorial._PlayerHandCard"), _dec6 = property({
          type: Node
        }), _dec7 = property({}), _dec5(_class4 = (_class5 = /*#__PURE__*/function (_HandCard2) {
          _inheritsLoose(_PlayerHandCard, _HandCard2);
          function _PlayerHandCard() {
            var _this;
            for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
              args[_key] = arguments[_key];
            }
            _this = _HandCard2.call.apply(_HandCard2, [this].concat(args)) || this;
            _initializerDefineProperty(_this, "root", _descriptor4, _assertThisInitialized(_this));
            _initializerDefineProperty(_this, "isMain", _descriptor5, _assertThisInitialized(_this));
            return _this;
          }
          var _proto2 = _PlayerHandCard.prototype;
          _proto2.show = function show(bypass) {
            var _this2 = this;
            if (bypass === void 0) {
              bypass = false;
            }
            return this.isMain || bypass ? Promise.all(this.view.map(function (_v, _i) {
              return _v == null ? void 0 : _v.invoke(NSCardType.from(_this2.cards[_i]));
            })) : Promise.all(this.view.map(function (_v) {
              return _v == null ? void 0 : _v.setDown();
            }));
          };
          return _PlayerHandCard;
        }(_HandCard), (_descriptor4 = _applyDecoratedDescriptor(_class5.prototype, "root", [_dec6], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return null;
          }
        }), _descriptor5 = _applyDecoratedDescriptor(_class5.prototype, "isMain", [_dec7], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return false;
          }
        })), _class5)) || _class4);
        _NSCardsTutorial._PlayerHandCard = _PlayerHandCard;
        var CardTutorial = (_dec8 = ccclass("GameTutorial.CardTutorial"), _dec9 = property({
          type: _HandCard
        }), _dec10 = property({
          type: [_PlayerHandCard]
        }), _dec8(_class7 = (_class8 = /*#__PURE__*/function (_GameTutorial) {
          _inheritsLoose(CardTutorial, _GameTutorial);
          function CardTutorial() {
            var _this3;
            for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
              args[_key2] = arguments[_key2];
            }
            _this3 = _GameTutorial.call.apply(_GameTutorial, [this].concat(args)) || this;
            _initializerDefineProperty(_this3, "comunity", _descriptor6, _assertThisInitialized(_this3));
            _initializerDefineProperty(_this3, "players", _descriptor7, _assertThisInitialized(_this3));
            _this3._actions = [/*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {
              var _dealer, _roots;
              return _regeneratorRuntime().wrap(function _callee2$(_context2) {
                while (1) switch (_context2.prev = _context2.next) {
                  case 0:
                    _dealer = pDecorators.instance(NSCardsDealer.Component);
                    _roots = _this3.players.map(function (_p) {
                      return _p.root;
                    });
                    _this3.comunity.show();
                    _context2.next = 5;
                    return _dealer.deal(_roots, 0.25, 0.15);
                  case 5:
                    _context2.next = 7;
                    return _dealer.deal(_roots, 0.25, 0.15);
                  case 7:
                    return _context2.abrupt("return", Promise.all(_this3.players.map(function (_p) {
                      return _p.show();
                    })));
                  case 8:
                  case "end":
                    return _context2.stop();
                }
              }, _callee2);
            })), function () {
              return Promise.all(_this3.players.map(function (_p) {
                return _p.show(true);
              }));
            }];
            return _this3;
          }
          var _proto3 = CardTutorial.prototype;
          _proto3._onExit = /*#__PURE__*/function () {
            var _onExit2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {
              return _regeneratorRuntime().wrap(function _callee3$(_context3) {
                while (1) switch (_context3.prev = _context3.next) {
                  case 0:
                  case "end":
                    return _context3.stop();
                }
              }, _callee3);
            }));
            function _onExit() {
              return _onExit2.apply(this, arguments);
            }
            return _onExit;
          }();
          return CardTutorial;
        }(GameTutorial), (_descriptor6 = _applyDecoratedDescriptor(_class8.prototype, "comunity", [_dec9], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return new _HandCard(5);
          }
        }), _descriptor7 = _applyDecoratedDescriptor(_class8.prototype, "players", [_dec10], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return [];
          }
        })), _class8)) || _class7);
        _NSCardsTutorial.CardTutorial = CardTutorial;
      })(NSCardsTutorial || (NSCardsTutorial = exports('NSCardsTutorial', {})));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/ChatClickHandle.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIPlayingScene.ts', './Decorators.ts', './ResponeCode.ts', './UINotice.ts', './GlobalConfig.ts', './UserCommand.ts'], function (exports) {
  var _inheritsLoose, _asyncToGenerator, _regeneratorRuntime, cclegacy, _decorator, Component, UIPlayingScene, pDecorators, ResponseCode, UINotice, GlobalConfig, request;
  return {
    setters: [function (module) {
      _inheritsLoose = module.inheritsLoose;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Component = module.Component;
    }, function (module) {
      UIPlayingScene = module.default;
    }, function (module) {
      pDecorators = module.pDecorators;
    }, function (module) {
      ResponseCode = module.ResponseCode;
    }, function (module) {
      UINotice = module.UINotice;
    }, function (module) {
      GlobalConfig = module.default;
    }, function (module) {
      request = module.default;
    }],
    execute: function () {
      var _dec, _class;
      cclegacy._RF.push({}, "958a8084clBRr+FYLll79V5", "ChatClickHandle", undefined);
      var ccclass = _decorator.ccclass;
      var ChatClickHandle = exports('ChatClickHandle', (_dec = ccclass('ChatClickHandle'), _dec(_class = /*#__PURE__*/function (_Component) {
        _inheritsLoose(ChatClickHandle, _Component);
        function ChatClickHandle() {
          return _Component.apply(this, arguments) || this;
        }
        var _proto = ChatClickHandle.prototype;
        _proto.onClickName = /*#__PURE__*/function () {
          var _onClickName = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(eventTouch, param) {
            var data, _pv, msg, code, SUCCESS, ERR_NOT_FOUND_USER;
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  if (!(param.length <= 0)) {
                    _context.next = 3;
                    break;
                  }
                  return _context.abrupt("return");
                case 3:
                  if (!(param === GlobalConfig.instance.Login.player.information.id.toString())) {
                    _context.next = 5;
                    break;
                  }
                  return _context.abrupt("return");
                case 5:
                  _context.next = 7;
                  return request('getUserInfo', {
                    uid: param
                  });
                case 7:
                  data = _context.sent;
                  _pv = pDecorators.instance(UIPlayingScene);
                  msg = data.msg, code = data.code;
                  SUCCESS = ResponseCode.SUCCESS, ERR_NOT_FOUND_USER = ResponseCode.ERR_NOT_FOUND_USER;
                  _context.t0 = code;
                  _context.next = _context.t0 === SUCCESS ? 14 : _context.t0 === ERR_NOT_FOUND_USER ? 16 : 18;
                  break;
                case 14:
                  _pv.showPopupProfilePlayer(msg);
                  return _context.abrupt("break", 19);
                case 16:
                  //@ts-ignore
                  UINotice.instance.show('txt_title', msg);
                  return _context.abrupt("break", 19);
                case 18:
                  return _context.abrupt("break", 19);
                case 19:
                case "end":
                  return _context.stop();
              }
            }, _callee);
          }));
          function onClickName(_x, _x2) {
            return _onClickName.apply(this, arguments);
          }
          return onClickName;
        }();
        return ChatClickHandle;
      }(Component)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/ChatCommand.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './Connection.ts'], function (exports) {
  var _asyncToGenerator, _regeneratorRuntime, cclegacy, _connection;
  return {
    setters: [function (module) {
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
    }, function (module) {
      _connection = module.default;
    }],
    execute: function () {
      exports('default', request);
      cclegacy._RF.push({}, "3de9a9pzj5Lt6jd4G40blwW", "ChatCommand", undefined);
      var CHC;
      (function (_CHC) {
        var prefix = _CHC.prefix = "chat.chatHandler.";
      })(CHC || (CHC = {}));
      function request(_x, _x2, _x3) {
        return _request.apply(this, arguments);
      }
      function _request() {
        _request = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(command, payload, cb) {
          return _regeneratorRuntime().wrap(function _callee$(_context) {
            while (1) switch (_context.prev = _context.next) {
              case 0:
                return _context.abrupt("return", _connection.send(CHC.prefix + command, payload, cb));
              case 1:
              case "end":
                return _context.stop();
            }
          }, _callee);
        }));
        return _request.apply(this, arguments);
      }
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/ClassHelper.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './EnumUtils.ts', './ArrayUtils.ts', './EventDriver.ts'], function (exports) {
  var _inheritsLoose, _applyDecoratedDescriptor, _initializerDefineProperty, cclegacy, _decorator, Enum, CCClass, NSEnumUtils, pArray, NSEventDriver;
  return {
    setters: [function (module) {
      _inheritsLoose = module.inheritsLoose;
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _initializerDefineProperty = module.initializerDefineProperty;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Enum = module.Enum;
      CCClass = module.CCClass;
    }, function (module) {
      NSEnumUtils = module.NSEnumUtils;
    }, function (module) {
      pArray = module.pArray;
    }, function (module) {
      NSEventDriver = module.NSEventDriver;
    }],
    execute: function () {
      exports('HelperSpace', void 0);
      cclegacy._RF.push({}, "4adb6ZNbNFDYa4Sn0s7ACUK", "ClassHelper", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property,
        executeInEditMode = _decorator.executeInEditMode;
      var HelperSpace;
      (function (_HelperSpace, _dec, _dec2, _class, _dec3, _dec4, _class2, _class3, _descriptor, _dec5, _dec6, _class5, _class6, _descriptor2) {
        var ConfigLoaderComponent = (_dec = ccclass('HelperSpace.ConfigLoaderComponent'), _dec2 = executeInEditMode(), _dec(_class = _dec2(_class = /*#__PURE__*/function (_NSEventDriver$Compon) {
          _inheritsLoose(ConfigLoaderComponent, _NSEventDriver$Compon);
          function ConfigLoaderComponent() {
            return _NSEventDriver$Compon.apply(this, arguments) || this;
          }
          var _proto = ConfigLoaderComponent.prototype;
          _proto.onFocusInEditor = function onFocusInEditor() {
            this._onUpdateEditor();
          };
          _proto.onLostFocusInEditor = function onLostFocusInEditor() {
            this._onUpdateEditor();
          };
          _proto._onUpdateEditor = function _onUpdateEditor() {
            if (!this._eList || !this._eArray) return;
            this._eManagersChecker(this._eList, this._eArray);
          };
          _proto._eManagersChecker = function _eManagersChecker(keys, list) {
            var _this = this;
            keys = pArray.flatter(keys);
            keys.forEach(function (_key) {
              return _this._eManagerChecker(_key, list);
            });
          };
          _proto._eManagerChecker = function _eManagerChecker(_key, _list) {
            if (!this) return;
            //@ts-ignore
            var _target = this[_key];
            if (!_target) return;
            _target.check(_list);
            _target.apply();
          };
          return ConfigLoaderComponent;
        }(NSEventDriver.Component)) || _class) || _class);
        _HelperSpace.ConfigLoaderComponent = ConfigLoaderComponent;
        var _BaseConfig = (_dec3 = ccclass('HelperSpace._BaseConfig'), _dec4 = property({
          visible: true,
          type: Enum({}),
          readonly: true
        }), _dec3(_class2 = (_class3 = /*#__PURE__*/function () {
          function _BaseConfig() {
            _initializerDefineProperty(this, "_id", _descriptor, this);
          }
          _BaseConfig.create = function create(helper, index) {
            var ret = this._create();
            ret.apply(helper);
            ret._id = index;
            return ret;
          };
          _BaseConfig._create = function _create() {
            throw new Error('This method should be overridden in derived classes');
          };
          var _proto2 = _BaseConfig.prototype;
          _proto2.apply = function apply(helper) {
            CCClass.Attr.setClassAttr(this.constructor, '_id', 'enumList', helper.cc);
          };
          _proto2.is = function is(id) {
            return this._id == id;
          };
          return _BaseConfig;
        }(), _descriptor = _applyDecoratedDescriptor(_class3.prototype, "_id", [_dec4], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return 0;
          }
        }), _class3)) || _class2);
        _HelperSpace._BaseConfig = _BaseConfig;
        var _BaseManager = (_dec5 = ccclass('HelperSpace._BaseManager'), _dec6 = property({
          type: NSEnumUtils.Helper,
          visible: true
        }), _dec5(_class5 = (_class6 = /*#__PURE__*/function () {
          function _BaseManager() {
            _initializerDefineProperty(this, "_helper", _descriptor2, this);
          }
          _BaseManager.create = function create(helper) {
            var config = this._create();
            config._helper = helper;
            config._init();
            return config;
          };
          _BaseManager._create = function _create() {
            throw new Error('This method should be overridden in derived classes');
          };
          var _proto3 = _BaseManager.prototype;
          _proto3.sets = function sets(types, target) {
            var _this2 = this;
            if (!types || !types.length) return;
            types.forEach(function (type) {
              return _this2.set(type, target);
            });
          };
          return _BaseManager;
        }(), _descriptor2 = _applyDecoratedDescriptor(_class6.prototype, "_helper", [_dec6], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return null;
          }
        }), _class6)) || _class5);
        _HelperSpace._BaseManager = _BaseManager;
      })(HelperSpace || (HelperSpace = exports('HelperSpace', {})));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/ClassUtils.ts", ['cc', './ArrayUtils.ts'], function (exports) {
  var cclegacy, pArray;
  return {
    setters: [function (module) {
      cclegacy = module.cclegacy;
    }, function (module) {
      pArray = module.pArray;
    }],
    execute: function () {
      cclegacy._RF.push({}, "58288aJPNdMF5h3dH/BJQ0H", "ClassUtils", undefined);
      var _ClassUtils = /*#__PURE__*/function () {
        function _ClassUtils() {}
        var _proto = _ClassUtils.prototype;
        _proto.mapper = function mapper(listener) {
          if (!listener) return [];
          listener = pArray.flatter(listener);
          return listener.filter(Boolean).map(function (ret) {
            var _ret$_priority;
            return typeof ret === 'function' ? {
              _function: ret,
              _priority: 0,
              _this: null,
              _args: [],
              _brgs: []
            } : {
              _function: ret._function,
              _this: ret._this,
              _priority: (_ret$_priority = ret._priority) != null ? _ret$_priority : 0,
              _args: ret._args,
              _bargs: ret._brgs
            };
          });
        };
        _proto.invoker = function invoker(funcs) {
          for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key2 = 1; _key2 < _len; _key2++) {
            args[_key2 - 1] = arguments[_key2];
          }
          if (!funcs) return;
          funcs = pArray.flatter(funcs);
          var results = funcs.map(function (_ref) {
            var _args2, _brgs2;
            var _this = _ref._this,
              _function = _ref._function,
              _args = _ref._args,
              _brgs = _ref._brgs;
            _args = (_args2 = _args) != null ? _args2 : [];
            _brgs = (_brgs2 = _brgs) != null ? _brgs2 : [];
            return _this ? _function.call.apply(_function, [_this].concat(_brgs, args, _args)) : _function.apply(void 0, _brgs.concat(args, _args));
          });
          return results;
        };
        _proto.overriding = function overriding(_constructor, _key, _getter, _setter) {
          var _origin = Object.getOwnPropertyDescriptor(_constructor.prototype, 'string');
          var get = _getter(_origin.get);
          var set = _setter(_origin.set);
          var enumerable = _origin.enumerable,
            configurable = _origin.configurable;
          Object.defineProperty(_constructor.prototype, _key, {
            get: get,
            set: set,
            enumerable: enumerable,
            configurable: configurable
          });
        };
        _proto.transform = function transform(label) {
          var _origin = Object.getOwnPropertyDescriptor(Object.getPrototypeOf(label), 'string');
          Object.defineProperty(label, 'string', {
            set: function set(value) {
              if (value === null || value === undefined) {
                return;
              }
              _origin.set.call(this, value);
              this.node.emit('string-changed', value);
            },
            get: function get() {
              return _origin.get.call(this);
            },
            configurable: true,
            enumerable: true
          });
        };
        return _ClassUtils;
      }();
      var pClassUtils = exports('pClassUtils', new _ClassUtils());
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/ClockChanger.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './EventDriver.ts'], function () {
  var _inheritsLoose, cclegacy, sys, NSEventDriver;
  return {
    setters: [function (module) {
      _inheritsLoose = module.inheritsLoose;
    }, function (module) {
      cclegacy = module.cclegacy;
      sys = module.sys;
    }, function (module) {
      NSEventDriver = module.NSEventDriver;
    }],
    execute: function () {
      cclegacy._RF.push({}, "fa667u6I0NLsJL+yHn1Ry79", "ClockChanger", undefined);
      var _ClockWatcher = /*#__PURE__*/function (_NSEventDriver$Handle) {
        _inheritsLoose(_ClockWatcher, _NSEventDriver$Handle);
        function _ClockWatcher() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _NSEventDriver$Handle.call.apply(_NSEventDriver$Handle, [this].concat(args)) || this;
          _this._poolMs = void 0;
          _this._driftThresholdMs = void 0;
          _this._checkTimeZone = void 0;
          _this._timer = null;
          _this._baseEpockMs = Date.now();
          _this._baseMonoMs = performance.now();
          _this._lastTimeZone = Intl.DateTimeFormat().resolvedOptions().timeZone;
          return _this;
        }
        _ClockWatcher.generate = function generate(opt) {
          var _ret = new _ClockWatcher();
          _ret._setup(opt);
          return _ret;
        };
        var _proto = _ClockWatcher.prototype;
        _proto._setup = function _setup(opt) {
          var _opt$poolMs,
            _opt$driftThresholdMs,
            _opt$checkTimeZone,
            _this2 = this;
          if (!sys.isBrowser) return;
          this._poolMs = (_opt$poolMs = opt == null ? void 0 : opt.poolMs) != null ? _opt$poolMs : 20000; // default 1 minute
          this._driftThresholdMs = (_opt$driftThresholdMs = opt == null ? void 0 : opt.driftThresholdMs) != null ? _opt$driftThresholdMs : 10000; // default 2 seconds
          this._checkTimeZone = (_opt$checkTimeZone = opt == null ? void 0 : opt.checkTimeZone) != null ? _opt$checkTimeZone : true;
          document.addEventListener('visibilitychange', function () {
            if (document.visibilityState === 'visible') {
              _this2._resetBaseTime();
            }
          });
          window.addEventListener('pageshow', function () {
            return _this2._resetBaseTime();
          });
        };
        _proto.start = function start() {
          var _this3 = this;
          if (this._timer !== null) return;
          var _loop = function _loop() {
            if (document.visibilityState !== 'visible') {
              _this3._checkDrift();
              _this3._checkTimeZone && _this3._checkTZ();
            }
            _this3._timer = window.setTimeout(_loop, _this3._poolMs);
          };
          this._timer = window.setTimeout(_loop, this._poolMs);
        };
        _proto.stop = function stop() {
          if (this._timer === null) return;
          window.clearTimeout(this._timer);
          this._timer = null;
        };
        _proto._checkDrift = function _checkDrift() {
          var _monoDt = performance.now() - this._baseMonoMs;
          var _expectedEpockMs = this._baseEpockMs + _monoDt;
          var _actualEpockMs = Date.now();
          var _driftMs = Math.abs(_actualEpockMs - _expectedEpockMs);
          if (_driftMs >= this._driftThresholdMs) {
            var event = {
              driftMs: _driftMs,
              expectedEpockMs: _expectedEpockMs,
              actualEpockMs: _actualEpockMs
            };
            this.invoke('onClockChange', event);
            this._resetBaseTime();
          }
        };
        _proto._checkTZ = function _checkTZ() {
          var _tz = Intl.DateTimeFormat().resolvedOptions().timeZone;
          if (_tz !== this._lastTimeZone) {
            this.invoke('onTimeZoneChange', this._lastTimeZone, _tz);
            this._lastTimeZone = _tz;
          }
        };
        _proto._resetBaseTime = function _resetBaseTime() {
          this._baseEpockMs = Date.now();
          this._baseMonoMs = performance.now();
          this._lastTimeZone = Intl.DateTimeFormat().resolvedOptions().timeZone;
        };
        return _ClockWatcher;
      }(NSEventDriver.Handler);
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/codec.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc'], function (exports) {
  var _createForOfIteratorHelperLoose, cclegacy;
  return {
    setters: [function (module) {
      _createForOfIteratorHelperLoose = module.createForOfIteratorHelperLoose;
    }, function (module) {
      cclegacy = module.cclegacy;
    }],
    execute: function () {
      var _class;
      cclegacy._RF.push({}, "9b833YA5g1E9ZORvFErEB6G", "codec", undefined);
      var Codec = exports('Codec', /*#__PURE__*/function () {
        function Codec() {}
        /** Encode unsigned int32 into variable-length bytes (LEB128-like) */
        Codec.encodeUInt32 = function encodeUInt32(n) {
          n = parseInt(String(n));
          if (isNaN(n) || n < 0) return null;
          var result = [];
          do {
            var tmp = n % 128;
            var next = Math.floor(n / 128);
            if (next !== 0) tmp += 128;
            result.push(tmp);
            n = next;
          } while (n !== 0);
          return result;
        }

        /** Encode signed int32 using ZigZag encoding */;
        Codec.encodeSInt32 = function encodeSInt32(n) {
          n = parseInt(String(n));
          if (isNaN(n)) return null;
          n = n < 0 ? Math.abs(n) * 2 - 1 : n * 2;
          return Codec.encodeUInt32(n);
        }

        /** Decode unsigned int32 from variable-length bytes */;
        Codec.decodeUInt32 = function decodeUInt32(bytes) {
          var n = 0;
          for (var i = 0; i < bytes.length; i++) {
            var m = parseInt(String(bytes[i]));
            n += (m & 0x7f) * Math.pow(2, 7 * i);
            if (m < 128) return n;
          }
          return n;
        }

        /** Decode signed int32 (ZigZag) */;
        Codec.decodeSInt32 = function decodeSInt32(bytes) {
          var n = Codec.decodeUInt32(bytes);
          var flag = n % 2 === 1 ? -1 : 1;
          return (n % 2 + n) / 2 * flag;
        }

        /** Encode 32-bit float to bytes */;
        Codec.encodeFloat = function encodeFloat(_float) {
          Codec.float32Array[0] = _float;
          return Codec.uInt8Array.subarray(0, 4);
        }

        /** Decode 32-bit float from bytes */;
        Codec.decodeFloat = function decodeFloat(bytes, offset) {
          if (!bytes || bytes.length < offset + 4) return null;
          for (var i = 0; i < 4; i++) {
            Codec.uInt8Array[i] = bytes[offset + i];
          }
          return Codec.float32Array[0];
        }

        /** Encode 64-bit double to bytes */;
        Codec.encodeDouble = function encodeDouble(_double) {
          Codec.float64Array[0] = _double;
          return Codec.uInt8Array.subarray(0, 8);
        }

        /** Decode 64-bit double from bytes */;
        Codec.decodeDouble = function decodeDouble(bytes, offset) {
          if (!bytes || bytes.length < offset + 8) return null;
          for (var i = 0; i < 8; i++) {
            Codec.uInt8Array[i] = bytes[offset + i];
          }
          return Codec.float64Array[0];
        }

        /** Encode string to UTF-8 bytes (writes to given byte array at offset) */;
        Codec.encodeStr = function encodeStr(bytes, offset, str) {
          for (var i = 0; i < str.length; i++) {
            var code = str.charCodeAt(i);
            var codes = Codec.encode2UTF8(code);
            for (var _iterator = _createForOfIteratorHelperLoose(codes), _step; !(_step = _iterator()).done;) {
              var c = _step.value;
              bytes[offset++] = c;
            }
          }
          return offset;
        }

        /** Decode UTF-8 string from byte array */;
        Codec.decodeStr = function decodeStr(bytes, offset, length) {
          var array = [];
          var end = offset + length;
          while (offset < end) {
            var code = 0;
            if (bytes[offset] < 128) {
              code = bytes[offset++];
            } else if (bytes[offset] < 224) {
              code = ((bytes[offset] & 0x3f) << 6) + (bytes[offset + 1] & 0x3f);
              offset += 2;
            } else {
              code = ((bytes[offset] & 0x0f) << 12) + ((bytes[offset + 1] & 0x3f) << 6) + (bytes[offset + 2] & 0x3f);
              offset += 3;
            }
            array.push(code);
          }

          // Prevent large-argument crashes in fromCharCode
          var str = "";
          for (var i = 0; i < array.length; i += 10000) {
            str += String.fromCharCode.apply(String, array.slice(i, i + 10000));
          }
          return str;
        }

        /** Compute UTF-8 byte length of string */;
        Codec.byteLength = function byteLength(str) {
          if (typeof str !== "string") return -1;
          var length = 0;
          for (var i = 0; i < str.length; i++) {
            var code = str.charCodeAt(i);
            length += Codec.codeLength(code);
          }
          return length;
        }

        /** Internal helpers */;
        Codec.encode2UTF8 = function encode2UTF8(charCode) {
          if (charCode <= 0x7f) return [charCode];
          if (charCode <= 0x7ff) return [0xc0 | charCode >> 6, 0x80 | charCode & 0x3f];
          return [0xe0 | charCode >> 12, 0x80 | (charCode & 0xfc0) >> 6, 0x80 | charCode & 0x3f];
        };
        Codec.codeLength = function codeLength(code) {
          if (code <= 0x7f) return 1;
          if (code <= 0x7ff) return 2;
          return 3;
        };
        return Codec;
      }());
      _class = Codec;
      Codec.buffer = new ArrayBuffer(8);
      Codec.float32Array = new Float32Array(_class.buffer);
      Codec.float64Array = new Float64Array(_class.buffer);
      Codec.uInt8Array = new Uint8Array(_class.buffer);
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/CommandManager.ts", ['cc'], function () {
  var cclegacy;
  return {
    setters: [function (module) {
      cclegacy = module.cclegacy;
    }],
    execute: function () {
      cclegacy._RF.push({}, "f288fub6edGD4W89/ma/lMM", "CommandManager", undefined);
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/ComponentUtils.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './ArrayUtils.ts'], function (exports) {
  var _createForOfIteratorHelperLoose, cclegacy, EventHandler, js, UITransform, Node, CCObject, view, screen, director, Canvas, pArray;
  return {
    setters: [function (module) {
      _createForOfIteratorHelperLoose = module.createForOfIteratorHelperLoose;
    }, function (module) {
      cclegacy = module.cclegacy;
      EventHandler = module.EventHandler;
      js = module.js;
      UITransform = module.UITransform;
      Node = module.Node;
      CCObject = module.CCObject;
      view = module.view;
      screen = module.screen;
      director = module.director;
      Canvas = module.Canvas;
    }, function (module) {
      pArray = module.pArray;
    }],
    execute: function () {
      cclegacy._RF.push({}, "71de9KkeDZO2p9zSIcLHPi0", "ComponentUtils", undefined);
      var _ComponentUtils = /*#__PURE__*/function () {
        function _ComponentUtils() {}
        var _proto = _ComponentUtils.prototype;
        _proto.bindEvents = function bindEvents(target, key, component, handler) {
          var _arr = target[key];
          if (Array.isArray(_arr)) {
            var _comp = new EventHandler();
            _comp.component = js.getClassName(component);
            _comp.handler = handler;
            _comp.target = component.node;
            _arr.push(_comp);
          }
        };
        _proto.actFrameScaler = function actFrameScaler(frame, target) {
          var _trans = frame.getComponent(UITransform);
          var contentSize = _trans.contentSize;
          var width = target.width,
            height = target.height;
          var _scale = Math.min(contentSize.width / width, contentSize.height / height);
          _trans.setContentSize(width * _scale, height * _scale);
        };
        _proto.getSafeComponent = function getSafeComponent(_target, _class) {
          _target = _target instanceof Node ? _target : _target.node;
          var comp = _target.getComponent(_class);
          return comp || _target.addComponent(_class);
        };
        _proto.binds = function binds(target, key, binder, handler) {
          var _class = js.getClassName(binder);
          var _node = binder.node;
          var _handler = new EventHandler();
          _handler.target = _node;
          _handler.component = _class;
          _handler.handler = handler;
          target[key].push(_handler);
        };
        _proto.appends = function appends(_event) {
          for (var _len = arguments.length, _events = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
            _events[_key - 1] = arguments[_key];
          }
          try {
            _events = pArray.flatter.apply(pArray, [_event].concat(_events));
            for (var _iterator = _createForOfIteratorHelperLoose(_events), _step; !(_step = _iterator()).done;) {
              var _step$value = _step.value,
                _binder = _step$value._binder,
                _options = _step$value._options,
                _type = _step$value._type;
              var options = pArray.flatter(_options);
              for (var _iterator2 = _createForOfIteratorHelperLoose(options), _step2; !(_step2 = _iterator2()).done;) {
                var _step2$value = _step2.value,
                  _target = _step2$value._target,
                  _handlers = _step2$value._handlers,
                  _capture = _step2$value._capture;
                if (!_target || !_handlers) continue;
                var targets = pArray.flatter(_target);
                var handlers = pArray.flatter(_handlers);
                for (var _iterator3 = _createForOfIteratorHelperLoose(targets), _step3; !(_step3 = _iterator3()).done;) {
                  var target = _step3.value;
                  if (!target) continue;
                  var node = target instanceof Node ? target : target.node;
                  for (var _iterator4 = _createForOfIteratorHelperLoose(handlers), _step4; !(_step4 = _iterator4()).done;) {
                    var handler = _step4.value;
                    node.on(_type, handler, _binder, _capture);
                  }
                }
              }
            }
          } catch (e) {}
        };
        _proto.addEvent = function addEvent(_event) {
          for (var _len2 = arguments.length, _events = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {
            _events[_key2 - 1] = arguments[_key2];
          }
          try {
            _events = pArray.flatter.apply(pArray, [_event].concat(_events));
            _events.forEach(function (event) {
              var _type = event._type,
                _target = event._target,
                _binder = event._binder,
                _capture = event._capture,
                _handler = event._handler;
              var _node = _target instanceof Node ? _target : _target.node;
              _node.on(_type, _handler, _binder, _capture);
            });
          } catch (e) {}
        };
        _proto.removeEvents = function removeEvents(_event) {
          for (var _len3 = arguments.length, _events = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {
            _events[_key3 - 1] = arguments[_key3];
          }
          try {
            _events = pArray.flatter.apply(pArray, [_event].concat(_events));
            _events.forEach(function (event) {
              var _target = event._target,
                _type = event._type;
              var targets = pArray.flatter(_target);
              targets.forEach(function (_target) {
                var _node = _target instanceof Node ? _target : _target.node;
                _node.targetOff(_type);
              });
            });
          } catch (e) {}
        };
        _proto.isOnLoaded = function isOnLoaded(_target) {
          return _target._objFlags && CCObject.Flags.IsOnLoadCalled;
        };
        _proto.getTargetFromTween = function getTargetFromTween(_target) {
          // @ts-ignore
          return _target._target;
        };
        _proto.alignCamera = function alignCamera(camera) {
          for (var _len4 = arguments.length, cameras = new Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {
            cameras[_key4 - 1] = arguments[_key4];
          }
          cameras = pArray.flatter.apply(pArray, [camera].concat(cameras));
          var _visible = view.getVisibleSize();
          for (var _iterator5 = _createForOfIteratorHelperLoose(cameras), _step5; !(_step5 = _iterator5()).done;) {
            var _camera = _step5.value;
            if (_camera.targetTexture) {
              _camera.orthoHeight = _visible.height / 2;
            } else {
              var size = screen.windowSize;
              _camera.orthoHeight = size.height / view.getScaleY() / 2;
            }
            var _canvas = director.getScene().getComponentInChildren(Canvas);
            var _wp = _canvas.node.getWorldPosition();
            _camera.node.setWorldPosition(_wp.x, _wp.y, 1000);
          }
        };
        return _ComponentUtils;
      }();
      var pComponentUtils = exports('pComponentUtils', new _ComponentUtils());
      var componentUtils = exports('default', pComponentUtils);
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/Connection.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './Constants.ts', './Decorators.ts', './StringUtils.ts', './toppoker.mjs_cjs=&original=.js', './toppoker.js'], function (exports) {
  var _createClass, cclegacy, MACRO, pDecorators, pStringUtils, _cjsExports;
  return {
    setters: [function (module) {
      _createClass = module.createClass;
    }, function (module) {
      cclegacy = module.cclegacy;
    }, function (module) {
      MACRO = module.MACRO;
    }, function (module) {
      pDecorators = module.pDecorators;
    }, function (module) {
      pStringUtils = module.pStringUtils;
    }, null, function (module) {
      _cjsExports = module.default;
    }],
    execute: function () {
      var _dec, _class;
      cclegacy._RF.push({}, "bbc8b1WOEJA55VSryU1zEsB", "Connection", undefined);
      var _Connection = (_dec = pDecorators.logger(), _dec(_class = /*#__PURE__*/function () {
        function _Connection() {
          var _this = this;
          this._connection = _cjsExports;
          MACRO.IS_JSON && (this.send = function (route, payload, callback) {
            var _payload = pStringUtils.encodeMsg(payload);
            return new Promise(function (_rs, _rj) {
              var _endpoint = function _endpoint(_msg) {
                callback && callback.onSuccess && callback.onSuccess(_msg);
                _this.log('Send CMD >>', route, ">> With >>", JSON.stringify(_payload), ">> Response >>", JSON.stringify(_msg));
                _rs(_msg);
              };
              _this._connection.request(route, _payload, _endpoint);
            });
          });
        }
        var _proto = _Connection.prototype;
        _proto.send = function send(route, payload, callback) {
          var _this2 = this;
          var _payload = pStringUtils.encodeMsg(payload);
          return new Promise(function (_rs, _rj) {
            var _endpoint = function _endpoint(_msg) {
              callback && callback.onSuccess && callback.onSuccess(_msg);
              _this2.log('Send CMD >>', route, ">> With >>", _payload, ">> Response >>", _msg);
              _rs(_msg);
            };
            _this2._connection.request(route, _payload, _endpoint);
          });
        };
        _createClass(_Connection, [{
          key: "connector",
          get: function get() {
            return this._connection;
          }
        }]);
        return _Connection;
      }()) || _class);
      var _connection = exports('default', new _Connection());
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/Constants.ts", ['cc', './Enums.ts', './env'], function (exports) {
  var cclegacy, Enum, ECardRank, EGameState, ENumberPlayerCount, BUILD;
  return {
    setters: [function (module) {
      cclegacy = module.cclegacy;
      Enum = module.Enum;
    }, function (module) {
      ECardRank = module.ECardRank;
      EGameState = module.EGameState;
      ENumberPlayerCount = module.ENumberPlayerCount;
    }, function (module) {
      BUILD = module.BUILD;
    }],
    execute: function () {
      exports({
        gameZoneToNumber: gameZoneToNumber,
        numberToGameZone: numberToGameZone,
        toGameZoneOption: toGameZoneOption
      });
      var _CardRank, _ScenePath;
      cclegacy._RF.push({}, "5bdcdr03f9KQ7mLiK7q7oHT", "Constants", undefined);
      var PhoneZoneConstants = exports('PhoneZoneConstants', {
        PHONE_ZONE_NAME: ["Vit Nam", "i Loan", "Hng Kong", "Macao"],
        PHONE_ZONE_CODE: ["84"],
        VIETNAM: "Vit Nam"
      });
      var PhoneZoneCodeConstants = exports('PhoneZoneCodeConstants', {
        VIETNAM: "84"
      });
      var DESIGN_RESOLUTION_WIDTH = exports('DESIGN_RESOLUTION_WIDTH', 1280);
      var DESIGN_RESOLUTION_HEIGHT = exports('DESIGN_RESOLUTION_HEIGHT', 720);
      var GameZoneOptions = exports('GameZoneOptions', ['TS', 'TC', 'CC']);
      function numberToGameZone(value) {
        if (value < 0) return 'TS';
        if (value >= GameZoneOptions.length) return 'CC';
        return GameZoneOptions[value];
      }
      function gameZoneToNumber(value) {
        var index = GameZoneOptions.indexOf(value);
        return index < 0 ? 0 : index;
      }
      var EGameZoneOptions = exports('EGameZoneOptions', GameZoneOptions.reduce(function (a, k, i) {
        a[k] = i;
        return a;
      }, {}));
      var CCEGameZoneOptions = exports('CCEGameZoneOptions', Enum(EGameZoneOptions));
      function toGameZoneOption(value) {
        return EGameZoneOptions[value];
      }
      var GameNotificationType = exports('GameNotificationType', ['info', 'warning', 'error', 'success', 'bigwin']);
      var GameNotificationScope = exports('GameNotificationScope', ['table', 'zone', 'global', 'lobby']);
      var FriendMessageAction = exports('FriendMessageAction', ['friendRequest', 'friendAccepted']);
      var GameModeOptions = exports('GameModeOptions', ['normal', 'fast', 'sng', 'mtt']);
      var GameActionOptions = exports('GameActionOptions', ['call', 'bet', 'check', 'allin', 'fold', 'raise']);
      var CCGroupPropertyID = exports('CCGroupPropertyID', {
        HEADER: 'Header',
        CENTER: 'Bottom',
        BOTTOM: 'Bottom'
      });
      var CCGroup = exports('CCGroup', {
        core: {
          id: "Constant",
          name: "Core"
        },
        editor: {
          id: "Constant",
          name: "Editor"
        }
      });
      var VOID_FUNC = exports('VOID_FUNC', function VOID_FUNC() {
        return void 0;
      });
      var btnStates = exports('btnStates', {
        allin: {
          fold: true,
          check: false,
          call: true,
          raise: true
        },
        bet: {
          fold: true,
          check: false,
          call: true,
          raise: true
        },
        raise: {
          fold: true,
          check: false,
          call: true,
          raise: true
        },
        call: {
          fold: true,
          check: true,
          call: false,
          raise: true
        },
        check: {
          fold: true,
          check: true,
          call: false,
          raise: true
        },
        fold: {
          fold: true,
          check: true,
          call: true,
          raise: true
        }
      });
      var Duration = exports('Duration', {
        winner: {
          alert: 4,
          status: {
            scaler: 0.5,
            delay: 0.75,
            fadeOut: 0.25
          }
        },
        mtt: {
          joinable_m: 5,
          joinable_s: 5 * 60,
          joinable_mms: 5 * 60 * 1000,
          regable_m: 5,
          regable_s: 5 * 60,
          post_join_mms: 60 * 1000
        }
      });
      var Index = exports('Index', {
        top: 99
      });
      var CardRank = exports('CardRank', (_CardRank = {}, _CardRank[ECardRank.HIGH_CARD] = 'txt_result_card_10', _CardRank[ECardRank.ONE_PAIR] = 'txt_result_card_9', _CardRank[ECardRank.TWO_PAIR] = 'txt_result_card_8', _CardRank[ECardRank.THREE_OF_A_KIND] = 'txt_result_card_7', _CardRank[ECardRank.STRAIGHT] = 'txt_result_card_6', _CardRank[ECardRank.FLUSH] = 'txt_result_card_5', _CardRank[ECardRank.FULL_HOUSE] = 'txt_result_card_4', _CardRank[ECardRank.FOUR_OF_A_KIND] = 'txt_result_card_3', _CardRank[ECardRank.STRAIGHT_FLUSH] = 'txt_result_card_2', _CardRank[ECardRank.ROYAL_FLUSH] = 'txt_result_card_1', _CardRank));
      var ScenePath = exports('ScenePath', (_ScenePath = {}, _ScenePath[EGameState.LOGIN] = "LoginScene", _ScenePath[EGameState.MAIN_SCREEN] = "MainScene", _ScenePath[EGameState.GAME_PLAY] = "PokerScene", _ScenePath));
      var storageKeys = exports('storageKeys', ['USERNAME', 'LANGUAGE', 'SAVE', 'EMAIL', 'PASSWORD', "GAME_HISTORY", 'IS_REWARD_DAILY_TODAY', 'TOURNAMENT_ID', "IS_BINDED_EMAIL", "VOLUME", "IS_ON_MUSIC"]);
      var dStorageObject = exports('dStorageObject', storageKeys.reduce(function (acc, key) {
        acc[key] = undefined;
        return acc;
      }, {}));
      var StorageKeys = exports('StorageKeys', storageKeys.reduce(function (acc, key) {
        acc[key] = key;
        return acc;
      }, {}));
      var userKeys = exports('userKeys', ['VOLUME', "MUSIC", "VIBRATION", "AUTO_BUY_IN", "AUTO_SIT_DOWN", "MY_ROOM", "BEST_CHIPS", "SNG_TOUR_ID", "MTT_TOUR_ID"]);
      var MACRO = exports('MACRO', {
        IS_TEST: true,
        LOG_LEVEL: 0,
        IS_JSON: BUILD
      });
      var Config = exports('Config', {
        MAX_CHIPS: 50
      });
      var ListRoomData = exports('ListRoomData', {
        TS: [{
          smallBlind: 20000,
          bigBlind: 40000,
          minBuyIn: 400000,
          maxBuyIn: 8000000,
          minPlayers: 2,
          maxPlayers: ENumberPlayerCount.FIVE_PLAYERS,
          gameMode: 'normal'
        }, {
          smallBlind: 50000,
          bigBlind: 100000,
          minBuyIn: 1000000,
          maxBuyIn: 20000000,
          minPlayers: 2,
          maxPlayers: ENumberPlayerCount.FIVE_PLAYERS,
          gameMode: 'normal'
        }, {
          smallBlind: 100000,
          bigBlind: 200000,
          minBuyIn: 2000000,
          maxBuyIn: 40000000,
          minPlayers: 2,
          maxPlayers: ENumberPlayerCount.FIVE_PLAYERS,
          gameMode: 'normal'
        }, {
          smallBlind: 250000,
          bigBlind: 500000,
          minBuyIn: 5000000,
          maxBuyIn: 100000000,
          minPlayers: 2,
          maxPlayers: ENumberPlayerCount.FIVE_PLAYERS,
          gameMode: 'normal'
        }, {
          smallBlind: 500000,
          bigBlind: 1000000,
          minBuyIn: 10000000,
          maxBuyIn: 200000000,
          minPlayers: 2,
          maxPlayers: ENumberPlayerCount.FIVE_PLAYERS,
          gameMode: 'normal'
        }],
        TC: [{
          smallBlind: 1000000,
          bigBlind: 2000000,
          minBuyIn: 20000000,
          maxBuyIn: 400000000,
          minPlayers: 2,
          maxPlayers: ENumberPlayerCount.FIVE_PLAYERS,
          gameMode: 'normal'
        }, {
          smallBlind: 2000000,
          bigBlind: 4000000,
          minBuyIn: 40000000,
          maxBuyIn: 800000000,
          minPlayers: 2,
          maxPlayers: ENumberPlayerCount.NONE_PLAYERS,
          gameMode: 'normal'
        }, {
          smallBlind: 5000000,
          bigBlind: 10000000,
          minBuyIn: 100000000,
          maxBuyIn: 2000000000,
          minPlayers: 2,
          maxPlayers: ENumberPlayerCount.NONE_PLAYERS,
          gameMode: 'normal'
        }, {
          smallBlind: 10000000,
          bigBlind: 20000000,
          minBuyIn: 200000000,
          maxBuyIn: 4000000000,
          minPlayers: 2,
          maxPlayers: ENumberPlayerCount.NONE_PLAYERS,
          gameMode: 'normal'
        }],
        CC: [{
          smallBlind: 20000000,
          bigBlind: 40000000,
          minBuyIn: 400000000,
          maxBuyIn: 8000000000,
          minPlayers: 2,
          maxPlayers: ENumberPlayerCount.NONE_PLAYERS,
          gameMode: 'normal'
        }, {
          smallBlind: 50000000,
          bigBlind: 100000000,
          minBuyIn: 1000000000,
          maxBuyIn: 20000000000,
          minPlayers: 2,
          maxPlayers: ENumberPlayerCount.NONE_PLAYERS,
          gameMode: 'normal'
        }, {
          smallBlind: 100000000,
          bigBlind: 200000000,
          minBuyIn: 2000000000,
          maxBuyIn: 40000000000,
          minPlayers: 2,
          maxPlayers: ENumberPlayerCount.NONE_PLAYERS,
          gameMode: 'normal'
        }, {
          smallBlind: 200000000,
          bigBlind: 400000000,
          minBuyIn: 4000000000,
          maxBuyIn: 80000000000,
          minPlayers: 2,
          maxPlayers: ENumberPlayerCount.NONE_PLAYERS,
          gameMode: 'normal'
        }, {
          smallBlind: 500000000,
          bigBlind: 1000000000,
          minBuyIn: 10000000000,
          maxBuyIn: 200000000000,
          minPlayers: 2,
          maxPlayers: ENumberPlayerCount.NONE_PLAYERS,
          gameMode: 'normal'
        }, {
          smallBlind: 500000000,
          bigBlind: 1000000000,
          minBuyIn: 60000000000,
          maxBuyIn: 1200000000000,
          minPlayers: 2,
          maxPlayers: ENumberPlayerCount.NONE_PLAYERS,
          gameMode: 'normal'
        }, {
          smallBlind: 500000000,
          bigBlind: 1000000000,
          minBuyIn: 150000000000,
          maxBuyIn: 3000000000000,
          minPlayers: 2,
          maxPlayers: ENumberPlayerCount.FIVE_PLAYERS,
          gameMode: 'normal'
        }, {
          smallBlind: 500000000,
          bigBlind: 1000000000,
          minBuyIn: 500000000000,
          maxBuyIn: 3000000000000,
          minPlayers: 2,
          maxPlayers: ENumberPlayerCount.FIVE_PLAYERS,
          gameMode: 'normal'
        }, {
          smallBlind: 1000000000,
          bigBlind: 2000000000,
          minBuyIn: 500000000000,
          maxBuyIn: 3000000000000,
          minPlayers: 2,
          maxPlayers: ENumberPlayerCount.FIVE_PLAYERS,
          gameMode: 'normal'
        }, {
          smallBlind: 1000000000,
          bigBlind: 2000000000,
          minBuyIn: 1000000000000,
          maxBuyIn: 6000000000000,
          minPlayers: 2,
          maxPlayers: ENumberPlayerCount.FIVE_PLAYERS,
          gameMode: 'normal'
        }, {
          smallBlind: 1000000000,
          bigBlind: 2000000000,
          minBuyIn: 1000000000000,
          maxBuyIn: 20000000000000,
          minPlayers: 2,
          maxPlayers: ENumberPlayerCount.FIVE_PLAYERS,
          gameMode: 'normal'
        }, {
          smallBlind: 1000000000,
          bigBlind: 2000000000,
          minBuyIn: 1000000000000,
          maxBuyIn: 20000000000000,
          minPlayers: 2,
          maxPlayers: ENumberPlayerCount.FIVE_PLAYERS,
          gameMode: 'normal'
        }]
      });
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/constants2.ts", ['cc'], function (exports) {
  var cclegacy;
  return {
    setters: [function (module) {
      cclegacy = module.cclegacy;
    }],
    execute: function () {
      cclegacy._RF.push({}, "d8e8dXqNkFGUaIWmSgmNuNt", "constants", undefined);
      var constants = exports('constants', {
        TYPES: {
          uInt32: 0,
          sInt32: 0,
          int32: 0,
          "double": 1,
          string: 2,
          message: 2,
          "float": 5
        }
      });
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/CryptoStorage.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './CryptoUtils.ts', './GlobalConfig.ts', './BaseStorage.ts', './JsonUtils.ts'], function (exports) {
  var _inheritsLoose, _asyncToGenerator, _regeneratorRuntime, cclegacy, sys, pCrypto, GlobalConfig, BaseStorage, JsonUtils;
  return {
    setters: [function (module) {
      _inheritsLoose = module.inheritsLoose;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      sys = module.sys;
    }, function (module) {
      pCrypto = module.pCrypto;
    }, function (module) {
      GlobalConfig = module.default;
    }, function (module) {
      BaseStorage = module.BaseStorage;
    }, function (module) {
      JsonUtils = module.default;
    }],
    execute: function () {
      cclegacy._RF.push({}, "a8828aRhCpPm73uBdgDHw0q", "CryptoStorage", undefined);
      var CryptoStorage = exports('CryptoStorage', /*#__PURE__*/function (_BaseStorage) {
        _inheritsLoose(CryptoStorage, _BaseStorage);
        function CryptoStorage() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _BaseStorage.call.apply(_BaseStorage, [this].concat(args)) || this;
          _this._secret = pCrypto.encrypt('top_pokke_secret');
          return _this;
        }
        var _proto = CryptoStorage.prototype;
        _proto._save = /*#__PURE__*/function () {
          var _save2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {
            var data;
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  data = pCrypto.encrypt(JSON.stringify(this._data), this._secret);
                  sys.localStorage.setItem(this._secret, data);
                case 2:
                case "end":
                  return _context.stop();
              }
            }, _callee, this);
          }));
          function _save() {
            return _save2.apply(this, arguments);
          }
          return _save;
        }();
        _proto._onClear = function _onClear() {
          var data = pCrypto.encrypt("{}", this._secret);
          sys.localStorage.setItem(this._secret, data);
        };
        _proto._onLoggingIn = function _onLoggingIn() {
          var secret = GlobalConfig.instance.secret;
          this._secret = pCrypto.encrypt(secret, secret);
          var data = sys.localStorage.getItem(this._secret);
          var json = JsonUtils.isValidData(data) ? JSON.parse(data) : {};
          for (var key in json) this._data[key] = json[key];
        };
        _proto._init = function _init() {
          this._secret = pCrypto.encrypt('top_pokke_secret');
          this._data = sys.localStorage.getItem(this._secret) || {};
        };
        return CryptoStorage;
      }(BaseStorage));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/CryptoUtils.ts", ['cc'], function (exports) {
  var cclegacy;
  return {
    setters: [function (module) {
      cclegacy = module.cclegacy;
    }],
    execute: function () {
      cclegacy._RF.push({}, "91c28vPh6tA7pSYfbTP5qmk", "CryptoUtils", undefined);
      //function stringToArrayBuffer(str: string): ArrayBuffer {
      //    return new TextEncoder().encode(str);
      //}
      //
      //function arrayBufferToString(buffer: ArrayBuffer): string {
      //    return new TextDecoder().decode(buffer);
      //}
      //
      //const secretKey = "asb";
      //
      //async function encrypt(data: string): Promise<string> {
      //
      //    const key = await crypto.subtle.importKey(
      //        "raw",
      //        stringToArrayBuffer(secretKey),
      //        { name: "AES-GCM" },
      //        false,
      //        ["encrypt"]
      //    );
      //    const iv = crypto.getRandomValues(new Uint8Array(12)); // Random IV
      //    const encrypted = await crypto.subtle.encrypt(
      //        { name: "AES-GCM", iv },
      //        key,
      //        stringToArrayBuffer(data)
      //    );
      //    return btoa(String.fromCharCode(...iv) + String.fromCharCode(...new Uint8Array(encrypted)));
      //}
      //
      //async function decrypt(encryptedData: string): Promise<string> {
      //    const combined = Uint8Array.from(atob(encryptedData), (c) => c.charCodeAt(0));
      //    const iv = combined.slice(0, 12);
      //    const encrypted = combined.slice(12);
      //    const key = await crypto.subtle.importKey(
      //        "raw",
      //        stringToArrayBuffer(secretKey),
      //        { name: "AES-GCM" },
      //        false,
      //        ["decrypt"]
      //    );
      //    const decrypted = await crypto.subtle.decrypt(
      //        { name: "AES-GCM", iv },
      //        key,
      //        encrypted
      //    );
      //    return arrayBufferToString(decrypted);
      //}

      var ENCRYPT_KEY = 'top.pokee.crypto';
      function encrypt(text, key) {
        key = key || ENCRYPT_KEY;
        var result = "";
        for (var i = 0; i < text.length; i++) {
          var charCode = text.charCodeAt(i) ^ key.charCodeAt(i % key.length);
          result += String.fromCharCode(charCode);
        }
        return btoa(result);
      }
      function decrypt(encrypted, key) {
        key = key || ENCRYPT_KEY;
        try {
          var text = atob(encrypted);
          var result = "";
          for (var i = 0; i < text.length; i++) {
            var charCode = text.charCodeAt(i) ^ key.charCodeAt(i % key.length);
            result += String.fromCharCode(charCode);
          }
          return result;
        } catch (e) {
          return "";
        }
      }
      var pCrypto = exports('pCrypto', {
        encrypt: encrypt,
        decrypt: decrypt
      });
      window['pCrypto'] = pCrypto;
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/DataRoomMTT.ts", ['cc'], function (exports) {
  var cclegacy, _decorator;
  return {
    setters: [function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
    }],
    execute: function () {
      var _dec, _class;
      cclegacy._RF.push({}, "cb854Jnhq1JVpI2eJchrUtN", "DataRoomMTT", undefined);
      var ccclass = _decorator.ccclass;
      var DataRoomMTT = exports('DataRoomMTT', (_dec = ccclass('DataRoomMTT'), _dec(_class = function DataRoomMTT(data) {
        this.roomID = void 0;
        this.displayNameRoom = void 0;
        this.typeTourn = void 0;
        this.fee = void 0;
        this.timeStart = void 0;
        this.amountPlayers = void 0;
        this.stateRoom = void 0;
        this.tournStages = void 0;
        this.inforExtend = void 0;
        this.blindLevels = void 0;
        this.rewards = void 0;
        this.ranker = void 0;
        Object.assign(this, data);
      }) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/DateUtils.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc'], function (exports) {
  var _createForOfIteratorHelperLoose, cclegacy;
  return {
    setters: [function (module) {
      _createForOfIteratorHelperLoose = module.createForOfIteratorHelperLoose;
    }, function (module) {
      cclegacy = module.cclegacy;
    }],
    execute: function () {
      exports('NSDateUtils', void 0);
      cclegacy._RF.push({}, "5f820XrvkVLR6sr4QY6cq9G", "DateUtils", undefined);
      var NSDateUtils;
      (function (_NSDateUtils) {
        var _DateUtils = /*#__PURE__*/function () {
          function _DateUtils() {}
          var _proto = _DateUtils.prototype;
          _proto.toLocalDate = function toLocalDate(targetDate) {
            var _date = new Date(targetDate.date * 1000);
            var _targetOffset = targetDate.zone.offset;
            var _localOffset = new Date().getTimezoneOffset() * -1;
            var _offsetDiff = _localOffset - _targetOffset;
            var _adjustedTime = _date.getTime() + _offsetDiff * 60 * 1000;
            return new Date(_adjustedTime);
          };
          _proto.toJSON = function toJSON(date) {
            return JSON.stringify(date);
          };
          _proto.fromJSON = function fromJSON(jsonString) {
            try {
              var parsedData = JSON.parse(jsonString);
              if (parsedData && typeof parsedData.date === 'number' && parsedData.zone && typeof parsedData.zone.offset === 'number' && typeof parsedData.zone.type === 'string') {
                return parsedData;
              }
              return null;
            } catch (error) {
              return null;
            }
          };
          _proto.jsonSerializeNow = function jsonSerializeNow(zone) {
            if (zone === void 0) {
              zone = 'local';
            }
            var date = new Date();
            var data = this.serialize(date, zone);
            return this.toJSON(data);
          };
          _proto.serialize = function serialize(date, zoneName) {
            if (zoneName === void 0) {
              zoneName = 'local';
            }
            return {
              date: Math.floor(date.getTime() / 1000),
              // Convert to seconds timestamp
              zone: {
                offset: -date.getTimezoneOffset(),
                // Convert timezone offset to minutes
                type: zoneName
              }
            };
          };
          _proto.deserialize = function deserialize(dateObj) {
            return this.toLocalDate(dateObj);
          };
          _proto.convertTimeStartToHHMM = function convertTimeStartToHHMM(timestamp) {
            var date = new Date(timestamp * 1000);
            var day = date.getDate();
            var month = date.getMonth() + 1;
            var year = date.getFullYear();
            var hours = date.getHours();
            var minutes = date.getMinutes();
            if (day < 10) {
              day = '0' + day;
            }
            if (month < 10) {
              month = '0' + month;
            }
            if (hours < 10) {
              hours = '0' + hours;
            }
            if (minutes < 10) {
              minutes = '0' + minutes;
            }
            if (pDateUtils.checkTimestampDay(timestamp) == 0) {
              return hours + ":" + minutes + " " + day + "/" + month + "/" + year;
            } else {
              return hours + ":" + minutes;
            }
          };
          _proto.getDiffsV2 = function getDiffsV2(timestamp, units, abs, diff) {
            if (abs === void 0) {
              abs = true;
            }
            if (diff === void 0) {
              diff = 1;
            }
            var _obj = {};
            var _target = timestamp instanceof Date ? timestamp : new Date(typeof timestamp === 'number' ? timestamp * diff : timestamp);
            var _diff = _target.getTime() - Date.now();
            if (units.includes('days')) {
              var _value = Math.floor(_diff / (1000 * 60 * 60 * 24));
              _obj.days = abs ? Math.abs(_value) : _value;
            }
            if (units.includes('hours')) {
              var _value2 = Math.floor(_diff % (1000 * 60 * 60 * 24) / (1000 * 60 * 60));
              _obj.hours = abs ? Math.abs(_value2) : _value2;
            }
            if (units.includes('minutes')) {
              var _value3 = Math.floor(_diff % (1000 * 60 * 60) / (1000 * 60));
              _obj.minutes = abs ? Math.abs(_value3) : _value3;
            }
            if (units.includes('seconds')) {
              var _value4 = Math.floor(_diff % (1000 * 60) / 1000);
              _obj.seconds = abs ? Math.abs(_value4) : _value4;
            }
            return _obj;
          };
          _proto.getDiffs = function getDiffs(timestamp, key, abs, diff) {
            if (abs === void 0) {
              abs = false;
            }
            if (diff === void 0) {
              diff = 1000;
            }
            var _obj = {};
            var _target = timestamp instanceof Date ? timestamp : new Date(typeof timestamp === 'number' ? timestamp * diff : timestamp);
            var _now = new Date();
            for (var _iterator = _createForOfIteratorHelperLoose(key), _step; !(_step = _iterator()).done;) {
              var _key = _step.value;
              var value = _target[_key]() - _now[_key]();
              _obj[_key] = abs ? Math.abs(value) : value;
            }
            return _obj;
          };
          _proto.getDiff = function getDiff(timestamp, key, diff) {
            if (key === void 0) {
              key = 'getDay';
            }
            if (diff === void 0) {
              diff = 1000;
            }
            var _target = timestamp instanceof Date ? timestamp : new Date(typeof timestamp === 'number' ? timestamp * diff : timestamp);
            var _now = new Date();
            return _target[key]() - _now[key]();
          };
          _proto.checkTimestampDay = function checkTimestampDay(timestamp) {
            var date = new Date(timestamp * 1000);
            var today = new Date();
            var tomorrow = new Date();
            tomorrow.setDate(today.getDate() + 1);
            if (date.getDate() === today.getDate() && date.getMonth() === today.getMonth() && date.getFullYear() === today.getFullYear()) {
              return 1;
            }
            if (date.getDate() === tomorrow.getDate() && date.getMonth() === tomorrow.getMonth() && date.getFullYear() === tomorrow.getFullYear()) {
              return 2;
            }
            return 0;
          };
          _proto.getTimestampInSeconds = function getTimestampInSeconds() {
            return Math.floor(Date.now() / 1000);
          };
          _proto.getTimestampNextDay = function getTimestampNextDay() {
            var currentDate = new Date(); // Thi gian hin ti
            currentDate.setDate(currentDate.getDate() + 1);
            return Math.floor(currentDate.getTime() / 1000);
          };
          _proto.countDownTime = function countDownTime(target, UTC) {
            if (UTC === void 0) {
              UTC = false;
            }
            var _differ = target - Date.now();
            if (_differ <= 0) {
              return {
                days: 0,
                hours: 0,
                minutes: 0,
                seconds: 0
              };
            }
            var _remain = new Date(_differ);
            var days = Math.floor(_differ / (3600 * 24));
            var hours = UTC ? _remain.getHours() : _remain.getUTCHours();
            var minutes = UTC ? _remain.getMinutes() : _remain.getUTCMinutes();
            var seconds = UTC ? _remain.getSeconds() : _remain.getUTCSeconds();
            return {
              days: days,
              hours: hours,
              minutes: minutes,
              seconds: seconds
            };
          };
          _proto.getDDMMYY = function getDDMMYY(timestampTarget) {
            var date = new Date(timestampTarget * 1000);
            var day = date.getDate();
            var month = date.getMonth() + 1;
            var year = date.getFullYear();
            return {
              day: day,
              month: month,
              year: year
            };
          };
          _proto.getMinutesBySecond = function getMinutesBySecond(second) {
            if (second <= 0) return {
              minutes: "00",
              seconds: "00"
            };
            var minutes = Math.floor(second / 60);
            var seconds = second % 60;
            return {
              minutes: minutes < 10 ? "0" + minutes : "" + minutes,
              seconds: seconds < 10 ? "0" + seconds : "" + seconds
            };
          };
          _proto.getMinutesFromNow = function getMinutesFromNow(futureTimeStr) {
            var futureDate = new Date(futureTimeStr); // convert string to Date
            var now = new Date(); // current time

            var diffMs = futureDate.getTime() - now.getTime(); // difference in milliseconds
            var diffMinutes = diffMs / 1000 / 60; // convert ms to minutes

            return diffMinutes;
          };
          return _DateUtils;
        }();
        var utils = _NSDateUtils.utils = new _DateUtils();
      })(NSDateUtils || (NSDateUtils = exports('NSDateUtils', {})));
      var pDateUtils = exports('pDateUtils', NSDateUtils.utils);
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/DBStorage.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './EventDriver.ts', './EventManager.ts', './GlobalConfig.ts', './UserCommand.ts', './ArrayUtils.ts', './Decorators.ts', './JsonUtils.ts'], function (exports) {
  var _inheritsLoose, _createForOfIteratorHelperLoose, _assertThisInitialized, cclegacy, NSEventDriver, pEventManager, GlobalConfig, request, pArray, pDecorators, JsonUtils;
  return {
    setters: [function (module) {
      _inheritsLoose = module.inheritsLoose;
      _createForOfIteratorHelperLoose = module.createForOfIteratorHelperLoose;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
    }, function (module) {
      NSEventDriver = module.NSEventDriver;
    }, function (module) {
      pEventManager = module.pEventManager;
    }, function (module) {
      GlobalConfig = module.default;
    }, function (module) {
      request = module.default;
    }, function (module) {
      pArray = module.pArray;
    }, function (module) {
      pDecorators = module.pDecorators;
    }, function (module) {
      JsonUtils = module.default;
    }],
    execute: function () {
      var _dec, _class;
      cclegacy._RF.push({}, "844dfTiNvhNLK/kQWJMI/ct", "DBStorage", undefined);
      var singleton = pDecorators.singleton;
      var DBStorage = exports('DBStorage', (_dec = singleton({
        initer: '_init',
        destroyer: '_destroyer',
        wake: 'Instantly'
      }), _dec(_class = /*#__PURE__*/function (_NSEventDriver$Handle) {
        _inheritsLoose(DBStorage, _NSEventDriver$Handle);
        function DBStorage() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key2 = 0; _key2 < _len; _key2++) {
            args[_key2] = arguments[_key2];
          }
          _this = _NSEventDriver$Handle.call.apply(_NSEventDriver$Handle, [this].concat(args)) || this;
          _this._events = [['onLoggingIn', _this._onLoggingIn, _assertThisInitialized(_this)]];
          _this._data = {
            VOLUME: "0.5",
            MUSIC: "true",
            VIBRATION: "true",
            AUTO_BUY_IN: "false",
            AUTO_SIT_DOWN: "false",
            MY_ROOM: "",
            BEST_CHIPS: "0",
            SNG_TOUR_ID: "",
            MTT_TOUR_ID: ""
          };
          return _this;
        }
        var _proto = DBStorage.prototype;
        _proto._init = function _init() {
          pEventManager.on(this._events);
        };
        _proto.save = function save(data) {
          for (var _len2 = arguments.length, datas = new Array(_len2 > 1 ? _len2 - 1 : 0), _key3 = 1; _key3 < _len2; _key3++) {
            datas[_key3 - 1] = arguments[_key3];
          }
          datas = pArray.flatter.apply(pArray, [data].concat(datas));
          for (var _iterator = _createForOfIteratorHelperLoose(datas), _step; !(_step = _iterator()).done;) {
            var _step$value = _step.value,
              key = _step$value.key,
              value = _step$value.value;
            this._data[key] = value;
          }
          return request('updateSettings', {
            settings: this._data
          });
        };
        _proto.get = function get(key) {
          return this._data[key];
        };
        _proto.gets = function gets() {
          var _this2 = this;
          var data = {};
          for (var _len3 = arguments.length, keys = new Array(_len3), _key4 = 0; _key4 < _len3; _key4++) {
            keys[_key4] = arguments[_key4];
          }
          keys.forEach(function (_key) {
            return data[_key] = _this2.get(_key);
          });
          return data;
        };
        _proto.load = function load(key, replacer) {
          var value = this.get(key);
          return JsonUtils.isValidData(value) ? JSON.parse(value) : replacer;
        };
        _proto._onLoggingIn = function _onLoggingIn() {
          var information = GlobalConfig.instance.Login.player.information;
          var properties = information.properties;
          var setting_json = properties.setting_json;
          for (var key in setting_json) this._data[key] = setting_json[key];
          this.invoke('onDoneInit', this._data);
          this._actLeaveTour();
        }

        /**
        * Temp
        */;
        _proto._actLeaveTour = function _actLeaveTour() {
          var _data = this.gets('SNG_TOUR_ID', "MTT_TOUR_ID");
          var promises = [];

          //TableCommand( 'leaveTable', { } )
          //if (JsonUtils.isValidData(_data.SNG_TOUR_ID)) {
          //    promises.push(
          //        SNGCommand('leaveTournament', { tournamentId: JSON.parse(_data.SNG_TOUR_ID) })
          //            .then(() => this.save({ key: 'SNG_TOUR_ID', value: '' }))
          //    );
          //}

          //if (JsonUtils.isValidData(_data.MTT_TOUR_ID)) {
          //    promises.push(
          //        MTTCommand('leaveRoom', { tournament_id: JSON.parse(_data.MTT_TOUR_ID) })
          //            .then(() => this.save({ key: 'MTT_TOUR_ID', value: '' }))
          //    );
          //}

          return promises.length ? Promise.all(promises) : Promise.resolve();
        };
        return DBStorage;
      }(NSEventDriver.Handler)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/debug-view-runtime-control.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, cclegacy, _decorator, Node, Color, Canvas, UITransform, instantiate, Label, RichText, Toggle, Button, director, Component;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Node = module.Node;
      Color = module.Color;
      Canvas = module.Canvas;
      UITransform = module.UITransform;
      instantiate = module.instantiate;
      Label = module.Label;
      RichText = module.RichText;
      Toggle = module.Toggle;
      Button = module.Button;
      director = module.director;
      Component = module.Component;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _class, _class2, _descriptor, _descriptor2, _descriptor3;
      cclegacy._RF.push({}, "b2bd1+njXxJxaFY3ymm06WU", "debug-view-runtime-control", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var DebugViewRuntimeControl = exports('DebugViewRuntimeControl', (_dec = ccclass('internal.DebugViewRuntimeControl'), _dec2 = property(Node), _dec3 = property(Node), _dec4 = property(Node), _dec(_class = (_class2 = /*#__PURE__*/function (_Component) {
        _inheritsLoose(DebugViewRuntimeControl, _Component);
        function DebugViewRuntimeControl() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _Component.call.apply(_Component, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "compositeModeToggle", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "singleModeToggle", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "EnableAllCompositeModeButton", _descriptor3, _assertThisInitialized(_this));
          _this._single = 0;
          _this.strSingle = ['No Single Debug', 'Vertex Color', 'Vertex Normal', 'Vertex Tangent', 'World Position', 'Vertex Mirror', 'Face Side', 'UV0', 'UV1', 'UV Lightmap', 'Project Depth', 'Linear Depth', 'Fragment Normal', 'Fragment Tangent', 'Fragment Binormal', 'Base Color', 'Diffuse Color', 'Specular Color', 'Transparency', 'Metallic', 'Roughness', 'Specular Intensity', 'IOR', 'Direct Diffuse', 'Direct Specular', 'Direct All', 'Env Diffuse', 'Env Specular', 'Env All', 'Emissive', 'Light Map', 'Shadow', 'AO', 'Fresnel', 'Direct Transmit Diffuse', 'Direct Transmit Specular', 'Env Transmit Diffuse', 'Env Transmit Specular', 'Transmit All', 'Direct Internal Specular', 'Env Internal Specular', 'Internal All', 'Fog'];
          _this.strComposite = ['Direct Diffuse', 'Direct Specular', 'Env Diffuse', 'Env Specular', 'Emissive', 'Light Map', 'Shadow', 'AO', 'Normal Map', 'Fog', 'Tone Mapping', 'Gamma Correction', 'Fresnel', 'Transmit Diffuse', 'Transmit Specular', 'Internal Specular', 'TT'];
          _this.strMisc = ['CSM Layer Coloration', 'Lighting With Albedo'];
          _this.compositeModeToggleList = [];
          _this.singleModeToggleList = [];
          _this.miscModeToggleList = [];
          _this.textComponentList = [];
          _this.labelComponentList = [];
          _this.textContentList = [];
          _this.hideButtonLabel = void 0;
          _this._currentColorIndex = 0;
          _this.strColor = ['<color=#ffffff>', '<color=#000000>', '<color=#ff0000>', '<color=#00ff00>', '<color=#0000ff>'];
          _this.color = [Color.WHITE, Color.BLACK, Color.RED, Color.GREEN, Color.BLUE];
          return _this;
        }
        var _proto = DebugViewRuntimeControl.prototype;
        _proto.start = function start() {
          // get canvas resolution
          var canvas = this.node.parent.getComponent(Canvas);
          if (!canvas) {
            console.error('debug-view-runtime-control should be child of Canvas');
            return;
          }
          var uiTransform = this.node.parent.getComponent(UITransform);
          var halfScreenWidth = uiTransform.width * 0.5;
          var halfScreenHeight = uiTransform.height * 0.5;
          var x = -halfScreenWidth + halfScreenWidth * 0.1,
            y = halfScreenHeight - halfScreenHeight * 0.1;
          var width = 200,
            height = 20;

          // new nodes
          var miscNode = this.node.getChildByName('MiscMode');
          var buttonNode = instantiate(miscNode);
          buttonNode.parent = this.node;
          buttonNode.name = 'Buttons';
          var titleNode = instantiate(miscNode);
          titleNode.parent = this.node;
          titleNode.name = 'Titles';

          // title
          for (var i = 0; i < 2; i++) {
            var newLabel = instantiate(this.EnableAllCompositeModeButton.getChildByName('Label'));
            newLabel.setPosition(x + (i > 0 ? 50 + width * 2 : 150), y, 0.0);
            newLabel.setScale(0.75, 0.75, 0.75);
            newLabel.parent = titleNode;
            var _labelComponent = newLabel.getComponent(Label);
            _labelComponent.string = i ? '----------Composite Mode----------' : '----------Single Mode----------';
            _labelComponent.color = Color.WHITE;
            _labelComponent.overflow = 0;
            this.labelComponentList[this.labelComponentList.length] = _labelComponent;
          }
          y -= height;
          // single
          var currentRow = 0;
          for (var _i = 0; _i < this.strSingle.length; _i++, currentRow++) {
            if (_i === this.strSingle.length >> 1) {
              x += width;
              currentRow = 0;
            }
            var newNode = _i ? instantiate(this.singleModeToggle) : this.singleModeToggle;
            newNode.setPosition(x, y - height * currentRow, 0.0);
            newNode.setScale(0.5, 0.5, 0.5);
            newNode.parent = this.singleModeToggle.parent;
            var textComponent = newNode.getComponentInChildren(RichText);
            textComponent.string = this.strSingle[_i];
            this.textComponentList[this.textComponentList.length] = textComponent;
            this.textContentList[this.textContentList.length] = textComponent.string;
            newNode.on(Toggle.EventType.TOGGLE, this.toggleSingleMode, this);
            this.singleModeToggleList[_i] = newNode;
          }
          x += width;
          // buttons
          this.EnableAllCompositeModeButton.setPosition(x + 15, y, 0.0);
          this.EnableAllCompositeModeButton.setScale(0.5, 0.5, 0.5);
          this.EnableAllCompositeModeButton.on(Button.EventType.CLICK, this.enableAllCompositeMode, this);
          this.EnableAllCompositeModeButton.parent = buttonNode;
          var labelComponent = this.EnableAllCompositeModeButton.getComponentInChildren(Label);
          this.labelComponentList[this.labelComponentList.length] = labelComponent;
          var changeColorButton = instantiate(this.EnableAllCompositeModeButton);
          changeColorButton.setPosition(x + 90, y, 0.0);
          changeColorButton.setScale(0.5, 0.5, 0.5);
          changeColorButton.on(Button.EventType.CLICK, this.changeTextColor, this);
          changeColorButton.parent = buttonNode;
          labelComponent = changeColorButton.getComponentInChildren(Label);
          labelComponent.string = 'TextColor';
          this.labelComponentList[this.labelComponentList.length] = labelComponent;
          var HideButton = instantiate(this.EnableAllCompositeModeButton);
          HideButton.setPosition(x + 200, y, 0.0);
          HideButton.setScale(0.5, 0.5, 0.5);
          HideButton.on(Button.EventType.CLICK, this.hideUI, this);
          HideButton.parent = this.node.parent;
          labelComponent = HideButton.getComponentInChildren(Label);
          labelComponent.string = 'Hide UI';
          this.labelComponentList[this.labelComponentList.length] = labelComponent;
          this.hideButtonLabel = labelComponent;

          // misc
          y -= 40;
          for (var _i2 = 0; _i2 < this.strMisc.length; _i2++) {
            var _newNode = instantiate(this.compositeModeToggle);
            _newNode.setPosition(x, y - height * _i2, 0.0);
            _newNode.setScale(0.5, 0.5, 0.5);
            _newNode.parent = miscNode;
            var _textComponent = _newNode.getComponentInChildren(RichText);
            _textComponent.string = this.strMisc[_i2];
            this.textComponentList[this.textComponentList.length] = _textComponent;
            this.textContentList[this.textContentList.length] = _textComponent.string;
            var toggleComponent = _newNode.getComponent(Toggle);
            toggleComponent.isChecked = _i2 ? true : false;
            _newNode.on(Toggle.EventType.TOGGLE, _i2 ? this.toggleLightingWithAlbedo : this.toggleCSMColoration, this);
            this.miscModeToggleList[_i2] = _newNode;
          }

          // composite
          y -= 150;
          for (var _i3 = 0; _i3 < this.strComposite.length; _i3++) {
            var _newNode2 = _i3 ? instantiate(this.compositeModeToggle) : this.compositeModeToggle;
            _newNode2.setPosition(x, y - height * _i3, 0.0);
            _newNode2.setScale(0.5, 0.5, 0.5);
            _newNode2.parent = this.compositeModeToggle.parent;
            var _textComponent2 = _newNode2.getComponentInChildren(RichText);
            _textComponent2.string = this.strComposite[_i3];
            this.textComponentList[this.textComponentList.length] = _textComponent2;
            this.textContentList[this.textContentList.length] = _textComponent2.string;
            _newNode2.on(Toggle.EventType.TOGGLE, this.toggleCompositeMode, this);
            this.compositeModeToggleList[_i3] = _newNode2;
          }
        };
        _proto.isTextMatched = function isTextMatched(textUI, textDescription) {
          var tempText = new String(textUI);
          var findIndex = tempText.search('>');
          if (findIndex === -1) {
            return textUI === textDescription;
          } else {
            tempText = tempText.substr(findIndex + 1);
            tempText = tempText.substr(0, tempText.search('<'));
            return tempText === textDescription;
          }
        };
        _proto.toggleSingleMode = function toggleSingleMode(toggle) {
          var debugView = director.root.debugView;
          var textComponent = toggle.getComponentInChildren(RichText);
          for (var i = 0; i < this.strSingle.length; i++) {
            if (this.isTextMatched(textComponent.string, this.strSingle[i])) {
              debugView.singleMode = i;
            }
          }
        };
        _proto.toggleCompositeMode = function toggleCompositeMode(toggle) {
          var debugView = director.root.debugView;
          var textComponent = toggle.getComponentInChildren(RichText);
          for (var i = 0; i < this.strComposite.length; i++) {
            if (this.isTextMatched(textComponent.string, this.strComposite[i])) {
              debugView.enableCompositeMode(i, toggle.isChecked);
            }
          }
        };
        _proto.toggleLightingWithAlbedo = function toggleLightingWithAlbedo(toggle) {
          var debugView = director.root.debugView;
          debugView.lightingWithAlbedo = toggle.isChecked;
        };
        _proto.toggleCSMColoration = function toggleCSMColoration(toggle) {
          var debugView = director.root.debugView;
          debugView.csmLayerColoration = toggle.isChecked;
        };
        _proto.enableAllCompositeMode = function enableAllCompositeMode(button) {
          var debugView = director.root.debugView;
          debugView.enableAllCompositeMode(true);
          for (var i = 0; i < this.compositeModeToggleList.length; i++) {
            var _toggleComponent = this.compositeModeToggleList[i].getComponent(Toggle);
            _toggleComponent.isChecked = true;
          }
          var toggleComponent = this.miscModeToggleList[0].getComponent(Toggle);
          toggleComponent.isChecked = false;
          debugView.csmLayerColoration = false;
          toggleComponent = this.miscModeToggleList[1].getComponent(Toggle);
          toggleComponent.isChecked = true;
          debugView.lightingWithAlbedo = true;
        };
        _proto.hideUI = function hideUI(button) {
          var titleNode = this.node.getChildByName('Titles');
          var activeValue = !titleNode.active;
          this.singleModeToggleList[0].parent.active = activeValue;
          this.miscModeToggleList[0].parent.active = activeValue;
          this.compositeModeToggleList[0].parent.active = activeValue;
          this.EnableAllCompositeModeButton.parent.active = activeValue;
          titleNode.active = activeValue;
          this.hideButtonLabel.string = activeValue ? 'Hide UI' : 'Show UI';
        };
        _proto.changeTextColor = function changeTextColor(button) {
          this._currentColorIndex++;
          if (this._currentColorIndex >= this.strColor.length) {
            this._currentColorIndex = 0;
          }
          for (var i = 0; i < this.textComponentList.length; i++) {
            this.textComponentList[i].string = this.strColor[this._currentColorIndex] + this.textContentList[i] + '</color>';
          }
          for (var _i4 = 0; _i4 < this.labelComponentList.length; _i4++) {
            this.labelComponentList[_i4].color = this.color[this._currentColorIndex];
          }
        };
        _proto.onLoad = function onLoad() {};
        _proto.update = function update(deltaTime) {};
        return DebugViewRuntimeControl;
      }(Component), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "compositeModeToggle", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "singleModeToggle", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "EnableAllCompositeModeButton", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/Decorators.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './EventManager.ts', './ArrayUtils.ts', './Constants.ts'], function (exports) {
  var _createForOfIteratorHelperLoose, _asyncToGenerator, _regeneratorRuntime, _construct, cclegacy, js, director, cc, Component, pEventManager, pArray, MACRO;
  return {
    setters: [function (module) {
      _createForOfIteratorHelperLoose = module.createForOfIteratorHelperLoose;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
      _construct = module.construct;
    }, function (module) {
      cclegacy = module.cclegacy;
      js = module.js;
      director = module.director;
      cc = module;
      Component = module.Component;
    }, function (module) {
      pEventManager = module.pEventManager;
    }, function (module) {
      pArray = module.pArray;
    }, function (module) {
      MACRO = module.MACRO;
    }],
    execute: function () {
      exports('pDecorators', void 0);
      cclegacy._RF.push({}, "8d2b4CxFYBKsbFvZg5c77lv", "Decorators", undefined);
      var pDecorators;
      (function (_pDecorators) {
        var _logs = ['log', 'warn', 'error'];
        var _pTSingletonKey = Symbol('__pTS_instance__');
        var _pTSingletonGetter = Symbol('__pTS_get_instance__');
        var _pTSOption = Symbol('__pTS_option__');
        var _waiter = new Map();
        var _pool = {};
        var _dSOpt = {
          initer: '_init',
          destroyer: '_clean',
          wake: 'Instantly',
          pooler: false,
          async: false,
          name: undefined
        };
        var _dSCOpta = {
          initer: 'onLoad',
          destroyer: 'onDestroy',
          wake: 'Instantly',
          pooler: false,
          async: false,
          name: undefined
        };
        function logger(name) {
          for (var _len = arguments.length, surfixs = new Array(_len > 1 ? _len - 1 : 0), _key2 = 1; _key2 < _len; _key2++) {
            surfixs[_key2 - 1] = arguments[_key2];
          }
          return function (_constructor) {
            var prototype = _constructor.prototype;
            var _VOIDF = function _VOIDF() {
              return void 0;
            };
            var _loop = function _loop() {
              var key = _step.value;
              var _key = "" + key.charAt(0).toUpperCase() + key.slice(1);
              if (!!name) {
                if (typeof name === 'string') {
                  var _cc$key;
                  prototype[key] = MACRO.LOG_LEVEL <= 0 ? (_cc$key = cc[key]).bind.apply(_cc$key, [console, "[" + name + "] " + _key + " >>>"].concat(surfixs)) : _VOIDF;
                } else {
                  var _console = cc[key];
                  var level = name.level || 0;
                  var _is = MACRO.LOG_LEVEL <= level;
                  if ('name' in name) {
                    var _cc$key2;
                    var _prefix = prototype[name.name];
                    surfixs = pArray.flatter(name.surfixs);
                    prototype[key] = _is ? (_cc$key2 = cc[key]).bind.apply(_cc$key2, [console, "[" + _prefix + "] " + _key + " >>>"].concat(surfixs)) : _VOIDF;
                  } else if ('getter' in name) {
                    var _getter = name.getter;
                    prototype[key] = _is ? function () {
                      var _name = this[_getter];
                      for (var _len2 = arguments.length, args = new Array(_len2), _key3 = 0; _key3 < _len2; _key3++) {
                        args[_key3] = arguments[_key3];
                      }
                      return _console.call.apply(_console, [console, "[" + _name + "] " + _key + " >>>"].concat(args));
                    } : _VOIDF;
                  } else if ('get' in name) {
                    var _get = name.get;
                    prototype[key] = _is ? function () {
                      var _name = this[_get]();
                      for (var _len3 = arguments.length, args = new Array(_len3), _key4 = 0; _key4 < _len3; _key4++) {
                        args[_key4] = arguments[_key4];
                      }
                      return _console.call.apply(_console, [console, "[" + _name + "] " + _key + " >>>"].concat(args));
                    } : _VOIDF;
                  }
                }
              } else {
                var _cc$key3;
                var _class = js.getClassName(prototype);
                prototype[key] = MACRO.LOG_LEVEL <= 0 ? (_cc$key3 = cc[key]).bind.apply(_cc$key3, [console, "[" + _class + "] " + _key + " >>>"].concat(surfixs)) : _VOIDF;
              }
            };
            for (var _iterator = _createForOfIteratorHelperLoose(_logs), _step; !(_step = _iterator()).done;) {
              _loop();
            }
          };
        }
        _pDecorators.logger = logger;
        function _waker(_constructor, wake) {
          if (wake === void 0) {
            wake = "None";
          }
          switch (wake) {
            case "None":
              break;
            case "Instantly":
              {
                instance(_constructor);
                break;
              }
            default:
              {
                var _event = /*#__PURE__*/function () {
                  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {
                    return _regeneratorRuntime().wrap(function _callee$(_context) {
                      while (1) switch (_context.prev = _context.next) {
                        case 0:
                          instance(_constructor);
                          pEventManager.remove(wake, _event);
                        case 2:
                        case "end":
                          return _context.stop();
                      }
                    }, _callee);
                  }));
                  return function _event() {
                    return _ref.apply(this, arguments);
                  };
                }();
                pEventManager.add(wake, _event);
                break;
              }
          }
        }
        function sign(getter, isPool, wake) {
          if (isPool === void 0) {
            isPool = false;
          }
          if (wake === void 0) {
            wake = "None";
          }
          return function (_constructor) {
            _constructor[_pTSingletonGetter] = _constructor[getter];
            isPool && (_pool[js.getClassName(_constructor)] = _constructor[getter]);
            _waker(_constructor, wake);
          };
        }
        _pDecorators.sign = sign;
        function singleton(_opt) {
          return function (_constructor) {
            var prototype = _constructor.prototype;
            var _isComp = prototype instanceof Component;
            _opt = !_opt ? _isComp ? _dSCOpta : _dSOpt : _opt;
            _constructor[_pTSOption] = _opt;
            if (_isComp) {
              var _initer = prototype[_opt.initer];
              prototype[_opt.initer] = !_opt.async ? function () {
                for (var _len4 = arguments.length, args = new Array(_len4), _key5 = 0; _key5 < _len4; _key5++) {
                  args[_key5] = arguments[_key5];
                }
                _initer && _initer.apply.apply(_initer, [this].concat(args));
                _constructor[_pTSingletonKey] = this;
                _resolver(_constructor);
              } : /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {
                var _len5,
                  args,
                  _key6,
                  _args2 = arguments;
                return _regeneratorRuntime().wrap(function _callee2$(_context2) {
                  while (1) switch (_context2.prev = _context2.next) {
                    case 0:
                      for (_len5 = _args2.length, args = new Array(_len5), _key6 = 0; _key6 < _len5; _key6++) {
                        args[_key6] = _args2[_key6];
                      }
                      _context2.t0 = _initer;
                      if (!_context2.t0) {
                        _context2.next = 5;
                        break;
                      }
                      _context2.next = 5;
                      return _initer.apply.apply(_initer, [this].concat(args));
                    case 5:
                      _constructor[_pTSingletonKey] = this;
                      _resolver(_constructor);
                    case 7:
                    case "end":
                      return _context2.stop();
                  }
                }, _callee2, this);
              }));
              _constructor[_pTSingletonGetter] = function () {
                if (!_constructor[_pTSingletonKey]) {
                  _constructor[_pTSingletonKey] = director.getScene().getComponentInChildren(_constructor);
                  _resolver(_constructor);
                }
                return _constructor[_pTSingletonKey];
              };
            } else {
              _constructor[_pTSingletonKey] = null;
              _constructor[_pTSingletonGetter] = !_opt.async ? function () {
                if (!_constructor[_pTSingletonKey]) {
                  var _constructor$_pTSingl;
                  for (var _len6 = arguments.length, args = new Array(_len6), _key7 = 0; _key7 < _len6; _key7++) {
                    args[_key7] = arguments[_key7];
                  }
                  _constructor[_pTSingletonKey] = _construct(_constructor, args);
                  _constructor[_pTSingletonKey][_opt.initer] && (_constructor$_pTSingl = _constructor[_pTSingletonKey])[_opt.initer].apply(_constructor$_pTSingl, args);
                  _resolver(_constructor);
                }
                return _constructor[_pTSingletonKey];
              } : /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {
                var _constructor$_pTSingl2,
                  _len7,
                  args,
                  _key8,
                  _args3 = arguments;
                return _regeneratorRuntime().wrap(function _callee3$(_context3) {
                  while (1) switch (_context3.prev = _context3.next) {
                    case 0:
                      if (_constructor[_pTSingletonKey]) {
                        _context3.next = 8;
                        break;
                      }
                      for (_len7 = _args3.length, args = new Array(_len7), _key8 = 0; _key8 < _len7; _key8++) {
                        args[_key8] = _args3[_key8];
                      }
                      _constructor[_pTSingletonKey] = _construct(_constructor, args);
                      _context3.t0 = _constructor[_pTSingletonKey][_opt.initer];
                      if (!_context3.t0) {
                        _context3.next = 7;
                        break;
                      }
                      _context3.next = 7;
                      return (_constructor$_pTSingl2 = _constructor[_pTSingletonKey])[_opt.initer].apply(_constructor$_pTSingl2, args);
                    case 7:
                      _resolver(_constructor);
                    case 8:
                      return _context3.abrupt("return", _constructor[_pTSingletonKey]);
                    case 9:
                    case "end":
                      return _context3.stop();
                  }
                }, _callee3);
              }));
              _waker(_constructor, _opt.wake);
            }
            var _destroyer = prototype[_opt.destroyer];
            prototype[_opt.destroyer] = !_opt.async ? function () {
              for (var _len8 = arguments.length, args = new Array(_len8), _key9 = 0; _key9 < _len8; _key9++) {
                args[_key9] = arguments[_key9];
              }
              _destroyer && _destroyer.apply.apply(_destroyer, [this].concat(args));
              _constructor[_pTSingletonKey] = null;
            } : /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {
              var _len9,
                args,
                _key10,
                _args4 = arguments;
              return _regeneratorRuntime().wrap(function _callee4$(_context4) {
                while (1) switch (_context4.prev = _context4.next) {
                  case 0:
                    for (_len9 = _args4.length, args = new Array(_len9), _key10 = 0; _key10 < _len9; _key10++) {
                      args[_key10] = _args4[_key10];
                    }
                    _context4.t0 = _destroyer;
                    if (!_context4.t0) {
                      _context4.next = 5;
                      break;
                    }
                    _context4.next = 5;
                    return _destroyer.apply.apply(_destroyer, [this].concat(args));
                  case 5:
                    _constructor[_pTSingletonKey] = null;
                  case 6:
                  case "end":
                    return _context4.stop();
                }
              }, _callee4, this);
            }));
            _opt.pooler && (_pool[_opt.name ? _opt.name : js.getClassName(_constructor)] = _constructor[_pTSingletonGetter]);
          };
        }
        _pDecorators.singleton = singleton;
        function instance(_constructor) {
          for (var _len10 = arguments.length, args = new Array(_len10 > 1 ? _len10 - 1 : 0), _key11 = 1; _key11 < _len10; _key11++) {
            args[_key11 - 1] = arguments[_key11];
          }
          return typeof _constructor === 'string' ? _pool[_constructor] ? _pool[_constructor].apply(_pool, args) : null : !!_constructor[_pTSingletonGetter] ? _constructor[_pTSingletonGetter].apply(_constructor, args) : null;
        }
        _pDecorators.instance = instance;
        function destroy(_constructor) {
          var _opt = _constructor[_pTSOption];
          if (!_opt) return;
          var destroyer = _opt.destroyer;
          for (var _len11 = arguments.length, args = new Array(_len11 > 1 ? _len11 - 1 : 0), _key12 = 1; _key12 < _len11; _key12++) {
            args[_key12 - 1] = arguments[_key12];
          }
          var _target = typeof _constructor === 'string' ? _pool[_constructor] ? _pool[_constructor].apply(_pool, args) : null : !!_constructor[_pTSingletonGetter] ? _constructor[_pTSingletonGetter].apply(_constructor, args) : null;
          _target[destroyer] && _target[destroyer].apply(_target, args);
          typeof _constructor === 'string' && (_pool[_constructor] = null);
        }
        _pDecorators.destroy = destroy;
        function _resolver(_constructor) {
          if (_waiter.has(_constructor)) {
            var _data2 = _waiter.get(_constructor);
            _data2._function && _data2._function(_constructor[_pTSingletonKey]);
            _data2._is = true;
          } else {
            _waiter.set(_constructor, {
              _promise: null,
              _function: null,
              _is: true
            });
          }
        }
        function wait(_constructor) {
          var data = _waiter.get(_constructor) || function () {
            var _function = null;
            var _promise = new Promise(function (rs) {
              return _function = rs;
            });
            var _data = {
              _promise: _promise,
              _function: _function,
              _is: false
            };
            _waiter.set(_constructor, _data);
            return _data;
          }();
          return data._is ? Promise.resolve(instance(_constructor)) : data._promise;
        }
        _pDecorators.wait = wait;
      })(pDecorators || (pDecorators = exports('pDecorators', {})));
      /**
       * @deprecated Use `pDecorators.ILogger` instead.
       */
      window['pDecorators'] = pDecorators;
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/Dropdown.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './DropdownItem.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, cclegacy, _decorator, Button, RichText, Node, UIOpacity, instantiate, Component, DropdownItem;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Button = module.Button;
      RichText = module.RichText;
      Node = module.Node;
      UIOpacity = module.UIOpacity;
      instantiate = module.instantiate;
      Component = module.Component;
    }, function (module) {
      DropdownItem = module.default;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _class, _class2, _descriptor, _descriptor2;
      cclegacy._RF.push({}, "733d1hCZDlOvatpd0MOJ/h1", "Dropdown", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property,
        requireComponent = _decorator.requireComponent,
        type = _decorator.type;
      var Dropdown = exports('default', (_dec = requireComponent(Button), _dec2 = type(RichText), _dec3 = property(Node), ccclass(_class = _dec(_class = (_class2 = /*#__PURE__*/function (_Component) {
        _inheritsLoose(Dropdown, _Component);
        function Dropdown() {
          var _this2;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this2 = _Component.call.apply(_Component, [this].concat(args)) || this;
          _initializerDefineProperty(_this2, "label", _descriptor, _assertThisInitialized(_this2));
          _initializerDefineProperty(_this2, "itemTemplate", _descriptor2, _assertThisInitialized(_this2));
          _this2.value = 0;
          _this2.onValueChange = void 0;
          _this2.data = [];
          _this2.items = [];
          return _this2;
        }
        var _proto = Dropdown.prototype;
        _proto.start = function start() {
          this.itemTemplate.active = false;
        };
        _proto.show = function show() {
          this.node.active = !this.node.active;
          if (this.node.active) {
            this.node.getComponent(UIOpacity).opacity = 255;
            for (var i = 0; i < this.items.length; i++) {
              this.items[i].checkMark.active = this.items[i].idx == this.value;
            }
          } else {
            this.dismiss();
          }
        };
        _proto.setOptions = function setOptions(data) {
          if (data === void 0) {
            data = [];
          }
          this.data = data;
          var childen = this.itemTemplate.parent.children;
          for (var i = 0; i < childen.length; i++) {
            childen[i].active = false;
          }
          this.items = [];
          for (var i = 0; i < data.length; i++) {
            var item = this.getItem();
            item.idx = i;
            item.label.string = data[i];
            item.checkMark.active = i == this.value;
            this.items.push(item);
          }
        };
        _proto.dismiss = function dismiss() {
          var _this = this;
          this.scheduleOnce(function () {
            _this.node.active = false;
          }, 0.2);
        };
        _proto.setOnValueChange = function setOnValueChange(callback) {
          this.onValueChange = callback;
        };
        _proto.setValue = function setValue(value) {
          if (value < this.data.length) {
            this.value = value;
            this.label.string = this.data[this.value];
          } else {
            this.value = 0;
          }
        };
        _proto.getValue = function getValue() {
          return this.value;
        };
        _proto.getItem = function getItem() {
          var _this3 = this;
          var node = null;
          var childen = this.itemTemplate.parent.children;
          for (var i = 0; i < childen.length; i++) {
            if (!childen[i].active && childen[i] != this.itemTemplate) node = childen[i];
          }
          if (node == null) {
            node = instantiate(this.itemTemplate);
            node.parent = this.itemTemplate.parent;
            node.on("click", function (target) {
              _this3.value = target.getComponent(DropdownItem).idx;
              _this3.label.string = _this3.data[_this3.value];
              if (_this3.onValueChange) _this3.onValueChange(_this3.value);
              _this3.dismiss();
            }, this);
          }
          node.active = true;
          node.setSiblingIndex(this.getLastZIndex());
          return node.getComponent(DropdownItem);
        };
        _proto.getLastZIndex = function getLastZIndex() {
          var c = 0;
          var childen = this.itemTemplate.parent.children;
          for (var i = 1; i < childen.length; i++) {
            if (childen[i].active) c++;
          }
          return c;
        };
        return Dropdown;
      }(Component), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "label", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "itemTemplate", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/DropdownItem.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, cclegacy, _decorator, Button, Node, RichText, Component;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Button = module.Button;
      Node = module.Node;
      RichText = module.RichText;
      Component = module.Component;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _class, _class2, _descriptor, _descriptor2;
      cclegacy._RF.push({}, "ee9a7ZuX0BK/I0Qbqolzm9U", "DropdownItem", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property,
        requireComponent = _decorator.requireComponent,
        type = _decorator.type;
      var DropdownItem = exports('default', (_dec = requireComponent(Button), _dec2 = property(Node), _dec3 = property(RichText), ccclass(_class = _dec(_class = (_class2 = /*#__PURE__*/function (_Component) {
        _inheritsLoose(DropdownItem, _Component);
        function DropdownItem() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _Component.call.apply(_Component, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "checkMark", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "label", _descriptor2, _assertThisInitialized(_this));
          _this.idx = -1;
          return _this;
        }
        return DropdownItem;
      }(Component), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "checkMark", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "label", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/DynamicButton.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './EventDriver.ts', './ComponentUtils.ts'], function (exports) {
  var _inheritsLoose, _createClass, _applyDecoratedDescriptor, _initializerDefineProperty, _assertThisInitialized, cclegacy, _decorator, Button, UIRenderer, NSEventDriver, pComponentUtils;
  return {
    setters: [function (module) {
      _inheritsLoose = module.inheritsLoose;
      _createClass = module.createClass;
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Button = module.Button;
      UIRenderer = module.UIRenderer;
    }, function (module) {
      NSEventDriver = module.NSEventDriver;
    }, function (module) {
      pComponentUtils = module.pComponentUtils;
    }],
    execute: function () {
      exports('NSDynamicButton', void 0);
      cclegacy._RF.push({}, "f98230DPsNI4I3LVym41Zi/", "DynamicButton", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property,
        type = _decorator.type;
      var NSDynamicButton;
      (function (_NSDynamicButton, _dec, _dec2, _dec3, _dec4, _class, _class2, _descriptor, _descriptor2) {
        var Component = (_dec = ccclass("NSDynamicButton.Component"), _dec2 = type(Button), _dec3 = property(Button), _dec4 = type([UIRenderer]), _dec(_class = (_class2 = /*#__PURE__*/function (_NSEventDriver$Compon) {
          _inheritsLoose(Component, _NSEventDriver$Compon);
          function Component() {
            var _this;
            for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
              args[_key] = arguments[_key];
            }
            _this = _NSEventDriver$Compon.call.apply(_NSEventDriver$Compon, [this].concat(args)) || this;
            _initializerDefineProperty(_this, "_button", _descriptor, _assertThisInitialized(_this));
            _initializerDefineProperty(_this, "renderers", _descriptor2, _assertThisInitialized(_this));
            return _this;
          }
          var _proto = Component.prototype;
          _proto.onLoad = function onLoad() {
            pComponentUtils.appends({
              _options: {
                _target: this.button,
                _handlers: this._onClick
              },
              _type: Button.EventType.CLICK,
              _binder: this
            });
          };
          _proto._onClick = function _onClick() {
            this.invoke('onClick', this.renderers, this.button);
          };
          _createClass(Component, [{
            key: "button",
            get: function get() {
              var _this$_button;
              return (_this$_button = this._button) != null ? _this$_button : this._button = pComponentUtils.getSafeComponent(this, Button);
            },
            set: function set(x) {
              this._button = x;
            }
          }]);
          return Component;
        }(NSEventDriver.Component), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "_button", [_dec2], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return null;
          }
        }), _applyDecoratedDescriptor(_class2.prototype, "button", [_dec3], Object.getOwnPropertyDescriptor(_class2.prototype, "button"), _class2.prototype), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "renderers", [_dec4], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return [];
          }
        })), _class2)) || _class);
        _NSDynamicButton.Component = Component;
      })(NSDynamicButton || (NSDynamicButton = exports('NSDynamicButton', {})));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/EditorComponent.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _createClass, cclegacy, _decorator, Component;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _createClass = module.createClass;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Component = module.Component;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _class, _class2;
      cclegacy._RF.push({}, "b7f12g2hDNHNoEKJCjkU2l8", "EditorComponent", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property,
        executeInEditMode = _decorator.executeInEditMode;
      var EditorComponent = exports('EditorComponent', (_dec = ccclass('EditorComponent'), _dec2 = executeInEditMode(), _dec3 = property({}), _dec4 = property({}), _dec(_class = _dec2(_class = (_class2 = /*#__PURE__*/function (_Component) {
        _inheritsLoose(EditorComponent, _Component);
        function EditorComponent() {
          return _Component.apply(this, arguments) || this;
        }
        var _proto = EditorComponent.prototype;
        _proto.onLoad = function onLoad() {
          this.destroy();
        };
        _createClass(EditorComponent, [{
          key: "execute",
          get: function get() {
            return false;
          },
          set: function set(x) {
            if (!x) return;
            this._onExecute();
          }
        }, {
          key: "clean",
          get: function get() {
            return false;
          },
          set: function set(x) {
            if (!x) return;
            this.destroy();
          }
        }]);
        return EditorComponent;
      }(Component), (_applyDecoratedDescriptor(_class2.prototype, "execute", [_dec3], Object.getOwnPropertyDescriptor(_class2.prototype, "execute"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, "clean", [_dec4], Object.getOwnPropertyDescriptor(_class2.prototype, "clean"), _class2.prototype)), _class2)) || _class) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/EditTextResized.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc'], function (exports) {
  var _inheritsLoose, cclegacy, _decorator, EditBox, sys, Component;
  return {
    setters: [function (module) {
      _inheritsLoose = module.inheritsLoose;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      EditBox = module.EditBox;
      sys = module.sys;
      Component = module.Component;
    }],
    execute: function () {
      var _dec, _dec2, _class;
      cclegacy._RF.push({}, "d06a6OJ73BLUZCT+RJNp6bG", "EditTextResized", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property,
        requireComponent = _decorator.requireComponent;
      var EditTextResized = exports('EditTextResized', (_dec = ccclass('EditTextResized'), _dec2 = requireComponent(EditBox), _dec(_class = _dec2(_class = /*#__PURE__*/function (_Component) {
        _inheritsLoose(EditTextResized, _Component);
        function EditTextResized() {
          return _Component.apply(this, arguments) || this;
        }
        var _proto = EditTextResized.prototype;
        _proto.onLoad = function onLoad() {
          var _this = this;
          if (sys.isBrowser) {
            window.addEventListener('resize', function () {
              _this.onWindowResize();
            });
          }
        };
        _proto.onWindowResize = function onWindowResize() {
          var editbox = this.node.getComponent(EditBox);
        };
        return EditTextResized;
      }(Component)) || _class) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/emitter.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc'], function (exports) {
  var _createForOfIteratorHelperLoose, cclegacy;
  return {
    setters: [function (module) {
      _createForOfIteratorHelperLoose = module.createForOfIteratorHelperLoose;
    }, function (module) {
      cclegacy = module.cclegacy;
    }],
    execute: function () {
      cclegacy._RF.push({}, "c6fff/U3mREqZYcEsf1/kFH", "emitter", undefined);
      var Emitter = exports('Emitter', /*#__PURE__*/function () {
        function Emitter() {
          this._callbacks = {};
        }
        var _proto = Emitter.prototype;
        _proto.on = function on(event, fn) {
          this._callbacks[event] = this._callbacks[event] || [];
          this._callbacks[event].push(fn);
          return this;
        };
        _proto.addEventListener = function addEventListener(event, fn) {
          return this.on(event, fn);
        }

        /**
         * Adds an `event` listener that will be invoked a single time then automatically removed.
         */;
        _proto.once = function once(event, fn) {
          var _this = this;
          var on = function on() {
            _this.off(event, on);
            fn.apply(void 0, arguments);
          };
          on.fn = fn;
          this.on(event, on);
          return this;
        }

        /**
         * Remove the given callback for `event` or all registered callbacks.
         */;
        _proto.off = function off(event, fn) {
          if (!event) {
            this._callbacks = {};
            return this;
          }
          var callbacks = this._callbacks[event];
          if (!callbacks) return this;
          if (!fn) {
            delete this._callbacks[event];
            return this;
          }
          for (var i = 0; i < callbacks.length; i++) {
            var cb = callbacks[i];
            if (cb === fn || cb.fn === fn) {
              callbacks.splice(i, 1);
              break;
            }
          }
          return this;
        };
        _proto.removeListener = function removeListener(event, fn) {
          return this.off(event, fn);
        };
        _proto.removeAllListeners = function removeAllListeners(event) {
          return this.off(event);
        };
        _proto.removeEventListener = function removeEventListener(event, fn) {
          return this.off(event, fn);
        }

        /**
         * Emit `event` with the given args.
         */;
        _proto.emit = function emit(event) {
          var _this$_callbacks$even;
          var callbacks = (_this$_callbacks$even = this._callbacks[event]) == null ? void 0 : _this$_callbacks$even.slice();
          if (callbacks) {
            for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
              args[_key - 1] = arguments[_key];
            }
            for (var _iterator = _createForOfIteratorHelperLoose(callbacks), _step; !(_step = _iterator()).done;) {
              var cb = _step.value;
              cb.apply(void 0, args);
            }
          }
          return this;
        }

        /**
         * Clear all callbacks.
         */;
        _proto.clear = function clear() {
          this._callbacks = {};
        }

        /**
         * Return array of callbacks for `event`.
         */;
        _proto.listeners = function listeners(event) {
          return this._callbacks[event] || [];
        }

        /**
         * Check if this emitter has `event` handlers.
         */;
        _proto.hasListeners = function hasListeners(event) {
          return this.listeners(event).length > 0;
        };
        return Emitter;
      }());
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/EndTurorial.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './GameTutorial.ts', './Decorators.ts', './UIGameTutorial.ts'], function (exports) {
  var _inheritsLoose, _asyncToGenerator, _regeneratorRuntime, cclegacy, _decorator, GameTutorial, pDecorators, UIGameTutorial;
  return {
    setters: [function (module) {
      _inheritsLoose = module.inheritsLoose;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
    }, function (module) {
      GameTutorial = module.GameTutorial;
    }, function (module) {
      pDecorators = module.pDecorators;
    }, function (module) {
      UIGameTutorial = module.UIGameTutorial;
    }],
    execute: function () {
      var _dec, _class;
      cclegacy._RF.push({}, "784cduYLc5MKLMOc+Oh83XF", "EndTurorial", undefined);
      var ccclass = _decorator.ccclass;
      var EndTutorial = exports('EndTutorial', (_dec = ccclass('EndTutorial'), _dec(_class = /*#__PURE__*/function (_GameTutorial) {
        _inheritsLoose(EndTutorial, _GameTutorial);
        function EndTutorial() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _GameTutorial.call.apply(_GameTutorial, [this].concat(args)) || this;
          _this._actions = [/*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {
            var _root;
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  _root = pDecorators.instance(UIGameTutorial);
                  _root.end();
                case 2:
                case "end":
                  return _context.stop();
              }
            }, _callee);
          }))];
          return _this;
        }
        var _proto = EndTutorial.prototype;
        _proto._onExit = /*#__PURE__*/function () {
          var _onExit2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {
            return _regeneratorRuntime().wrap(function _callee2$(_context2) {
              while (1) switch (_context2.prev = _context2.next) {
                case 0:
                case "end":
                  return _context2.stop();
              }
            }, _callee2);
          }));
          function _onExit() {
            return _onExit2.apply(this, arguments);
          }
          return _onExit;
        }();
        return EndTutorial;
      }(GameTutorial)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/EngineController.ts", ['cc'], function () {
  var cclegacy;
  return {
    setters: [function (module) {
      cclegacy = module.cclegacy;
    }],
    execute: function () {
      cclegacy._RF.push({}, "05ae6DjUThKX6isBuImMgMj", "EngineController", undefined);
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/EngineManager.ts", ['cc', './Decorators.ts'], function (exports) {
  var cclegacy, Node, pDecorators;
  return {
    setters: [function (module) {
      cclegacy = module.cclegacy;
      Node = module.Node;
    }, function (module) {
      pDecorators = module.pDecorators;
    }],
    execute: function () {
      var _dec, _class;
      cclegacy._RF.push({}, "872d5BshDpERKqROqm+AuKc", "EngineManager", undefined);
      var logger = pDecorators.logger;
      var _EngineManager = (_dec = logger({
        name: "EngineManager",
        level: 99
      }), _dec(_class = function _EngineManager() {
        var _destroyAllChildren = Node.prototype.destroyAllChildren;
        Node.prototype.destroyAllChildren = function () {
          try {
            _destroyAllChildren();
          } catch (e) {}
        };
      }) || _class);
      var pEngineManager = exports('pEngineManager', new _EngineManager());
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/EntryCommand.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './Connection.ts'], function (exports) {
  var _asyncToGenerator, _regeneratorRuntime, cclegacy, _connection;
  return {
    setters: [function (module) {
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
    }, function (module) {
      _connection = module.default;
    }],
    execute: function () {
      exports('default', request);
      cclegacy._RF.push({}, "7d0382Iz/ZHEJynx4ixaSGn", "EntryCommand", undefined);
      var EH;
      (function (_EH) {
        var prefix = _EH.prefix = "connector.entryHandler.";
      })(EH || (EH = {}));
      function request(_x, _x2, _x3) {
        return _request.apply(this, arguments);
      }
      function _request() {
        _request = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(command, payload, cb) {
          return _regeneratorRuntime().wrap(function _callee$(_context) {
            while (1) switch (_context.prev = _context.next) {
              case 0:
                return _context.abrupt("return", _connection.send(EH.prefix + command, payload, cb));
              case 1:
              case "end":
                return _context.stop();
            }
          }, _callee);
        }));
        return _request.apply(this, arguments);
      }
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/Enums.ts", ['cc'], function (exports) {
  var cclegacy, Enum;
  return {
    setters: [function (module) {
      cclegacy = module.cclegacy;
      Enum = module.Enum;
    }],
    execute: function () {
      exports({
        NStackType: void 0,
        getEnumFromKeys: getEnumFromKeys,
        getEnumLength: getEnumLength,
        toTweenEasingType: toTweenEasingType
      });
      cclegacy._RF.push({}, "9af5bCbDydFZJpYSFhJEXEc", "Enums", undefined);
      var UIType = exports('UIType', /*#__PURE__*/function (UIType) {
        UIType[UIType["NONE"] = 0] = "NONE";
        UIType[UIType["LOGIN"] = 1] = "LOGIN";
        UIType[UIType["LOGIN_APPLE"] = 2] = "LOGIN_APPLE";
        UIType[UIType["LOGIN_EMAIL"] = 3] = "LOGIN_EMAIL";
        UIType[UIType["LOGIN_FACEBOOK"] = 4] = "LOGIN_FACEBOOK";
        UIType[UIType["LOGIN_AS_GUEST"] = 5] = "LOGIN_AS_GUEST";
        UIType[UIType["LOGIN_FORGOT_PASSWORD"] = 6] = "LOGIN_FORGOT_PASSWORD";
        UIType[UIType["LOGIN_CHANGE_PHONE_ZONE"] = 7] = "LOGIN_CHANGE_PHONE_ZONE";
        UIType[UIType["MAIN_SCREEN"] = 8] = "MAIN_SCREEN";
        UIType[UIType["PROFILE"] = 9] = "PROFILE";
        UIType[UIType["PROFILE_EDIT"] = 10] = "PROFILE_EDIT";
        UIType[UIType["PROFILE_SAFE"] = 11] = "PROFILE_SAFE";
        UIType[UIType["PROFILE_ACHIEVEMENT"] = 12] = "PROFILE_ACHIEVEMENT";
        UIType[UIType["EMAIL"] = 13] = "EMAIL";
        UIType[UIType["RANK"] = 14] = "RANK";
        UIType[UIType["EVENT"] = 15] = "EVENT";
        UIType[UIType["MISSION"] = 16] = "MISSION";
        UIType[UIType["MORE"] = 17] = "MORE";
        UIType[UIType["SUPPORT"] = 18] = "SUPPORT";
        UIType[UIType["FRIEND"] = 19] = "FRIEND";
        UIType[UIType["FRIEND_PROFILE"] = 20] = "FRIEND_PROFILE";
        UIType[UIType["TUTORIAL"] = 21] = "TUTORIAL";
        UIType[UIType["SETTING"] = 22] = "SETTING";
        UIType[UIType["SPLASH"] = 23] = "SPLASH";
        UIType[UIType["PT_YARD"] = 24] = "PT_YARD";
        UIType[UIType["PT_ALERT"] = 25] = "PT_ALERT";
        UIType[UIType["PT_OTHER_ROOM_TYPE"] = 26] = "PT_OTHER_ROOM_TYPE";
        UIType[UIType["PT_JOIN_PRIVATE_ROOM"] = 27] = "PT_JOIN_PRIVATE_ROOM";
        UIType[UIType["PT_ROOM_SEARCH"] = 28] = "PT_ROOM_SEARCH";
        UIType[UIType["PT_ROOM_TYPE"] = 29] = "PT_ROOM_TYPE";
        UIType[UIType["FRIEND_CHAT"] = 30] = "FRIEND_CHAT";
        UIType[UIType["SETTING_LANGUAGE"] = 31] = "SETTING_LANGUAGE";
        UIType[UIType["SETTING_LOG_OUT"] = 32] = "SETTING_LOG_OUT";
        UIType[UIType["SETTING_OTHER_SETTING"] = 33] = "SETTING_OTHER_SETTING";
        UIType[UIType["SETTING_PRIVACY"] = 34] = "SETTING_PRIVACY";
        UIType[UIType["SETTING_REMOVE_CACHE"] = 35] = "SETTING_REMOVE_CACHE";
        UIType[UIType["SETTING_REMOVE_ACC"] = 36] = "SETTING_REMOVE_ACC";
        UIType[UIType["PT_CREATE_PRIVATE_ROOM"] = 37] = "PT_CREATE_PRIVATE_ROOM";
        UIType[UIType["COMPETE_LOBBY"] = 38] = "COMPETE_LOBBY";
        UIType[UIType["ROOM_MTT"] = 39] = "ROOM_MTT";
        UIType[UIType["ROOM_SNG"] = 43] = "ROOM_SNG";
        UIType[UIType["PLAYING_SCENE"] = 44] = "PLAYING_SCENE";
        UIType[UIType["HELP_SNG"] = 45] = "HELP_SNG";
        UIType[UIType["RESULT_SNG"] = 46] = "RESULT_SNG";
        UIType[UIType["BUY_CHIP"] = 47] = "BUY_CHIP";
        UIType[UIType["INVITE_PLAYER"] = 48] = "INVITE_PLAYER";
        UIType[UIType["CHANGE_TABLE"] = 50] = "CHANGE_TABLE";
        UIType[UIType["CHANGE_ACCESSORY"] = 51] = "CHANGE_ACCESSORY";
        UIType[UIType["CHAT_INGAME"] = 52] = "CHAT_INGAME";
        UIType[UIType["RATE_CARD"] = 53] = "RATE_CARD";
        UIType[UIType["MINI_GAME"] = 54] = "MINI_GAME";
        UIType[UIType["SPIN_GAME"] = 55] = "SPIN_GAME";
        UIType[UIType["DONATE_CHIP"] = 57] = "DONATE_CHIP";
        UIType[UIType["ACTION_DEALER"] = 58] = "ACTION_DEALER";
        UIType[UIType["HISTORY_ROND"] = 59] = "HISTORY_ROND";
        UIType[UIType["DETAIL_HISTORY"] = 60] = "DETAIL_HISTORY";
        UIType[UIType["ALERT"] = 61] = "ALERT";
        UIType[UIType["TUTORIAL_SCENE"] = 63] = "TUTORIAL_SCENE";
        UIType[UIType["GIVE_GIF"] = 64] = "GIVE_GIF";
        UIType[UIType["MORE_BET"] = 65] = "MORE_BET";
        UIType[UIType["WINNER_FRAME"] = 66] = "WINNER_FRAME";
        UIType[UIType["KICK_PLAYER"] = 67] = "KICK_PLAYER";
        UIType[UIType["LOGIN_GOOGLE"] = 68] = "LOGIN_GOOGLE";
        UIType[UIType["MTT_HELP"] = 69] = "MTT_HELP";
        UIType[UIType["MTT_SIGNUP"] = 70] = "MTT_SIGNUP";
        UIType[UIType["MTT_INFO"] = 71] = "MTT_INFO";
        UIType[UIType["MTT_RANKER"] = 72] = "MTT_RANKER";
        UIType[UIType["MTT_RESULT"] = 73] = "MTT_RESULT";
        UIType[UIType["SPIN_RULE"] = 74] = "SPIN_RULE";
        UIType[UIType["SPIN_HISTORY"] = 75] = "SPIN_HISTORY";
        UIType[UIType["MTT_REBUY"] = 76] = "MTT_REBUY";
        UIType[UIType["MTT_TABLE_VIEW"] = 77] = "MTT_TABLE_VIEW";
        UIType[UIType["REGISTER_EMAIL"] = 300] = "REGISTER_EMAIL";
        UIType[UIType["NOTICE"] = 998] = "NOTICE";
        UIType[UIType["LOADING"] = 999] = "LOADING";
        UIType[UIType["PROFILE_PLAYER_INGAME"] = 1000] = "PROFILE_PLAYER_INGAME";
        UIType[UIType["SHOP"] = 100] = "SHOP";
        UIType[UIType["POPUP_GIFT_PROPS"] = 101] = "POPUP_GIFT_PROPS";
        UIType[UIType["POPUP_GIFT_TO_FRIENDS"] = 102] = "POPUP_GIFT_TO_FRIENDS";
        UIType[UIType["ACHIEVEMENTS"] = 103] = "ACHIEVEMENTS";
        UIType[UIType["INVITED_TO_PLAY"] = 104] = "INVITED_TO_PLAY";
        UIType[UIType["SAFEBOX_PASSWORD"] = 105] = "SAFEBOX_PASSWORD";
        UIType[UIType["RESET_PASSWORD"] = 106] = "RESET_PASSWORD";
        UIType[UIType["GIVE_AWAY"] = 107] = "GIVE_AWAY";
        UIType[UIType["REWARD_TUTORIAL"] = 108] = "REWARD_TUTORIAL";
        UIType[UIType["RANK_PLAYER_INFO"] = 109] = "RANK_PLAYER_INFO";
        UIType[UIType["LINK_EMAIL"] = 110] = "LINK_EMAIL";
        UIType[UIType["RECONNECTOR"] = 111] = "RECONNECTOR";
        return UIType;
      }({}));
      var ELanguageCode = exports('ELanguageCode', /*#__PURE__*/function (ELanguageCode) {
        ELanguageCode["VIETNAMESE"] = "vi";
        ELanguageCode["ENGLISH"] = "en";
        ELanguageCode["JAPANESE"] = "ja";
        return ELanguageCode;
      }({}));
      var ELoginType = exports('ELoginType', /*#__PURE__*/function (ELoginType) {
        ELoginType[ELoginType["LOGIN_APPLE"] = 0] = "LOGIN_APPLE";
        ELoginType[ELoginType["LOGIN_EMAIL"] = 1] = "LOGIN_EMAIL";
        ELoginType[ELoginType["LOGIN_PHONE"] = 2] = "LOGIN_PHONE";
        ELoginType[ELoginType["LOGIN_FACEBOOK"] = 3] = "LOGIN_FACEBOOK";
        ELoginType[ELoginType["LOGIN_AS_GUEST"] = 4] = "LOGIN_AS_GUEST";
        return ELoginType;
      }({}));
      var ELoginEmailType = exports('ELoginEmailType', /*#__PURE__*/function (ELoginEmailType) {
        ELoginEmailType[ELoginEmailType["LOGIN_PHONE"] = 0] = "LOGIN_PHONE";
        ELoginEmailType[ELoginEmailType["LOGIN_EMAIL"] = 1] = "LOGIN_EMAIL";
        return ELoginEmailType;
      }({}));
      var EMessageType = exports('EMessageType', /*#__PURE__*/function (EMessageType) {
        EMessageType[EMessageType["EMAIL"] = 0] = "EMAIL";
        EMessageType[EMessageType["NOTIFICATION"] = 1] = "NOTIFICATION";
        return EMessageType;
      }({}));
      var ERankRegion = exports('ERankRegion', /*#__PURE__*/function (ERankRegion) {
        ERankRegion[ERankRegion["GLOBAL"] = 0] = "GLOBAL";
        ERankRegion[ERankRegion["FRIEND"] = 1] = "FRIEND";
        return ERankRegion;
      }({}));
      var ERankType = exports('ERankType', /*#__PURE__*/function (ERankType) {
        ERankType[ERankType["CHIP"] = 0] = "CHIP";
        ERankType[ERankType["LEVEL"] = 1] = "LEVEL";
        ERankType[ERankType["ACHIEVEMENT"] = 2] = "ACHIEVEMENT";
        ERankType[ERankType["STRENGTH"] = 3] = "STRENGTH";
        return ERankType;
      }({}));
      var ESupportType = exports('ESupportType', /*#__PURE__*/function (ESupportType) {
        ESupportType[ESupportType["ISSUE"] = 0] = "ISSUE";
        ESupportType[ESupportType["RULE"] = 1] = "RULE";
        ESupportType[ESupportType["LEVEL"] = 2] = "LEVEL";
        ESupportType[ESupportType["FEEDBACK"] = 3] = "FEEDBACK";
        return ESupportType;
      }({}));
      var ESupportIssueFilter = exports('ESupportIssueFilter', /*#__PURE__*/function (ESupportIssueFilter) {
        ESupportIssueFilter[ESupportIssueFilter["HOT"] = 0] = "HOT";
        ESupportIssueFilter[ESupportIssueFilter["CHIP"] = 1] = "CHIP";
        ESupportIssueFilter[ESupportIssueFilter["ACCOUNT"] = 2] = "ACCOUNT";
        ESupportIssueFilter[ESupportIssueFilter["LOGIN_REWARD"] = 3] = "LOGIN_REWARD";
        return ESupportIssueFilter;
      }({}));
      var ESupportFeedbackFilter = exports('ESupportFeedbackFilter', /*#__PURE__*/function (ESupportFeedbackFilter) {
        ESupportFeedbackFilter[ESupportFeedbackFilter["CHIP"] = 0] = "CHIP";
        ESupportFeedbackFilter[ESupportFeedbackFilter["ACCOUNT"] = 1] = "ACCOUNT";
        ESupportFeedbackFilter[ESupportFeedbackFilter["GAME_BUG"] = 2] = "GAME_BUG";
        ESupportFeedbackFilter[ESupportFeedbackFilter["FEEDBACK"] = 3] = "FEEDBACK";
        return ESupportFeedbackFilter;
      }({}));
      var ESupportLevelFilter = exports('ESupportLevelFilter', /*#__PURE__*/function (ESupportLevelFilter) {
        ESupportLevelFilter[ESupportLevelFilter["WAY_TO_RECEIVE_EXP"] = 0] = "WAY_TO_RECEIVE_EXP";
        ESupportLevelFilter[ESupportLevelFilter["LEVEL_RULE"] = 1] = "LEVEL_RULE";
        return ESupportLevelFilter;
      }({}));
      var ESupportRuleFilter = exports('ESupportRuleFilter', /*#__PURE__*/function (ESupportRuleFilter) {
        ESupportRuleFilter[ESupportRuleFilter["TYPE_CARDS"] = 0] = "TYPE_CARDS";
        ESupportRuleFilter[ESupportRuleFilter["RULE"] = 1] = "RULE";
        ESupportRuleFilter[ESupportRuleFilter["BET"] = 2] = "BET";
        ESupportRuleFilter[ESupportRuleFilter["NOUN"] = 3] = "NOUN";
        return ESupportRuleFilter;
      }({}));
      var EFriendFilter = exports('EFriendFilter', /*#__PURE__*/function (EFriendFilter) {
        return EFriendFilter;
      }({}));
      var EDealSpeed = exports('EDealSpeed', /*#__PURE__*/function (EDealSpeed) {
        EDealSpeed[EDealSpeed["DEAL_SPEED_1"] = 10] = "DEAL_SPEED_1";
        EDealSpeed[EDealSpeed["DEAL_SPEED_2"] = 20] = "DEAL_SPEED_2";
        return EDealSpeed;
      }({}));
      var ETypeModePlay = exports('ETypeModePlay', /*#__PURE__*/function (ETypeModePlay) {
        ETypeModePlay[ETypeModePlay["MTT"] = 0] = "MTT";
        ETypeModePlay[ETypeModePlay["SNG"] = 1] = "SNG";
        ETypeModePlay[ETypeModePlay["YARD"] = 2] = "YARD";
        ETypeModePlay[ETypeModePlay["PLAY_NOW"] = 3] = "PLAY_NOW";
        return ETypeModePlay;
      }({}));
      var ETournType = exports('ETournType', /*#__PURE__*/function (ETournType) {
        ETournType[ETournType["ALL"] = 0] = "ALL";
        ETournType[ETournType["HOT"] = 1] = "HOT";
        ETournType[ETournType["LIVE"] = 2] = "LIVE";
        ETournType[ETournType["ENDED"] = 3] = "ENDED";
        ETournType[ETournType["MINE"] = 4] = "MINE";
        return ETournType;
      }({}));
      var EInforTournType = exports('EInforTournType', /*#__PURE__*/function (EInforTournType) {
        EInforTournType[EInforTournType["INFOR_TOURN"] = 0] = "INFOR_TOURN";
        EInforTournType[EInforTournType["BLIND_LEVELS"] = 1] = "BLIND_LEVELS";
        EInforTournType[EInforTournType["REWARD"] = 2] = "REWARD";
        EInforTournType[EInforTournType["RANKER"] = 3] = "RANKER";
        return EInforTournType;
      }({}));
      var ETournStages = exports('ETournStages', /*#__PURE__*/function (ETournStages) {
        ETournStages[ETournStages["NONE"] = 0] = "NONE";
        ETournStages[ETournStages["QUALIFIER"] = 1] = "QUALIFIER";
        ETournStages[ETournStages["SEMI_FINAL"] = 2] = "SEMI_FINAL";
        ETournStages[ETournStages["FINAL"] = 3] = "FINAL";
        return ETournStages;
      }({}));
      var EAlertType = exports('EAlertType', /*#__PURE__*/function (EAlertType) {
        EAlertType[EAlertType["COMFIRM_ONLY"] = 0] = "COMFIRM_ONLY";
        EAlertType[EAlertType["CONFIRM_CANCEL"] = 1] = "CONFIRM_CANCEL";
        return EAlertType;
      }({}));
      var EEventType = exports('EEventType', /*#__PURE__*/function (EEventType) {
        EEventType["CUSTOM_RESIZE"] = "custom-resize";
        EEventType["PT_SEARCH_ROOM"] = "pt_search_room";
        EEventType["PT_FILTER_ROOM"] = "pt_filter_room";
        EEventType["SNG_SHOW_RESULT_POPUP"] = "sng_show_resultt_popup";
        EEventType["JOIN_PLAYING_SNG"] = "join_playing_sng";
        EEventType["BUY_CHIP"] = "buy_chip";
        return EEventType;
      }({}));
      var ENumberPlayerCount = exports('ENumberPlayerCount', /*#__PURE__*/function (ENumberPlayerCount) {
        ENumberPlayerCount[ENumberPlayerCount["NONE_PLAYERS"] = 0] = "NONE_PLAYERS";
        ENumberPlayerCount[ENumberPlayerCount["FIVE_PLAYERS"] = 5] = "FIVE_PLAYERS";
        ENumberPlayerCount[ENumberPlayerCount["NINE_PLAYERS"] = 9] = "NINE_PLAYERS";
        return ENumberPlayerCount;
      }({}));
      var ECardName = exports('ECardName', /*#__PURE__*/function (ECardName) {
        ECardName[ECardName["AS"] = 0] = "AS";
        ECardName[ECardName["2S"] = 1] = "2S";
        ECardName[ECardName["3S"] = 2] = "3S";
        ECardName[ECardName["4S"] = 3] = "4S";
        ECardName[ECardName["5S"] = 4] = "5S";
        ECardName[ECardName["6S"] = 5] = "6S";
        ECardName[ECardName["7S"] = 6] = "7S";
        ECardName[ECardName["8S"] = 7] = "8S";
        ECardName[ECardName["9S"] = 8] = "9S";
        ECardName[ECardName["TS"] = 9] = "TS";
        ECardName[ECardName["JS"] = 10] = "JS";
        ECardName[ECardName["QS"] = 11] = "QS";
        ECardName[ECardName["KS"] = 12] = "KS";
        ECardName[ECardName["AH"] = 13] = "AH";
        ECardName[ECardName["2H"] = 14] = "2H";
        ECardName[ECardName["3H"] = 15] = "3H";
        ECardName[ECardName["4H"] = 16] = "4H";
        ECardName[ECardName["5H"] = 17] = "5H";
        ECardName[ECardName["6H"] = 18] = "6H";
        ECardName[ECardName["7H"] = 19] = "7H";
        ECardName[ECardName["8H"] = 20] = "8H";
        ECardName[ECardName["9H"] = 21] = "9H";
        ECardName[ECardName["TH"] = 22] = "TH";
        ECardName[ECardName["JH"] = 23] = "JH";
        ECardName[ECardName["QH"] = 24] = "QH";
        ECardName[ECardName["KH"] = 25] = "KH";
        ECardName[ECardName["AD"] = 26] = "AD";
        ECardName[ECardName["2D"] = 27] = "2D";
        ECardName[ECardName["3D"] = 28] = "3D";
        ECardName[ECardName["4D"] = 29] = "4D";
        ECardName[ECardName["5D"] = 30] = "5D";
        ECardName[ECardName["6D"] = 31] = "6D";
        ECardName[ECardName["7D"] = 32] = "7D";
        ECardName[ECardName["8D"] = 33] = "8D";
        ECardName[ECardName["9D"] = 34] = "9D";
        ECardName[ECardName["TD"] = 35] = "TD";
        ECardName[ECardName["JD"] = 36] = "JD";
        ECardName[ECardName["QD"] = 37] = "QD";
        ECardName[ECardName["KD"] = 38] = "KD";
        ECardName[ECardName["AC"] = 39] = "AC";
        ECardName[ECardName["2C"] = 40] = "2C";
        ECardName[ECardName["3C"] = 41] = "3C";
        ECardName[ECardName["4C"] = 42] = "4C";
        ECardName[ECardName["5C"] = 43] = "5C";
        ECardName[ECardName["6C"] = 44] = "6C";
        ECardName[ECardName["7C"] = 45] = "7C";
        ECardName[ECardName["8C"] = 46] = "8C";
        ECardName[ECardName["9C"] = 47] = "9C";
        ECardName[ECardName["TC"] = 48] = "TC";
        ECardName[ECardName["JC"] = 49] = "JC";
        ECardName[ECardName["QC"] = 50] = "QC";
        ECardName[ECardName["KC"] = 51] = "KC";
        return ECardName;
      }({}));
      var ETweenEasing = exports('ETweenEasing', /*#__PURE__*/function (ETweenEasing) {
        ETweenEasing[ETweenEasing["linear"] = 0] = "linear";
        ETweenEasing[ETweenEasing["smooth"] = 1] = "smooth";
        ETweenEasing[ETweenEasing["fade"] = 2] = "fade";
        ETweenEasing[ETweenEasing["constant"] = 3] = "constant";
        ETweenEasing[ETweenEasing["quadIn"] = 4] = "quadIn";
        ETweenEasing[ETweenEasing["quadOut"] = 5] = "quadOut";
        ETweenEasing[ETweenEasing["quadInOut"] = 6] = "quadInOut";
        ETweenEasing[ETweenEasing["quadOutIn"] = 7] = "quadOutIn";
        ETweenEasing[ETweenEasing["cubicIn"] = 8] = "cubicIn";
        ETweenEasing[ETweenEasing["cubicOut"] = 9] = "cubicOut";
        ETweenEasing[ETweenEasing["cubicInOut"] = 10] = "cubicInOut";
        ETweenEasing[ETweenEasing["cubicOutIn"] = 11] = "cubicOutIn";
        ETweenEasing[ETweenEasing["quartIn"] = 12] = "quartIn";
        ETweenEasing[ETweenEasing["quartOut"] = 13] = "quartOut";
        ETweenEasing[ETweenEasing["quartInOut"] = 14] = "quartInOut";
        ETweenEasing[ETweenEasing["quartOutIn"] = 15] = "quartOutIn";
        ETweenEasing[ETweenEasing["quintIn"] = 16] = "quintIn";
        ETweenEasing[ETweenEasing["quintOut"] = 17] = "quintOut";
        ETweenEasing[ETweenEasing["quintInOut"] = 18] = "quintInOut";
        ETweenEasing[ETweenEasing["quintOutIn"] = 19] = "quintOutIn";
        ETweenEasing[ETweenEasing["sineIn"] = 20] = "sineIn";
        ETweenEasing[ETweenEasing["sineOut"] = 21] = "sineOut";
        ETweenEasing[ETweenEasing["sineInOut"] = 22] = "sineInOut";
        ETweenEasing[ETweenEasing["sineOutIn"] = 23] = "sineOutIn";
        ETweenEasing[ETweenEasing["expoIn"] = 24] = "expoIn";
        ETweenEasing[ETweenEasing["expoOut"] = 25] = "expoOut";
        ETweenEasing[ETweenEasing["expoInOut"] = 26] = "expoInOut";
        ETweenEasing[ETweenEasing["expoOutIn"] = 27] = "expoOutIn";
        ETweenEasing[ETweenEasing["circIn"] = 28] = "circIn";
        ETweenEasing[ETweenEasing["circOut"] = 29] = "circOut";
        ETweenEasing[ETweenEasing["circInOut"] = 30] = "circInOut";
        ETweenEasing[ETweenEasing["circOutIn"] = 31] = "circOutIn";
        ETweenEasing[ETweenEasing["elasticIn"] = 32] = "elasticIn";
        ETweenEasing[ETweenEasing["elasticOut"] = 33] = "elasticOut";
        ETweenEasing[ETweenEasing["elasticInOut"] = 34] = "elasticInOut";
        ETweenEasing[ETweenEasing["elasticOutIn"] = 35] = "elasticOutIn";
        ETweenEasing[ETweenEasing["backIn"] = 36] = "backIn";
        ETweenEasing[ETweenEasing["backOut"] = 37] = "backOut";
        ETweenEasing[ETweenEasing["backInOut"] = 38] = "backInOut";
        ETweenEasing[ETweenEasing["backOutIn"] = 39] = "backOutIn";
        ETweenEasing[ETweenEasing["bounceIn"] = 40] = "bounceIn";
        ETweenEasing[ETweenEasing["bounceOut"] = 41] = "bounceOut";
        ETweenEasing[ETweenEasing["bounceInOut"] = 42] = "bounceInOut";
        ETweenEasing[ETweenEasing["bounceOutIn"] = 43] = "bounceOutIn";
        return ETweenEasing;
      }({}));
      var CCETweenEasing = exports('CCETweenEasing', Enum(ETweenEasing));
      function toTweenEasingType(type) {
        return ETweenEasing[type];
      }
      var EPlayerBalance = exports('EPlayerBalance', /*#__PURE__*/function (EPlayerBalance) {
        EPlayerBalance[EPlayerBalance["none"] = 0] = "none";
        EPlayerBalance[EPlayerBalance["balance"] = 1] = "balance";
        return EPlayerBalance;
      }({}));
      var EComponentInvokeOptions = exports('EComponentInvokeOptions', /*#__PURE__*/function (EComponentInvokeOptions) {
        EComponentInvokeOptions[EComponentInvokeOptions["None"] = 0] = "None";
        EComponentInvokeOptions[EComponentInvokeOptions["OnEnable"] = 1] = "OnEnable";
        EComponentInvokeOptions[EComponentInvokeOptions["OnStart"] = 2] = "OnStart";
        EComponentInvokeOptions[EComponentInvokeOptions["OnDisable"] = 3] = "OnDisable";
        return EComponentInvokeOptions;
      }({}));
      var EGameState = exports('EGameState', /*#__PURE__*/function (EGameState) {
        EGameState[EGameState["LOGIN"] = 0] = "LOGIN";
        EGameState[EGameState["MAIN_SCREEN"] = 1] = "MAIN_SCREEN";
        EGameState[EGameState["GAME_PLAY"] = 2] = "GAME_PLAY";
        return EGameState;
      }({}));
      var EStatusPlayer = exports('EStatusPlayer', /*#__PURE__*/function (EStatusPlayer) {
        EStatusPlayer[EStatusPlayer["WATCH"] = 0] = "WATCH";
        EStatusPlayer[EStatusPlayer["JOIN_GAME"] = 1] = "JOIN_GAME";
        EStatusPlayer[EStatusPlayer["WAITING"] = 2] = "WAITING";
        return EStatusPlayer;
      }({}));
      var EStatusGame = exports('EStatusGame', /*#__PURE__*/function (EStatusGame) {
        EStatusGame[EStatusGame["WAITING"] = 0] = "WAITING";
        EStatusGame[EStatusGame["IN_PROGRESS"] = 1] = "IN_PROGRESS";
        EStatusGame[EStatusGame["END_TURN"] = 2] = "END_TURN";
        EStatusGame[EStatusGame["END_GAME"] = 3] = "END_GAME";
        EStatusGame[EStatusGame["CLEAR_TABLE"] = 4] = "CLEAR_TABLE";
        return EStatusGame;
      }({}));
      var ERaiseType = exports('ERaiseType', /*#__PURE__*/function (ERaiseType) {
        ERaiseType[ERaiseType["NONE"] = -1] = "NONE";
        ERaiseType[ERaiseType["ALL_IN"] = 0] = "ALL_IN";
        ERaiseType[ERaiseType["THREE_QUARTER_POT"] = 1] = "THREE_QUARTER_POT";
        ERaiseType[ERaiseType["HALF_POT"] = 2] = "HALF_POT";
        ERaiseType[ERaiseType["THREE_TIMES"] = 3] = "THREE_TIMES";
        return ERaiseType;
      }({}));
      var ESticker = exports('ESticker', /*#__PURE__*/function (ESticker) {
        ESticker["SMILE"] = ":smile";
        return ESticker;
      }({}));
      var EAudioID = exports('EAudioID', /*#__PURE__*/function (EAudioID) {
        EAudioID[EAudioID["NONE"] = 0] = "NONE";
        EAudioID[EAudioID["BGM_BACKGROUND"] = 1] = "BGM_BACKGROUND";
        EAudioID[EAudioID["BGM_INGAME"] = 2] = "BGM_INGAME";
        EAudioID[EAudioID["SFX_CLICK"] = 300] = "SFX_CLICK";
        EAudioID[EAudioID["SFX_ALL_IN"] = 301] = "SFX_ALL_IN";
        EAudioID[EAudioID["SFX_CLAP"] = 302] = "SFX_CLAP";
        EAudioID[EAudioID["SFX_COUNT_DOWN"] = 303] = "SFX_COUNT_DOWN";
        EAudioID[EAudioID["SFX_DROP_CHIP"] = 304] = "SFX_DROP_CHIP";
        EAudioID[EAudioID["SFX_NOTICE"] = 305] = "SFX_NOTICE";
        EAudioID[EAudioID["SFX_PUT_CARDS"] = 306] = "SFX_PUT_CARDS";
        EAudioID[EAudioID["SFX_PUT_CARD"] = 307] = "SFX_PUT_CARD";
        EAudioID[EAudioID["SFX_VIEW_CARDS"] = 308] = "SFX_VIEW_CARDS";
        EAudioID[EAudioID["SFX_OTHER_WIN"] = 309] = "SFX_OTHER_WIN";
        EAudioID[EAudioID["SFX_EARN_CHIP"] = 310] = "SFX_EARN_CHIP";
        EAudioID[EAudioID["SFX_ON_TURN"] = 311] = "SFX_ON_TURN";
        EAudioID[EAudioID["SFX_OUT_ROOM"] = 312] = "SFX_OUT_ROOM";
        EAudioID[EAudioID["SFX_SWITCH_CLICK"] = 313] = "SFX_SWITCH_CLICK";
        EAudioID[EAudioID["SFX_JACKPOT"] = 314] = "SFX_JACKPOT";
        EAudioID[EAudioID["SFX_SLIDER"] = 315] = "SFX_SLIDER";
        EAudioID[EAudioID["SFX_SIT_DOWN"] = 316] = "SFX_SIT_DOWN";
        EAudioID[EAudioID["SFX_MAIN_WIN"] = 317] = "SFX_MAIN_WIN";
        EAudioID[EAudioID["SFX_DROP_MANY_CHIPS"] = 318] = "SFX_DROP_MANY_CHIPS";
        EAudioID[EAudioID["SFX_POP"] = 319] = "SFX_POP";
        EAudioID[EAudioID["SFX_UN_POP"] = 320] = "SFX_UN_POP";
        EAudioID[EAudioID["SFX_FOLD"] = 321] = "SFX_FOLD";
        EAudioID[EAudioID["SFX_TIME_UP"] = 322] = "SFX_TIME_UP";
        EAudioID[EAudioID["SFX_CLOCK"] = 323] = "SFX_CLOCK";
        EAudioID[EAudioID["SFX_SPIN_WIN"] = 324] = "SFX_SPIN_WIN";
        EAudioID[EAudioID["SFX_SPIN_CLICK"] = 325] = "SFX_SPIN_CLICK";
        EAudioID[EAudioID["SFX_CLOSE"] = 326] = "SFX_CLOSE";
        EAudioID[EAudioID["SFX_OPEN"] = 327] = "SFX_OPEN";
        return EAudioID;
      }({}));
      Enum(EAudioID);
      var EByTo = exports('EByTo', /*#__PURE__*/function (EByTo) {
        EByTo[EByTo["BY"] = 0] = "BY";
        EByTo[EByTo["TO"] = 1] = "TO";
        return EByTo;
      }({}));
      var EDirection = exports('EDirection', /*#__PURE__*/function (EDirection) {
        EDirection[EDirection["HORIZONTAL"] = 0] = "HORIZONTAL";
        EDirection[EDirection["VERTICAL"] = 1] = "VERTICAL";
        return EDirection;
      }({}));
      var ECardRank = exports('ECardRank', /*#__PURE__*/function (ECardRank) {
        ECardRank[ECardRank["HIGH_CARD"] = 0] = "HIGH_CARD";
        ECardRank[ECardRank["ONE_PAIR"] = 1] = "ONE_PAIR";
        ECardRank[ECardRank["TWO_PAIR"] = 2] = "TWO_PAIR";
        ECardRank[ECardRank["THREE_OF_A_KIND"] = 3] = "THREE_OF_A_KIND";
        ECardRank[ECardRank["STRAIGHT"] = 4] = "STRAIGHT";
        ECardRank[ECardRank["FLUSH"] = 5] = "FLUSH";
        ECardRank[ECardRank["FULL_HOUSE"] = 6] = "FULL_HOUSE";
        ECardRank[ECardRank["FOUR_OF_A_KIND"] = 7] = "FOUR_OF_A_KIND";
        ECardRank[ECardRank["STRAIGHT_FLUSH"] = 8] = "STRAIGHT_FLUSH";
        ECardRank[ECardRank["ROYAL_FLUSH"] = 9] = "ROYAL_FLUSH";
        return ECardRank;
      }({}));
      var EUIShopType = exports('EUIShopType', /*#__PURE__*/function (EUIShopType) {
        EUIShopType[EUIShopType["CHIP"] = 0] = "CHIP";
        EUIShopType[EUIShopType["COIN"] = 1] = "COIN";
        EUIShopType[EUIShopType["DIAMOND"] = 2] = "DIAMOND";
        EUIShopType[EUIShopType["PROPS"] = 3] = "PROPS";
        EUIShopType[EUIShopType["CARD"] = 4] = "CARD";
        EUIShopType[EUIShopType["DECORATE"] = 5] = "DECORATE";
        EUIShopType[EUIShopType["MY_PROPS"] = 6] = "MY_PROPS";
        EUIShopType[EUIShopType["PURCHASED"] = 7] = "PURCHASED";
        return EUIShopType;
      }({}));
      var EShopType = exports('EShopType', /*#__PURE__*/function (EShopType) {
        EShopType[EShopType["CHIP"] = 0] = "CHIP";
        EShopType[EShopType["COIN"] = 1] = "COIN";
        EShopType[EShopType["PROPS"] = 2] = "PROPS";
        EShopType[EShopType["CARD"] = 3] = "CARD";
        EShopType[EShopType["DECORATOR"] = 4] = "DECORATOR";
        EShopType[EShopType["MY_PROPS"] = 5] = "MY_PROPS";
        EShopType[EShopType["PURCHASED"] = 6] = "PURCHASED";
        return EShopType;
      }({}));
      Enum(EShopType);
      function getEnumLength(enumObj) {
        return Object.keys(enumObj).length;
      }
      function getEnumFromKeys(_enum, _key) {
        return _enum[_key];
      }
      var NStackType;
      (function (_NStackType) {
        var EEnum = /*#__PURE__*/function (EEnum) {
          EEnum[EEnum["ONLY_ONE"] = 0] = "ONLY_ONE";
          EEnum[EEnum["COMPLETE"] = 1] = "COMPLETE";
          EEnum[EEnum["LAST"] = 2] = "LAST";
          return EEnum;
        }({});
        _NStackType.EEnum = EEnum;
        var ccType = _NStackType.ccType = Enum(EEnum);
        var tooltip = "\n                    1. " + EEnum[EEnum.ONLY_ONE] + ": If there one is activating, any other next one will not be ignored.\n                    2. " + EEnum[EEnum.COMPLETE] + ": If there is one is activating, any other next one will be storaged, then waiting the current activating done, then will be actived.\n                    3. " + EEnum[EEnum.LAST] + ": If there is one is activating, the next one will be activating instanstly, which mean the current will be de-active.\n\n                    ";
        var ccProperty = _NStackType.ccProperty = {
          type: ccType,
          tooltip: tooltip
        };
      })(NStackType || (NStackType = exports('NStackType', {})));
      var MessageNotifi = exports('MessageNotifi', /*#__PURE__*/function (MessageNotifi) {
        MessageNotifi["EMAIL"] = "EMAIL";
        MessageNotifi["SYSTEM"] = "SYSTEM";
        return MessageNotifi;
      }({}));
      var SystemNotifiType = exports('SystemNotifiType', /*#__PURE__*/function (SystemNotifiType) {
        SystemNotifiType["MESSAGE"] = "MESSAGE";
        SystemNotifiType["DAILY_LOGIN"] = "DAILY_LOGIN";
        return SystemNotifiType;
      }({}));
      var EmailType = exports('EmailType', /*#__PURE__*/function (EmailType) {
        EmailType["FRIEND_ACCEPTED"] = "FRIEND_ACCEPTED";
        EmailType["FRIEND_REQUEST"] = "FRIEND_REQUEST";
        return EmailType;
      }({}));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/EnumUtils.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc'], function (exports) {
  var _applyDecoratedDescriptor, _createClass, _initializerDefineProperty, cclegacy, _decorator, CCString, Enum;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _createClass = module.createClass;
      _initializerDefineProperty = module.initializerDefineProperty;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      CCString = module.CCString;
      Enum = module.Enum;
    }],
    execute: function () {
      exports('NSEnumUtils', void 0);
      cclegacy._RF.push({}, "d3319jbPlBJWqmImf7bnxdp", "EnumUtils", undefined);
      var NSEnumUtils;
      (function (_NSEnumUtils, _dec, _dec2, _dec3, _class, _class2, _descriptor) {
        var Helper = (_dec = _decorator.ccclass('EnumUtils.Helper'), _dec2 = _decorator.property([CCString]), _dec3 = _decorator.property({}), _dec(_class = (_class2 = /*#__PURE__*/function () {
          function Helper() {
            _initializerDefineProperty(this, "_arr", _descriptor, this);
          }
          Helper.create = function create(_arr) {
            var ret = new Helper();
            ret._arr = _arr;
            return ret;
          };
          var _proto = Helper.prototype;
          _proto.number = function number(key) {
            return this._arr.findIndex(function (_a) {
              return _a === key;
            });
          };
          _proto.key = function key(num) {
            return this._arr[num];
          };
          _proto.is = function is(key) {
            return this._arr.includes(key);
          };
          _createClass(Helper, [{
            key: "length",
            get: function get() {
              return this._arr.length;
            }
          }, {
            key: "enum",
            get: function get() {
              return this._arr.reduce(function (a, k, i) {
                a[k] = i;
                return a;
              }, {});
            }
          }, {
            key: "arr",
            get: function get() {
              return this._arr;
            }
          }, {
            key: "cc",
            get: function get() {
              return this._arr.map(function (name, value) {
                return {
                  name: name,
                  value: value
                };
              });
            }
          }]);
          return Helper;
        }(), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "_arr", [_dec2], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return [];
          }
        }), _applyDecoratedDescriptor(_class2.prototype, "length", [_dec3], Object.getOwnPropertyDescriptor(_class2.prototype, "length"), _class2.prototype)), _class2)) || _class);
        _NSEnumUtils.Helper = Helper;
        var _EnumUtils = /*#__PURE__*/function () {
          function _EnumUtils() {
            this._pool = {};
          }
          var _proto2 = _EnumUtils.prototype;
          _proto2.extractor = function extractor(id, keys) {
            var _helper = Helper.create(keys);
            var _symbol = this._symbol(id);
            this._pool[_symbol] = _helper;
            return _helper;
          };
          _proto2._symbol = function _symbol(symbol) {
            return typeof symbol === 'symbol' ? symbol : Symbol(symbol);
          };
          _proto2.get = function get(id) {
            var _symbol = this._symbol(id);
            return this._pool[_symbol];
          };
          _proto2.length = function length(enumObj, ccenum) {
            if (ccenum === void 0) {
              ccenum = false;
            }
            enumObj = ccenum ? Enum(enumObj) : enumObj;
            return Object.keys(enumObj).length;
          };
          _proto2.from = function from(_enum, _key) {
            return _enum[_key];
          };
          _proto2.array = function array(_enum, ccenum) {
            if (ccenum === void 0) {
              ccenum = false;
            }
            _enum = ccenum ? Enum(_enum) : _enum;
            return Object.values(_enum).map(function (_value) {
              return _enum[_value];
            });
          };
          return _EnumUtils;
        }();
        var utils = _NSEnumUtils.utils = new _EnumUtils();
      })(NSEnumUtils || (NSEnumUtils = exports('NSEnumUtils', {})));
      var pEnumUtils = exports('pEnumUtils', NSEnumUtils.utils);
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/EventDefine.ts", ['cc'], function (exports) {
  var cclegacy, Enum;
  return {
    setters: [function (module) {
      cclegacy = module.cclegacy;
      Enum = module.Enum;
    }],
    execute: function () {
      exports('NSEventDefine', void 0);
      cclegacy._RF.push({}, "96bcbZ4mSxIPqD1axj1uiFU", "EventDefine", undefined);
      var NSEventDefine;
      (function (_NSEventDefine) {
        var listeners = _NSEventDefine.listeners = ["onJoinTable", "onJoinGame", "onTableEvent", "onUpdateUsers", "onClearTable", "onEndTurn", "onEndGame", "onKickUser", "onInvitePlay", "onUpdateMyself", "onChat", "onUserChat", "disconnect", "close", "onNotification", "onFriends", "onDealerTipped", "onTimeTreasureMilestoneAvailable", "onTimeTreasureReset", "onKickPlayerNotification", 'onSngTournamentStatus', 'onSngTournamentEvent', 'onSngTournamentUpdate', 'onSngPlayerEliminated', 'onSngTournamentResult', "onListTableEvent", "onSngTournamentTablesEvent", "onMttTournamentTablesEvent", "onVoteKickPlayer", "onPlayerEventTournament", "onMttPreTournamentStart", "onMttTournamentUpdate", "onMttPlayerEliminated", "onMttTournamentResult", "onMttTournamentEnded", "onMttRebuyOpportunity", "onMttAddonOpportunity", "onMttRebuyPending", "onMttRebuyCountdown", "onMttRebuyDecisionResult", "onMttAddonDecisionResult", "onMttTableResumed", "onMttPrizeAwarded", "onMttConsolidationStarted", "onPlayerDisconnected", "onPlayerReconnected", "onSngPlayerDisconnected", "onSngPlayerReconnected", "onMttPlayerDisconnected", "onMttPlayerReconnected", "onTableOwnerLeft", "onTableDeleted"];
        var events = _NSEventDefine.events = ['none', 'onTick', 'onChat', 'onJoinTable', 'onJoinGame', 'onTableEvent', 'onUpdateUsers', 'onClearTable', 'onEndTurn', 'io-error', 'onStandUp', 'onUpdateMyself', 'onLeaveTable', 'onInvitePlay', "onKickUser", 'onGameLoadedSuccess', 'onPlayingScreenLoadedSuccess', 'onGameResume', 'onPTSearchRoom', 'onPTFilterRoom', 'onUpdateNewBalance', 'onRefetchUserData', 'onLandingMainScreen', 'onLandingLogin', 'onLoggout', 'onError', 'disconnect', 'close', 'onSitDown', 'onNewGame', 'onNewRound', 'onLoadedEmailsAndNotices', 'onAddFriendSuccess', 'onDeleteFriend', 'onAcceptFriend', 'onRejectFriend', 'onBlockFriend', 'onUnBlockFriend', 'onHasChat', 'onNotification', 'onVolumeChange', 'onSoundChange', 'onVibrateChange', 'onFriends', 'onPopupLoadedSuccess', 'onMainSceneLoadedSuccess', 'onUserChat', 'onHasUserChat', 'updateNoticePointChat', 'messageOnMarkAllAsRead', 'onHasFriendMessage', 'onFriendAcceptedRequest', 'onPeopleSentFriendRequest', 'onInitViewPlaying', 'onEndGame', 'go_to_diamond_shop_page', 'onUpdateAvatar', 'onYardLoadedSuccess', 'onEngineInited', 'onGameInited', 'onUnAddFriend', 'onLoggingIn', 'exitTutorial', 'onSngTournamentStatus', 'onSngTournamentEvent', 'onSngTournamentUpdate', 'onSngPlayerEliminated', 'onSngTournamentResult', 'onStartTurn', 'onSNGLoadedSuccess', 'onLoadedArticles', 'onUpdatePlayerName', 'onHasFriendRequest', 'reopensafebox', 'onDealerTipped', "onPlayingScreenPopupLoaded", "onSngTournamentEnded", 'onDesignResolutionChanged', 'onCanvasResize', "onVerifyEmail", "onVoteKickPlayer", "onOnOffMusic", "onOnOffSound", "onGameTabHide", "onGamePause", "onUpdateLevel", "onKickPlayerNotification", "onListTableEvent", "onSngTournamentTablesEvent", "onMttTournamentTablesEvent", "onChangeLanguage", 'onShopLoadedSuccess', "onYardPopupLoadedSuccess", "onYardPrivateLoadedSuccess", "onJoinMTTLobby", "onMTTStarted", "onWatchMTTLobby", "onConnect", "onDateChanged", "onBundleLoaded", "onReconnected"
        //'onOpenUI', 'onCloseUI',
        ];

        var EEvent = _NSEventDefine.EEvent = Enum(events.reduce(function (acc, val, idx) {
          acc[val] = idx;
          return acc;
        }, {}));
      })(NSEventDefine || (NSEventDefine = exports('NSEventDefine', {})));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/EventDriver.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './ArrayUtils.ts', './ClassUtils.ts'], function (exports) {
  var _inheritsLoose, _createClass, _regeneratorRuntime, _createForOfIteratorHelperLoose, _asyncToGenerator, cclegacy, _decorator, Component, pArray, pClassUtils;
  return {
    setters: [function (module) {
      _inheritsLoose = module.inheritsLoose;
      _createClass = module.createClass;
      _regeneratorRuntime = module.regeneratorRuntime;
      _createForOfIteratorHelperLoose = module.createForOfIteratorHelperLoose;
      _asyncToGenerator = module.asyncToGenerator;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Component = module.Component;
    }, function (module) {
      pArray = module.pArray;
    }, function (module) {
      pClassUtils = module.pClassUtils;
    }],
    execute: function () {
      exports('NSEventDriver', void 0);
      cclegacy._RF.push({}, "be0853EZZBKTo10GTUoxNCJ", "EventDriver", undefined);
      var ccclass = _decorator.ccclass;
      var NSEventDriver;
      (function (_NSEventDriver, _dec, _class2) {
        var Handler = /*#__PURE__*/function () {
          Handler.create = function create(opt) {
            var ret = new Handler();
            ret._init(opt);
            return ret;
          };
          function Handler() {
            this.log = void 0;
            this.error = void 0;
            this.warn = void 0;
            this.__waiters_ = {};
            this.__json_ = false;
            this.__log_ = false;
            this.__alias_ = '[EventDriver]';
            this.__key_ = function (key) {
              return key;
            };
            this.__events_ = {};
            this.log = console.log.bind(console, this.__alias_ + " Log:");
            this.error = console.error.bind(console, this.__alias_ + " Error:");
            this.warn = console.warn.bind(console, this.__alias_ + " Warning:");
          }
          var _proto = Handler.prototype;
          _proto._init = function _init(_temp) {
            var _ref = _temp === void 0 ? {} : _temp,
              _ref$key = _ref.key,
              key = _ref$key === void 0 ? function (_key) {
                return _key;
              } : _ref$key,
              _ref$log = _ref.log,
              log = _ref$log === void 0 ? false : _ref$log,
              _ref$alias = _ref.alias,
              alias = _ref$alias === void 0 ? '[EventDriver]' : _ref$alias,
              _ref$after = _ref.after,
              after = _ref$after === void 0 ? function () {} : _ref$after,
              _ref$json = _ref.json,
              json = _ref$json === void 0 ? false : _ref$json;
            this.__key_ = key;
            this.__log_ = log;
            this.__alias_ = alias;
            this.__json_ = json;
            after(this);
          };
          _proto.waits = /*#__PURE__*/function () {
            var _waits = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(key) {
              var _this2 = this;
              var _len,
                keys,
                _key2,
                _iterator,
                _step,
                _key,
                _map,
                _args2 = arguments;
              return _regeneratorRuntime().wrap(function _callee$(_context) {
                while (1) switch (_context.prev = _context.next) {
                  case 0:
                    for (_len = _args2.length, keys = new Array(_len > 1 ? _len - 1 : 0), _key2 = 1; _key2 < _len; _key2++) {
                      keys[_key2 - 1] = _args2[_key2];
                    }
                    keys = pArray.flatter.apply(pArray, [key].concat(keys));
                    _iterator = _createForOfIteratorHelperLoose(keys);
                  case 3:
                    if ((_step = _iterator()).done) {
                      _context.next = 9;
                      break;
                    }
                    _key = _step.value;
                    _context.next = 7;
                    return this.wait(_key);
                  case 7:
                    _context.next = 3;
                    break;
                  case 9:
                    _map = keys.map(function (_key) {
                      return _this2.wait(_key);
                    });
                    return _context.abrupt("return", Promise.all(_map));
                  case 11:
                  case "end":
                    return _context.stop();
                }
              }, _callee, this);
            }));
            function waits(_x) {
              return _waits.apply(this, arguments);
            }
            return waits;
          }();
          _proto.wait = /*#__PURE__*/function () {
            var _wait2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(key) {
              var _key, _otps, _wait;
              return _regeneratorRuntime().wrap(function _callee2$(_context2) {
                while (1) switch (_context2.prev = _context2.next) {
                  case 0:
                    _key = this.__key_(key);
                    _otps = this._get(key);
                    _wait = this.__waiters_[_key];
                    if (!_wait) this.__waiters_[_key] = new Promise(function (_rs) {
                      return _otps.push.apply(_otps, pClassUtils.mapper([function () {
                        for (var _len2 = arguments.length, args = new Array(_len2), _key3 = 0; _key3 < _len2; _key3++) {
                          args[_key3] = arguments[_key3];
                        }
                        return _rs && _rs(args);
                      }]));
                    });
                    _context2.next = 6;
                    return this.__waiters_[_key];
                  case 6:
                  case "end":
                    return _context2.stop();
                }
              }, _callee2, this);
            }));
            function wait(_x2) {
              return _wait2.apply(this, arguments);
            }
            return wait;
          }();
          _proto.actResetWaiter = function actResetWaiter(key) {
            var _key = this.__key_(key);
            var _otps = this._get(key);
            this.__waiters_[_key] = new Promise(function (_rs) {
              return _otps.push.apply(_otps, pClassUtils.mapper([function () {
                for (var _len3 = arguments.length, args = new Array(_len3), _key4 = 0; _key4 < _len3; _key4++) {
                  args[_key4] = arguments[_key4];
                }
                return _rs && _rs(args);
              }]));
            });
          };
          _proto._get = function _get(key) {
            var _this$__events_, _this$__events_2, _key5, _this$__events_2$_key;
            key = this.__key_(key);
            (_this$__events_ = this.__events_) != null ? _this$__events_ : this.__events_ = {};
            (_this$__events_2$_key = (_this$__events_2 = this.__events_)[_key5 = key]) != null ? _this$__events_2$_key : _this$__events_2[_key5] = [];
            return this.__events_[key];
          };
          _proto.isEmpty = function isEmpty(key) {
            return this._get(key).length <= 0;
          };
          _proto._set = function _set(key, value) {
            var _this$__events_3;
            key = this.__key_(key);
            (_this$__events_3 = this.__events_) != null ? _this$__events_3 : this.__events_ = {};
            this.__events_[key] = value;
          }

          /**
          * @deprecated Use `this._map` instead. Cause Cocos build with lower js version which can not understand `yield`
          */;
          _proto._yield = /*#__PURE__*/
          _regeneratorRuntime().mark(function _yield(listener) {
            var _iterator2, _step2, _ret$_priority, ret;
            return _regeneratorRuntime().wrap(function _yield$(_context3) {
              while (1) switch (_context3.prev = _context3.next) {
                case 0:
                  _iterator2 = _createForOfIteratorHelperLoose(listener);
                case 1:
                  if ((_step2 = _iterator2()).done) {
                    _context3.next = 7;
                    break;
                  }
                  ret = _step2.value;
                  _context3.next = 5;
                  return typeof ret === 'function' ? {
                    _function: ret,
                    _priority: 0,
                    _this: null
                  } : {
                    _function: ret._function,
                    _this: ret._this,
                    _priority: (_ret$_priority = ret._priority) != null ? _ret$_priority : 0
                  };
                case 5:
                  _context3.next = 1;
                  break;
                case 7:
                case "end":
                  return _context3.stop();
              }
            }, _yield);
          });
          _proto.set = function set(event, listener) {
            this._set(event, []);
            for (var _len4 = arguments.length, listeners = new Array(_len4 > 2 ? _len4 - 2 : 0), _key6 = 2; _key6 < _len4; _key6++) {
              listeners[_key6 - 2] = arguments[_key6];
            }
            this.add.apply(this, [event, listener].concat(listeners));
          };
          _proto.add = function add(event, listener) {
            for (var _len5 = arguments.length, listeners = new Array(_len5 > 2 ? _len5 - 2 : 0), _key7 = 2; _key7 < _len5; _key7++) {
              listeners[_key7 - 2] = arguments[_key7];
            }
            listeners = pArray.flatter.apply(pArray, [listener].concat(listeners));
            var opts = this._get(event);
            opts.push.apply(opts, pClassUtils.mapper(listeners));
            opts.sort(function (a, b) {
              return a._priority - b._priority;
            });
          };
          _proto.remove = function remove(event, listener) {
            for (var _len6 = arguments.length, listeners = new Array(_len6 > 2 ? _len6 - 2 : 0), _key8 = 2; _key8 < _len6; _key8++) {
              listeners[_key8 - 2] = arguments[_key8];
            }
            listeners = pArray.flatter.apply(pArray, [listener].concat(listeners));
            var map = pClassUtils.mapper(listeners);
            var opts = this._get(event).filter(function (opt) {
              var index = map.findIndex(function (_opt) {
                return _opt._function === opt._function && _opt._this === opt._this;
              });
              if (index < 0) return true;
              map.splice(index, 1);
              return false;
            });
            this._set(event, opts);
          };
          _proto.clear = function clear(event) {
            this._set(event, []);
          };
          _proto.invoke = function invoke(event) {
            try {
              var _key = this.__key_(event);
              var list = this._get(event);
              if (!_key || !list) return;
              for (var _len7 = arguments.length, args = new Array(_len7 > 1 ? _len7 - 1 : 0), _key9 = 1; _key9 < _len7; _key9++) {
                args[_key9 - 1] = arguments[_key9];
              }
              var results = pClassUtils.invoker.apply(pClassUtils, [list].concat(args));
              this.__waiters_[_key] = Promise.resolve([].concat(args));
              this.__log_ && this.log(this.__alias_ + " Log: Invoked", this.__key_(event), "with arguments: ", this.__json_ ? JSON.stringify(args) : args, "\t\t Listeners: ", list);
              return results;
            } catch (e) {
              this.error(this.__alias_ + " Log: Error", e);
              return [];
            }
          };
          _proto.on = function on(events) {
            if (!events || events.length <= 0) return;
            for (var _iterator3 = _createForOfIteratorHelperLoose(events), _step3; !(_step3 = _iterator3()).done;) {
              var _step3$value = _step3.value,
                _key = _step3$value[0],
                _function = _step3$value[1],
                _this = _step3$value[2],
                _priority = _step3$value[3],
                _args = _step3$value[4];
              this.add(_key, {
                _function: _function,
                _this: _this,
                _priority: _priority,
                _args: _args
              });
            }
          };
          _proto.off = function off(events) {
            if (!events || events.length <= 0) return;
            for (var _iterator4 = _createForOfIteratorHelperLoose(events), _step4; !(_step4 = _iterator4()).done;) {
              var _step4$value = _step4.value,
                _key = _step4$value[0],
                _function = _step4$value[1],
                _this = _step4$value[2];
              this.remove(_key, {
                _function: _function,
                _this: _this
              });
            }
          };
          return Handler;
        }();
        _NSEventDriver.Handler = Handler;
        var Component$1 = (_dec = ccclass('EventDriver'), _dec(_class2 = /*#__PURE__*/function (_cc$Component) {
          _inheritsLoose(Component, _cc$Component);
          function Component() {
            var _this3;
            for (var _len8 = arguments.length, args = new Array(_len8), _key10 = 0; _key10 < _len8; _key10++) {
              args[_key10] = arguments[_key10];
            }
            _this3 = _cc$Component.call.apply(_cc$Component, [this].concat(args)) || this;
            _this3._handler = null;
            return _this3;
          }
          var _proto2 = Component.prototype;
          _proto2.set = function set(event, listener) {
            var _this$_event;
            for (var _len9 = arguments.length, listeners = new Array(_len9 > 2 ? _len9 - 2 : 0), _key11 = 2; _key11 < _len9; _key11++) {
              listeners[_key11 - 2] = arguments[_key11];
            }
            (_this$_event = this._event).set.apply(_this$_event, [event, listener].concat(listeners));
          };
          _proto2.add = function add(event, listener) {
            var _this$_event2;
            for (var _len10 = arguments.length, listeners = new Array(_len10 > 2 ? _len10 - 2 : 0), _key12 = 2; _key12 < _len10; _key12++) {
              listeners[_key12 - 2] = arguments[_key12];
            }
            (_this$_event2 = this._event).add.apply(_this$_event2, [event, listener].concat(listeners));
          };
          _proto2.remove = function remove(event, listener) {
            var _this$_event3;
            for (var _len11 = arguments.length, listeners = new Array(_len11 > 2 ? _len11 - 2 : 0), _key13 = 2; _key13 < _len11; _key13++) {
              listeners[_key13 - 2] = arguments[_key13];
            }
            (_this$_event3 = this._event).remove.apply(_this$_event3, [event, listener].concat(listeners));
          };
          _proto2.invoke = function invoke(event) {
            var _this$_event4;
            for (var _len12 = arguments.length, args = new Array(_len12 > 1 ? _len12 - 1 : 0), _key14 = 1; _key14 < _len12; _key14++) {
              args[_key14 - 1] = arguments[_key14];
            }
            return (_this$_event4 = this._event).invoke.apply(_this$_event4, [event].concat(args));
          };
          _proto2.clear = function clear(_event) {
            this._event.clear(_event);
          };
          _proto2.waits = /*#__PURE__*/function () {
            var _waits2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(key) {
              var _this$_event5;
              var _len13,
                keys,
                _key15,
                _args5 = arguments;
              return _regeneratorRuntime().wrap(function _callee3$(_context4) {
                while (1) switch (_context4.prev = _context4.next) {
                  case 0:
                    for (_len13 = _args5.length, keys = new Array(_len13 > 1 ? _len13 - 1 : 0), _key15 = 1; _key15 < _len13; _key15++) {
                      keys[_key15 - 1] = _args5[_key15];
                    }
                    return _context4.abrupt("return", (_this$_event5 = this._event).waits.apply(_this$_event5, [key].concat(keys)));
                  case 2:
                  case "end":
                    return _context4.stop();
                }
              }, _callee3, this);
            }));
            function waits(_x3) {
              return _waits2.apply(this, arguments);
            }
            return waits;
          }();
          _proto2.wait = function wait(event) {
            return this._event.wait(event);
          };
          _proto2.on = function on(_events, _priority) {
            this._event.on(_events);
          };
          _proto2.off = function off(_events) {
            this._event.off(_events);
          };
          _createClass(Component, [{
            key: "_event",
            get: function get() {
              var _this$_handler;
              return (_this$_handler = this._handler) != null ? _this$_handler : this._handler = Handler.create();
            }
          }]);
          return Component;
        }(Component)) || _class2);
        _NSEventDriver.Component = Component$1;
      })(NSEventDriver || (NSEventDriver = exports('NSEventDriver', {})));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/EventManager.ts", ['cc', './EventDriver.ts', './EventDefine.ts'], function (exports) {
  var cclegacy, game, Game, view, NSEventDriver, NSEventDefine;
  return {
    setters: [function (module) {
      cclegacy = module.cclegacy;
      game = module.game;
      Game = module.Game;
      view = module.view;
    }, function (module) {
      NSEventDriver = module.NSEventDriver;
    }, function (module) {
      NSEventDefine = module.NSEventDefine;
    }],
    execute: function () {
      cclegacy._RF.push({}, "dfa90eNptdFBJdTbXhwuwr6", "EventManager", undefined);
      var pEventManager = exports('pEventManager', NSEventDriver.Handler.create({
        log: true,
        alias: '[pEventManager]',
        key: function key(_key) {
          return typeof _key === 'number' ? NSEventDefine.EEvent[_key] : _key;
        },
        after: function after(_self) {
          game.on(Game.EVENT_ENGINE_INITED, function () {
            for (var _len = arguments.length, args = new Array(_len), _key2 = 0; _key2 < _len; _key2++) {
              args[_key2] = arguments[_key2];
            }
            return _self.invoke.apply(_self, ['onEngineInited'].concat(args));
          });
          game.on(Game.EVENT_GAME_INITED, function () {
            for (var _len2 = arguments.length, args = new Array(_len2), _key3 = 0; _key3 < _len2; _key3++) {
              args[_key3] = arguments[_key3];
            }
            return _self.invoke.apply(_self, ['onGameInited'].concat(args));
          });
          game.on(Game.EVENT_HIDE, function () {
            for (var _len3 = arguments.length, args = new Array(_len3), _key4 = 0; _key4 < _len3; _key4++) {
              args[_key4] = arguments[_key4];
            }
            return _self.invoke.apply(_self, ['onGameInited'].concat(args));
          });
          game.on(Game.EVENT_PAUSE, function () {
            for (var _len4 = arguments.length, args = new Array(_len4), _key5 = 0; _key5 < _len4; _key5++) {
              args[_key5] = arguments[_key5];
            }
            return _self.invoke.apply(_self, ['onGameInited'].concat(args));
          });
          game.on(Game.EVENT_RESUME, function () {
            for (var _len5 = arguments.length, args = new Array(_len5), _key6 = 0; _key6 < _len5; _key6++) {
              args[_key6] = arguments[_key6];
            }
            return _self.invoke.apply(_self, ['onGameInited'].concat(args));
          });
          view.on('design-resolution-changed', function () {
            for (var _len6 = arguments.length, args = new Array(_len6), _key7 = 0; _key7 < _len6; _key7++) {
              args[_key7] = arguments[_key7];
            }
            return _self.invoke.apply(_self, ['onDesignResolutionChanged'].concat(args));
          });
          view.on('canvas-resize', function () {
            for (var _len7 = arguments.length, args = new Array(_len7), _key8 = 0; _key8 < _len7; _key8++) {
              args[_key8] = arguments[_key8];
            }
            return _self.invoke.apply(_self, ['onCanvasResize'].concat(args));
          });
        }
      }));
      globalThis['pEventManager'] = pEventManager;
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/ExpCommand.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './Connection.ts'], function (exports) {
  var _asyncToGenerator, _regeneratorRuntime, cclegacy, _connection;
  return {
    setters: [function (module) {
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
    }, function (module) {
      _connection = module.default;
    }],
    execute: function () {
      exports('default', request);
      cclegacy._RF.push({}, "9d14cJ06vhH5q0RQbF/2U4A", "ExpCommand", undefined);
      var EHC;
      (function (_EHC) {
        var prefix = _EHC.prefix = "game.expHandler.";
      })(EHC || (EHC = {}));
      function request(_x, _x2, _x3) {
        return _request.apply(this, arguments);
      }
      function _request() {
        _request = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(command, payload, cb) {
          return _regeneratorRuntime().wrap(function _callee$(_context) {
            while (1) switch (_context.prev = _context.next) {
              case 0:
                return _context.abrupt("return", _connection.send(EHC.prefix + command, payload, cb));
              case 1:
              case "end":
                return _context.stop();
            }
          }, _callee);
        }));
        return _request.apply(this, arguments);
      }
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/FacebookManager.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './Decorators.ts'], function (exports) {
  var _asyncToGenerator, _regeneratorRuntime, cclegacy, pDecorators;
  return {
    setters: [function (module) {
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
    }, function (module) {
      pDecorators = module.pDecorators;
    }],
    execute: function () {
      var _dec, _class;
      cclegacy._RF.push({}, "2b3b1mC+7RLPbSqyEhe7lWy", "FacebookManager", undefined);
      var singleton = pDecorators.singleton;
      var FacebookManager = exports('FacebookManager', (_dec = singleton({
        initer: "_init",
        destroyer: "_destroy",
        wake: "Instantly"
      }), _dec(_class = /*#__PURE__*/function () {
        function FacebookManager() {
          this._FB = null;
          this._fbAppId = '1823567984888361';
        }
        FacebookManager.getInstance = function getInstance() {
          return pDecorators.instance(FacebookManager);
        };
        var _proto = FacebookManager.prototype;
        _proto._init = function _init() {
          this.initializeFacebook();
        };
        _proto.initializeFacebook = function initializeFacebook() {
          {
            this.loadFacebookSDK();
          }
        };
        _proto.loadFacebookSDK = function loadFacebookSDK() {
          var _this = this;
          return new Promise(function (resolve) {
            window.fbAsyncInit = function () {
              if (typeof FB !== 'undefined') {
                _this._FB = FB;
                _this._FB.init({
                  appId: _this._fbAppId,
                  cookie: true,
                  xfbml: true,
                  version: 'v19.0' // Cp nht version mi nht ca Facebook SDK
                });
              }
            };

            var id = 'facebook-jssdk';
            if (document.getElementById(id)) return;
            var js = document.createElement('script');
            js.id = id;
            js.src = 'https://connect.facebook.net/en_US/sdk.js';
            document.body.appendChild(js);
          });
        };
        _proto.login = /*#__PURE__*/function () {
          var _login = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {
            var _this2 = this;
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  return _context.abrupt("return", new Promise(function (resolve, reject) {
                    if (!_this2._FB) {
                      reject('Facebook SDK not initialized');
                      return;
                    }
                    _this2._FB.login(function (response) {
                      if (response.status === 'connected') {
                        _this2._FB.api('/me', {
                          fields: 'id,name,email,picture'
                        }, function (userInfo) {
                          resolve({
                            accessToken: response.authResponse.accessToken,
                            userInfo: userInfo
                          });
                        });
                      } else {
                        reject('Facebook login failed');
                      }
                    }, {
                      scope: 'public_profile,email'
                    });
                  }));
                case 1:
                case "end":
                  return _context.stop();
              }
            }, _callee);
          }));
          function login() {
            return _login.apply(this, arguments);
          }
          return login;
        }();
        _proto.logout = /*#__PURE__*/function () {
          var _logout = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {
            var _this3 = this;
            return _regeneratorRuntime().wrap(function _callee2$(_context2) {
              while (1) switch (_context2.prev = _context2.next) {
                case 0:
                  return _context2.abrupt("return", new Promise(function (resolve, reject) {
                    if (!_this3._FB) {
                      reject('Facebook SDK not initialized');
                      return;
                    }
                    _this3._FB.logout(function (response) {
                      resolve();
                    });
                  }));
                case 1:
                case "end":
                  return _context2.stop();
              }
            }, _callee2);
          }));
          function logout() {
            return _logout.apply(this, arguments);
          }
          return logout;
        }();
        return FacebookManager;
      }()) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/FileUtils.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './Decorators.ts', './EventDriver.ts', './EventManager.ts'], function (exports) {
  var _inheritsLoose, _createClass, _asyncToGenerator, _regeneratorRuntime, cclegacy, sys, assetManager, native, pDecorators, NSEventDriver, pEventManager;
  return {
    setters: [function (module) {
      _inheritsLoose = module.inheritsLoose;
      _createClass = module.createClass;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      sys = module.sys;
      assetManager = module.assetManager;
      native = module.native;
    }, function (module) {
      pDecorators = module.pDecorators;
    }, function (module) {
      NSEventDriver = module.NSEventDriver;
    }, function (module) {
      pEventManager = module.pEventManager;
    }],
    execute: function () {
      var _dec, _class2;
      cclegacy._RF.push({}, "36940hctalKJri9sMKaOb67", "FileUtils", undefined);
      var logger = pDecorators.logger;
      var _SYS = (_dec = logger('FileSysUtils'), _dec(_class2 = /*#__PURE__*/function (_NSEventDriver$Handle) {
        _inheritsLoose(_SYS, _NSEventDriver$Handle);
        function _SYS() {
          return _NSEventDriver$Handle.apply(this, arguments) || this;
        }
        return _SYS;
      }(NSEventDriver.Handler)) || _class2);
      var _Brower = /*#__PURE__*/function (_SYS2) {
        _inheritsLoose(_Brower, _SYS2);
        function _Brower() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _SYS2.call.apply(_SYS2, [this].concat(args)) || this;
          _this._onces = false;
          _this._divFileInput = null;
          _this._file = null;
          return _this;
        }
        var _proto = _Brower.prototype;
        _proto.select = function select(onDone, onCancel) {
          var _this2 = this;
          return new Promise(function (rs) {
            var _onDone = function _onDone() {
              _this2.log("__> File selected for upload.");
              onDone && onDone(_this2._file);
              rs(_this2._file);
              _this2.remove('onUploaded', _onDone);
              _this2.remove('onCancel', _onCancel);
            };
            var _onCancel = function _onCancel() {
              _this2.log("__> File selection cancelled by user.");
              rs(null);
              onCancel && onCancel();
              _this2.remove('onCancel', _onCancel);
              _this2.remove('onUploaded', _onDone);
            };
            _this2.add('onUploaded', _onDone);
            _this2.add('onCancel', _onCancel);
            _this2._divFileInput.click();
          });
        };
        _proto.setup = function setup() {
          var _this$_divFileInput;
          if (this._onces) return;
          this._onces = true;
          (_this$_divFileInput = this._divFileInput) != null ? _this$_divFileInput : this._divFileInput = document.createElement('input');
          this._divFileInput.type = 'file';
          this._divFileInput.accept = 'image/*';
          this._divFileInput.style.display = 'none';
          this._divFileInput.addEventListener('change', this._upload.bind(this));
          //this._divFileInput.addEventListener('cancel', () => this.invoke('onCancel'))

          document.body.appendChild(this._divFileInput);
        };
        _proto._upload = /*#__PURE__*/function () {
          var _upload2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(event) {
            var _this3 = this;
            var div, file, reader;
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  div = event.target;
                  file = div.files[0];
                  this._file = file;
                  if (file) {
                    _context.next = 7;
                    break;
                  }
                  this.invoke('onCancel');
                  this.log("__> No file selected for upload.");
                  return _context.abrupt("return");
                case 7:
                  reader = new FileReader();
                  reader.onload = function (e) {
                    return _this3.invoke('onUploaded', e.target.result);
                  };
                  reader.readAsDataURL(file);
                case 10:
                case "end":
                  return _context.stop();
              }
            }, _callee, this);
          }));
          function _upload(_x) {
            return _upload2.apply(this, arguments);
          }
          return _upload;
        }();
        _createClass(_Brower, [{
          key: "file",
          get: function get() {
            return this._file;
          }
        }]);
        return _Brower;
      }(_SYS);
      var _Android = /*#__PURE__*/function (_SYS3) {
        _inheritsLoose(_Android, _SYS3);
        function _Android() {
          var _this4;
          _this4 = _SYS3.call(this) || this;
          _this4._file = null;
          _this4._onSelected = null;
          console.log("ANDROID LANDING");
          window.oNIP = function (payload) {
            console.log("REACH ON-NativeImange Picked", payload);
            _this4.uploadBase64(payload);
          };
          return _this4;
        }
        var _proto2 = _Android.prototype;
        _proto2.base64ToFile = function base64ToFile(base64, name) {
          if (name === void 0) {
            name = 'avatar.png';
          }
          console.log("RECEVIE >>> FROM >>>", base64);
          var byteString = atob(base64);
          var n = byteString.length;
          var u8a = new Uint8Array(n);
          while (n--) {
            u8a[n] = byteString.charCodeAt(n);
          }
          return new File([u8a], name, {
            type: 'application/octet-stream'
          });
        };
        _proto2.uploadBase64 = function uploadBase64(base64) {
          var _file = this.base64ToFile(base64);
          _file && this._onSelected && this._onSelected(_file);
        };
        _proto2.uploadFilePath = function uploadFilePath(path) {
          console.log("UPLOAD FILE PATH: ", path);
          assetManager.loadAny(path, function (err, file) {
            if (err) {
              console.error("ERROR LOADING FILE FROM PATH: ", path, err);
              return;
            }
            console.log(" >>> FILE", file.name, file.nativeAsset, file.nativeUrl);
          });
        };
        _proto2.setup = function setup() {};
        _proto2.select = /*#__PURE__*/function () {
          var _select = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(onSelected, onCancel) {
            var _this5 = this;
            var _class;
            return _regeneratorRuntime().wrap(function _callee2$(_context2) {
              while (1) switch (_context2.prev = _context2.next) {
                case 0:
                  _class = "com/cocos/game/AppActivity";
                  _context2.prev = 1;
                  native.reflection.callStaticMethod(_class, 'pickImage', '()V');
                  console.log("???????? Calling native Android pickImage method.");
                  return _context2.abrupt("return", new Promise(function (_rs, _rj) {
                    _this5._onSelected = function (_file) {
                      _this5._file = _file;
                      onSelected && onSelected(_file);
                      _rs(_file);
                    };
                  }));
                case 7:
                  _context2.prev = 7;
                  _context2.t0 = _context2["catch"](1);
                  console.error("SOMETHINGE ERROR WHEN TRYING TO CALL ANDROID SEMTHOD", _context2.t0.toString(), JSON.stringify(_context2.t0));
                  onCancel && onCancel();
                case 11:
                case "end":
                  return _context2.stop();
              }
            }, _callee2, null, [[1, 7]]);
          }));
          function select(_x2, _x3) {
            return _select.apply(this, arguments);
          }
          return select;
        }();
        _createClass(_Android, [{
          key: "file",
          get: function get() {
            return this._file;
          }
        }]);
        return _Android;
      }(_SYS);
      var _FileUtils = /*#__PURE__*/function () {
        function _FileUtils() {
          var _this6 = this;
          this._sys = null;
          var _init = function _init() {
            var isBrowser = sys.isBrowser,
              isNative = sys.isNative,
              os = sys.os;
            if (isBrowser) {
              _this6._sys = new _Brower();
            } else if (isNative) {
              switch (os) {
                case sys.OS.ANDROID:
                  {
                    _this6._sys = new _Android();
                    break;
                  }
                case sys.OS.IOS:
                  {
                    break;
                  }
              }
            }
            pEventManager.remove('onGameInited', _init);
          };
          pEventManager.add('onGameInited', _init);
        }
        var _proto3 = _FileUtils.prototype;
        _proto3.setupInputer = function setupInputer() {
          this._sys.setup();
        };
        _proto3.selectFile = function selectFile(onSelected, onCancel) {
          return this._sys.select(onSelected, onCancel);
        };
        _proto3.getFile = function getFile() {
          return this._sys.file;
        };
        return _FileUtils;
      }();
      var pFileUtils = exports('pFileUtils', new _FileUtils());
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/FlippingCard.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './FlippingFX.ts', './UICardConfig.ts', './UICardType.ts', './Decorators.ts', './AudioManager.ts', './Enums.ts', './MathUtils.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _createForOfIteratorHelperLoose, _createClass, _asyncToGenerator, _regeneratorRuntime, cclegacy, _decorator, Sprite, CCInteger, Color, tween, v3, FlippingFX, UICardConfig, NSCardType, pDecorators, NSAudio, EAudioID, pMathUtils;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _createForOfIteratorHelperLoose = module.createForOfIteratorHelperLoose;
      _createClass = module.createClass;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Sprite = module.Sprite;
      CCInteger = module.CCInteger;
      Color = module.Color;
      tween = module.tween;
      v3 = module.v3;
    }, function (module) {
      FlippingFX = module.FlippingFX;
    }, function (module) {
      UICardConfig = module.UICardConfig;
    }, function (module) {
      NSCardType = module.NSCardType;
    }, function (module) {
      pDecorators = module.pDecorators;
    }, function (module) {
      NSAudio = module.NSAudio;
    }, function (module) {
      EAudioID = module.EAudioID;
    }, function (module) {
      pMathUtils = module.pMathUtils;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _class, _class2, _descriptor;
      cclegacy._RF.push({}, "dc012lvIFZPjpXQSQl5hbQq", "FlippingCard", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property,
        menu = _decorator.menu;
      var FlippingCard = exports('FlippingCard', (_dec = ccclass('FlippingCard'), _dec2 = menu('Card/FlippingCard'), _dec3 = property({
        type: Sprite
      }), _dec4 = property({
        type: CCInteger
      }), _dec(_class = _dec2(_class = (_class2 = /*#__PURE__*/function (_FlippingFX) {
        _inheritsLoose(FlippingCard, _FlippingFX);
        function FlippingCard() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _FlippingFX.call.apply(_FlippingFX, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "outline", _descriptor, _assertThisInitialized(_this));
          _this._drivers = [['OnDoneScaleDown', _this._showCard, _assertThisInitialized(_this)]];
          _this._isInvoked = false;
          _this._savedCard = 'JOKER';
          _this._promise = null;
          return _this;
        }
        var _proto = FlippingCard.prototype;
        _proto._init = function _init() {
          _FlippingFX.prototype._init.call(this);
          this.hide();
          this.on(this._drivers);
        };
        _proto.onEnable = function onEnable() {};
        _proto.onDestroy = function onDestroy() {
          this.off(this._drivers);
        };
        _proto.showBack = function showBack() {
          if (!UICardConfig.instance) return;
          this.target.spriteFrame = UICardConfig.instance.down;
        };
        _proto.showSkip = function showSkip() {
          if (!UICardConfig.instance) return;
          this.target.spriteFrame = UICardConfig.instance.skip;
        };
        _proto._showCard = function _showCard() {
          var instance = UICardConfig.instance;
          var infor = instance.get(this._savedCard);
          var frame = infor ? infor.frame : instance.down;
          this.target.spriteFrame = frame;
          this.log("_showCard", this._savedCard);
        };
        _proto.is = function is(card) {
          var _is = this.savedCard === card;
          this.log("_IS >> \n\t Target:", card, "\n\t Saved:", this.savedCard, "\n\t Result:", _is);
          return _is;
        };
        _proto.iss = function iss(cards) {
          if (!cards) return false;
          try {
            for (var _iterator = _createForOfIteratorHelperLoose(cards), _step; !(_step = _iterator()).done;) {
              var card = _step.value;
              if (this.is(card)) return true;
            }
            return false;
          } catch (e) {
            return false;
          }
        };
        _proto.scaleBy = function scaleBy(amount) {
          this.target.node.setScale(pMathUtils.add("Vec3", this.target.node.scale, amount));
        };
        _proto.highlight = function highlight(status) {
          this.target.color = Color.WHITE;
          this.outline.node.active = false;
          switch (status) {
            case "hightlight":
              {
                this.outline.node.active = true;
                //this.target.node.setSiblingIndex(Index.top + this.fixedSiblingIndex);
                break;
              }
            case "lowlight":
              {
                this.target.color = UICardConfig.instance.lowlight;
                //this.target.node.setSiblingIndex(this.fixedSiblingIndex);
                break;
              }
          }
        };
        _proto.showCard = /*#__PURE__*/function () {
          var _showCard2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(card, data, onHand, isScaleDown) {
            var _scale;
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  if (data === void 0) {
                    data = this;
                  }
                  if (isScaleDown === void 0) {
                    isScaleDown = false;
                  }
                  if (!(!card || card === 'JOKER')) {
                    _context.next = 6;
                    break;
                  }
                  this.showBack();
                  return _context.abrupt("return");
                case 6:
                  if (card !== this._savedCard) {
                    this.highlight('none');
                  }
                  this._savedCard = card;
                  if (!this._isInvoked) {
                    _context.next = 14;
                    break;
                  }
                  if (!this._promise) {
                    _context.next = 13;
                    break;
                  }
                  _context.next = 12;
                  return this._promise;
                case 12:
                  this._promise = null;
                case 13:
                  return _context.abrupt("return");
                case 14:
                  this._isInvoked = true;
                  this.showBack();
                  _scale = isScaleDown ? pMathUtils.add("Vec3", this._rootScale.clone(), v3(-0.25, -0.25, -0.25)) : this._rootScale; //await (onHand && this.onHand(_scale));
                  this._promise = this.show(data, _scale);
                  pDecorators.instance(NSAudio.Manager).play(EAudioID.SFX_PUT_CARD);
                  _context.next = 21;
                  return this._promise;
                case 21:
                case "end":
                  return _context.stop();
              }
            }, _callee, this);
          }));
          function showCard(_x, _x2, _x3, _x4) {
            return _showCard2.apply(this, arguments);
          }
          return showCard;
        }();
        _proto.onHand = function onHand(scale) {
          var _this2 = this;
          scale = scale || this._rootScale;
          return new Promise(function (rs) {
            return tween(_this2.target.node).to(0.25, {
              scale: scale
            }, {
              easing: 'backOut'
            }).call(rs).start();
          });
        };
        _proto.hide = function hide() {
          var _this$_tween;
          _FlippingFX.prototype.hide.call(this);
          this._isInvoked = false;
          (_this$_tween = this._tween) == null || _this$_tween.stop();
          this.showBack();
          this.highlight('none');
          //this.target.node.setSiblingIndex(this.fixedSiblingIndex);

          this.target.node.scale = v3();
          this.outline.node.active = false;
          return Promise.resolve();
        };
        _createClass(FlippingCard, [{
          key: "fixedSiblingIndex",
          get: function get() {
            return Math.abs(this.node.angle);
          }
        }, {
          key: "savedCard",
          get: function get() {
            return this._savedCard;
          }
        }, {
          key: "card",
          get: function get() {
            return NSCardType.extract(this._savedCard);
          }
        }]);
        return FlippingCard;
      }(FlippingFX), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "outline", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _applyDecoratedDescriptor(_class2.prototype, "fixedSiblingIndex", [_dec4], Object.getOwnPropertyDescriptor(_class2.prototype, "fixedSiblingIndex"), _class2.prototype)), _class2)) || _class) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/FlippingFX.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './AnimationFX.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _createClass, cclegacy, _decorator, Sprite, CCFloat, v3, tween, AnimationFX;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _createClass = module.createClass;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Sprite = module.Sprite;
      CCFloat = module.CCFloat;
      v3 = module.v3;
      tween = module.tween;
    }, function (module) {
      AnimationFX = module.AnimationFX;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5;
      cclegacy._RF.push({}, "b610aFC4tJPM40Hco7aSr1n", "FlippingFX", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property,
        menu = _decorator.menu;
      var FlippingFX = exports('FlippingFX', (_dec = ccclass('FlippingFX'), _dec2 = menu('Effect/FlippingFX'), _dec3 = property(Sprite), _dec4 = property(Sprite), _dec5 = property({
        min: 0,
        type: CCFloat
      }), _dec6 = property({}), _dec7 = property({
        min: 0,
        type: CCFloat
      }), _dec8 = property({}), _dec9 = property({
        visible: true,
        readonly: true
      }), _dec(_class = _dec2(_class = (_class2 = /*#__PURE__*/function (_AnimationFX) {
        _inheritsLoose(FlippingFX, _AnimationFX);
        function FlippingFX() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _AnimationFX.call.apply(_AnimationFX, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "_target", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "duration", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "oneTimeRunner", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "delay", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "_scale", _descriptor5, _assertThisInitialized(_this));
          _this._tween = null;
          _this._scheduler = null;
          return _this;
        }
        var _proto = FlippingFX.prototype;
        _proto._getData = function _getData(_data) {
          var _data$duration, _data$oneTimeRunner, _data$delay;
          return {
            duration: (_data$duration = _data.duration) != null ? _data$duration : this.duration,
            oneTimeRunner: (_data$oneTimeRunner = _data.oneTimeRunner) != null ? _data$oneTimeRunner : this.oneTimeRunner,
            delay: (_data$delay = _data.delay) != null ? _data$delay : this.delay
          };
        };
        _proto._getZeroScale = function _getZeroScale() {
          return v3(0, this._rootScale.y, this._rootScale.z);
        };
        _proto.hide = function hide() {
          this._scheduler && this.unschedule(this._scheduler);
          return Promise.resolve();
        };
        _proto.show = function show(data, scale) {
          var _this$_tween,
            _this2 = this;
          if (data === void 0) {
            data = this;
          }
          data = this._getData(data);
          scale = scale || this._rootScale;
          data.oneTimeRunner && ((_this$_tween = this._tween) == null ? void 0 : _this$_tween.stop());
          return new Promise(function (rs) {
            _this2._scheduler = function () {
              _this2._tween = tween(_this2._target.node).to(data.duration / 2, {
                scale: _this2._getZeroScale()
              }).call(function () {
                return _this2.invoke('OnDoneScaleDown', _this2);
              }).to(data.duration / 2, {
                scale: scale
              }).call(function () {
                return _this2.invoke('OnDoneScaleUp', _this2);
              }).call(rs).start();
            };
            _this2.scheduleOnce(_this2._scheduler, data.delay);
          });
        };
        _proto._init = function _init() {
          var _this$target;
          (_this$target = this.target) != null ? _this$target : this.target = this.getComponent(Sprite);
        };
        _createClass(FlippingFX, [{
          key: "target",
          get: function get() {
            if (!this._target) {
              this.target = this.getComponent(Sprite);
            }
            return this._target;
          },
          set: function set(v) {
            this._target = v;
          }
        }, {
          key: "_rootScale",
          get: function get() {
            return this._scale;
          }
        }]);
        return FlippingFX;
      }(AnimationFX), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "_target", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _applyDecoratedDescriptor(_class2.prototype, "target", [_dec4], Object.getOwnPropertyDescriptor(_class2.prototype, "target"), _class2.prototype), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "duration", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return 0.5;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "oneTimeRunner", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return true;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "delay", [_dec7], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return 0;
        }
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "_scale", [_dec8], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return v3();
        }
      }), _applyDecoratedDescriptor(_class2.prototype, "_rootScale", [_dec9], Object.getOwnPropertyDescriptor(_class2.prototype, "_rootScale"), _class2.prototype)), _class2)) || _class) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/FloatingMessageFX.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './AnimationFX.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _createClass, cclegacy, _decorator, Node, UIOpacity, Label, CCFloat, v3, tween, AnimationFX;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _createClass = module.createClass;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Node = module.Node;
      UIOpacity = module.UIOpacity;
      Label = module.Label;
      CCFloat = module.CCFloat;
      v3 = module.v3;
      tween = module.tween;
    }, function (module) {
      AnimationFX = module.AnimationFX;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _dec11, _dec12, _dec13, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9, _descriptor10, _descriptor11;
      cclegacy._RF.push({}, "1387eWhjF5Ni5AHegqwCCEh", "FloatingMessageFX", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var FloatingMessageFX = exports('FloatingMessageFX', (_dec = ccclass('FloatingMessageFX'), _dec2 = property(Node), _dec3 = property(Node), _dec4 = property(UIOpacity), _dec5 = property(Label), _dec6 = property({}), _dec7 = property({
        type: CCFloat,
        min: 0,
        max: 255,
        slide: true
      }), _dec8 = property({
        type: CCFloat,
        min: 0
      }), _dec9 = property({}), _dec10 = property({}), _dec11 = property({}), _dec12 = property({
        min: 0,
        type: CCFloat
      }), _dec13 = property({}), _dec(_class = (_class2 = /*#__PURE__*/function (_AnimationFX) {
        _inheritsLoose(FloatingMessageFX, _AnimationFX);
        function FloatingMessageFX() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _AnimationFX.call.apply(_AnimationFX, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "_target", _descriptor, _assertThisInitialized(_this));
          _this._savedPos = v3();
          _initializerDefineProperty(_this, "opx", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "text", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "msg", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "to_opacity", _descriptor5, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "duration", _descriptor6, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "travel", _descriptor7, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "easing", _descriptor8, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "oneTimeRunner", _descriptor9, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "delay", _descriptor10, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "isSave", _descriptor11, _assertThisInitialized(_this));
          _this._tween = null;
          _this._opxtw = null;
          return _this;
        }
        var _proto = FloatingMessageFX.prototype;
        _proto.rollbackToSave = function rollbackToSave() {
          this.target.setPosition(this._savedPos);
        };
        _proto._getData = function _getData(_data) {
          var _data$msg, _data$to_opacity, _data$duration, _data$travel, _data$easing, _data$oneTimeRunner, _data$delay;
          return {
            msg: (_data$msg = _data.msg) != null ? _data$msg : this.msg,
            to_opacity: (_data$to_opacity = _data.to_opacity) != null ? _data$to_opacity : this.to_opacity,
            duration: (_data$duration = _data.duration) != null ? _data$duration : this.duration,
            travel: (_data$travel = _data.travel) != null ? _data$travel : this.travel,
            easing: (_data$easing = _data.easing) != null ? _data$easing : this.easing,
            oneTimeRunner: (_data$oneTimeRunner = _data.oneTimeRunner) != null ? _data$oneTimeRunner : this.oneTimeRunner,
            delay: (_data$delay = _data.delay) != null ? _data$delay : this.delay
          };
        };
        _proto.show = function show(data) {
          var _this2 = this;
          if (data === void 0) {
            data = this;
          }
          data = this._getData(data);
          if (this.isSave) this.rollbackToSave();
          if (data.oneTimeRunner) {
            var _this$_tween, _this$_opxtw;
            (_this$_tween = this._tween) == null || _this$_tween.stop();
            (_this$_opxtw = this._opxtw) == null || _this$_opxtw.stop();
          }
          return new Promise(function (rs) {
            _this2.scheduleOnce(function () {
              _this2._tween = tween(_this2.target).by(data.duration, {
                position: _this2.travel
              }, {
                easing: _this2.easing
              }).start();
              _this2._opxtw = tween(_this2.opx).to(data.duration, {
                opacity: data.to_opacity
              }).call(rs).start();
            }, data.delay);
          });
        };
        _proto.hide = function hide() {
          this.opx.opacity = 0;
          return Promise.resolve();
        };
        _proto._init = function _init() {};
        _createClass(FloatingMessageFX, [{
          key: "target",
          get: function get() {
            return this._target;
          },
          set: function set(v) {
            if (v) this._savedPos = v.position;
            this._target = v;
          }
        }]);
        return FloatingMessageFX;
      }(AnimationFX), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "_target", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _applyDecoratedDescriptor(_class2.prototype, "target", [_dec3], Object.getOwnPropertyDescriptor(_class2.prototype, "target"), _class2.prototype), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "opx", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "text", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "msg", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return '';
        }
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "to_opacity", [_dec7], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return 255;
        }
      }), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, "duration", [_dec8], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return 0.5;
        }
      }), _descriptor7 = _applyDecoratedDescriptor(_class2.prototype, "travel", [_dec9], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return v3();
        }
      }), _descriptor8 = _applyDecoratedDescriptor(_class2.prototype, "easing", [_dec10], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return 'linear';
        }
      }), _descriptor9 = _applyDecoratedDescriptor(_class2.prototype, "oneTimeRunner", [_dec11], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return false;
        }
      }), _descriptor10 = _applyDecoratedDescriptor(_class2.prototype, "delay", [_dec12], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor11 = _applyDecoratedDescriptor(_class2.prototype, "isSave", [_dec13], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return false;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/FloatingNotice.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc'], function (exports) {
  var _inheritsLoose, cclegacy, _decorator, Component;
  return {
    setters: [function (module) {
      _inheritsLoose = module.inheritsLoose;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Component = module.Component;
    }],
    execute: function () {
      var _dec, _class;
      cclegacy._RF.push({}, "a6a878kANVHPqZQMpvwNStU", "FloatingNotice", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var FloatingNotice = exports('FloatingNotice', (_dec = ccclass('FloatingNotice'), _dec(_class = /*#__PURE__*/function (_Component) {
        _inheritsLoose(FloatingNotice, _Component);
        function FloatingNotice() {
          return _Component.apply(this, arguments) || this;
        }
        return FloatingNotice;
      }(Component)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/FriendManager.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './EventDriver.ts', './ResponeCode.ts', './IGameCommand.ts', './EventManager.ts', './UserCommand.ts', './ArrayUtils.ts', './Decorators.ts', './NotifyToast.ts'], function (exports) {
  var _extends, _inheritsLoose, _createClass, _assertThisInitialized, _asyncToGenerator, _regeneratorRuntime, cclegacy, NSEventDriver, ResponseCode, NSGameCMD, pEventManager, request, pArray, pDecorators, NotifyToast;
  return {
    setters: [function (module) {
      _extends = module.extends;
      _inheritsLoose = module.inheritsLoose;
      _createClass = module.createClass;
      _assertThisInitialized = module.assertThisInitialized;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
    }, function (module) {
      NSEventDriver = module.NSEventDriver;
    }, function (module) {
      ResponseCode = module.ResponseCode;
    }, function (module) {
      NSGameCMD = module.NSGameCMD;
    }, function (module) {
      pEventManager = module.pEventManager;
    }, function (module) {
      request = module.default;
    }, function (module) {
      pArray = module.pArray;
    }, function (module) {
      pDecorators = module.pDecorators;
    }, function (module) {
      NotifyToast = module.NotifyToast;
    }],
    execute: function () {
      exports('NSFriendManager', void 0);
      cclegacy._RF.push({}, "9b308Cnrd5LYq1YqeM/RcpT", "FriendManager", undefined);
      var singleton = pDecorators.singleton;
      var NSFriendManager;
      (function (_NSFriendManager, _dec, _class) {
        var EFriend = /*#__PURE__*/function (EFriend) {
          EFriend[EFriend["RANDOM_USER"] = 5] = "RANDOM_USER";
          return EFriend;
        }({});
        var EFriendType = _NSFriendManager.EFriendType = _extends({}, NSGameCMD.UserHandler.GetFriends.EType, EFriend);
        var ESearchType = _NSFriendManager.ESearchType = NSGameCMD.UserHandler.SearchFriends.EType;
        var Handler = (_dec = singleton({
          initer: "_init",
          destroyer: "_destroy",
          wake: "Instantly",
          pooler: true
        }), _dec(_class = /*#__PURE__*/function (_NSEventDriver$Handle) {
          _inheritsLoose(Handler, _NSEventDriver$Handle);
          function Handler() {
            var _this$_friends;
            var _this;
            for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
              args[_key] = arguments[_key];
            }
            _this = _NSEventDriver$Handle.call.apply(_NSEventDriver$Handle, [this].concat(args)) || this;
            _this._events = [['onLoggingIn', _this._onLoggingIn, _assertThisInitialized(_this)], ['onFriends', _this._onFriends, _assertThisInitialized(_this)]];
            _this._friends = (_this$_friends = {}, _this$_friends[EFriendType.FRIEND_REQUEST] = [], _this$_friends[EFriendType.FRIEND] = [], _this$_friends[EFriendType.BLACKLIST] = [], _this$_friends[EFriendType.FOLLOWING] = [], _this$_friends[EFriendType.RANDOM_USER] = [], _this$_friends);
            return _this;
          }
          var _proto = Handler.prototype;
          _proto._init = function _init() {
            pEventManager.on(this._events);
          };
          _proto.refresh = function refresh() {
            this._getFriends(EFriendType.FOLLOWING);
          };
          _proto.getFriends = /*#__PURE__*/function () {
            var _getFriends2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(refresh) {
              return _regeneratorRuntime().wrap(function _callee$(_context) {
                while (1) switch (_context.prev = _context.next) {
                  case 0:
                    if (refresh === void 0) {
                      refresh = false;
                    }
                    refresh && this._getFriends(EFriendType.RANDOM_USER);
                    _context.next = 4;
                    return this.wait('onDoneInit');
                  case 4:
                    return _context.abrupt("return", this._friends);
                  case 5:
                  case "end":
                    return _context.stop();
                }
              }, _callee, this);
            }));
            function getFriends(_x) {
              return _getFriends2.apply(this, arguments);
            }
            return getFriends;
          }();
          _proto.getFriend = /*#__PURE__*/function () {
            var _getFriend2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(type, refresh) {
              return _regeneratorRuntime().wrap(function _callee2$(_context2) {
                while (1) switch (_context2.prev = _context2.next) {
                  case 0:
                    if (refresh === void 0) {
                      refresh = false;
                    }
                    if (!(type === EFriendType.RANDOM_USER)) {
                      _context2.next = 6;
                      break;
                    }
                    _context2.t0 = refresh || this._friends[EFriendType.RANDOM_USER].length <= 0;
                    if (!_context2.t0) {
                      _context2.next = 6;
                      break;
                    }
                    _context2.next = 6;
                    return this._getFriends(EFriendType.RANDOM_USER);
                  case 6:
                    _context2.next = 8;
                    return this.wait('onDoneInit');
                  case 8:
                    return _context2.abrupt("return", this._friends[type]);
                  case 9:
                  case "end":
                    return _context2.stop();
                }
              }, _callee2, this);
            }));
            function getFriend(_x2, _x3) {
              return _getFriend2.apply(this, arguments);
            }
            return getFriend;
          }();
          _proto._destroy = function _destroy() {
            pEventManager.off(this._events);
          };
          _proto.getExtendData = function getExtendData(_data, _filter) {
            var _type = _data.type !== undefined && _data.type !== null;
            return _extends({}, _data, {
              is_blocked: _type ? _data.type === EFriendType.BLACKLIST : false,
              is_followed: _filter === EFriendType.FRIEND_REQUEST ? false : _type ? _data.type === EFriendType.FOLLOWING : false,
              is_friend: _type ? _data.type === EFriendType.FRIEND : false,
              filter: _filter
            });
          };
          _proto._toData = function _toData(_data, _filter) {
            var _this2 = this;
            return _data.map(function (data) {
              return _this2.getExtendData(data, _filter);
            });
          };
          _proto._getFriend = /*#__PURE__*/function () {
            var _getFriend3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(type, page, limit) {
              var _data, _data2;
              return _regeneratorRuntime().wrap(function _callee3$(_context3) {
                while (1) switch (_context3.prev = _context3.next) {
                  case 0:
                    if (page === void 0) {
                      page = 1;
                    }
                    if (limit === void 0) {
                      limit = 10;
                    }
                    _context3.t0 = type;
                    _context3.next = _context3.t0 === EFriendType.RANDOM_USER ? 5 : 12;
                    break;
                  case 5:
                    _context3.next = 7;
                    return request('getRandomUsers', {
                      limit: limit
                    });
                  case 7:
                    _data = _context3.sent;
                    if (!(_data.code != ResponseCode.SUCCESS)) {
                      _context3.next = 10;
                      break;
                    }
                    return _context3.abrupt("return");
                  case 10:
                    this._friends[type] = this._toData(_data.msg, type);
                    return _context3.abrupt("break", 19);
                  case 12:
                    _context3.next = 14;
                    return request('getFriends', {
                      type: type,
                      page: page,
                      limit: limit
                    });
                  case 14:
                    _data2 = _context3.sent;
                    if (!(_data2.code != ResponseCode.SUCCESS)) {
                      _context3.next = 17;
                      break;
                    }
                    return _context3.abrupt("return");
                  case 17:
                    this._friends[type] = this._toData(_data2.msg.friends, type);
                    return _context3.abrupt("break", 19);
                  case 19:
                    if (type === EFriendType.FRIEND_REQUEST) {
                      this.invoke("onHasFriendRequest", this.numberOfFriendRequest);
                    }
                  case 20:
                  case "end":
                    return _context3.stop();
                }
              }, _callee3, this);
            }));
            function _getFriend(_x4, _x5, _x6) {
              return _getFriend3.apply(this, arguments);
            }
            return _getFriend;
          }();
          _proto._onLoggingIn = /*#__PURE__*/function () {
            var _onLoggingIn2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {
              return _regeneratorRuntime().wrap(function _callee4$(_context4) {
                while (1) switch (_context4.prev = _context4.next) {
                  case 0:
                    this._getFriends([EFriendType.FRIEND_REQUEST, EFriendType.FRIEND, EFriendType.BLACKLIST, EFriendType.FOLLOWING, EFriendType.RANDOM_USER], true);
                  case 1:
                  case "end":
                    return _context4.stop();
                }
              }, _callee4, this);
            }));
            function _onLoggingIn() {
              return _onLoggingIn2.apply(this, arguments);
            }
            return _onLoggingIn;
          }();
          _proto._getFriends = /*#__PURE__*/function () {
            var _getFriends3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(type, refresh) {
              var _this3 = this;
              return _regeneratorRuntime().wrap(function _callee5$(_context5) {
                while (1) switch (_context5.prev = _context5.next) {
                  case 0:
                    if (refresh === void 0) {
                      refresh = false;
                    }
                    refresh && this.actResetWaiter('onDoneInit');
                    type = pArray.flatter(type);
                    _context5.next = 5;
                    return Promise.all(type.map(function (_type) {
                      return _this3._getFriend(_type);
                    }));
                  case 5:
                    refresh && this.invoke("onDoneInit");
                  case 6:
                  case "end":
                    return _context5.stop();
                }
              }, _callee5, this);
            }));
            function _getFriends(_x7, _x8) {
              return _getFriends3.apply(this, arguments);
            }
            return _getFriends;
          }();
          _proto._onFriends = /*#__PURE__*/function () {
            var _onFriends2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6(res) {
              var code, msg, data, from, full_name, _toast;
              return _regeneratorRuntime().wrap(function _callee6$(_context6) {
                while (1) switch (_context6.prev = _context6.next) {
                  case 0:
                    code = res.code, msg = res.msg;
                    data = msg.data;
                    from = data.from;
                    full_name = from.full_name, from.id;
                    _toast = pDecorators.instance(NotifyToast);
                    _context6.next = 7;
                    return this._getFriends(EFriendType.FOLLOWING, true);
                  case 7:
                    _context6.t0 = code;
                    _context6.next = _context6.t0 === ResponseCode.FRIEND_REMOVED ? 10 : _context6.t0 === ResponseCode.FRIEND_BLOCKED ? 10 : _context6.t0 === ResponseCode.FRIEND_REQUESTED ? 13 : _context6.t0 === ResponseCode.FRIEND_ACCEPTED ? 18 : 23;
                    break;
                  case 10:
                    _context6.next = 12;
                    return this._getFriends(EFriendType.FRIEND, true);
                  case 12:
                    return _context6.abrupt("break", 23);
                  case 13:
                    _context6.next = 15;
                    return this._getFriends(EFriendType.FRIEND_REQUEST, true);
                  case 15:
                    _toast == null || _toast.showWithKey({
                      key: 'dynamic_other_send_friend_request',
                      replacers: [{
                        find: "@name",
                        replacer: full_name
                      }]
                    });
                    this.invoke('onFriendRequest');
                    return _context6.abrupt("break", 23);
                  case 18:
                    _context6.next = 20;
                    return this._getFriends(EFriendType.FRIEND, true);
                  case 20:
                    //this._friends[EFriendType.FOLLOWING] = this._friends[EFriendType.FOLLOWING].filter( _friend => String(_friend.id) !== String(id));
                    _toast == null || _toast.showWithKey({
                      key: 'dynamic_other_accept_friend_request',
                      replacers: [{
                        find: "@name",
                        replacer: full_name
                      }]
                    });
                    this.invoke('onFriendAccepted');
                    return _context6.abrupt("break", 23);
                  case 23:
                  case "end":
                    return _context6.stop();
                }
              }, _callee6, this);
            }));
            function _onFriends(_x9) {
              return _onFriends2.apply(this, arguments);
            }
            return _onFriends;
          }();
          _proto._handlingFriend = /*#__PURE__*/function () {
            var _handlingFriend2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee7(response, success, getter, invoker, args, handler) {
              var code, error;
              return _regeneratorRuntime().wrap(function _callee7$(_context7) {
                while (1) switch (_context7.prev = _context7.next) {
                  case 0:
                    code = response.code, error = response.error;
                    _context7.t0 = code;
                    _context7.next = _context7.t0 === ResponseCode.SUCCESS ? 4 : _context7.t0 === ResponseCode.ERROR ? 12 : 14;
                    break;
                  case 4:
                    NotifyToast.instance.showWithKey(success, 'table');
                    _context7.t1 = getter;
                    if (!_context7.t1) {
                      _context7.next = 9;
                      break;
                    }
                    _context7.next = 9;
                    return this._getFriends(getter.type, getter.refresh);
                  case 9:
                    handler && handler();
                    this.invoke.apply(this, [invoker].concat(args));
                    return _context7.abrupt("break", 14);
                  case 12:
                    NotifyToast.instance.showWithKey(error || 'txt_error', 'table');
                    return _context7.abrupt("break", 14);
                  case 14:
                  case "end":
                    return _context7.stop();
                }
              }, _callee7, this);
            }));
            function _handlingFriend(_x10, _x11, _x12, _x13, _x14, _x15) {
              return _handlingFriend2.apply(this, arguments);
            }
            return _handlingFriend;
          }();
          _proto.smartAction = function smartAction(action, fid, name) {
            name = typeof fid === 'string' || typeof fid === 'number' ? name : fid.name;
            fid = typeof fid === 'string' || typeof fid === 'number' ? fid : fid.fid;
            switch (action) {
              case "onAccept":
                return this.actAccept(fid, name);
              case "onDelete":
                return this.actDelete(fid, name);
              case "onRequest":
                return this.actRequest(fid, name);
              case "onBlock":
                return this.actBlock(fid, name);
              case "onUnBlock":
                return this.actUnBlock(fid, name);
              case "onCancelRequest":
                return this.actCancelRequest(fid, name);
              case "onReject":
                return this.actReject(fid, name);
            }
          };
          _proto.actAccept = /*#__PURE__*/function () {
            var _actAccept = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee8(fid, name) {
              var _this4 = this;
              var _response;
              return _regeneratorRuntime().wrap(function _callee8$(_context8) {
                while (1) switch (_context8.prev = _context8.next) {
                  case 0:
                    name = typeof fid === 'string' || typeof fid === 'number' ? name : fid.name;
                    fid = typeof fid === 'string' || typeof fid === 'number' ? fid : fid.fid;
                    _context8.next = 4;
                    return request('acceptFriend', {
                      fid: fid
                    });
                  case 4:
                    _response = _context8.sent;
                    return _context8.abrupt("return", this._handlingFriend(_response, {
                      key: 'dynamic_agree_add_friend_success',
                      replacers: [{
                        find: "@name",
                        replacer: name
                      }]
                    }, {
                      type: EFriendType.FRIEND,
                      refresh: true
                    }, 'onAccept', fid, function () {
                      _this4._friends[EFriendType.FRIEND_REQUEST] = _this4._friends[EFriendType.FRIEND_REQUEST].filter(function (_friend) {
                        return String(_friend.id) !== fid;
                      });
                      _this4.invoke('onHasFriendRequest', _this4.numberOfFriendRequest);
                    }));
                  case 6:
                  case "end":
                    return _context8.stop();
                }
              }, _callee8, this);
            }));
            function actAccept(_x16, _x17) {
              return _actAccept.apply(this, arguments);
            }
            return actAccept;
          }();
          _proto.actReject = /*#__PURE__*/function () {
            var _actReject = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee9(fid, name) {
              var _this5 = this;
              var _response;
              return _regeneratorRuntime().wrap(function _callee9$(_context9) {
                while (1) switch (_context9.prev = _context9.next) {
                  case 0:
                    fid = typeof fid === 'number' ? String(fid) : fid;
                    name = typeof fid === 'string' ? name : fid.name;
                    fid = typeof fid === 'string' ? fid : fid.fid;
                    _context9.next = 5;
                    return request('rejectFriend', {
                      fid: fid
                    });
                  case 5:
                    _response = _context9.sent;
                    return _context9.abrupt("return", this._handlingFriend(_response, {
                      key: 'dynamic_reject_friend_success',
                      replacers: [{
                        find: "@name",
                        replacer: name
                      }]
                    }, null, 'onReject', fid, function () {
                      _this5._friends[EFriendType.FRIEND_REQUEST] = _this5._friends[EFriendType.FRIEND_REQUEST].filter(function (_friend) {
                        return String(_friend.id) !== fid;
                      });
                      _this5.invoke('onHasFriendRequest', _this5.numberOfFriendRequest);
                    }));
                  case 7:
                  case "end":
                    return _context9.stop();
                }
              }, _callee9, this);
            }));
            function actReject(_x18, _x19) {
              return _actReject.apply(this, arguments);
            }
            return actReject;
          }();
          _proto.actDelete = /*#__PURE__*/function () {
            var _actDelete = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee10(fid, name) {
              var _response;
              return _regeneratorRuntime().wrap(function _callee10$(_context10) {
                while (1) switch (_context10.prev = _context10.next) {
                  case 0:
                    fid = typeof fid === 'number' ? String(fid) : fid;
                    name = typeof fid === 'string' ? name : fid.name;
                    fid = typeof fid === 'string' ? fid : fid.fid;
                    _context10.next = 5;
                    return request('unFriend', {
                      fid: fid
                    });
                  case 5:
                    _response = _context10.sent;
                    return _context10.abrupt("return", this._handlingFriend(_response, {
                      key: 'dynamic_delete_friend_success',
                      replacers: [{
                        find: "@name",
                        replacer: name
                      }]
                    }, {
                      type: EFriendType.FRIEND,
                      refresh: true
                    }, 'onDelete', fid, this._actQuickRemove.bind(this, fid, EFriendType.FRIEND)));
                  case 7:
                  case "end":
                    return _context10.stop();
                }
              }, _callee10, this);
            }));
            function actDelete(_x20, _x21) {
              return _actDelete.apply(this, arguments);
            }
            return actDelete;
          }();
          _proto.actRequest = /*#__PURE__*/function () {
            var _actRequest = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee11(fid, name) {
              var _friends, _response;
              return _regeneratorRuntime().wrap(function _callee11$(_context11) {
                while (1) switch (_context11.prev = _context11.next) {
                  case 0:
                    fid = typeof fid === 'number' ? String(fid) : fid;
                    name = typeof fid === 'string' ? name : fid.name;
                    fid = typeof fid === 'string' ? fid : fid.fid;
                    _context11.next = 5;
                    return this.getFriend(EFriendType.FRIEND_REQUEST);
                  case 5:
                    _friends = _context11.sent;
                    if (!_friends.some(function (_friend) {
                      return String(_friend.id) === fid;
                    })) {
                      _context11.next = 8;
                      break;
                    }
                    return _context11.abrupt("return", this.actAccept({
                      fid: fid,
                      name: name
                    }));
                  case 8:
                    _context11.next = 10;
                    return request('addFriend', {
                      fid: fid
                    });
                  case 10:
                    _response = _context11.sent;
                    return _context11.abrupt("return", this._handlingFriend(_response, {
                      key: 'dynamic_add_friend_success',
                      replacers: [{
                        find: "@name",
                        replacer: name
                      }]
                    }, {
                      type: EFriendType.FOLLOWING,
                      refresh: true
                    }, 'onRequest', fid, this._actQuickRemove.bind(this, fid, EFriendType.RANDOM_USER)));
                  case 12:
                  case "end":
                    return _context11.stop();
                }
              }, _callee11, this);
            }));
            function actRequest(_x22, _x23) {
              return _actRequest.apply(this, arguments);
            }
            return actRequest;
          }();
          _proto.actCancelRequest = /*#__PURE__*/function () {
            var _actCancelRequest = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee12(fid, name) {
              var _response;
              return _regeneratorRuntime().wrap(function _callee12$(_context12) {
                while (1) switch (_context12.prev = _context12.next) {
                  case 0:
                    fid = typeof fid === 'number' ? String(fid) : fid;
                    name = typeof fid === 'string' ? name : fid.name;
                    fid = typeof fid === 'string' ? fid : fid.fid;
                    _context12.next = 5;
                    return request('unAddFriend', {
                      fid: fid
                    });
                  case 5:
                    _response = _context12.sent;
                    return _context12.abrupt("return", this._handlingFriend(_response, {
                      key: 'dynamic_cancel_request_friend',
                      replacers: [{
                        find: "@name",
                        replacer: name
                      }]
                    }, null, 'onCancelRequest', fid, this._actQuickRemove.bind(this, fid, EFriendType.FOLLOWING)));
                  case 7:
                  case "end":
                    return _context12.stop();
                }
              }, _callee12, this);
            }));
            function actCancelRequest(_x24, _x25) {
              return _actCancelRequest.apply(this, arguments);
            }
            return actCancelRequest;
          }();
          _proto.actBlock = /*#__PURE__*/function () {
            var _actBlock = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee13(fid, name) {
              var _response;
              return _regeneratorRuntime().wrap(function _callee13$(_context13) {
                while (1) switch (_context13.prev = _context13.next) {
                  case 0:
                    fid = typeof fid === 'number' ? String(fid) : fid;
                    name = typeof fid === 'string' ? name : fid.name;
                    fid = typeof fid === 'string' ? fid : fid.fid;
                    _context13.next = 5;
                    return request('blockFriend', {
                      fid: fid
                    });
                  case 5:
                    _response = _context13.sent;
                    return _context13.abrupt("return", this._handlingFriend(_response, {
                      key: 'dynamic_block_success',
                      replacers: [{
                        find: "@name",
                        replacer: name
                      }]
                    }, {
                      type: EFriendType.BLACKLIST,
                      refresh: true
                    }, 'onBlock', fid, this._actQuickRemove.bind(this, fid, EFriendType.FRIEND)));
                  case 7:
                  case "end":
                    return _context13.stop();
                }
              }, _callee13, this);
            }));
            function actBlock(_x26, _x27) {
              return _actBlock.apply(this, arguments);
            }
            return actBlock;
          }();
          _proto.actUnBlock = /*#__PURE__*/function () {
            var _actUnBlock = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee14(fid, name) {
              var _response;
              return _regeneratorRuntime().wrap(function _callee14$(_context14) {
                while (1) switch (_context14.prev = _context14.next) {
                  case 0:
                    fid = typeof fid === 'number' ? String(fid) : fid;
                    name = typeof fid === 'string' ? name : fid.name;
                    fid = typeof fid === 'string' ? fid : fid.fid;
                    _context14.next = 5;
                    return request('unBlockFriend', {
                      fid: fid
                    });
                  case 5:
                    _response = _context14.sent;
                    return _context14.abrupt("return", this._handlingFriend(_response, {
                      key: 'dynamic_unblock_success',
                      replacers: [{
                        find: "@name",
                        replacer: name
                      }]
                    }, null, 'onUnBlock', fid, this._actQuickRemove.bind(this, fid, EFriendType.BLACKLIST)));
                  case 7:
                  case "end":
                    return _context14.stop();
                }
              }, _callee14, this);
            }));
            function actUnBlock(_x28, _x29) {
              return _actUnBlock.apply(this, arguments);
            }
            return actUnBlock;
          }();
          _proto.search = /*#__PURE__*/function () {
            var _search = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee15(keyword, type) {
              var _res, _friends;
              return _regeneratorRuntime().wrap(function _callee15$(_context15) {
                while (1) switch (_context15.prev = _context15.next) {
                  case 0:
                    if (!(type === NSGameCMD.UserHandler.SearchFriends.EType.SEARCH_ALL)) {
                      _context15.next = 9;
                      break;
                    }
                    _context15.next = 3;
                    return request('searchFriends', {
                      limit: 10,
                      page: 1,
                      keyword: keyword,
                      type: type
                    });
                  case 3:
                    _res = _context15.sent;
                    if (!(_res.code !== ResponseCode.SUCCESS)) {
                      _context15.next = 6;
                      break;
                    }
                    return _context15.abrupt("return", []);
                  case 6:
                    return _context15.abrupt("return", this._toData(_res.msg.friends, EFriendType.RANDOM_USER));
                  case 9:
                    _context15.next = 11;
                    return this.getFriend(type);
                  case 11:
                    _friends = _context15.sent;
                    if (_friends) {
                      _context15.next = 14;
                      break;
                    }
                    return _context15.abrupt("return", []);
                  case 14:
                    return _context15.abrupt("return", _friends.filter(function (_friend) {
                      return _friend.full_name.includes(keyword) || _friend.uid.toString().includes(keyword);
                    }));
                  case 15:
                  case "end":
                    return _context15.stop();
                }
              }, _callee15, this);
            }));
            function search(_x30, _x31) {
              return _search.apply(this, arguments);
            }
            return search;
          }();
          _proto._actQuickRemove = function _actQuickRemove(fid, type) {
            var _this6 = this;
            for (var _len2 = arguments.length, types = new Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {
              types[_key2 - 2] = arguments[_key2];
            }
            types = pArray.flatter.apply(pArray, [type].concat(types));
            types.forEach(function (_type) {
              return _this6._friends[_type] = _this6._friends[_type].filter(function (_friend) {
                return String(_friend.id) !== String(fid);
              });
            });
          };
          _createClass(Handler, [{
            key: "numberOfFriendRequest",
            get: function get() {
              var _this$_friends$EFrien;
              return ((_this$_friends$EFrien = this._friends[EFriendType.FRIEND_REQUEST]) == null ? void 0 : _this$_friends$EFrien.length) || 0;
            }
          }]);
          return Handler;
        }(NSEventDriver.Handler)) || _class);
        _NSFriendManager.Handler = Handler;
        function instance() {
          return pDecorators.instance(Handler);
        }
        _NSFriendManager.instance = instance;
      })(NSFriendManager || (NSFriendManager = exports('NSFriendManager', {})));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/GameController.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './IEventResponse.ts', './Decorators.ts', './UIGamePlay.ts', './GlobalConfig.ts', './UIPlayingScene.ts', './ResponeCode.ts', './Enums.ts', './EventManager.ts', './UIHistoryChatManager.ts', './AsyncUtils.ts', './LanguageManager.ts', './UpdateManager.ts', './GameManager.ts', './ArrayUtils.ts', './UserCommand.ts', './StringUtils.ts', './Constants.ts'], function (exports) {
  var _createForOfIteratorHelperLoose, _createClass, _asyncToGenerator, _regeneratorRuntime, cclegacy, NSEventResponse, pDecorators, UIGamePlay, GlobalConfig, UIPlayingScene, ResponseCode, EStatusGame, EStatusPlayer, EGameState, pEventManager, UIHistoryChatManager, pAsyncUtils, LanguageMananger, UpdateManager, GameManager, pArray, request, pStringUtils, Duration;
  return {
    setters: [function (module) {
      _createForOfIteratorHelperLoose = module.createForOfIteratorHelperLoose;
      _createClass = module.createClass;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
    }, function (module) {
      NSEventResponse = module.NSEventResponse;
    }, function (module) {
      pDecorators = module.pDecorators;
    }, function (module) {
      UIGamePlay = module.default;
    }, function (module) {
      GlobalConfig = module.default;
    }, function (module) {
      UIPlayingScene = module.default;
    }, function (module) {
      ResponseCode = module.ResponseCode;
    }, function (module) {
      EStatusGame = module.EStatusGame;
      EStatusPlayer = module.EStatusPlayer;
      EGameState = module.EGameState;
    }, function (module) {
      pEventManager = module.pEventManager;
    }, function (module) {
      UIHistoryChatManager = module.default;
    }, function (module) {
      pAsyncUtils = module.pAsyncUtils;
    }, function (module) {
      LanguageMananger = module.LanguageMananger;
    }, function (module) {
      UpdateManager = module.UpdateManager;
    }, function (module) {
      GameManager = module.GameManager;
    }, function (module) {
      pArray = module.pArray;
    }, function (module) {
      request = module.default;
    }, function (module) {
      pStringUtils = module.pStringUtils;
    }, function (module) {
      Duration = module.Duration;
    }],
    execute: function () {
      var _dec, _class;
      cclegacy._RF.push({}, "57082oUCpBFyKVTylKG6+Tc", "GameController", undefined);
      var logger = pDecorators.logger;

      /**
       * Event Game Flow
       *
       * 1. onTableEvent - state = IN_PROGRESS ( <- Game Loop Here )
       * 2. onEndTurn
       * 3. onEndGame
       * 4. onClearTable
       * 5. onTableEvent - state = END_GAME
       *
       */

      var GameController = exports('GameController', (_dec = logger("GameController"), _dec(_class = /*#__PURE__*/function () {
        function GameController() {
          this._isEnable = false;
          this._onEnable = null;
          this._onDisable = null;
          this._isBlind = false;
          this._gameState = EStatusGame.WAITING;
          this._listCurrPlayerInTabel = [];
          this._roundActions = {
            Deal: [],
            Flop: [],
            Turn: [],
            River: []
          };
          this._mainState = EStatusPlayer.WATCH;
          this._game = NSEventResponse.dGame;
          this._lastPlayerIndex = -1;
          this._isNewRound = true;
          this._ante = 0;
          this._membersAfterClear = [];
          this._savedAutoCall = -1;
          this._currentPlayer = -1;
          this._tid = "";
          this._table = null;
          this._joinOtherGameOnEnd = null;
          this._retry = 0;
          this._maxRetry = 5;
          this._wids = pStringUtils.uuid();
          this._onRecheckData = null;
        }
        var _proto = GameController.prototype;
        _proto.enable = function enable() {
          this._isEnable = true;
          pEventManager.on(this._events);
          this._onEnable && this._onEnable();
        };
        _proto.disable = function disable() {
          this._isEnable = false;
          pEventManager.off(this._events);
          this._onDisable && this._onDisable();
        };
        _proto._appendCallAmount = function _appendCallAmount() {
          var _gp = pDecorators.instance(UIGamePlay);
          if (!_gp) return;
          var main = _gp.main,
            hasMain = _gp.hasMain;
          if (!hasMain) return;
          main.callRq = Math.abs(main.callRq);
          var _pv = pDecorators.instance(UIPlayingScene);
          if (!_pv) return;
          _pv.uiGameAction.updateCallAmount(main.callRq, _gp.main.data.chips <= this.game.bigBlind);
        };
        _proto._getAnte = function _getAnte(ante) {
          ante = typeof ante === 'number' ? ante : ante.ante;
          return !ante ? this._ante : ante;
        };
        _proto.setGame = function setGame(game, ante) {
          var roundName = game.roundName;
          if (!!roundName) {
            if (roundName !== this._game.roundName) {
              pEventManager.invoke('onNewRound', game.roundName, game, this._getAnte(ante));
              this._isNewRound = true;
            }
          }
          this._game = game;
        };
        _proto.onTableEvent = /*#__PURE__*/function () {
          var _onTableEvent = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(data) {
            var route, msg, state;
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  route = data.route;
                  if (!(route !== 'onTableEvent')) {
                    _context.next = 3;
                    break;
                  }
                  return _context.abrupt("return");
                case 3:
                  msg = data.msg;
                  state = msg.state;
                  _context.t0 = state;
                  _context.next = _context.t0 === 'IN_PROGRESS' ? 8 : _context.t0 === 'END_GAME' ? 10 : 13;
                  break;
                case 8:
                  this._onTableInProgressState(msg);
                  return _context.abrupt("break", 13);
                case 10:
                  _context.next = 12;
                  return this._onTableEndGameState(msg);
                case 12:
                  return _context.abrupt("break", 13);
                case 13:
                case "end":
                  return _context.stop();
              }
            }, _callee, this);
          }));
          function onTableEvent(_x) {
            return _onTableEvent.apply(this, arguments);
          }
          return onTableEvent;
        }();
        _proto._onTableInProgressState = /*#__PURE__*/function () {
          var _onTableInProgressState2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(data) {
            var _this = this;
            var _gp, _pv, playersToAdd, players, game, dealer, actions, currentPlayer, ante, bets, roundName, _ante, lastAction, _currentPlayer, currentTurnPlayer, _lastPlayer, lastPlayer, _dealer;
            return _regeneratorRuntime().wrap(function _callee2$(_context2) {
              while (1) switch (_context2.prev = _context2.next) {
                case 0:
                  _gp = pDecorators.instance(UIGamePlay);
                  _pv = pDecorators.instance(UIPlayingScene);
                  if (!(!_gp || !_pv)) {
                    _context2.next = 4;
                    break;
                  }
                  return _context2.abrupt("return");
                case 4:
                  this.log("[999] _onTableInProgressState >>>", data, "\n >>> Items:", _gp.players.map(function (e) {
                    return e.data;
                  }), '\n\n >>> Players:', data.players, '\n\n >>> Status', EStatusPlayer[this.mainState]);
                  playersToAdd = data.playersToAdd, players = data.players, game = data.game, dealer = data.dealer, actions = data.actions, currentPlayer = data.currentPlayer, ante = data.ante;
                  bets = game.bets, roundName = game.roundName;
                  if (this.mainState === EStatusPlayer.WAITING) {
                    if (GlobalConfig.instance.hasMainById(players)) this.mainState = EStatusPlayer.JOIN_GAME;
                  }
                  _ante = typeof ante === 'number' ? ante : this._ante;
                  this._checkNewGame(game, players, _ante);

                  //this.listCurrPlayerInTabel = players;
                  lastAction = actions[actions.length - 1];
                  this._setRoundAction(roundName, lastAction);
                  if (this._gameState === EStatusGame.END_GAME) {
                    this._endMatch();
                  }
                  this._gameState = EStatusGame.IN_PROGRESS;
                  this._checkCurrentListPlayerInTable(players, playersToAdd); //< Now only see playing player

                  _pv.currentTurn();
                  this._checkFold(players);
                  this._checkWating(playersToAdd);
                  _currentPlayer = players.find(function (player) {
                    return player.index === currentPlayer;
                  });
                  currentTurnPlayer = _gp.getPlayerByUserName(_currentPlayer);
                  if (currentTurnPlayer) {
                    _context2.next = 23;
                    break;
                  }
                  this.warn('Current Turn Player is null..', '\n\t> Players:', players, '\n\t> Data: (check currentPlayer)', data, '\n\t > Current Turn Player:', players[data.currentPlayer], currentTurnPlayer, _gp.getPlayerByUserName(players[currentPlayer]));
                  return _context2.abrupt("return");
                case 23:
                  this.log("SuperCheck___ >>> \n Current Player Item >>", currentTurnPlayer, "\nCurrent Raw Player Data >>>", _currentPlayer, "\nThis is main >>", currentTurnPlayer.isMain, "\nCurrent Player Index: ", currentPlayer, "\nMAIN id:", GlobalConfig.instance.Login.player.information.id, "\n>>Target Id: ", _currentPlayer.id);
                  if (this._lastPlayerIndex !== -1) {
                    _lastPlayer = players.find(function (player) {
                      return player.index === _this._lastPlayerIndex;
                    });
                    lastPlayer = _gp.getPlayerByUserName(_lastPlayer) || null;
                    lastPlayer == null || lastPlayer.save(actions[actions.length - 1], roundName);
                  }
                  this._lastPlayerIndex = currentPlayer;
                  _dealer = _gp.getPlayerByUserName(players.find(function (player) {
                    return player.index === dealer;
                  }));
                  _gp.showStatusMyDealer(_dealer, true);

                  //this._displayActionCard(currentTurnPlayer.isMain);

                  //this._actDisplayActionCard();
                  this._updateChipBetForPlayer(players);
                  this._actCallculateMinRaise(data, currentTurnPlayer);
                  _pv.uiPopupMoreBet.init(players, bets);
                  this._checkRaisable();
                  _context2.next = 35;
                  return this._handleStatusMainPlayer(data, players, playersToAdd);
                case 35:
                  this._autoPlay(currentTurnPlayer);
                case 36:
                case "end":
                  return _context2.stop();
              }
            }, _callee2, this);
          }));
          function _onTableInProgressState(_x2) {
            return _onTableInProgressState2.apply(this, arguments);
          }
          return _onTableInProgressState;
        }();
        _proto._onTableEndGameState = /*#__PURE__*/function () {
          var _onTableEndGameState2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(data) {
            var playersToNotEnough, _pv, _gp, _hasMain;
            return _regeneratorRuntime().wrap(function _callee3$(_context3) {
              while (1) switch (_context3.prev = _context3.next) {
                case 0:
                  this._gameState = EStatusGame.END_GAME;
                  playersToNotEnough = data.playersToNotEnough;
                  _context3.next = 4;
                  return this._actKick(playersToNotEnough);
                case 4:
                  if (!_context3.sent) {
                    _context3.next = 6;
                    break;
                  }
                  return _context3.abrupt("return");
                case 6:
                  _pv = pDecorators.instance(UIPlayingScene);
                  _gp = pDecorators.instance(UIGamePlay);
                  if (!(!_pv || !_gp)) {
                    _context3.next = 10;
                    break;
                  }
                  return _context3.abrupt("return");
                case 10:
                  if (!this._handlerJoinOtherGameOnEnd()) {
                    _context3.next = 12;
                    break;
                  }
                  return _context3.abrupt("return");
                case 12:
                  _context3.t0 = _pv.uiStandUpRegister.isOn;
                  if (!_context3.t0) {
                    _context3.next = 16;
                    break;
                  }
                  _context3.next = 16;
                  return this.actStandUp();
                case 16:
                  _hasMain = GlobalConfig.instance.hasMainById(this._membersAfterClear);
                  _hasMain ? _gp.actRotation('main', this._membersAfterClear, []) : _gp.actRotation('watch', this._membersAfterClear, []);
                case 18:
                case "end":
                  return _context3.stop();
              }
            }, _callee3, this);
          }));
          function _onTableEndGameState(_x3) {
            return _onTableEndGameState2.apply(this, arguments);
          }
          return _onTableEndGameState;
        }();
        _proto._handlerJoinOtherGameOnEnd = function _handlerJoinOtherGameOnEnd() {
          if (!this._joinOtherGameOnEnd) return false;
          GameManager.Instance.joinTableViaInvite(this._joinOtherGameOnEnd);
          return true;
        };
        _proto._onEndGameReset = function _onEndGameReset() {
          this._isBlind = false;
        };
        _proto._checkNewGame = function _checkNewGame(game, players, ante) {
          if (players === void 0) {
            players = [];
          }
          if (ante === void 0) {
            ante = 0;
          }
          if (this._game.roundName != game.roundName) {
            if (game.roundName == 'Deal') {
              var _gp = pDecorators.instance(UIGamePlay);
              if (!!_gp) {
                for (var _iterator = _createForOfIteratorHelperLoose(players), _step; !(_step = _iterator()).done;) {
                  var _p = _step.value;
                  var _item = _gp.getPlayerByUserName(_p);
                  if (!_item) continue;
                  _item.setTxtStatus('hide', true);
                  _item.activeWinner(false);
                }
                _gp.hideAlert('winner');
                _gp.hideCommunityCards();
              }
              pEventManager.invoke('onNewGame', players, this._getAnte(ante), game);
            }
          }
          this.setGame(game, ante);
        };
        _proto._checkRaisable = function _checkRaisable() {
          var _pv = pDecorators.instance(UIPlayingScene);
          if (!_pv) return;
          var uiGameAction = _pv.uiGameAction,
            uiPopupMoreBet = _pv.uiPopupMoreBet;
          var isValidRaise = uiPopupMoreBet.isValidRaise,
            isValidAllIn = uiPopupMoreBet.isValidAllIn;
          uiGameAction.transformTo(isValidRaise, isValidAllIn);
        };
        _proto._checkWating = function _checkWating(waiters) {
          var _gp = pDecorators.instance(UIGamePlay);
          if (!_gp) return;
          waiters.forEach(function (player) {
            var item = _gp.getPlayerByUserName(player);
            item == null || item.setTxtStatus('waiting');
          });
        };
        _proto.onEndTurn = function onEndTurn(msg) {
          var route = msg.route;
          if (route !== 'onEndTurn') return;
          this._onEndTurnState(msg);
        };
        _proto._onEndTurnState = function _onEndTurnState(data) {
          var _this2 = this;
          var msg = data.msg;
          var players = msg.players,
            game = msg.game,
            actions = msg.actions,
            playersToAdd = msg.playersToAdd,
            currentPlayer = msg.currentPlayer,
            ante = msg.ante;
          var _pv = pDecorators.instance(UIPlayingScene);
          var _gp = pDecorators.instance(UIGamePlay);
          if (!_pv || !_gp) return;
          var uiGameAction = _pv.uiGameAction,
            uiAutoPlayer = _pv.uiAutoPlayer;
          this.setGame(game, ante);
          var bets = game.bets,
            roundName = game.roundName;
          this._gameState = EStatusGame.END_TURN;
          this._checkCurrentListPlayerInTable(players.concat(playersToAdd), playersToAdd);
          this._showCommunityCards(players); //< River round

          if (this._lastPlayerIndex !== -1) {
            var _lastPlayer = players.find(function (player) {
              return player.index === _this2._lastPlayerIndex;
            });
            if (!!_lastPlayer) {
              var lastPlayer = _gp.getPlayerByUserName(_lastPlayer) || null;
              lastPlayer == null || lastPlayer.save(actions[actions.length - 1], roundName);
              if (!_lastPlayer.folded) {
                var _is = _lastPlayer.chips <= 0 || _lastPlayer.chips == bets[_lastPlayer.index];
                _is && _gp.showAllIn();
              }
            }
          }
          this._lastPlayerIndex = currentPlayer;
          players.forEach(function (player) {
            var item = _gp.getPlayerByUserName(player);
            if (!item) return;
            var isFolded = item.isFolded;
            if (isFolded) item.setTxtStatus('fold');
            item.activeClock(false);

            //if (this.game.bets[index] != 0) {
            //    item.uiGameInfo.onPot(this.game);
            //}

            item.updateAmountChipBet(0);
          });

          //_gp.updatePotDealer(game);
          uiGameAction.active = false;
          uiAutoPlayer.active = false;
          //_gp.gamePot.merge(game);
        };

        _proto.onClearTable = /*#__PURE__*/function () {
          var _onClearTable = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(msg) {
            var route, members;
            return _regeneratorRuntime().wrap(function _callee4$(_context4) {
              while (1) switch (_context4.prev = _context4.next) {
                case 0:
                  route = msg.route;
                  if (!(route !== 'onClearTable')) {
                    _context4.next = 3;
                    break;
                  }
                  return _context4.abrupt("return");
                case 3:
                  members = msg.members;
                  this._gameState = EStatusGame.CLEAR_TABLE;
                  this._membersAfterClear = members;
                  this._onEndGameReset();
                  this._endMatch();

                //if (await this._actKick(this._playersToNotEnough)) return;     //< Auto Buy In Handle

                //_pv.uiStandUpRegister.isOn && this.actStandUp()
                //_pv.updateDisplayMainPlayerJoint(members, []);
                case 8:
                case "end":
                  return _context4.stop();
              }
            }, _callee4, this);
          }));
          function onClearTable(_x4) {
            return _onClearTable.apply(this, arguments);
          }
          return onClearTable;
        }();
        _proto.onEndGame = /*#__PURE__*/function () {
          var _onEndGame = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6(data) {
            var _this3 = this,
              _gp$main;
            var route, msg, gameWinners, game, ante, _ante, _pv, _gp, uiGameAction, pass, players, _iterator2, _step2, player, cards, folded, handInfo, chips, _item, _asyncs;
            return _regeneratorRuntime().wrap(function _callee6$(_context6) {
              while (1) switch (_context6.prev = _context6.next) {
                case 0:
                  route = data.route, msg = data.msg;
                  if (!(route !== 'onEndGame')) {
                    _context6.next = 3;
                    break;
                  }
                  return _context6.abrupt("return");
                case 3:
                  gameWinners = msg.gameWinners, game = msg.game, ante = msg.ante;
                  _ante = typeof ante === 'number' ? ante : this._ante;
                  this.setGame(game, _ante);
                  this._gameState = EStatusGame.END_GAME;
                  _pv = pDecorators.instance(UIPlayingScene);
                  _gp = pDecorators.instance(UIGamePlay);
                  if (!(!_gp || !_pv)) {
                    _context6.next = 11;
                    break;
                  }
                  return _context6.abrupt("return");
                case 11:
                  //_gp.showCommunityCards(game.board);
                  uiGameAction = _pv.uiGameAction;
                  uiGameAction.active = false;
                  if (!(gameWinners.length <= 0)) {
                    _context6.next = 15;
                    break;
                  }
                  return _context6.abrupt("return");
                case 15:
                  _context6.next = 17;
                  return _gp.uiCommunityCard.isDone();
                case 17:
                  pass = _context6.sent;
                  if (pass) {
                    _context6.next = 20;
                    break;
                  }
                  return _context6.abrupt("return");
                case 20:
                  //await _gp.gamePot.merge(pot, sidepots);
                  players = gameWinners[0].players;
                  _iterator2 = _createForOfIteratorHelperLoose(players);
                case 22:
                  if ((_step2 = _iterator2()).done) {
                    _context6.next = 33;
                    break;
                  }
                  player = _step2.value;
                  cards = player.cards, folded = player.folded, handInfo = player.handInfo, chips = player.chips;
                  _item = _gp.getPlayerByUserName(player);
                  if (_item) {
                    _context6.next = 28;
                    break;
                  }
                  return _context6.abrupt("continue", 31);
                case 28:
                  folded ? _item.showBackCardPlayer() : _item.showFaceCardPlayer(cards);
                  _item.updateData('chips', chips);
                  if (_item.isMain) {
                    _gp.uiCommunityCard.card.highlight(handInfo, true);
                    _item.uiGameInfo.hand.highlight(handInfo, false);
                  }
                case 31:
                  _context6.next = 22;
                  break;
                case 33:
                  _asyncs = gameWinners.map( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(_player) {
                    var playerName, hand, item;
                    return _regeneratorRuntime().wrap(function _callee5$(_context5) {
                      while (1) switch (_context5.prev = _context5.next) {
                        case 0:
                          playerName = _player.playerName, hand = _player.hand;
                          item = _gp.getPlayerByUserName(playerName);
                          if (!(!item || item.isFolded)) {
                            _context5.next = 4;
                            break;
                          }
                          return _context5.abrupt("return");
                        case 4:
                          //item.activeIsTurn(false);
                          item.activeClock(false);
                          _context5.next = 7;
                          return item.uiGameInfo.actWin(item, _player.amount);
                        case 7:
                          _context5.next = 9;
                          return pAsyncUtils.wait(0.25);
                        case 9:
                          item.activeWinner(true);
                          item.updateData('chips', _player.chips);
                          _gp.showAlert('winner', _this3.getTxtWinner(hand == null ? void 0 : hand.message), _this3._getWinnerDuration());
                        case 12:
                        case "end":
                          return _context5.stop();
                      }
                    }, _callee5);
                  })));
                  _context6.next = 36;
                  return Promise.all(_asyncs);
                case 36:
                  (_gp$main = _gp.main) == null || _gp$main.showRewardExp();
                case 37:
                case "end":
                  return _context6.stop();
              }
            }, _callee6, this);
          }));
          function onEndGame(_x5) {
            return _onEndGame.apply(this, arguments);
          }
          return onEndGame;
        }();
        _proto._getWinnerDuration = function _getWinnerDuration() {
          return Duration.winner.alert;
        };
        _proto.onUpdateUsers = function onUpdateUsers(msg) {
          this.log('_onUpdateUsersEvent >>', msg);
          var route = msg.route;
          if (route !== 'onUpdateUsers') return;
          if (NSEventResponse.isUpdateUsersPlayer(msg)) {
            var members = msg.members,
              action = msg.action;
            var _gp = pDecorators.instance(UIGamePlay);
            if (!_gp) return;
            switch (action) {
              case "IN_PLAY":
                {
                  members.forEach(function (e) {
                    var player = _gp.getPlayerByID(e.id);
                    player && player.updatesData({
                      key: 'chips',
                      data: e.chips
                    });
                  });
                  break;
                }
            }
          }
        };
        _proto.onLeaveTable = function onLeaveTable() {
          UIHistoryChatManager.instance.reset();
          this.mainState = EStatusPlayer.WATCH;
          this._joinOtherGameOnEnd = null;
          this._endMatch();
          pAsyncUtils.stopAll();
          this._tid = '';
        };
        _proto.onChat = function onChat(data) {
          var msg = data.msg,
            username = data.username,
            full_name = data.full_name,
            avatar = data.avatar;
          msg.includes('send_emoji:') ? this._onSendSticker(username, msg.split("send_emoji:")[1]) : this._onTextChat(username, msg, full_name, avatar);
        };
        _proto._onSendSticker = function _onSendSticker(username, msg) {
          var uiGamePlayCpm = pDecorators.instance(UIGamePlay);
          if (!uiGamePlayCpm) {
            return;
          }
          uiGamePlayCpm.sendEmojiByPlayer(username, msg);
        };
        _proto._onTextChat = function _onTextChat(username, msg, full_name, avatar) {
          var uiGamePlayCpm = pDecorators.instance(UIGamePlay);
          if (!uiGamePlayCpm) {
            return;
          }
          uiGamePlayCpm.sendChatByPlayer(username, msg);
          UIHistoryChatManager.instance.save({
            username: username,
            avatar: avatar,
            full_name: full_name,
            msg: msg
          });
          pEventManager.invoke('onHasChat', {
            username: username,
            msg: msg,
            fullname: full_name
          });
        };
        _proto.actBackToLobby = function actBackToLobby() {
          this.mainState = EStatusPlayer.WATCH;
          this._onBackToLobby();
        };
        _proto._onBackToLobby = function _onBackToLobby() {};
        _proto.actStandUp = /*#__PURE__*/function () {
          var _actStandUp = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee7() {
            var instance, loading;
            return _regeneratorRuntime().wrap(function _callee7$(_context7) {
              while (1) switch (_context7.prev = _context7.next) {
                case 0:
                  instance = GlobalConfig.instance;
                  loading = instance.loading;
                  loading.open();
                  _context7.next = 5;
                  return this._actStandUpCMD();
                case 5:
                  loading.close();
                case 6:
                case "end":
                  return _context7.stop();
              }
            }, _callee7, this);
          }));
          function actStandUp() {
            return _actStandUp.apply(this, arguments);
          }
          return actStandUp;
        }();
        _proto.actionBet = /*#__PURE__*/function () {
          var _actionBet = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee8(_value, _onSuccess) {
            var uiGamePlayCpm, _pv, uiAutoPlayer, main, data, betted, chips, msg;
            return _regeneratorRuntime().wrap(function _callee8$(_context8) {
              while (1) switch (_context8.prev = _context8.next) {
                case 0:
                  if (_onSuccess === void 0) {
                    _onSuccess = null;
                  }
                  uiGamePlayCpm = pDecorators.instance(UIGamePlay);
                  if (uiGamePlayCpm) {
                    _context8.next = 4;
                    break;
                  }
                  return _context8.abrupt("return");
                case 4:
                  _pv = pDecorators.instance(UIPlayingScene);
                  if (_pv) {
                    _context8.next = 7;
                    break;
                  }
                  return _context8.abrupt("return");
                case 7:
                  uiAutoPlayer = _pv.uiAutoPlayer;
                  main = uiGamePlayCpm.main;
                  data = main.data, betted = main.betted;
                  chips = data.chips;
                  _value = Math.min(_value, chips);
                  if (!(_value + betted >= chips)) {
                    _context8.next = 16;
                    break;
                  }
                  this.actionAllin(_value);
                  _context8.next = 33;
                  break;
                case 16:
                  _context8.prev = 16;
                  _context8.next = 19;
                  return this._actBetCMD(_value + betted);
                case 19:
                  msg = _context8.sent;
                  _context8.t0 = msg.code;
                  _context8.next = _context8.t0 === ResponseCode.ERROR ? 23 : _context8.t0 === ResponseCode.SUCCESS ? 25 : 28;
                  break;
                case 23:
                  this._quickErrorNotice(msg.error);
                  return _context8.abrupt("break", 28);
                case 25:
                  uiAutoPlayer.close();
                  _onSuccess && _onSuccess();
                  return _context8.abrupt("break", 28);
                case 28:
                  _context8.next = 33;
                  break;
                case 30:
                  _context8.prev = 30;
                  _context8.t1 = _context8["catch"](16);
                  this.error('Act Bet Error >>', _context8.t1);
                case 33:
                case "end":
                  return _context8.stop();
              }
            }, _callee8, this, [[16, 30]]);
          }));
          function actionBet(_x7, _x8) {
            return _actionBet.apply(this, arguments);
          }
          return actionBet;
        }();
        _proto.actionCheck = /*#__PURE__*/function () {
          var _actionCheck = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee9() {
            var msg;
            return _regeneratorRuntime().wrap(function _callee9$(_context9) {
              while (1) switch (_context9.prev = _context9.next) {
                case 0:
                  _context9.next = 2;
                  return this._actCheckCMD();
                case 2:
                  msg = _context9.sent;
                  _context9.t0 = msg.code;
                  _context9.next = _context9.t0 === ResponseCode.SUCCESS ? 7 : _context9.t0 === ResponseCode.ERROR ? 8 : 10;
                  break;
                case 7:
                  return _context9.abrupt("break", 10);
                case 8:
                  this._quickErrorNotice(msg.error);
                  return _context9.abrupt("break", 10);
                case 10:
                case "end":
                  return _context9.stop();
              }
            }, _callee9, this);
          }));
          function actionCheck() {
            return _actionCheck.apply(this, arguments);
          }
          return actionCheck;
        }();
        _proto.actionFold = /*#__PURE__*/function () {
          var _actionFold = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee10() {
            var _pv, uiGameAction, uiAutoPlayer, msg;
            return _regeneratorRuntime().wrap(function _callee10$(_context10) {
              while (1) switch (_context10.prev = _context10.next) {
                case 0:
                  _pv = pDecorators.instance(UIPlayingScene);
                  if (_pv) {
                    _context10.next = 3;
                    break;
                  }
                  return _context10.abrupt("return");
                case 3:
                  uiGameAction = _pv.uiGameAction, uiAutoPlayer = _pv.uiAutoPlayer;
                  _context10.next = 6;
                  return this._actFoldCMD();
                case 6:
                  msg = _context10.sent;
                  _context10.t0 = msg.code;
                  _context10.next = _context10.t0 === ResponseCode.SUCCESS ? 10 : _context10.t0 === ResponseCode.ERROR ? 12 : 14;
                  break;
                case 10:
                  uiAutoPlayer.close();
                  return _context10.abrupt("break", 14);
                case 12:
                  this._quickErrorNotice(msg.error);
                  return _context10.abrupt("break", 14);
                case 14:
                  uiGameAction.active = false;
                  uiAutoPlayer.active = false;
                case 16:
                case "end":
                  return _context10.stop();
              }
            }, _callee10, this);
          }));
          function actionFold() {
            return _actionFold.apply(this, arguments);
          }
          return actionFold;
        }();
        _proto.actionCall = /*#__PURE__*/function () {
          var _actionCall = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee11() {
            var _pv, uiGameAction, uiAutoPlayer, msg;
            return _regeneratorRuntime().wrap(function _callee11$(_context11) {
              while (1) switch (_context11.prev = _context11.next) {
                case 0:
                  _pv = pDecorators.instance(UIPlayingScene);
                  if (_pv) {
                    _context11.next = 3;
                    break;
                  }
                  return _context11.abrupt("return");
                case 3:
                  uiGameAction = _pv.uiGameAction, uiAutoPlayer = _pv.uiAutoPlayer;
                  _context11.next = 6;
                  return this._actCallCMD();
                case 6:
                  msg = _context11.sent;
                  _context11.t0 = msg.code;
                  _context11.next = _context11.t0 === ResponseCode.SUCCESS ? 10 : _context11.t0 === ResponseCode.ERROR ? 11 : 13;
                  break;
                case 10:
                  return _context11.abrupt("break", 13);
                case 11:
                  this._quickErrorNotice(msg.error);
                  return _context11.abrupt("break", 13);
                case 13:
                  uiGameAction.active = false;
                  uiAutoPlayer.active = false;
                case 15:
                case "end":
                  return _context11.stop();
              }
            }, _callee11, this);
          }));
          function actionCall() {
            return _actionCall.apply(this, arguments);
          }
          return actionCall;
        }();
        _proto.actionAllin = /*#__PURE__*/function () {
          var _actionAllin = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee12(value, force) {
            var _gp, _pv, uiGameAction, uiAutoPlayer, main, data, betted, chips, msg;
            return _regeneratorRuntime().wrap(function _callee12$(_context12) {
              while (1) switch (_context12.prev = _context12.next) {
                case 0:
                  if (force === void 0) {
                    force = false;
                  }
                  _gp = pDecorators.instance(UIGamePlay);
                  _pv = pDecorators.instance(UIPlayingScene);
                  if (!(!_gp || !_pv)) {
                    _context12.next = 5;
                    break;
                  }
                  return _context12.abrupt("return");
                case 5:
                  uiGameAction = _pv.uiGameAction, uiAutoPlayer = _pv.uiAutoPlayer;
                  main = _gp.main;
                  data = main.data, betted = main.betted;
                  chips = data.chips;
                  if (!(value + betted < chips && !force)) {
                    _context12.next = 13;
                    break;
                  }
                  _context12.next = 12;
                  return this.actionBet(value);
                case 12:
                  return _context12.abrupt("return");
                case 13:
                  _context12.next = 15;
                  return this._actAllInCMD(value + betted);
                case 15:
                  msg = _context12.sent;
                  _context12.t0 = msg.code;
                  _context12.next = _context12.t0 === ResponseCode.ERROR ? 19 : _context12.t0 === ResponseCode.SUCCESS ? 21 : 22;
                  break;
                case 19:
                  this._quickErrorNotice(msg.error);
                  return _context12.abrupt("break", 22);
                case 21:
                  return _context12.abrupt("break", 22);
                case 22:
                  uiGameAction.active = false;
                  uiAutoPlayer.active = false;
                case 24:
                case "end":
                  return _context12.stop();
              }
            }, _callee12, this);
          }));
          function actionAllin(_x9, _x10) {
            return _actionAllin.apply(this, arguments);
          }
          return actionAllin;
        }();
        _proto._actCheckActions = function _actCheckActions(actions, isFold) {
          if (isFold === void 0) {
            isFold = false;
          }
          var lastAction = actions[actions.length - 1];
          var amount = lastAction.amount,
            action = lastAction.action,
            playerName = lastAction.playerName;
          var _pv = pDecorators.instance(UIPlayingScene);
          var _gp = pDecorators.instance(UIGamePlay);
          if (!_gp || !_pv) return;
          var bets = this.game.bets;
          var uiGameAction = _pv.uiGameAction;
          var _lastPlayer = _gp.getPlayerByUserName(playerName);
          if (!!_lastPlayer && !_lastPlayer.isEmptySit()) {
            var _is = _lastPlayer.data.chips <= 0 || _lastPlayer.data.chips == bets[_lastPlayer.data.index];
            var _allIn = _is && !isFold && !_lastPlayer.isFolded;
            _allIn && _gp.showAllIn();
          }
          var main = _gp.main;
          var callRq = main.callRq;
          switch (action) {
            case 'allin':
              {
                uiGameAction.setStatusBtn("bet", callRq <= 0);
                break;
              }
            case "bet":
              {
                amount != callRq ? uiGameAction.setStatusBtn("raise", callRq <= 0) : uiGameAction.setStatusBtn("bet", callRq <= 0);
                break;
              }
            case "check":
              {
                uiGameAction.setStatusBtn("check");
                break;
              }
            case "call":
              {
                main.callRq <= 0 ? uiGameAction.setStatusBtn('check') : uiGameAction.setStatusBtn("bet", callRq <= 0);
                break;
              }
            case "fold":
              {
                var i = actions.length - 2;
                while (i >= 0 && actions[i].action === "fold") i--;
                if (i >= 0) this._actCheckActions(actions.slice(0, i + 1), true);
                break;
              }
          }
          this._appendCallAmount();
        };
        _proto._getRoundAction = function _getRoundAction(round) {
          if (!this._roundActions[round]) this._roundActions[round] = [];
          return this._roundActions[round];
        };
        _proto._setRoundAction = function _setRoundAction(round, data) {
          if (!this._roundActions[round]) this._roundActions[round] = [];
          if (!!data) this._roundActions[round].push(data);
        };
        _proto._updatePlayerBets = function _updatePlayerBets(_players) {
          var _gp = pDecorators.instance(UIGamePlay);
          if (!_gp) return;
          var _this$game = this.game,
            bets = _this$game.bets,
            roundName = _this$game.roundName;
          for (var _iterator3 = _createForOfIteratorHelperLoose(_players), _step3; !(_step3 = _iterator3()).done;) {
            var _item$getLastRoundAct;
            var _player = _step3.value;
            var _item = _gp.getPlayerByUserName(_player);
            var _amount = _item ? _item.isFolded ? (_item$getLastRoundAct = _item.getLastRoundAction(function (act) {
              return act != 'fold';
            }, roundName)) == null ? void 0 : _item$getLastRoundAct.amount : bets[_item.index] : 0;
            _item == null || _item.updateAmountChipBet(_amount);
          }
        };
        _proto._updateChipBetForPlayer = /*#__PURE__*/function () {
          var _updateChipBetForPlayer2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee13(players) {
            var blinds, _bPlayers;
            return _regeneratorRuntime().wrap(function _callee13$(_context13) {
              while (1) switch (_context13.prev = _context13.next) {
                case 0:
                  blinds = this.game.blinds;
                  if (!this._isBlind) {
                    _bPlayers = blinds.map(function (idx) {
                      return players.find(function (player) {
                        return player.index === idx;
                      });
                    }).filter(Boolean);
                    this._updatePlayerBets(_bPlayers);
                    this._isBlind = true;
                  } else {
                    this._updatePlayerBets(players);
                  }
                case 2:
                case "end":
                  return _context13.stop();
              }
            }, _callee13, this);
          }));
          function _updateChipBetForPlayer(_x11) {
            return _updateChipBetForPlayer2.apply(this, arguments);
          }
          return _updateChipBetForPlayer;
        }();
        _proto._checkCurrentListPlayerInTable = function _checkCurrentListPlayerInTable(players, waitings) {
          if (players.length <= 0) {
            this._endMatch();
            return;
          }
          var _pv = pDecorators.instance(UIPlayingScene);
          var _gp = pDecorators.instance(UIGamePlay);
          if (!_pv || !_gp) return;
          switch (this.mainState) {
            case EStatusPlayer.WAITING:
              {
                _gp.actRotation('waiting', players.concat(waitings), waitings);
                _pv.updateLeavingBtn(true);
                break;
              }
            case EStatusPlayer.WATCH:
              {
                _gp.actRotation('watch', players, waitings);
                _pv.updateLeavingBtn(false);
                break;
              }
            case EStatusPlayer.JOIN_GAME:
              {
                _gp.actRotation('main', players, []);
                _pv.updateLeavingBtn(true);
                break;
              }
          }
        };
        _proto._showCommunityCards = function _showCommunityCards(players) {
          var _gp = pDecorators.instance(UIGamePlay);
          if (!_gp) return;
          _gp.showCommunityCards(this.game.board);
          players.forEach(function (e) {
            var player = _gp.getPlayerByUserName(e);
            if (!player) return;
            player.isMain ? player.showFaceCardPlayer(e.cards) : player.showBackCardPlayer();
          });
        };
        _proto._autoPlay = function _autoPlay(player) {
          var _this4 = this;
          if (this.mainState !== EStatusPlayer.JOIN_GAME) return;
          var isMain = player.isMain == true;
          var _ps = pDecorators.instance(UIPlayingScene);
          var _gp = pDecorators.instance(UIGamePlay);
          if (!_gp || !_ps) return;
          var uiAutoPlayer = _ps.uiAutoPlayer,
            uiGameAction = _ps.uiGameAction;
          var main = _gp.main;
          var _isDif = player.callRq !== this._savedAutoCall;
          if (_isDif) {
            this._savedAutoCall = player.callRq;
            uiAutoPlayer.updateCallAmount(player.callRq);
          }
          if (isMain) {
            if (_isDif && uiAutoPlayer.isAutoCall) {
              uiAutoPlayer.close();
              uiGameAction.open();
              //pAsyncUtils.wait(0.15).then(() => uiAutoPlayer.close() )
              return;
            }
            var _hasAuto = uiAutoPlayer.hasAuto();
            uiGameAction.active = !_hasAuto;
            if (_hasAuto) {
              pAsyncUtils.wait(0.5).then(function () {
                if (uiAutoPlayer.isAutoCall) {
                  _this4.actionCall();
                } else if (uiAutoPlayer.isAutoCallAny) {
                  _this4.actionCall();
                } else if (uiAutoPlayer.isAutoFold) {
                  main.callRq <= 0 ? _this4.actionCall() : _this4.actionFold();
                }
                uiAutoPlayer.stop();
              });
            }
          }
        };
        _proto._actDisplayActionCard = function _actDisplayActionCard() {
          var _ps = pDecorators.instance(UIPlayingScene);
          var _gp = pDecorators.instance(UIGamePlay);
          if (!_gp || !_ps) return;
          var uiAutoPlayer = _ps.uiAutoPlayer,
            uiGameAction = _ps.uiGameAction,
            uiPopupMoreBet = _ps.uiPopupMoreBet;
          var main = _gp.main;
          if (!main) return;
          var isPlaying = main.isPlaying,
            isTurn = main.isTurn;
          if (!isPlaying) return;
          !isTurn && uiPopupMoreBet.close();
          var _is = this.gameState === EStatusGame.IN_PROGRESS;
          uiGameAction.active = _is && isTurn && !uiAutoPlayer.hasAuto();
          uiAutoPlayer.active = _is && !uiGameAction.active && main.data.chips > 0 && !main.isFolded;
        };
        _proto._handleStatusMainPlayer = /*#__PURE__*/function () {
          var _handleStatusMainPlayer2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee14(data, players, playersToAdd) {
            var _this5 = this;
            var _ps, _gp, uiGameAction, uiAutoPlayer, dataTable, main, hasMain, bigBlind, actions, currentPlayer, _bet;
            return _regeneratorRuntime().wrap(function _callee14$(_context14) {
              while (1) switch (_context14.prev = _context14.next) {
                case 0:
                  _ps = pDecorators.instance(UIPlayingScene);
                  _gp = pDecorators.instance(UIGamePlay);
                  if (!(!_gp || !_ps)) {
                    _context14.next = 4;
                    break;
                  }
                  return _context14.abrupt("return");
                case 4:
                  uiGameAction = _ps.uiGameAction, uiAutoPlayer = _ps.uiAutoPlayer, dataTable = _ps.table;
                  main = _gp.main, hasMain = _gp.hasMain;
                  bigBlind = data.bigBlind, actions = data.actions, currentPlayer = data.currentPlayer;
                  this._currentPlayer = currentPlayer;
                  _context14.t0 = this.mainState;
                  _context14.next = _context14.t0 === EStatusPlayer.WAITING ? 11 : _context14.t0 === EStatusPlayer.WATCH ? 14 : _context14.t0 === EStatusPlayer.JOIN_GAME ? 17 : 22;
                  break;
                case 11:
                  _context14.next = 13;
                  return _gp.actRotation('waiting', this.listCurrPlayerInTabel.concat(playersToAdd), playersToAdd);
                case 13:
                  playersToAdd.forEach(function (e) {
                    var player = _gp.getPlayerByUserName(e);
                    if (!player) return;
                    player.init(e, dataTable.mode, _this5.isMainSitDown);
                    player.setTxtStatus('waiting');
                  });
                case 14:
                  uiGameAction.active = false;
                  uiAutoPlayer.active = false;
                  return _context14.abrupt("break", 22);
                case 17:
                  if (hasMain) {
                    _context14.next = 19;
                    break;
                  }
                  return _context14.abrupt("break", 22);
                case 19:
                  //this._currentBetForPlayer = this.game.bets[currentPlayer];
                  _bet = this.game.bets[currentPlayer];
                  if (actions.length > 0 && !actions.every(function (action) {
                    return action.action === 'fold';
                  })) {
                    this._actCheckActions(actions);
                  } else {
                    //this.currentAmountCall = bigBlind - this._currentBetForPlayer;
                    this.currentAmountCall = bigBlind - _bet;
                    uiGameAction.setStatusBtn("bet", main.callRq <= 0);
                  }
                  return _context14.abrupt("break", 22);
                case 22:
                  this._showCommunityCards(players);
                case 23:
                case "end":
                  return _context14.stop();
              }
            }, _callee14, this);
          }));
          function _handleStatusMainPlayer(_x12, _x13, _x14) {
            return _handleStatusMainPlayer2.apply(this, arguments);
          }
          return _handleStatusMainPlayer;
        }();
        _proto.setup = /*#__PURE__*/function () {
          var _setup = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee15(data, tid) {
            var _pv, uiGameAction, uiAutoPlayer;
            return _regeneratorRuntime().wrap(function _callee15$(_context15) {
              while (1) switch (_context15.prev = _context15.next) {
                case 0:
                  this._tid = tid;
                  this._table = data;
                  _context15.next = 4;
                  return pDecorators.wait(UIPlayingScene);
                case 4:
                  _pv = _context15.sent;
                  GameManager.Instance.setState(EGameState.GAME_PLAY);
                  if (_pv) {
                    _context15.next = 10;
                    break;
                  }
                  pEventManager.invoke('onInitViewPlaying', data);
                  this._onDoneInitViewPlaying();
                  return _context15.abrupt("return");
                case 10:
                  this.mainState = EStatusPlayer.WATCH;
                  this._gameState = EStatusGame.WAITING;
                  _pv.create(data);
                  pEventManager.invoke('onInitViewPlaying', data);
                  uiGameAction = _pv.uiGameAction, uiAutoPlayer = _pv.uiAutoPlayer;
                  uiGameAction.active = false;
                  uiAutoPlayer.active = false;
                  _pv.uiChestReward.init();
                  this._onDoneInitViewPlaying();
                case 19:
                case "end":
                  return _context15.stop();
              }
            }, _callee15, this);
          }));
          function setup(_x15, _x16) {
            return _setup.apply(this, arguments);
          }
          return setup;
        }();
        _proto._onDoneInitViewPlaying = function _onDoneInitViewPlaying() {};
        _proto.showProfilePlayer = /*#__PURE__*/function () {
          var _showProfilePlayer = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee16(player) {
            var _GlobalConfig$instanc, loading, notice, data, _pv, msg, code, SUCCESS, ERR_NOT_FOUND_USER;
            return _regeneratorRuntime().wrap(function _callee16$(_context16) {
              while (1) switch (_context16.prev = _context16.next) {
                case 0:
                  _GlobalConfig$instanc = GlobalConfig.instance, loading = _GlobalConfig$instanc.loading, notice = _GlobalConfig$instanc.notice;
                  loading.open();
                  _context16.next = 4;
                  return request('getUserInfo', {
                    uid: player.id.toString()
                  });
                case 4:
                  data = _context16.sent;
                  _pv = pDecorators.instance(UIPlayingScene);
                  if (_pv) {
                    _context16.next = 8;
                    break;
                  }
                  return _context16.abrupt("return");
                case 8:
                  msg = data.msg, code = data.code;
                  SUCCESS = ResponseCode.SUCCESS, ERR_NOT_FOUND_USER = ResponseCode.ERR_NOT_FOUND_USER;
                  _context16.t0 = code;
                  _context16.next = _context16.t0 === SUCCESS ? 13 : _context16.t0 === ERR_NOT_FOUND_USER ? 19 : 16;
                  break;
                case 13:
                  loading.close();
                  _pv.showPopupProfilePlayer(msg);
                  return _context16.abrupt("break", 22);
                case 16:
                  loading.close();
                  this.error("Show Profile Player >>> Code: " + code + " With MSG >>", msg);
                  return _context16.abrupt("break", 22);
                case 19:
                  loading.close();
                  notice.show('txt_title', {
                    raw: String(msg)
                  });
                  return _context16.abrupt("break", 22);
                case 22:
                case "end":
                  return _context16.stop();
              }
            }, _callee16, this);
          }));
          function showProfilePlayer(_x17) {
            return _showProfilePlayer.apply(this, arguments);
          }
          return showProfilePlayer;
        }();
        _proto._checkFold = function _checkFold(players) {
          var _gp = pDecorators.instance(UIGamePlay);
          if (!_gp) return;
          players.forEach(function (player) {
            var item = _gp.getPlayerByUserName(player);
            if (!item) return;
            if (item.isFolded) {
              item.setTxtStatus('fold');
              item.activeClock(false);
            }
          });
        };
        _proto._quickErrorNotice = function _quickErrorNotice(msg) {
          var _GlobalConfig$instanc2 = GlobalConfig.instance,
            notice = _GlobalConfig$instanc2.notice,
            loading = _GlobalConfig$instanc2.loading;
          loading.close();
          notice.show('txt_title', msg, 'txt_btn_confirm1');
          for (var _len = arguments.length, mores = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
            mores[_key - 1] = arguments[_key];
          }
          this.error.apply(this, [msg, ">>>"].concat(mores));
        };
        _proto._actCallculateMinRaise = function _actCallculateMinRaise(data, current) {
          var _this6 = this;
          var game = data.game;
          var bigBlind = game.bigBlind,
            bets = game.bets;
          var _actions = this._getRoundAction(game.roundName).filter(function (a) {
            return a.action === 'allin' || a.action === 'bet' || a.action === 'raise';
          }).reverse();
          var _gp = pDecorators.instance(UIGamePlay);
          var _pv = pDecorators.instance(UIPlayingScene);
          if (!_gp || !_pv) return;
          this.log("_actCallculateMR [0] >> \n\t Players: ", _gp.players.filter(function (p) {
            return !p.isEmpty;
          }).map(function (p) {
            return {
              username: p.data.username,
              callRq: p.callRq,
              raiseRq: p.raiseRq,
              chips: p.data.chips
            };
          }), "\n\t Actions: ", _actions, "\n\t Bets: ", bets);
          var _maxPool = Math.max.apply(Math, bets);
          var _findAction = function _findAction(index) {
            if (index === void 0) {
              index = 0;
            }
            if (_actions.length <= index) return null;
            var _lastBetAction = _actions[index];
            var playerName = _lastBetAction.playerName;
            var _last = _gp.getPlayerByUserName(playerName);
            if (_last.betted < _maxPool || playerName === current.data.username) {
              _this6.log("_actCallculateMR [0.1] >> FAIL", _lastBetAction, current.normalizeData, index, _maxPool);
              return _findAction(index + 1);
            }
            _this6.log("_actCallculateMR [0.2] >> Success", _lastBetAction, current.normalizeData, _last.normalizeData);
            return _last || null;
          };
          var _last = _findAction(0);
          if (!!_last) {
            var _lastPool = bets[_last == null ? void 0 : _last.index] || 0;
            var _call = _maxPool > _lastPool ? Math.min(_maxPool, current.data.chips) : _lastPool;
            var _raiseRq = _lastPool - _last.lastBetted - _last.callRq;
            current.callRq = _call - bets[current.index];
            current.isMain && _pv.uiGameAction.updateCallAmount(current.callRq, _gp.main.data.chips <= this.game.bigBlind);
            current.raiseRq = _raiseRq > 0 ? _raiseRq : bigBlind;
            return;
          }
          current.callRq = game.roundName === 'Deal' ? bigBlind - current.betted : 0;
          current.isMain && _pv.uiGameAction.updateCallAmount(current.callRq, _gp.main.data.chips <= this.game.bigBlind);
          current.raiseRq = bigBlind;
          this.log("_actCallculateMR [2] >>", current.data.username, " CallRq: ", current.callRq, "\t RaiseRq: ", current.raiseRq);
        };
        _proto.setWaiter = function setWaiter(promise) {};
        _proto.getTxtWinner = function getTxtWinner(msg) {
          var instance = LanguageMananger.instance;
          switch (msg) {
            case "Four of a kind":
              return instance.getString("txt_result_card_3");
            case "Full House":
              return instance.getString("txt_result_card_4");
            case "Flush":
              return instance.getString("txt_result_card_5");
            case "Straight":
              return instance.getString("txt_result_card_6");
            case "Three of a Kind":
              return instance.getString("txt_result_card_7");
            case "Two Pair":
              return instance.getString("txt_result_card_8");
            case "Pair":
              return instance.getString("txt_result_card_9");
            case "High Card":
              return instance.getString("txt_result_card_10");
            default:
              return msg;
          }
        };
        _proto._endMatch = function _endMatch() {
          this._roundActions = {
            Deal: [],
            Flop: [],
            Turn: [],
            River: []
          };
          this._lastPlayerIndex = -1;
          this.currentAmountCall = 0;
          //this._currentBetForPlayer = 0;
        };

        _proto.joinOtherGameOnEnd = function joinOtherGameOnEnd(table) {
          this._joinOtherGameOnEnd = table;
        };
        _proto._actRetryCatcher = function _actRetryCatcher() {
          this._retry++;
          if (this._retry > this._maxRetry) {
            for (var _len2 = arguments.length, warn = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
              warn[_key2] = arguments[_key2];
            }
            warn && this.warn(warn, this._retry);
            this._retry = 0;
            return true;
          }
          return false;
        };
        _proto._checkDisplayer = /*#__PURE__*/function () {
          var _checkDisplayer2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee17(player, waiter, action, warn, delay) {
            var _gp, _members, _items, _args;
            return _regeneratorRuntime().wrap(function _callee17$(_context17) {
              while (1) switch (_context17.prev = _context17.next) {
                case 0:
                  if (delay === void 0) {
                    delay = 0.1;
                  }
                  _context17.next = 3;
                  return pAsyncUtils.wait({
                    id: this._wids,
                    time: delay
                  });
                case 3:
                  _gp = pDecorators.instance(UIGamePlay);
                  if (_gp) {
                    _context17.next = 6;
                    break;
                  }
                  return _context17.abrupt("return");
                case 6:
                  _members = pArray.noDuplicated(player.concat(waiter), 'id');
                  _items = _gp.players.filter(function (_player) {
                    return !_player.isEmpty;
                  });
                  if (!(_items.length != _members.length)) {
                    _context17.next = 14;
                    break;
                  }
                  if (!this._actRetryCatcher(warn)) {
                    _context17.next = 11;
                    break;
                  }
                  return _context17.abrupt("return");
                case 11:
                  _args = pArray.flatter(this._onRecheckData);
                  action && action.apply(void 0, _args);
                  _gp.setDBMessage(function (_raw) {
                    return _raw + " - " + warn;
                  });
                case 14:
                case 15:
                case "end":
                  return _context17.stop();
              }
            }, _callee17, this);
          }));
          function _checkDisplayer(_x18, _x19, _x20, _x21, _x22) {
            return _checkDisplayer2.apply(this, arguments);
          }
          return _checkDisplayer;
        }();
        _createClass(GameController, [{
          key: "gameState",
          get: function get() {
            return this._gameState;
          }
        }, {
          key: "listCurrPlayerInTabel",
          get: function get() {
            return this._listCurrPlayerInTabel;
          },
          set: function set(value) {
            this._listCurrPlayerInTabel = value;
          }
        }, {
          key: "mainState",
          get: function get() {
            return this._mainState;
          },
          set: function set(value) {
            if (this._mainState === value) return;
            this._mainState = value;
            var _ud = pDecorators.instance(UpdateManager);

            //this.log("_setMainState >>", EStatusPlayer[value]);
            if (value === EStatusPlayer.JOIN_GAME) {
              _ud.add({
                _function: this._actDisplayActionCard,
                _this: this
              });
            } else {
              _ud.remove({
                _function: this._actDisplayActionCard,
                _this: this
              });
            }
          }
        }, {
          key: "isMainSitDown",
          get: function get() {
            return this.mainState === EStatusPlayer.JOIN_GAME || this.mainState === EStatusPlayer.WAITING;
          }
        }, {
          key: "currentAmountCall",
          get: function get() {
            var _gp = pDecorators.instance(UIGamePlay);
            if (!_gp) return;
            var main = _gp.main,
              hasMain = _gp.hasMain;
            if (!hasMain) return 0;
            return main.callRq;
          },
          set: function set(x) {
            var _gp = pDecorators.instance(UIGamePlay);
            if (!_gp) return;
            var main = _gp.main,
              hasMain = _gp.hasMain;
            if (!hasMain) return;
            main.callRq = Math.abs(x);
            var _pv = pDecorators.instance(UIPlayingScene);
            if (!_pv) return;
            _pv.uiGameAction.updateCallAmount(main.callRq, _gp.main.data.chips <= this.game.bigBlind);
          }
        }, {
          key: "game",
          get: function get() {
            return this._game;
          }
        }, {
          key: "isNewRound",
          get: function get() {
            if (this._isNewRound) {
              this._isNewRound = false;
              return true;
            }
            return false;
          }
        }, {
          key: "currentPlayerAmount",
          get: function get() {
            var _gp$players$filter;
            var _gp = pDecorators.instance(UIGamePlay);
            if (!_gp) return 0;
            return ((_gp$players$filter = _gp.players.filter(function (_player) {
              return _player == null ? void 0 : _player.isPlaying;
            })) == null ? void 0 : _gp$players$filter.length) || 0;
          }
        }, {
          key: "currentPlayer",
          get: function get() {
            return this._currentPlayer;
          }
        }, {
          key: "tid",
          get: function get() {
            return this._tid;
          }
        }, {
          key: "table",
          get: function get() {
            return this._table;
          }
        }, {
          key: "isPlaying",
          get: function get() {
            return this.mainState == EStatusPlayer.JOIN_GAME && this._gameState == EStatusGame.IN_PROGRESS;
          }
        }]);
        return GameController;
      }()) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/GameData.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc'], function (exports) {
  var _inheritsLoose, cclegacy, _decorator, Component;
  return {
    setters: [function (module) {
      _inheritsLoose = module.inheritsLoose;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Component = module.Component;
    }],
    execute: function () {
      var _dec, _class;
      cclegacy._RF.push({}, "aad8bmSYmFDMaOn4kZMiIuC", "GameData", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var GameData = exports('GameData', (_dec = ccclass('GameData'), _dec(_class = /*#__PURE__*/function (_Component) {
        _inheritsLoose(GameData, _Component);
        function GameData() {
          return _Component.apply(this, arguments) || this;
        }
        var _proto = GameData.prototype;
        _proto.start = function start() {};
        _proto.update = function update(deltaTime) {};
        return GameData;
      }(Component)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/GameDebugger.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc'], function (exports) {
  var _extends, cclegacy;
  return {
    setters: [function (module) {
      _extends = module.extends;
    }, function (module) {
      cclegacy = module.cclegacy;
    }],
    execute: function () {
      cclegacy._RF.push({}, "4da17mhB7lDyIumVlGS7Lyq", "GameDebugger", undefined);
      var _GameDebugger = /*#__PURE__*/function () {
        function _GameDebugger() {
          this._data = [];
          this._current = 0;
        }
        var _proto = _GameDebugger.prototype;
        _proto["new"] = function _new() {
          this._current++;
          this._data[this._current] = [];
        };
        _proto.add = function add(event, data) {
          if (!this._data[this._current]) this["new"]();
          for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {
            args[_key - 2] = arguments[_key];
          }
          this._data[this._current].push(_extends({
            event: event,
            data: data
          }, args));
        };
        _proto.log = function log() {
          var _console;
          for (var _len2 = arguments.length, prefix = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
            prefix[_key2] = arguments[_key2];
          }
          (_console = console).log.apply(_console, prefix.concat([this._data]));
        };
        return _GameDebugger;
      }();
      var _debugger = exports('_debugger', new _GameDebugger());
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/GameManager.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIController.ts', './Enums.ts', './ProtocolHandlerMockTest.ts', './EventManager.ts', './Decorators.ts', './NotifyToast.ts', './ResponeCode.ts', './MathUtils.ts', './LocalStorage.ts', './StringUtils.ts', './PlayingController.ts', './GlobalConfig.ts', './UINotice.ts', './UIMainScreen.ts', './TableCommand.ts', './UserCommand.ts', './ITableData.ts'], function (exports) {
  var _createClass, _asyncToGenerator, _regeneratorRuntime, _extends, cclegacy, assetManager, error, SpriteFrame, UITransform, UIController, EGameState, UIType, ETypeModePlay, EDealSpeed, ProtocolHandlerMockTest, pEventManager, pDecorators, NotifyToast, ResponseCode, pMathUtils, LocalStorage, pStringUtils, PlayingController, GlobalConfig, UINotice, UIMainScreen, request$1, request, NSTable;
  return {
    setters: [function (module) {
      _createClass = module.createClass;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
      _extends = module.extends;
    }, function (module) {
      cclegacy = module.cclegacy;
      assetManager = module.assetManager;
      error = module.error;
      SpriteFrame = module.SpriteFrame;
      UITransform = module.UITransform;
    }, function (module) {
      UIController = module.UIController;
    }, function (module) {
      EGameState = module.EGameState;
      UIType = module.UIType;
      ETypeModePlay = module.ETypeModePlay;
      EDealSpeed = module.EDealSpeed;
    }, function (module) {
      ProtocolHandlerMockTest = module.ProtocolHandlerMockTest;
    }, function (module) {
      pEventManager = module.pEventManager;
    }, function (module) {
      pDecorators = module.pDecorators;
    }, function (module) {
      NotifyToast = module.NotifyToast;
    }, function (module) {
      ResponseCode = module.ResponseCode;
    }, function (module) {
      pMathUtils = module.pMathUtils;
    }, function (module) {
      LocalStorage = module.LocalStorage;
    }, function (module) {
      pStringUtils = module.pStringUtils;
    }, function (module) {
      PlayingController = module.default;
    }, function (module) {
      GlobalConfig = module.default;
    }, function (module) {
      UINotice = module.UINotice;
    }, function (module) {
      UIMainScreen = module.UIMainScreen;
    }, function (module) {
      request$1 = module.default;
    }, function (module) {
      request = module.default;
    }, function (module) {
      NSTable = module.NSTable;
    }],
    execute: function () {
      var _dec, _class;
      cclegacy._RF.push({}, "0760cIGLzFIq5oGdB2Wv89I", "GameManager", undefined);
      var GameManager = exports('GameManager', (_dec = pDecorators.singleton({
        initer: '_init',
        destroyer: '_destroy',
        wake: 'Instantly'
      }), _dec(_class = /*#__PURE__*/function () {
        function GameManager() {
          this._state = EGameState.LOGIN;
          this._client = null;
          this._storage = null;
          this._defaultAvatars = [];
          this._uiControllerEvents = [['onReady', this._onUIControllerReady, this]];
          this._loaderEvents = [['onBundleLoaded', this._onBundleLoaded, this]];
          this._events_ = [['onTimeTreasureMilestoneAvailable', this._onTimeTreasureAvaiable, this], ['onTimeTreasureReset', this._onTimeTreasureReset, this]];
          this.articleData = {
            isLoaded: false,
            data: []
          };
        }
        var _proto = GameManager.prototype;
        _proto.showToastNotice = function showToastNotice(message, zone, onDone) {
          if (zone === void 0) {
            zone = 'lobby';
          }
          NotifyToast.instance && NotifyToast.instance.show(message, zone, onDone);
        };
        _proto._onTimeTreasureAvaiable = /*#__PURE__*/function () {
          var _onTimeTreasureAvaiable2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(data) {
            var msg, milestone, reward_chips, _toast;
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  msg = data.msg;
                  milestone = msg.milestone, reward_chips = msg.reward_chips;
                  _context.next = 4;
                  return pDecorators.wait(NotifyToast);
                case 4:
                  _toast = _context.sent;
                  _toast.showWithKey({
                    key: 'dynamic_notice_treasure_avaiable',
                    replacers: [{
                      find: "@level",
                      replacer: "" + milestone
                    }, {
                      find: "@value",
                      replacer: pStringUtils.formatNumberKMB(reward_chips)
                    }]
                  });
                case 6:
                case "end":
                  return _context.stop();
              }
            }, _callee);
          }));
          function _onTimeTreasureAvaiable(_x) {
            return _onTimeTreasureAvaiable2.apply(this, arguments);
          }
          return _onTimeTreasureAvaiable;
        }();
        _proto._onTimeTreasureReset = /*#__PURE__*/function () {
          var _onTimeTreasureReset2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {
            var _toast;
            return _regeneratorRuntime().wrap(function _callee2$(_context2) {
              while (1) switch (_context2.prev = _context2.next) {
                case 0:
                  _context2.next = 2;
                  return pDecorators.wait(NotifyToast);
                case 2:
                  _toast = _context2.sent;
                  _toast.showWithKey('txt_chest_reward_title');
                case 4:
                case "end":
                  return _context2.stop();
              }
            }, _callee2);
          }));
          function _onTimeTreasureReset() {
            return _onTimeTreasureReset2.apply(this, arguments);
          }
          return _onTimeTreasureReset;
        }();
        _proto._onLoggout = function _onLoggout() {};
        _proto._onUIControllerReady = function _onUIControllerReady() {
          var _inst = pDecorators.instance(UIController);
          _inst.bundle.on(this._loaderEvents);
        };
        _proto._init = /*#__PURE__*/function () {
          var _init2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {
            var _inst;
            return _regeneratorRuntime().wrap(function _callee3$(_context3) {
              while (1) switch (_context3.prev = _context3.next) {
                case 0:
                  _context3.next = 2;
                  return pDecorators.wait(UIController);
                case 2:
                  _inst = _context3.sent;
                  _inst.on(this._uiControllerEvents);
                  pEventManager.on(this._events_);
                case 5:
                case "end":
                  return _context3.stop();
              }
            }, _callee3, this);
          }));
          function _init() {
            return _init2.apply(this, arguments);
          }
          return _init;
        }();
        _proto._destroy = function _destroy() {
          var _inst$bundle;
          var _inst = pDecorators.instance(UIController);
          _inst.off(this._uiControllerEvents);
          (_inst$bundle = _inst.bundle) == null || _inst$bundle.off(this._loaderEvents);
          pEventManager.off(this._events_);
        };
        _proto._onBundleLoaded = function _onBundleLoaded(err, path) {
          err ? console.error("[_Loading] >> Bundle loaded error >>", path, err) : this.loadScene(EGameState.LOGIN);
        };
        _proto.setState = function setState(state) {
          this._state = state;
        };
        _proto.changeState = /*#__PURE__*/function () {
          var _changeState = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(state) {
            return _regeneratorRuntime().wrap(function _callee4$(_context4) {
              while (1) switch (_context4.prev = _context4.next) {
                case 0:
                  this.setState(state);
                  _context4.t0 = state;
                  _context4.next = _context4.t0 === EGameState.LOGIN ? 4 : _context4.t0 === EGameState.MAIN_SCREEN ? 8 : 12;
                  break;
                case 4:
                  _context4.next = 6;
                  return UIController.Instance.open(UIType.LOGIN, false);
                case 6:
                  pEventManager.invoke('onLandingLogin');
                  return _context4.abrupt("break", 12);
                case 8:
                  _context4.next = 10;
                  return UIController.Instance.open(UIType.MAIN_SCREEN, false);
                case 10:
                  pEventManager.invoke('onLandingMainScreen');
                  return _context4.abrupt("break", 12);
                case 12:
                case "end":
                  return _context4.stop();
              }
            }, _callee4, this);
          }));
          function changeState(_x2) {
            return _changeState.apply(this, arguments);
          }
          return changeState;
        }();
        _proto.getGameClient = function getGameClient() {
          var _this$_client;
          return (_this$_client = this._client) != null ? _this$_client : this._client = new ProtocolHandlerMockTest();
        };
        _proto.getStorage = function getStorage() {
          var _this$_storage;
          return (_this$_storage = this._storage) != null ? _this$_storage : this._storage = new LocalStorage();
        };
        _proto.loadScene = function loadScene(scene) {
          UIController.Instance.loadNewScene();
          return this.changeState(scene);
        };
        _proto.loadRemoteSpriteFrame = function loadRemoteSpriteFrame(url) {
          return new Promise(function (res, rej) {
            assetManager.loadRemote(url, function (err, data) {
              if (err) {
                error('Failed to load image url', url, err);
                rej(err);
                return;
              }
              res(SpriteFrame.createWithImage(data));
            });
          });
        };
        _proto.getDefaultAvatars = function getDefaultAvatars() {
          var _this = this;
          if (this._defaultAvatars.length > 0) return new Promise(function (res) {
            return res(_this._defaultAvatars);
          });
          return new Promise(function (res, rej) {
            request('getDefaultAvatars', {}).then(function (rs) {
              if (rs.code === ResponseCode.SUCCESS) {
                Promise.all(rs.data.avatars.map(function (a) {
                  return new Promise(function (resolve, reject) {
                    _this.loadRemoteSpriteFrame(a.link_url).then(function (spf) {
                      resolve({
                        id: a.id,
                        url: a.link_url,
                        spriteFrame: spf
                      });
                    })["catch"](reject);
                  });
                })).then(function (out) {
                  _this._defaultAvatars = out;
                  res(out);
                })["catch"](rej);
              } else {
                rej(rs);
              }
            })["catch"](rej);
          });
        };
        _proto.setAvatar = function setAvatar(avatar, spriteAvatar) {
          var _this2 = this;
          return new Promise(function (res, rej) {
            _this2.getAvatar(avatar).then(function (spf) {
              spriteAvatar.spriteFrame = spf;
              res();
            })["catch"](rej);
          });
        };
        _proto.getAvatar = function getAvatar(avatar) {
          var _this3 = this;
          return new Promise(function (res, rej) {
            if (String(avatar).startsWith('http')) {
              _this3.loadRemoteSpriteFrame(String(avatar)).then(function (spf) {
                // console.log("set avatar", avatar, spf);
                res(spf);
              })["catch"](rej);
              return;
            }
            if (Number(avatar)) {
              _this3.getDefaultAvatars().then(function (rs) {
                var avt = rs.find(function (av) {
                  return Number(av.id) === Number(avatar);
                });
                if (avt) {
                  // console.log("set avatar", avatar, avt.spriteFrame);
                  res(avt.spriteFrame);
                }
              })["catch"](rej);
              return;
            }
            rej("Undefine avatar");
          });
        };
        _proto.setImageFromUrl = function setImageFromUrl(url, sprite, fitSize) {
          var _this4 = this;
          if (fitSize === void 0) {
            fitSize = false;
          }
          return new Promise(function (res, rej) {
            _this4.loadRemoteSpriteFrame(url).then(function (spf) {
              sprite.spriteFrame = spf;
              if (fitSize) {
                var spriteUITransform = sprite.node.getComponent(UITransform);
                var spriteSize = spriteUITransform.contentSize;
                spriteUITransform.setContentSize(pMathUtils.scaleImageInsideBound(spriteSize.width, spriteSize.height, spf.texture.width, spf.texture.height));
              }
              res();
            })["catch"](rej);
          });
        };
        _proto.setImageFromBase64 = function setImageFromBase64(base64, sprite, fitSize) {
          if (fitSize === void 0) {
            fitSize = false;
          }
          return new Promise(function (res, rej) {
            var image = new Image();
            image.onload = function () {
              var spf = SpriteFrame.createWithImage(image);
              sprite.spriteFrame = spf;
              if (fitSize) {
                var spriteUITransform = sprite.node.getComponent(UITransform);
                var spriteSize = spriteUITransform.contentSize;
                spriteUITransform.setContentSize(pMathUtils.scaleImageInsideBound(spriteSize.width, spriteSize.height, spf.texture.width, spf.texture.height));
              }
              res();
            };
            image.onerror = rej;
            image.src = base64;
          });
        };
        _proto.setRoom = function setRoom(room) {
          PlayingController.instance.setRoom(room);
        };
        _proto.joinTable = /*#__PURE__*/function () {
          var _joinTable = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(data, listPlayer, room) {
            var _table;
            return _regeneratorRuntime().wrap(function _callee5$(_context5) {
              while (1) switch (_context5.prev = _context5.next) {
                case 0:
                  if (room === void 0) {
                    room = "PT";
                  }
                  _table = NSTable.create(data.maxPlayers, ETypeModePlay.YARD, EDealSpeed.DEAL_SPEED_2, listPlayer, data, {
                    is_new: data.newRoom
                  });
                  PlayingController.instance.setup(_table, data.id, room);
                  _context5.next = 5;
                  return UIController.Instance.open(UIType.PLAYING_SCENE, false, true);
                case 5:
                case "end":
                  return _context5.stop();
              }
            }, _callee5);
          }));
          function joinTable(_x3, _x4, _x5) {
            return _joinTable.apply(this, arguments);
          }
          return joinTable;
        }();
        _proto.joinTableChecker = function joinTableChecker(table) {
          var id = table.id;
          var _PlayingController$in = PlayingController.instance,
            tid = _PlayingController$in.tid,
            isPlaying = _PlayingController$in.isPlaying;
          if (tid === id) {
            UINotice.instance.show('txt_title', 'txt_you_already_in_this_table', 'txt_btn_confirm2');
            return;
          }
          if (isPlaying) {
            UINotice.show('txt_title', 'txt_join_other_game_when_playing', 'txt_btn_confirm2', function () {
              return PlayingController.instance.joinOtherGameOnEnd(table);
            }, 'txt_btn_cancel');
            return;
          }
        };
        _proto.joinTableViaInvite = /*#__PURE__*/function () {
          var _joinTableViaInvite = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6(table, check) {
            var id, isPrivate, instance, ui, _msg, maxPlayers, _table, _data, _sit;
            return _regeneratorRuntime().wrap(function _callee6$(_context6) {
              while (1) switch (_context6.prev = _context6.next) {
                case 0:
                  if (check === void 0) {
                    check = true;
                  }
                  id = table.id, isPrivate = table.isPrivate;
                  instance = GlobalConfig.instance;
                  instance.loading.open();
                  check && this.joinTableChecker(table);
                  _context6.next = 7;
                  return request$1('standUp', {});
                case 7:
                  PlayingController.instance.setRoom('PT');
                  if (!isPrivate) {
                    _context6.next = 15;
                    break;
                  }
                  _context6.next = 11;
                  return UIController.Instance.open(UIType.PT_JOIN_PRIVATE_ROOM);
                case 11:
                  ui = _context6.sent;
                  ui.init(_extends({}, table, {
                    gold: 0,
                    players: 0,
                    members: 0
                  }));
                  instance.loading.close();
                  return _context6.abrupt("return");
                case 15:
                  _context6.next = 17;
                  return request$1('joinTable', {
                    tid: id
                  });
                case 17:
                  _msg = _context6.sent;
                  _context6.t0 = _msg.code;
                  _context6.next = _context6.t0 === ResponseCode.SUCCESS ? 21 : _context6.t0 === ResponseCode.ERROR ? 35 : 38;
                  break;
                case 21:
                  _context6.next = 23;
                  return pDecorators.wait(UIMainScreen);
                case 23:
                  maxPlayers = _msg.tableInfo.maxPlayers;
                  _table = _extends({}, _msg.tableInfo, {
                    isPrivate: false
                  });
                  _data = NSTable.create(_msg.tableInfo.maxPlayers, ETypeModePlay.YARD, EDealSpeed.DEAL_SPEED_1, _msg.msg, _table, {
                    is_new: false
                  });
                  _context6.next = 28;
                  return UIController.Instance.open(UIType.PLAYING_SCENE, false, true);
                case 28:
                  _context6.next = 30;
                  return PlayingController.instance.setup(_data, _table.id, "PT");
                case 30:
                  instance.loading.close();
                  _sit = pMathUtils.random(0, maxPlayers - 1, "INTEGER");
                  _context6.next = 34;
                  return PlayingController.instance.actBuyIn(_sit, _table, false);
                case 34:
                  return _context6.abrupt("break", 38);
                case 35:
                  instance.loading.close();
                  UINotice.instance.show('txt_title', _msg['error'], 'txt_btn_confirm2');
                  return _context6.abrupt("break", 38);
                case 38:
                case "end":
                  return _context6.stop();
              }
            }, _callee6, this);
          }));
          function joinTableViaInvite(_x6, _x7) {
            return _joinTableViaInvite.apply(this, arguments);
          }
          return joinTableViaInvite;
        }();
        _createClass(GameManager, [{
          key: "state",
          get: function get() {
            return this._state;
          }
        }], [{
          key: "Instance",
          get: function get() {
            return pDecorators.instance(GameManager);
          }
        }]);
        return GameManager;
      }()) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/GamePausedManager.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './Decorators.ts', './EventManager.ts', './EventDriver.ts'], function (exports) {
  var _inheritsLoose, _createClass, _assertThisInitialized, cclegacy, pDecorators, pEventManager, NSEventDriver;
  return {
    setters: [function (module) {
      _inheritsLoose = module.inheritsLoose;
      _createClass = module.createClass;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
    }, function (module) {
      pDecorators = module.pDecorators;
    }, function (module) {
      pEventManager = module.pEventManager;
    }, function (module) {
      NSEventDriver = module.NSEventDriver;
    }],
    execute: function () {
      var _dec, _class;
      cclegacy._RF.push({}, "19612CWpQVElYK6Bi83VW5V", "GamePausedManager", undefined);
      var logger = pDecorators.logger;
      var states = {
        hide: false,
        pause: false,
        resume: false
      };
      var _GamePausedManager = (_dec = logger('GamePausedManager'), _dec(_class = /*#__PURE__*/function (_NSEventDriver$Handle) {
        _inheritsLoose(_GamePausedManager, _NSEventDriver$Handle);
        function _GamePausedManager() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _NSEventDriver$Handle.call.apply(_NSEventDriver$Handle, [this].concat(args)) || this;
          _this._memories = [];
          _this._states = states;
          _this._events = [['onTableEvent', _this._onTableEvent, _assertThisInitialized(_this)], ['onClearTable', _this._onClearTableEvent, _assertThisInitialized(_this)], ['onUpdateMyself', _this._onUpdateMyself, _assertThisInitialized(_this)], ['onGamePause', _this._onPause, _assertThisInitialized(_this)], ['onGameResume', _this._onResume, _assertThisInitialized(_this)], ['onGameTabHide', _this._onHide, _assertThisInitialized(_this)]];
          return _this;
        }
        _GamePausedManager.generate = function generate() {
          var ret = new _GamePausedManager();
          ret._init();
          return ret;
        };
        var _proto = _GamePausedManager.prototype;
        _proto._init = function _init() {
          pEventManager.on(this._events);
        };
        _proto._onTableEvent = function _onTableEvent(data) {
          var route = data.route;
          if (route !== 'onTableEvent') return;
          this._memories.push(data);
        };
        _proto._onClearTableEvent = function _onClearTableEvent(data) {
          var route = data.route;
          if (route !== 'onClearTable') return;
          this._memories.push(data);
        };
        _proto._onUpdateMyself = function _onUpdateMyself() {};
        _proto._onHide = function _onHide() {
          this._state = 'hide';
          this.log('on HIDE >>', this._memories, this._memories.length);
          this.invoke('hide');
        };
        _proto._onPause = function _onPause() {
          this._state = 'pause';
          this.invoke('pause');
        };
        _proto._onResume = function _onResume() {
          this._state = 'resume';
          if (!this._isStateReady) return;
          this.invoke('resume', this._memories);
          this._reset();
        };
        _proto._reset = function _reset() {
          this._memories = [];
          this._states = states;
        };
        _createClass(_GamePausedManager, [{
          key: "_isStateReady",
          get: function get() {
            return Object.values(this._states).every(function (state) {
              return state;
            });
          }
        }, {
          key: "_state",
          set: function set(v) {
            this._states[v] = true;
          }
        }]);
        return _GamePausedManager;
      }(NSEventDriver.Handler)) || _class);
      var pGamePausedManager = exports('pGamePausedManager', _GamePausedManager.generate());
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/GameTutorial.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './TypesLanguageManager.ts', './ClassUtils.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _createClass, _asyncToGenerator, _regeneratorRuntime, cclegacy, _decorator, Node, Component, CCELang, numberToTLang, pClassUtils;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _createClass = module.createClass;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Node = module.Node;
      Component = module.Component;
    }, function (module) {
      CCELang = module.CCELang;
      numberToTLang = module.numberToTLang;
    }, function (module) {
      pClassUtils = module.pClassUtils;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _class, _class2, _descriptor, _descriptor2, _descriptor3;
      cclegacy._RF.push({}, "d23del+u19NqKXnbTg2UpKx", "GameTutorial", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var GameTutorial = exports('GameTutorial', (_dec = ccclass("GameTutorial"), _dec2 = property({
        type: Node
      }), _dec3 = property({
        type: Node
      }), _dec4 = property({}), _dec5 = property({
        type: [CCELang],
        visible: function visible() {
          return this.hasChat;
        }
      }), _dec(_class = (_class2 = /*#__PURE__*/function (_Component) {
        _inheritsLoose(GameTutorial, _Component);
        function GameTutorial() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _Component.call.apply(_Component, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "_root", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "hasChat", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "_chat", _descriptor3, _assertThisInitialized(_this));
          _this._index = -1;
          return _this;
        }
        var _proto = GameTutorial.prototype;
        _proto._reset = function _reset() {};
        _proto._onEnter = function _onEnter() {};
        _proto.enter = /*#__PURE__*/function () {
          var _enter = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(onDone) {
            var _action;
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  this._index++;
                  _action = this._actions[this._index];
                  if (_action) {
                    _context.next = 4;
                    break;
                  }
                  return _context.abrupt("return");
                case 4:
                  this.root.active = true;
                  _context.next = 7;
                  return _action.call(this);
                case 7:
                  onDone && pClassUtils.invoker(onDone);
                  this._onEnter();
                case 9:
                case "end":
                  return _context.stop();
              }
            }, _callee, this);
          }));
          function enter(_x) {
            return _enter.apply(this, arguments);
          }
          return enter;
        }();
        _proto.exit = /*#__PURE__*/function () {
          var _exit = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {
            return _regeneratorRuntime().wrap(function _callee2$(_context2) {
              while (1) switch (_context2.prev = _context2.next) {
                case 0:
                  _context2.next = 2;
                  return this._onExit();
                case 2:
                  this.root.active = false;
                case 3:
                case "end":
                  return _context2.stop();
              }
            }, _callee2, this);
          }));
          function exit() {
            return _exit.apply(this, arguments);
          }
          return exit;
        }();
        _proto.onLoad = function onLoad() {
          this.reset();
          this.root.active = false;
          this._onLoad();
        };
        _proto._onLoad = function _onLoad() {};
        _proto.reset = function reset() {
          this._index = -1;
          this._reset();
        };
        _createClass(GameTutorial, [{
          key: "root",
          get: function get() {
            return this._root ? this._root : this.node;
          },
          set: function set(v) {
            this._root = v;
          }
        }, {
          key: "chat",
          get: function get() {
            return this.hasChat ? numberToTLang(this._chat) : null;
          }
        }, {
          key: "isEnd",
          get: function get() {
            console.log("\t\t >> __onNext >> Check >>", this._index, " / ", this._actions.length);
            return this._index >= this._actions.length - 1;
          }
        }]);
        return GameTutorial;
      }(Component), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "_root", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _applyDecoratedDescriptor(_class2.prototype, "root", [_dec3], Object.getOwnPropertyDescriptor(_class2.prototype, "root"), _class2.prototype), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "hasChat", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return true;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "_chat", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return 0;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/GateCommand.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './Connection.ts'], function (exports) {
  var _asyncToGenerator, _regeneratorRuntime, cclegacy, _connection;
  return {
    setters: [function (module) {
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
    }, function (module) {
      _connection = module.default;
    }],
    execute: function () {
      exports('default', request);
      cclegacy._RF.push({}, "584d2v17lJJz6sRjPMLBAVV", "GateCommand", undefined);
      var GATE;
      (function (_GATE) {
        var prefix = _GATE.prefix = "gate.gateHandler.";
      })(GATE || (GATE = {}));
      function request(_x, _x2, _x3) {
        return _request.apply(this, arguments);
      }
      function _request() {
        _request = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(command, payload, cb) {
          return _regeneratorRuntime().wrap(function _callee$(_context) {
            while (1) switch (_context.prev = _context.next) {
              case 0:
                return _context.abrupt("return", _connection.send(GATE.prefix + command, payload, cb));
              case 1:
              case "end":
                return _context.stop();
            }
          }, _callee);
        }));
        return _request.apply(this, arguments);
      }
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/GaussianBlur.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _createForOfIteratorHelperLoose, _createClass, cclegacy, _decorator, UIRenderer, CCInteger, v2, Component;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _createForOfIteratorHelperLoose = module.createForOfIteratorHelperLoose;
      _createClass = module.createClass;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      UIRenderer = module.UIRenderer;
      CCInteger = module.CCInteger;
      v2 = module.v2;
      Component = module.Component;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _class, _class2, _descriptor, _descriptor2, _descriptor3;
      cclegacy._RF.push({}, "c1d0fKL6kxOw53zSfrfX7Vw", "GaussianBlur", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var GaussianBlur = exports('GaussianBlur', (_dec = ccclass("GaussianBlur"), _dec2 = property([UIRenderer]), _dec3 = property({}), _dec4 = property({
        type: CCInteger,
        range: [50, 500]
      }), _dec5 = property({}), _dec6 = property({
        range: [0, 1]
      }), _dec(_class = (_class2 = /*#__PURE__*/function (_Component) {
        _inheritsLoose(GaussianBlur, _Component);
        function GaussianBlur() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _Component.call.apply(_Component, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "targets", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "_factor", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "_progress", _descriptor3, _assertThisInitialized(_this));
          return _this;
        }
        var _proto = GaussianBlur.prototype;
        _proto.onEnable = function onEnable() {
          this.apply(this.progress);
        };
        _proto.apply = function apply(value) {
          for (var _iterator = _createForOfIteratorHelperLoose(this.targets), _step; !(_step = _iterator()).done;) {
            var ret = _step.value;
            var _mat = ret.getSharedMaterial(0);
            var _width = this.factor - (this.factor - 30) * value;
            var _height = this.factor - (this.factor - 30) * value;
            _mat.setProperty('textureSize', v2(_width, _height));
            ret.setSharedMaterial(_mat, 0);
          }
        };
        _createClass(GaussianBlur, [{
          key: "factor",
          get: function get() {
            return this._factor;
          },
          set: function set(value) {
            this._factor = value;
            this.apply(this.progress);
          }
        }, {
          key: "progress",
          get: function get() {
            return this._progress;
          },
          set: function set(value) {
            this._progress = value;
            this.apply(value);
          }
        }]);
        return GaussianBlur;
      }(Component), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "targets", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return [];
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "_factor", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return 500;
        }
      }), _applyDecoratedDescriptor(_class2.prototype, "factor", [_dec4], Object.getOwnPropertyDescriptor(_class2.prototype, "factor"), _class2.prototype), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "_progress", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return 0.5;
        }
      }), _applyDecoratedDescriptor(_class2.prototype, "progress", [_dec6], Object.getOwnPropertyDescriptor(_class2.prototype, "progress"), _class2.prototype)), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/Global.ts", ['cc'], function (exports) {
  var cclegacy, log;
  return {
    setters: [function (module) {
      cclegacy = module.cclegacy;
      log = module.log;
    }],
    execute: function () {
      exports('debugLog', debugLog);
      cclegacy._RF.push({}, "ee2e7rok6ZFXZcfeM72cKgX", "Global", undefined);
      function debugLog(message) {
        log(message);
      }
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/GlobalConfig.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UINotice.ts', './UILoadingScene.ts', './EventManager.ts', './IEventResponse.ts', './GameManager.ts', './Enums.ts', './Decorators.ts', './AssetManager.ts', './StringUtils.ts', './EntryCommand.ts', './ObjectUtils.ts', './TimeZone.ts'], function (exports) {
  var _createClass, _asyncToGenerator, _regeneratorRuntime, cclegacy, EventTarget, UINotice, UILoadingScene, pEventManager, NSEventResponse, GameManager, EGameState, pDecorators, NSAsset, pStringUtils, request, pObjectUtils, pTimeZone;
  return {
    setters: [function (module) {
      _createClass = module.createClass;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      EventTarget = module.EventTarget;
    }, function (module) {
      UINotice = module.UINotice;
    }, function (module) {
      UILoadingScene = module.UILoadingScene;
    }, function (module) {
      pEventManager = module.pEventManager;
    }, function (module) {
      NSEventResponse = module.NSEventResponse;
    }, function (module) {
      GameManager = module.GameManager;
    }, function (module) {
      EGameState = module.EGameState;
    }, function (module) {
      pDecorators = module.pDecorators;
    }, function (module) {
      NSAsset = module.NSAsset;
    }, function (module) {
      pStringUtils = module.pStringUtils;
    }, function (module) {
      request = module.default;
    }, function (module) {
      pObjectUtils = module.pObjectUtils;
    }, function (module) {
      pTimeZone = module.pTimeZone;
    }],
    execute: function () {
      var _dec, _dec2, _class;
      cclegacy._RF.push({}, "005fbM2NK1MWIINJljCp+X1", "GlobalConfig", undefined);
      var _information = {
        id: 0,
        username: '',
        balance: 0,
        avatar: '',
        display_name: '',
        last_login: 0,
        exp: 0,
        level: 0,
        win: 0,
        lose: 0,
        rank: 0,
        total: 0,
        win_rate: 0,
        type: 'DEVICE',
        uid: 0,
        user_id: '',
        vippoint: 0,
        properties: undefined,
        coin: 0,
        full_name: '',
        gender: 'MALE',
        nick_name: '',
        email_verified: false
      };
      var _default = {
        isLogged: false,
        player: {
          information: _information,
          settings: {
            ios_giftCard: false,
            ios_giftCode: false,
            android_giftCard: false,
            android_giftCode: false
          },
          otherBalance: {
            coinBalance: 0,
            diamondBalance: 0
          }
        },
        avatar: null,
        token: null,
        context: {
          lastKnown: {
            gameType: null,
            tableInfo: null,
            tid: null,
            tournament_id: null
          },
          reconnectResult: undefined
        }
      };
      var logger = pDecorators.logger,
        singleton = pDecorators.singleton;
      var GlobalConfig = exports('default', (_dec = logger('GlobalConfig'), _dec2 = singleton({
        initer: 'init',
        destroyer: '_destroy',
        wake: 'Instantly'
      }), _dec(_class = _dec2(_class = /*#__PURE__*/function () {
        function GlobalConfig() {
          this._data = pObjectUtils.clone(_default);
          this.eventTarget = new EventTarget();
          this._eventHandlers = [['onUpdateMyself', this._onUpdateSelf, this], ['onUpdateAvatar', this._onUpdateAvatar, this], ['onVerifyEmail', this._onVerifyEmail, this], ['onReconnected', this._onReconnected, this]];
          this._isStartedGame = false;
        }
        var _proto = GlobalConfig.prototype;
        _proto.init = function init() {
          this._actBindEvents();
        };
        _proto.checkBalance = function checkBalance(amount) {
          return this.Login.player.information.balance >= amount;
        };
        _proto.actCompleteTutorial = function actCompleteTutorial() {
          this._data.player.information.properties.tutorial_completed = 1;
        };
        _proto.getUserId = function getUserId() {
          return this.Login.player.information.id;
        };
        _proto.getUserName = function getUserName() {
          return this.Login.player.information.username;
        };
        _proto._updateInfo = function _updateInfo(data) {
          if (this.Login.isLogged) {
            if (data.id !== this._data.player.information.id) return;
            this._data.player.information = data;
            this.log("Super Update Infor >>>", data);
            pEventManager.invoke("onUpdateNewBalance", data.balance);
          }
        };
        _proto.wait = /*#__PURE__*/function () {
          var _wait = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(event, loading) {
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  loading && this.loading.open();
                  _context.next = 3;
                  return pEventManager.wait(event);
                case 3:
                  loading && this.loading.close();
                case 4:
                case "end":
                  return _context.stop();
              }
            }, _callee, this);
          }));
          function wait(_x, _x2) {
            return _wait.apply(this, arguments);
          }
          return wait;
        }();
        _proto._onReconnected = function _onReconnected(msg) {
          this._data.isLogged = true;
          this._data.token = msg.token;
          this._updateInfo(msg.player);
        };
        _proto._onUpdateUsers = function _onUpdateUsers(data) {
          var _this = this;
          if (data.route !== 'onUpdateUsers') return;
          if (!NSEventResponse.isUpdateUsersPlayer(data)) {
            var main = data.members.find(function (m) {
              return _this.isMainPlayer(m);
            });
            !!main && this._updateInfo(main);
          }
        };
        _proto._onUpdateAvatar = function _onUpdateAvatar(frame) {
          this._data.avatar = frame;
        };
        _proto._onVerifyEmail = function _onVerifyEmail() {
          this._data.player.information.email_verified = true;
        };
        _proto.updateAvatar = function updateAvatar(data, frame) {
          this._data.player.information.avatar = data;
          frame && pEventManager.invoke('onUpdateAvatar', frame);
        };
        _proto.updatePlayerName = function updatePlayerName(full_name) {
          if (this._data.player.information.display_name.trim() !== full_name.trim()) {
            this._data.player.information.display_name = full_name.trim();
            pEventManager.invoke('onUpdatePlayerName', full_name.trim());
          }
        };
        _proto._onUpdateSelf = /*#__PURE__*/function () {
          var _onUpdateSelf2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(data) {
            var _this2 = this;
            var route, msg, balance, code, _msg, _str, _json, _now, _tz, accBalances, exp, level, type;
            return _regeneratorRuntime().wrap(function _callee2$(_context2) {
              while (1) switch (_context2.prev = _context2.next) {
                case 0:
                  if (data) {
                    _context2.next = 2;
                    break;
                  }
                  return _context2.abrupt("return");
                case 2:
                  if (!NSEventResponse.isSubUpdateMyself(data)) {
                    _context2.next = 12;
                    break;
                  }
                  route = data.route, msg = data.msg;
                  if (!(msg.id !== this._data.player.information.id)) {
                    _context2.next = 6;
                    break;
                  }
                  return _context2.abrupt("return");
                case 6:
                  if (!(route != 'onUpdateMyself')) {
                    _context2.next = 8;
                    break;
                  }
                  return _context2.abrupt("return");
                case 8:
                  this._data.player.information = msg; //< temply disable this

                  pEventManager.invoke('onUpdateNewBalance', this.getBalance());
                  _context2.next = 62;
                  break;
                case 12:
                  if (!NSEventResponse.isUpdateMoneyEndGame(data)) {
                    _context2.next = 17;
                    break;
                  }
                  balance = data.balance;
                  this.setBalance(balance);
                  _context2.next = 62;
                  break;
                case 17:
                  if (!('code' in data && 'msg' in data)) {
                    _context2.next = 54;
                    break;
                  }
                  code = data.code, _msg = data.msg;
                  _context2.t0 = code;
                  _context2.next = _context2.t0 === 1008 ? 22 : _context2.t0 === 1012 ? 24 : _context2.t0 === 1009 ? 24 : _context2.t0 === 1015 ? 40 : _context2.t0 === 1016 ? 40 : _context2.t0 === 1006 ? 40 : _context2.t0 === 1014 ? 42 : _context2.t0 === 1010 ? 48 : 52;
                  break;
                case 22:
                  this.isMainScreen && this.setBalance(_msg.amount);
                  return _context2.abrupt("break", 52);
                case 24:
                  if (!('badge_id' in _msg)) {
                    _context2.next = 27;
                    break;
                  }
                  _context2.next = 39;
                  break;
                case 27:
                  _str = GameManager.Instance.getStorage();
                  _context2.next = 30;
                  return _str.get('IS_REWARD_DAILY_TODAY');
                case 30:
                  _json = _context2.sent;
                  _now = pTimeZone.now();
                  _tz = pTimeZone.json(_json);
                  if (!(_tz && _now.daydif(_tz) < 1)) {
                    _context2.next = 35;
                    break;
                  }
                  return _context2.abrupt("return");
                case 35:
                  _context2.next = 37;
                  return pEventManager.wait('onLandingMainScreen');
                case 37:
                  this.addBalance(-_msg.amount, false);
                  UINotice.instance.show('txt_reward_day', {
                    key: 'dynamic_daily_reward',
                    replacers: {
                      find: "@amount",
                      replacer: pStringUtils.formatNumberKMB(_msg.amount)
                    }
                  }, 'txt_btn_confirm2', function () {
                    _this2.setBalance(_this2.Login.player.information.balance + _msg.amount);
                    _str.save('IS_REWARD_DAILY_TODAY', pTimeZone.now().json);
                  });
                case 39:
                  return _context2.abrupt("break", 52);
                case 40:
                  if ('balance' in _msg) this.setBalance(Number(_msg.balance));
                  //@ts-ignore
                  else if ('msg' in _msg) {
                    if ('balance' in _msg['msg']) this.setBalance(Number(_msg['msg'].balance));
                  }
                  return _context2.abrupt("break", 52);
                case 42:
                  accBalances = _msg.accBalances;
                  this.Login.player.otherBalance.coinBalance = accBalances.coin;
                  this.Login.player.otherBalance.diamondBalance = accBalances.diamond;
                  this.Login.player.information.balance = accBalances.balance;
                  pEventManager.invoke('onUpdateNewBalance');
                  return _context2.abrupt("break", 52);
                case 48:
                  exp = _msg.exp, level = _msg.level;
                  this.Login.player.information.exp = exp;
                  this.Login.player.information.level = level;
                  pEventManager.invoke('onUpdateLevel');
                case 52:
                  _context2.next = 62;
                  break;
                case 54:
                  if (!('type' in data)) {
                    _context2.next = 62;
                    break;
                  }
                  type = data.type;
                  _context2.t1 = type;
                  _context2.next = _context2.t1 === 1009 ? 59 : 62;
                  break;
                case 59:
                  this.addBalance(data.amount, true);
                  pEventManager.invoke('onUpdateNewBalance');
                  return _context2.abrupt("break", 62);
                case 62:
                case "end":
                  return _context2.stop();
              }
            }, _callee2, this);
          }));
          function _onUpdateSelf(_x3) {
            return _onUpdateSelf2.apply(this, arguments);
          }
          return _onUpdateSelf;
        }();
        _proto.getAvatar = function getAvatar() {
          return this._data.avatar;
        };
        _proto.actLogin = /*#__PURE__*/function () {
          var _actLogin = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(res) {
            var avatar, _am, _avatar;
            return _regeneratorRuntime().wrap(function _callee3$(_context3) {
              while (1) switch (_context3.prev = _context3.next) {
                case 0:
                  this.log("_onLogin >>", res);
                  this._data.isLogged = true;
                  this._data.player.information = res.player;
                  this._data.player.settings = res.settings;
                  this._data.player.otherBalance = res.otherBalance;
                  this._data.token = res.token;
                  this._data.context = res.context;
                  avatar = res.player.avatar;
                  pEventManager.invoke('onLoggingIn');
                  _am = pDecorators.instance(NSAsset.Manager);
                  _context3.next = 12;
                  return _am.get(avatar);
                case 12:
                  _avatar = _context3.sent;
                  if (_avatar) {
                    this._data.avatar = _avatar;
                    pEventManager.invoke('onUpdateAvatar', this._data.avatar);
                  }

                //return this.wait('onGameLoadedSuccess', false);
                case 14:
                case "end":
                  return _context3.stop();
              }
            }, _callee3, this);
          }));
          function actLogin(_x4) {
            return _actLogin.apply(this, arguments);
          }
          return actLogin;
        }();
        _proto.getBalance = function getBalance(amount) {
          var balance = this._data.player.information.balance;
          if (amount == undefined || amount == null) return balance;
          return Math.min(balance, amount);
        }

        //public async loadDefaultAvatars() {
        //    const rs = await CMDManager.getDefaultAvatars();
        //    if (rs.code === ResponseCode.SUCCESS) {
        //        const avatarsLoader = rs.data.avatars.map((v) => new Promise<DefaultAvatarConfig>((res, rej) => {
        //            GameManager.Instance.loadRemoteSpriteFrame(v.link_url).then((spf) => {
        //                res({ config: v, spriteFrame: spf });
        //            }).catch(rej)
        //        }));
        //        await Promise.all(avatarsLoader).then((d) => this.defaultAvatars = d);
        //    }
        //}
        ;

        _proto._actBindEvents = function _actBindEvents() {
          pEventManager.on(this._eventHandlers);
        };
        _proto._actUnbindEvents = function _actUnbindEvents() {
          pEventManager.off(this._eventHandlers);
        };
        _proto.onLoginFail = function onLoginFail() {
          this.reset();
        };
        _proto.reset = function reset() {
          this._data = pObjectUtils.clone(_default);
        };
        _proto.logout = /*#__PURE__*/function () {
          var _logout = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(reset, request$1) {
            var _gm;
            return _regeneratorRuntime().wrap(function _callee4$(_context4) {
              while (1) switch (_context4.prev = _context4.next) {
                case 0:
                  if (reset === void 0) {
                    reset = true;
                  }
                  if (request$1 === void 0) {
                    request$1 = true;
                  }
                  this.log("--------------------------- Calling Logout ---------------------------");
                  this.loading.open();
                  _context4.t0 = request$1;
                  if (!_context4.t0) {
                    _context4.next = 8;
                    break;
                  }
                  _context4.next = 8;
                  return request('logout', {
                    uid: String(this.Login.player.information.id)
                  });
                case 8:
                  _gm = GameManager.Instance;
                  _context4.next = 11;
                  return _gm.loadScene(EGameState.LOGIN);
                case 11:
                  pEventManager.invoke('onLoggout');
                  pEventManager.actResetWaiter('onLandingMainScreen');
                  this.loading.close();
                  reset && this.reset();
                case 15:
                case "end":
                  return _context4.stop();
              }
            }, _callee4, this);
          }));
          function logout(_x5, _x6) {
            return _logout.apply(this, arguments);
          }
          return logout;
        }();
        _proto.doubleCheckLogin = function doubleCheckLogin() {
          if (!this.Login.isLogged) {
            this.notice.show('txt_title', 'txt_lose_connection');
            this.error('Lose connection >>', this.Login);
            return false;
          }
          return true;
        };
        _proto.hasMainById = function hasMainById(ids) {
          var _this3 = this;
          return ids.some(function (id) {
            return _this3.isMainPlayer(id);
          });
        };
        _proto.isMainPlayer = function isMainPlayer(id) {
          if (id === undefined) return false;
          id = typeof id === 'number' || typeof id === 'string' ? id : id.id;
          return id == this._data.player.information.id;
        };
        _proto.isMainByUserName = function isMainByUserName(username) {
          return username === this._data.player.information.username;
        };
        _proto.getMainById = function getMainById(ids) {
          var _this4 = this;
          return ids.find(function (id) {
            return _this4.isMainPlayer(id);
          });
        };
        _proto.setBalance = function setBalance(balance, anim) {
          if (anim === void 0) {
            anim = true;
          }
          if (balance == undefined || balance == null) return;
          if (this.Login.isLogged) {
            balance = typeof balance === 'number' || typeof balance === 'string' ? Number(balance) : balance.balance;
            this._data.player.information.balance = balance;
            pEventManager.invoke("onUpdateNewBalance", balance, anim);
          }
        };
        _proto.addBalance = function addBalance(amount, anim) {
          if (anim === void 0) {
            anim = true;
          }
          if (this.Login.isLogged) {
            this._data.player.information.balance += amount;
            pEventManager.invoke("onUpdateNewBalance", amount, anim);
          }
        };
        _createClass(GlobalConfig, [{
          key: "secret",
          get: function get() {
            var Login = this.Login;
            var isLogged = Login.isLogged;
            return isLogged ? String(Login.player.information.uid) : undefined;
          }
        }, {
          key: "isCompleteTut",
          get: function get() {
            var _this$Login$player$in;
            return Boolean((_this$Login$player$in = this.Login.player.information.properties) == null ? void 0 : _this$Login$player$in.tutorial_completed);
          }
        }, {
          key: "Login",
          get: function get() {
            return this._data;
          }
        }, {
          key: "isMainScreen",
          get: function get() {
            return this._data.isLogged && GameManager.Instance.state === EGameState.MAIN_SCREEN;
          }
        }, {
          key: "isInGame",
          get: function get() {
            return this._data.isLogged && GameManager.Instance.state === EGameState.GAME_PLAY;
          }
        }, {
          key: "loading",
          get: function get() {
            return UILoadingScene.instance;
          }
        }, {
          key: "notice",
          get: function get() {
            return UINotice.instance;
          }
        }, {
          key: "isLoading",
          get: function get() {
            return this.loading.isLoading;
          }
        }, {
          key: "playerInformation",
          get: function get() {
            return this._data.player.information;
          }
        }, {
          key: "isGameStated",
          get: function get() {
            if (this._isStartedGame) return false;
            this._isStartedGame = true;
            return true;
          }
        }], [{
          key: "instance",
          get: function get() {
            return pDecorators.instance(GlobalConfig);
          }
        }]);
        return GlobalConfig;
      }()) || _class) || _class));
      window['GlobalConfig'] = GlobalConfig;
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/GlobalUtils.ts", ['cc'], function (exports) {
  var cclegacy, randomRangeInt;
  return {
    setters: [function (module) {
      cclegacy = module.cclegacy;
      randomRangeInt = module.randomRangeInt;
    }],
    execute: function () {
      cclegacy._RF.push({}, "87ce5YIZYRPFa6CkCRsuUr8", "GlobalUtils", undefined);
      var _GlobalUtils = /*#__PURE__*/function () {
        function _GlobalUtils() {}
        var _proto = _GlobalUtils.prototype;
        _proto.getCurrentTime = function getCurrentTime() {
          var now = new Date();
          return now.getHours() + ":" + now.getMinutes() + ":" + now.getSeconds() + ":" + now.getMilliseconds();
        };
        _proto.uuid = function uuid() {
          var start = randomRangeInt(1000, 9999);
          var end = randomRangeInt(1000, 9999);
          return start + "_" + Date.now() + "_" + end;
        };
        _proto.isValueOf = function isValueOf(Enum, value) {
          return Object.values(Enum).includes(value);
        };
        return _GlobalUtils;
      }();
      var pGlobalUtils = exports('pGlobalUtils', new _GlobalUtils());
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/GoogleManager.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './Decorators.ts', './LanguageManager.ts'], function (exports) {
  var _asyncToGenerator, _regeneratorRuntime, cclegacy, sys, pDecorators, LanguageMananger;
  return {
    setters: [function (module) {
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      sys = module.sys;
    }, function (module) {
      pDecorators = module.pDecorators;
    }, function (module) {
      LanguageMananger = module.LanguageMananger;
    }],
    execute: function () {
      var _dec, _dec2, _class;
      cclegacy._RF.push({}, "8ac72SmnEtIe4W4ECG6Dgm9", "GoogleManager", undefined);
      var singleton = pDecorators.singleton,
        logger = pDecorators.logger;
      var GoogleManager = exports('GoogleManager', (_dec = singleton({
        initer: 'init',
        destroyer: 'destroy',
        wake: 'Instantly'
      }), _dec2 = logger("GoogleManager"), _dec(_class = _dec2(_class = /*#__PURE__*/function () {
        function GoogleManager() {
          this._clientId = "968589874938-d22cpmg24kjg6b8ifsm70f2le7v5l3mk.apps.googleusercontent.com";
          this._url = "";
          this._user = null;
          this._authPopup = null;
          this._authCheckInterval = null;
        }
        var _proto = GoogleManager.prototype;
        _proto.init = function init() {
          if (sys.isBrowser) {
            var _redirect = 'http://localhost:7456';
            this._url = "https://accounts.google.com/o/oauth2/v2/auth?scope=https://www.googleapis.com/auth/userinfo.email%20https://www.googleapis.com/auth/userinfo.profile%20openid&response_type=token&state=state_parameter_passthrough_value&redirect_uri=" + _redirect + "&client_id=" + this._clientId;
          }
        };
        _proto._createPopup = function _createPopup() {
          var width = 500;
          var height = 600;
          var left = (window.screen.width - width) / 2;
          var top = (window.screen.height - height) / 2;
          this._authPopup = window.open(this._url, 'googleAuthPopup', "width=" + width + ",height=" + height + ",left=" + left + ",top=" + top + ",toolbar=no,location=no,directories=no,status=no,menubar=no,scrollbars=yes,resizable=no,copyhistory=no");
        };
        _proto.login = function login() {
          var _this = this;
          return new Promise(function (_rs, _rj) {
            var _errors = LanguageMananger.getStrings('txt_platform_not_support', 'txt_popup_blocked_or_closed', 'txt_authentication_cancelled');
            if (!sys.isBrowser) {
              _this.log('Google Sign-In is only available in browser environments');
              _rj(_errors.txt_platform_not_support);
              return;
            }
            _this._createPopup();
            if (!_this._authPopup || _this._authPopup.closed || typeof _this._authPopup.closed === 'undefined') {
              _rj(_errors.txt_popup_blocked_or_closed);
              return;
            }
            _this._authCheckInterval = setInterval( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {
              var _rp;
              return _regeneratorRuntime().wrap(function _callee$(_context) {
                while (1) switch (_context.prev = _context.next) {
                  case 0:
                    _context.prev = 0;
                    if (!(!_this._authPopup || _this._authPopup.closed)) {
                      _context.next = 6;
                      break;
                    }
                    clearInterval(_this._authCheckInterval);
                    _this._authPopup = null;
                    _rj(_errors.txt_authentication_cancelled);
                    return _context.abrupt("return");
                  case 6:
                    if (!_this._authPopup.location.href.includes('access_token')) {
                      _context.next = 20;
                      break;
                    }
                    clearInterval(_this._authCheckInterval);
                    _context.prev = 8;
                    _context.next = 11;
                    return _this._handleAuthResponse(_this._authPopup.location.hash);
                  case 11:
                    _rp = _context.sent;
                    _rs(_rp);
                    _context.next = 18;
                    break;
                  case 15:
                    _context.prev = 15;
                    _context.t0 = _context["catch"](8);
                    _rj(_context.t0);
                  case 18:
                    _this._authPopup.close();
                    _this._authPopup = null;
                  case 20:
                    _context.next = 24;
                    break;
                  case 22:
                    _context.prev = 22;
                    _context.t1 = _context["catch"](0);
                  case 24:
                  case "end":
                    return _context.stop();
                }
              }, _callee, null, [[0, 22], [8, 15]]);
            })), 500);
          });
        };
        _proto._handleAuthResponse = function _handleAuthResponse(hash) {
          var _this2 = this;
          var _errors = LanguageMananger.getStrings('txt_authentication_failed');
          return new Promise(function (_done, _fail) {
            var _params = new URLSearchParams(hash.substring(1));
            var _at = _params.get('access_token');
            if (_at) {
              fetch('https://www.googleapis.com/oauth2/v3/userinfo', {
                headers: {
                  'Authorization': "Bearer " + _at
                }
              }).then(function (response) {
                if (!response.ok) {
                  _this2.warn('Fail to fetch user info:', response.status, response.statusText);
                  _fail(_errors.txt_authentication_failed);
                }
                return response.json();
              }).then(function (userData) {
                _this2._user = userData;
                _done([userData, _at]);
              })["catch"](function (error) {
                _this2.log('Error fetching user data:', error);
                _fail(_errors.txt_authentication_failed);
              });
            } else {
              _fail(_errors.txt_authentication_failed);
            }
          });
        };
        _proto.getUserInfo = function getUserInfo() {
          return this._user;
        };
        _proto.isSignedIn = function isSignedIn() {
          return this._user !== null;
        };
        _proto.destroy = function destroy() {
          if (this._authCheckInterval) {
            clearInterval(this._authCheckInterval);
          }
        };
        return GoogleManager;
      }()) || _class) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/HtmlText.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './ComponentUtils.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _createClass, cclegacy, _decorator, Node, Enum, RichText, TTFFont, Prefab, Button, instantiate, Layout, Component, pComponentUtils;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _createClass = module.createClass;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Node = module.Node;
      Enum = module.Enum;
      RichText = module.RichText;
      TTFFont = module.TTFFont;
      Prefab = module.Prefab;
      Button = module.Button;
      instantiate = module.instantiate;
      Layout = module.Layout;
      Component = module.Component;
    }, function (module) {
      pComponentUtils = module.pComponentUtils;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9;
      cclegacy._RF.push({}, "33009a8r0NCIrGqYgi0LS98", "HtmlText", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      function _mapInnerOpenTag(_tag) {
        _tag = _tag.toLowerCase();
        switch (_tag) {
          case "strong":
          case "b":
            return "<bold>";
          case "em":
          case "i":
            return "<italic>";
          case "u":
            return '<underline>';
          case "span":
            return "";
          default:
            return "";
        }
      }
      var HtmlText = exports('HtmlText', (_dec = ccclass("HtmlText"), _dec2 = property({
        type: Node
      }), _dec3 = property({
        min: 0
      }), _dec4 = property({
        min: 0
      }), _dec5 = property({
        min: 0
      }), _dec6 = property({
        type: Enum(RichText.VerticalAlign)
      }), _dec7 = property({
        type: Enum(RichText.HorizontalAlign)
      }), _dec8 = property({
        type: TTFFont
      }), _dec9 = property(Prefab), _dec10 = property(Button), _dec(_class = (_class2 = /*#__PURE__*/function (_Component) {
        _inheritsLoose(HtmlText, _Component);
        function HtmlText() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _Component.call.apply(_Component, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "root", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "max_width", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "font_size", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "font_height", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "vertical_align", _descriptor5, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "horizontal_align", _descriptor6, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "font", _descriptor7, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "item", _descriptor8, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btn_close", _descriptor9, _assertThisInitialized(_this));
          return _this;
        }
        var _proto = HtmlText.prototype;
        _proto.onLoad = function onLoad() {
          this.btn_close && pComponentUtils.appends({
            _options: {
              _handlers: this.active.bind(this, false),
              _target: this.btn_close
            },
            _type: Button.EventType.CLICK,
            _binder: this
          });
        };
        _proto.set = function set(html) {
          this.root.removeAllChildren();
          var _pattern = /<(p|h1|h2|h3|li|ol|ul|s)[^>]*>[\s\S]*?<\/\1>/gi;
          var _matches = html.match(_pattern);
          if (!_matches) return [];
          var _list = [];
          for (var i = 0; i < _matches.length; i++) {
            var _block = _matches[i];
            var _node = instantiate(this.item);
            var _comp = pComponentUtils.getSafeComponent(_node, RichText);
            _comp.useSystemFont = false;
            _comp.verticalAlign = this.vertical_align;
            _comp.horizontalAlign = this.horizontal_align;
            _comp.fontSize = this.font_size;
            _comp.font = this.font;
            _comp.lineHeight = this.font_height;
            _comp.maxWidth = this.max_width;
            _node.parent = this.root;
            _list.push(this._converter(_block, _comp));
          }
          this.layout.updateLayout();
          console.log("[HTML TEXT] >>", _list);
        };
        _proto._rgbToHex = function _rgbToHex(_srgb) {
          var _m = _srgb.match(/rgba?\s*\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})/i);
          if (!_m) return _srgb;
          var _tohex = function _tohex(_n) {
            var _v = Math.max(0, Math.min(255, _n || 0));
            return ("0" + _v.toString(16)).slice(-2);
          };
          return ("#" + _tohex(+_m[1]) + _tohex(+_m[2]) + _tohex(+_m[3])).toUpperCase();
        };
        _proto._strike = function _strike(_sstr) {
          return _sstr.split("").map(function (_ch) {
            if (_ch.trim() === "") return _ch;
            return _ch + "\u0336";
          }).join("");
        };
        _proto._converter = function _converter(block, target) {
          var _this2 = this;
          var _str = block.replace(/^<[^>]+>/, '').replace(/<\/[^>]+>$/, '').trim().replace(/<strong[^>]*>(.*?)<\/strong>/gi, "<bold>$1</bold>").replace(/<b[^>]*>(.*?)<\/b>/gi, "<bold>$1</bold>").replace(/<em[^>]*>(.*?)<\/em>/gi, "<italic>$1</italic>").replace(/<i[^>]*>(.*?)<\/i>/gi, "<italic>$1</italic>").replace(/<u[^>]*>(.*?)<\/u>/gi, "<underline>$1</underline>").replace(/<[^>]*style=["'][^"']*color\s*:\s*([^;"']+)/gi, function (_m, color) {
            return "<color=" + _this2._rgbToHex(color) + ">";
          }).replace(/<\/span>/gi, "</color>").replace(/<s[^>]*>(.*?)<\/s>/gi, function (_m, inner) {
            return _this2._strike(inner);
          }).replace(/<ul[^>]*>([\s\S]*?)<\/ul>/gi, function (_m, _inner) {
            var _items = _inner.match(/<li[^>]*>[\s\S]*?<\/li>/gi) || [];
            return _items.map(function (_li) {
              var _content = _li.replace(/<\/?li[^>]*>/gi, '').trim();
              return "\u2022 " + _content + "\n";
            }).join('\n') + '\n';
          }).replace(/<li[^>]*>(.*?)<\/li>/gi, function (_m, inner) {
            return "\u2022 " + inner + "\n";
          });
          if (/^<h1/i.test(block)) {
            _str = "<size=42><bold>" + _str + "</bold></size>";
            target.lineHeight = 42;
          } else if (/^<h2/i.test(block)) {
            _str = "<size=32><bold>" + _str + "</bold></size>";
            target.lineHeight = 32;
          } else if (/^<h3/i.test(block)) {
            _str = "<size=28><bold>" + _str + "</bold></size>";
            target.lineHeight = 28;
          }
          if (/^<li/i.test(block)) _str = "\u2022 " + _str;
          target.string = _str.trim();
          return _str;
        };
        _proto._toBBCode = function _toBBCode(html) {
          if (!html) return "";
          var _rgb = function _rgb(_srgb) {
            var _m = _srgb.match(/rgba?\s*\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})/i);
            if (!_m) return _srgb;
            var _tohex = function _tohex(_n) {
              var _v = Math.max(0, Math.min(255, _n || 0));
              return ("0" + _v.toString(16)).slice(-2);
            };
            return ("#" + _tohex(+_m[1]) + _tohex(+_m[2]) + _tohex(+_m[3])).toUpperCase();
          };
          var _strike = function _strike(_sstr) {
            return _sstr.split("").map(function (_ch) {
              if (_ch.trim() === "") return _ch;
              return _ch + "\u0336";
            }).join("");
          };
          return html.replace(/\r\n/g, "\n").replace(/<h1[^>]*>([\s\S]*?)<\/h1>/gi, function (_m, inner) {
            return "<size=40><bold>" + inner + "</bold></size>\n\n";
          }).replace(/<h2[^>]*>([\s\S]*?)<\/h2>/gi, function (_m, inner) {
            return "<size=32><bold>" + inner + "</bold></size>\n\n";
          }).replace(/<\/p>/gi, '\n\n').replace(/<br\s*\/?>/gi, '\n').replace(/<ol[^>]*>([\s\S]*?)<\/ol>/gi, function (_m, _inner) {
            var _items = _inner.match(/<li[^>]*>[\s\S]*?<\/li>/gi) || [];
            return _items.map(function (_li, _idx) {
              var _content = _li.replace(/<\/?li[^>]*>/gi, '').trim();
              return "\n" + (_idx + 1) + ". " + _content;
            }).join('\n') + '\n';
          }).replace(/<ul[^>]*>([\s\S]*?)<\/ul>/gi, function (_m, _inner) {
            var _items = _inner.match(/<li[^>]*>[\s\S]*?<\/li>/gi) || [];
            return _items.map(function (_li) {
              var _content = _li.replace(/<\/?li[^>]*>/gi, '').trim();
              return "\u2022 " + _content + "\n";
            }).join('\n') + '\n';
          }).replace(/<(strong|b|em|i|u|span)([^>]*)style\s*=\s*["'][^"']*color\s*:\s*([^;"']+)[;"']?([^"']*)["']?([^>]*)>/gi, function (_m, _tag, _before, _color, _afterStyle, _after) {
            var _hex = _rgb(_color.trim());
            var _mapped = _mapInnerOpenTag(_tag);
            return "<color=" + _hex + ">" + _mapped;
          }).replace(/<\s*(strong|b)\s*>/gi, '<bold>').replace(/<\/\s*(strong|b)\s*>/gi, '</bold>').replace(/<\s*(em|i)\s*>/gi, '<italic>').replace(/<\/\s*(em|i)\s*>/gi, '</italic>').replace(/<\s*u\s*>/gi, '<underline>').replace(/<\/\s*u\s*>/gi, '</underline>').replace(/<span[^>]*style=["'][^"']*color\s*:\s*([^;"']+)[;"']?[^"']*["'][^>]*>/gi, function (_m, _color) {
            return "<color=" + _rgb(_color.trim()) + ">";
          }).replace(/<\/span>/gi, '</color>').replace(/<s[^>]*>([\s\S]*?)<\/s>/gi, function (_m, _inner) {
            var _stripped = _inner.replace(/<[^>]+>/g, '');
            return _strike(_stripped);
          }).replace(/<\/?(p|div|section)[^>]*>/gi, '\n').replace(/<\/?[^>]+(>|$)/g, function (_m) {
            if (/^<\s*\/?\s*(bold|italic|underline|color=|color|\/color|size=|\/size|img|br)\b/i.test(_m)) {
              return _m;
            }
            return "";
          }).replace(/\n{3,}/g, '\n\n').trim().replace(/<color=(#[0-9A-Fa-f]{6})>([^\n<]+)(?![\s\S]*?<\/color>)/g, function (_m, hex, txt) {
            return "<color=" + hex + ">" + txt + "</color>";
          }).replace(/&nbsp;/gi, ' ').replace(/&amp;/gi, '&').replace(/&lt;/gi, '<').replace(/&gt;/gi, '>').replace(/&quot;/gi, '"').replace(/&#39;/g, "'").trim();
        };
        _proto.active = function active(bool) {
          this.node.active = bool;
        };
        _createClass(HtmlText, [{
          key: "layout",
          get: function get() {
            return this.root.getComponent(Layout);
          }
        }]);
        return HtmlText;
      }(Component), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "root", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "max_width", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return 900;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "font_size", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return 17.5;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "font_height", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return 17.5;
        }
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "vertical_align", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return RichText.VerticalAlign.CENTER;
        }
      }), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, "horizontal_align", [_dec7], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return RichText.HorizontalAlign.LEFT;
        }
      }), _descriptor7 = _applyDecoratedDescriptor(_class2.prototype, "font", [_dec8], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor8 = _applyDecoratedDescriptor(_class2.prototype, "item", [_dec9], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor9 = _applyDecoratedDescriptor(_class2.prototype, "btn_close", [_dec10], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/HttpUtils.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './ResponeCode.ts', './GlobalConfig.ts', './UserCommand.ts', './NotifyToast.ts', './UINotice.ts', './Decorators.ts'], function (exports) {
  var _createClass, _asyncToGenerator, _regeneratorRuntime, cclegacy, ResponseCode, GlobalConfig, request, NotifyToast, UINotice, pDecorators;
  return {
    setters: [function (module) {
      _createClass = module.createClass;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
    }, function (module) {
      ResponseCode = module.ResponseCode;
    }, function (module) {
      GlobalConfig = module.default;
    }, function (module) {
      request = module.default;
    }, function (module) {
      NotifyToast = module.NotifyToast;
    }, function (module) {
      UINotice = module.UINotice;
    }, function (module) {
      pDecorators = module.pDecorators;
    }],
    execute: function () {
      var _dec, _class;
      cclegacy._RF.push({}, "28541JaxMJKAJQ7f9je7Pfd", "HttpUtils", undefined);
      var singleton = pDecorators.singleton;
      var HttpUtils = exports('HttpUtils', (_dec = singleton({
        initer: "_init",
        destroyer: '_destroy'
      }), _dec(_class = /*#__PURE__*/function () {
        function HttpUtils() {
          this._xhr = null;
        }
        var _proto = HttpUtils.prototype;
        _proto.post = function post(url, token, data, onSuccess, onError) {
          var _this = this;
          var loading = GlobalConfig.instance.loading;
          loading.open();
          try {
            this.xhr.open('POST', url, true);
            this.xhr.setRequestHeader('X-External-Token', token);
            this.xhr.onreadystatechange = function () {
              if (_this.xhr.readyState === XMLHttpRequest.DONE) {
                if (_this.xhr.status >= 200 && _this.xhr.status < 300) {
                  try {
                    var response = JSON.parse(_this.xhr.responseText);
                    onSuccess && onSuccess(response);
                  } catch (error) {
                    NotifyToast.instance.show(String(error), 'lobby');
                    loading.close();
                  } finally {}
                } else {
                  UINotice.instance.show('txt_title', 'txt_cant_upload', 'txt_btn_confirm');
                  loading.close();
                }
              }
            };
            this.xhr.onerror = function (ev) {
              NotifyToast.instance.showWithKey('txt_upload_error', 'lobby');
              onError && onError(ev);
              loading.close();
            };
            this.xhr.send(data);
          } catch (error) {
            error && error(error);
            NotifyToast.instance.show(String(error), 'lobby');
          } finally {
            loading.close();
          }
        };
        _proto.uploadImage = /*#__PURE__*/function () {
          var _uploadImage = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(_file, _onSuccess, _onError) {
            var loading, res, code, data, token, base_url, form;
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  loading = GlobalConfig.instance.loading;
                  loading.open();
                  _context.next = 4;
                  return request('getTokenUpload', {});
                case 4:
                  res = _context.sent;
                  code = res.code, data = res.data;
                  _context.t0 = code;
                  _context.next = _context.t0 === ResponseCode.SUCCESS ? 9 : _context.t0 === ResponseCode.ERROR ? 19 : 24;
                  break;
                case 9:
                  token = data.token, base_url = data.base_url;
                  if (_file) {
                    _context.next = 14;
                    break;
                  }
                  NotifyToast.instance.showWithKey('txt_cancel_upload', 'lobby');
                  loading.close();
                  return _context.abrupt("return");
                case 14:
                  form = new FormData();
                  form.append('file', _file);
                  form.append('description', 'test');
                  this.post(base_url + "/api/v1/uploads/single", token, form, _onSuccess, _onError);
                  return _context.abrupt("break", 24);
                case 19:
                  UINotice.instance.show('txt_title', 'txt_cant_upload', 'txt_btn_confirm');
                  _onError && _onError('Load token failed', res);
                  loading.close();
                  return _context.abrupt("return");
                case 24:
                  loading.close();
                case 25:
                case "end":
                  return _context.stop();
              }
            }, _callee, this);
          }));
          function uploadImage(_x, _x2, _x3) {
            return _uploadImage.apply(this, arguments);
          }
          return uploadImage;
        }();
        _createClass(HttpUtils, [{
          key: "xhr",
          get: function get() {
            var _this$_xhr;
            return (_this$_xhr = this._xhr) != null ? _this$_xhr : this._xhr = new XMLHttpRequest();
          }
        }], [{
          key: "instance",
          get: function get() {
            return pDecorators.instance(HttpUtils);
          }
        }]);
        return HttpUtils;
      }()) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/IAnimationFX.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './Enums.ts', './EventDriver.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _createClass, _initializerDefineProperty, _assertThisInitialized, cclegacy, Enum, js, Node, _decorator, v3, CCClass, EByTo, CCETweenEasing, ETweenEasing, NSEventDriver;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _createClass = module.createClass;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      Enum = module.Enum;
      js = module.js;
      Node = module.Node;
      _decorator = module._decorator;
      v3 = module.v3;
      CCClass = module.CCClass;
    }, function (module) {
      EByTo = module.EByTo;
      CCETweenEasing = module.CCETweenEasing;
      ETweenEasing = module.ETweenEasing;
    }, function (module) {
      NSEventDriver = module.NSEventDriver;
    }],
    execute: function () {
      exports('NSAnimationFX', void 0);
      cclegacy._RF.push({}, "228606flf9N076/zlJKpS/f", "IAnimationFX", undefined);
      var _cc$_decorator = _decorator,
        property = _cc$_decorator.property,
        ccclass = _cc$_decorator.ccclass;
      var NSAnimationFX;
      (function (_NSAnimationFX, _dec, _dec2, _dec3, _dec4, _class, _class2, _descriptor, _descriptor2, _descriptor3, _dec5, _class4) {
        function easingConverter(easing) {
          return ETweenEasing[easing];
        }
        _NSAnimationFX.easingConverter = easingConverter;
        var Helper = (_dec = ccclass('NSAnimationFX.Helper'), _dec2 = property({
          min: 0
        }), _dec3 = property({
          type: Enum(EByTo)
        }), _dec4 = property({
          type: CCETweenEasing,
          visible: true
        }), _dec(_class = (_class2 = /*#__PURE__*/function () {
          function Helper() {
            _initializerDefineProperty(this, "duration", _descriptor, this);
            _initializerDefineProperty(this, "byto", _descriptor2, this);
            _initializerDefineProperty(this, "_easing", _descriptor3, this);
          }
          _createClass(Helper, [{
            key: "easing",
            get: function get() {
              return easingConverter(this._easing);
            }
          }]);
          return Helper;
        }(), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "duration", [_dec2], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return 0.0;
          }
        }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "byto", [_dec3], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return EByTo.BY;
          }
        }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "_easing", [_dec4], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return ETweenEasing.backIn;
          }
        })), _class2)) || _class);
        _NSAnimationFX.Helper = Helper;
        var Component = (_dec5 = ccclass('NSAnimationFX.Component'), _dec5(_class4 = /*#__PURE__*/function (_NSEventDriver$Compon) {
          _inheritsLoose(Component, _NSEventDriver$Compon);
          function Component() {
            return _NSEventDriver$Compon.apply(this, arguments) || this;
          }
          var _proto = Component.prototype;
          _proto.onLoad = function onLoad() {
            this._init();
          };
          _proto._init = function _init() {
            this.destroy();
            console.error("[AnimationFX] Error: Please override the 'init' function for " + js.getClassName(this) + " class");
          };
          _proto.log = function log(message) {
            for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
              args[_key - 1] = arguments[_key];
            }
          };
          _proto.warn = function warn(message) {
            for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {
              args[_key2 - 1] = arguments[_key2];
            }
          };
          _proto.error = function error(message) {
            for (var _len3 = arguments.length, args = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {
              args[_key3 - 1] = arguments[_key3];
            }
          };
          return Component;
        }(NSEventDriver.Component)) || _class4);
        _NSAnimationFX.Component = Component;
        var NSFlexAttr;
        (function (_NSFlexAttr, _dec6, _class5, _dec7, _dec8, _class6, _class7, _descriptor4, _dec9, _dec10, _class9, _class10, _descriptor5) {
          var Flex = (_dec6 = ccclass('NSFlexAttr.Flex'), _dec6(_class5 = function Flex() {}) || _class5);
          _NSFlexAttr.Flex = Flex;
          var Vec3 = (_dec7 = ccclass('NSFlexAttr.Vec3'), _dec8 = property({
            override: true
          }), _dec7(_class6 = (_class7 = /*#__PURE__*/function (_Flex) {
            _inheritsLoose(Vec3, _Flex);
            function Vec3() {
              var _this;
              for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {
                args[_key4] = arguments[_key4];
              }
              _this = _Flex.call.apply(_Flex, [this].concat(args)) || this;
              _initializerDefineProperty(_this, "prop", _descriptor4, _assertThisInitialized(_this));
              return _this;
            }
            return Vec3;
          }(Flex), _descriptor4 = _applyDecoratedDescriptor(_class7.prototype, "prop", [_dec8], {
            configurable: true,
            enumerable: true,
            writable: true,
            initializer: function initializer() {
              return v3();
            }
          }), _class7)) || _class6);
          _NSFlexAttr.Vec3 = Vec3;
          var Node$1 = (_dec9 = ccclass('NSFlexAttr.Node'), _dec10 = property({
            type: Node,
            override: true
          }), _dec9(_class9 = (_class10 = /*#__PURE__*/function (_Flex2) {
            _inheritsLoose(Node, _Flex2);
            function Node() {
              var _this2;
              for (var _len5 = arguments.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {
                args[_key5] = arguments[_key5];
              }
              _this2 = _Flex2.call.apply(_Flex2, [this].concat(args)) || this;
              _initializerDefineProperty(_this2, "prop", _descriptor5, _assertThisInitialized(_this2));
              return _this2;
            }
            return Node;
          }(Flex), _descriptor5 = _applyDecoratedDescriptor(_class10.prototype, "prop", [_dec10], {
            configurable: true,
            enumerable: true,
            writable: true,
            initializer: function initializer() {
              return null;
            }
          }), _class10)) || _class9);
          _NSFlexAttr.Node = Node$1;
          var EType = /*#__PURE__*/function (EType) {
            EType[EType["VEC3"] = 0] = "VEC3";
            EType[EType["NODE"] = 1] = "NODE";
            return EType;
          }({});
          _NSFlexAttr.EType = EType;
          function get(_type, _constructor, _prop) {
            switch (_type) {
              case EType.VEC3:
                {
                  CCClass.Attr.setClassAttr(_constructor.constructor, _prop, 'type', Vec3);
                  return new Vec3();
                }
              case EType.NODE:
                {
                  CCClass.Attr.setClassAttr(_constructor.constructor, _prop, 'type', Node$1);
                  return new Node$1();
                }
            }
          }
          _NSFlexAttr.get = get;
        })(NSFlexAttr || (NSFlexAttr = _NSAnimationFX.NSFlexAttr || (_NSAnimationFX.NSFlexAttr = {})));
      })(NSAnimationFX || (NSAnimationFX = exports('NSAnimationFX', {})));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/ICardInfo.ts", ['cc'], function () {
  var cclegacy;
  return {
    setters: [function (module) {
      cclegacy = module.cclegacy;
    }],
    execute: function () {
      cclegacy._RF.push({}, "1dc43y3AXZNRZTDqBzhly9B", "ICardInfo", undefined);
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/IChatCommand.ts", ['cc'], function (exports) {
  var cclegacy;
  return {
    setters: [function (module) {
      cclegacy = module.cclegacy;
    }],
    execute: function () {
      exports('NSChatCMD', void 0);
      cclegacy._RF.push({}, "d6e0ebRR3pJnJq4z/MNNNGa", "IChatCommand", undefined);
      var NSChatCMD;
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/IChatData.ts", ['cc'], function (exports) {
  var cclegacy;
  return {
    setters: [function (module) {
      cclegacy = module.cclegacy;
    }],
    execute: function () {
      exports('NSChatData', void 0);
      cclegacy._RF.push({}, "7a7256ZoPNL6Z8D5MGMQOVK", "IChatData", undefined);
      var NSChatData;
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/IConnectorCommand.ts", ['cc'], function (exports) {
  var cclegacy;
  return {
    setters: [function (module) {
      cclegacy = module.cclegacy;
    }],
    execute: function () {
      exports('NSConnectorCMD', void 0);
      cclegacy._RF.push({}, "62fe8vJg1JJXJpUM6VbD9u9", "IConnectorCommand", undefined);
      var NSConnectorCMD;
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/IDynamicData.ts", ['cc'], function () {
  var cclegacy;
  return {
    setters: [function (module) {
      cclegacy = module.cclegacy;
    }],
    execute: function () {
      cclegacy._RF.push({}, "90687Owly1EzJbIyFDTH5qf", "IDynamicData", undefined);
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/IEnity.ts", ['cc'], function (exports) {
  var cclegacy;
  return {
    setters: [function (module) {
      cclegacy = module.cclegacy;
    }],
    execute: function () {
      exports('NSEntity', void 0);
      cclegacy._RF.push({}, "460f43MfNxL/oW6hrjPjHI0", "IEnity", undefined);
      var NSEntity;
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/IEventBinder.ts", ['cc'], function () {
  var cclegacy;
  return {
    setters: [function (module) {
      cclegacy = module.cclegacy;
    }],
    execute: function () {
      cclegacy._RF.push({}, "bd2f3JdWtZFnYDCCzj8f/OX", "IEventBinder", undefined);
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/IEventResponse.ts", ['cc'], function (exports) {
  var cclegacy;
  return {
    setters: [function (module) {
      cclegacy = module.cclegacy;
    }],
    execute: function () {
      exports('NSEventResponse', void 0);
      cclegacy._RF.push({}, "acf06XLmcpJ871+Q8mIz3lW", "IEventResponse", undefined);
      var NSEventResponse;
      (function (_NSEventResponse) {
        function isUpdateUsersPlayer(data) {
          return !!data.action;
        }
        _NSEventResponse.isUpdateUsersPlayer = isUpdateUsersPlayer;
        var dGame = _NSEventResponse.dGame = {
          betName: '',
          bets: [],
          bigBlind: 0,
          blinds: [],
          board: [],
          incrRaise: 0,
          pot: 0,
          roundBets: [],
          roundName: 'River',
          sidePot: 0,
          sidepots: [],
          smallBlind: 0
        };
        var NSUpdateMyself;
        (function (_NSUpdateMyself) {
          function isMttRanker(data) {
            if (!data) return false;
            return data.msg && 'rank_info' in data.msg && 'player' in data;
          }
          _NSUpdateMyself.isMttRanker = isMttRanker;
        })(NSUpdateMyself || (NSUpdateMyself = _NSEventResponse.NSUpdateMyself || (_NSEventResponse.NSUpdateMyself = {})));
        function isUpdateMoneyEndGame(target) {
          return !!target.msg && 'balance' in target && typeof target.balance === 'number';
        }
        _NSEventResponse.isUpdateMoneyEndGame = isUpdateMoneyEndGame;
        function isSubUpdateMyself(target) {
          return !!target.route;
        }
        _NSEventResponse.isSubUpdateMyself = isSubUpdateMyself;
      })(NSEventResponse || (NSEventResponse = exports('NSEventResponse', {})));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/IFlexCreator.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _createClass, cclegacy, _decorator, CCClass, Component;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _createClass = module.createClass;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      CCClass = module.CCClass;
      Component = module.Component;
    }],
    execute: function () {
      exports('NSFlexCreator', void 0);
      cclegacy._RF.push({}, "8758fBboZ9E745R81wiYhx3", "IFlexCreator", undefined);
      var property = _decorator.property;
      var NSFlexCreator;
      (function (_NSFlexCreator, _dec, _class, _descriptor, _dec2, _class3, _descriptor2) {
        var Helper = (_dec = property({
          visible: function visible() {
            return !!this.id;
          }
        }), (_class = /*#__PURE__*/function () {
          function Helper() {
            _initializerDefineProperty(this, "id", _descriptor, this);
          }
          var _proto = Helper.prototype;
          _proto.is = function is(id) {
            return this.id === id;
          };
          _proto.refix = function refix() {
            CCClass.Attr.setClassAttr(this.constructor, 'id', 'readonly', true);
          };
          return Helper;
        }(), _descriptor = _applyDecoratedDescriptor(_class.prototype, "id", [_dec], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return '';
          }
        }), _class));
        _NSFlexCreator.Helper = Helper;
        var Component$1 = (_dec2 = property({
          readonly: true
        }), (_class3 = /*#__PURE__*/function (_cc$Component) {
          _inheritsLoose(Component, _cc$Component);
          function Component() {
            var _this;
            for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
              args[_key] = arguments[_key];
            }
            _this = _cc$Component.call.apply(_cc$Component, [this].concat(args)) || this;
            _initializerDefineProperty(_this, "_fixed", _descriptor2, _assertThisInitialized(_this));
            return _this;
          }
          var _proto2 = Component.prototype;
          _proto2.onFocusInEditor = function onFocusInEditor() {
            this._refix();
          };
          _proto2.onLostFocusInEditor = function onLostFocusInEditor() {
            this._refix();
          };
          _proto2._refix = function _refix() {
            if (!this._fixed) return;
            CCClass.Attr.setClassAttr(this.constructor, '_list', 'readonly', true);
            this._list.forEach(function (toggle) {
              return toggle.refix();
            });
          };
          _proto2.resetup = function resetup(list) {
            var _this2 = this;
            this._fixed = true;
            this._list = list.map(function (id) {
              return _this2._create(id);
            });
            this._refix();
          };
          _proto2.get = function get(id) {
            return this._list.find(function (data) {
              return data.is(id);
            });
          };
          _createClass(Component, [{
            key: "list",
            get: function get() {
              return this._list;
            }
          }]);
          return Component;
        }(Component), _descriptor2 = _applyDecoratedDescriptor(_class3.prototype, "_fixed", [_dec2], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return false;
          }
        }), _class3));
        _NSFlexCreator.Component = Component$1;
      })(NSFlexCreator || (NSFlexCreator = exports('NSFlexCreator', {})));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/IFlipableObject.ts", ['cc'], function () {
  var cclegacy;
  return {
    setters: [function (module) {
      cclegacy = module.cclegacy;
    }],
    execute: function () {
      cclegacy._RF.push({}, "79509Au9nNICKMe7HqrxPRK", "IFlipableObject", undefined);
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/IGameCommand.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc'], function (exports) {
  var _extends, cclegacy;
  return {
    setters: [function (module) {
      _extends = module.extends;
    }, function (module) {
      cclegacy = module.cclegacy;
    }],
    execute: function () {
      exports('NSGameCMD', void 0);
      cclegacy._RF.push({}, "b4d441PWtJFp4YvSa3UT2tx", "IGameCommand", undefined);
      var NSGameCMD;
      (function (_NSGameCMD) {
        var UserHandler;
        (function (_UserHandler) {
          var GetFriends;
          (function (_GetFriends) {
            var EType = /*#__PURE__*/function (EType) {
              EType[EType["FRIEND_REQUEST"] = 1] = "FRIEND_REQUEST";
              EType[EType["FRIEND"] = 2] = "FRIEND";
              EType[EType["FOLLOWING"] = 3] = "FOLLOWING";
              EType[EType["BLACKLIST"] = 4] = "BLACKLIST";
              return EType;
            }({});
            _GetFriends.EType = EType;
          })(GetFriends || (GetFriends = _UserHandler.GetFriends || (_UserHandler.GetFriends = {})));
          var SearchFriends;
          (function (_SearchFriends) {
            var _EType = /*#__PURE__*/function (_EType) {
              _EType[_EType["SEARCH_ALL"] = 0] = "SEARCH_ALL";
              return _EType;
            }({});
            var EType = _SearchFriends.EType = _extends({}, GetFriends.EType, _EType);
          })(SearchFriends || (SearchFriends = _UserHandler.SearchFriends || (_UserHandler.SearchFriends = {})));
        })(UserHandler || (UserHandler = _NSGameCMD.UserHandler || (_NSGameCMD.UserHandler = {})));
      })(NSGameCMD || (NSGameCMD = exports('NSGameCMD', {})));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/IGameHistory.ts", ['cc'], function (exports) {
  var cclegacy;
  return {
    setters: [function (module) {
      cclegacy = module.cclegacy;
    }],
    execute: function () {
      exports('NSIHistory', void 0);
      cclegacy._RF.push({}, "06a0dY2D4ZI56EAd2yqyqEd", "IGameHistory", undefined);
      var NSIHistory;
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/IGateCommand.ts", ['cc'], function (exports) {
  var cclegacy;
  return {
    setters: [function (module) {
      cclegacy = module.cclegacy;
    }],
    execute: function () {
      exports('NSGateCMD', void 0);
      cclegacy._RF.push({}, "37599+NnJRJGY8aGiscOaju", "IGateCommand", undefined);
      var NSGateCMD;
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/IItemPlayer.ts", ['cc'], function (exports) {
  var cclegacy;
  return {
    setters: [function (module) {
      cclegacy = module.cclegacy;
    }],
    execute: function () {
      exports('NSItemData', void 0);
      cclegacy._RF.push({}, "4a50fr9X29Cbp2z365V9Q7Z", "IItemPlayer", undefined);
      var NSItemData;
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/IMTTCommand.ts", ['cc'], function (exports) {
  var cclegacy;
  return {
    setters: [function (module) {
      cclegacy = module.cclegacy;
    }],
    execute: function () {
      exports('NSMttTourCMD', void 0);
      cclegacy._RF.push({}, "cc08avPMcVGgpHT/QTlx4AA", "IMTTCommand", undefined);
      var NSMttTourCMD;
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/IMTTResponse.ts", ['cc'], function (exports) {
  var cclegacy;
  return {
    setters: [function (module) {
      cclegacy = module.cclegacy;
    }],
    execute: function () {
      exports('NSMttResponse', void 0);
      cclegacy._RF.push({}, "13177DumJBDmpQaif7K9S6z", "IMTTResponse", undefined);
      var NSMttResponse;
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/INetwork.ts", ['cc', './Enums.ts'], function (exports) {
  var cclegacy, ELoginType;
  return {
    setters: [function (module) {
      cclegacy = module.cclegacy;
    }, function (module) {
      ELoginType = module.ELoginType;
    }],
    execute: function () {
      cclegacy._RF.push({}, "d0997HJIQFIdpFm5XGNxA53", "INetwork", undefined);
      var LoginParams = exports('LoginParams', function LoginParams() {
        this.loginType = ELoginType.LOGIN_AS_GUEST;
        this.email = "";
        this.phoneZone = "";
        this.phoneNumber = "";
        this.password = "";
        this.avatarId = 0;
      });
      var ResetPasswordParams = exports('ResetPasswordParams', function ResetPasswordParams() {
        this.loginType = ELoginType.LOGIN_EMAIL;
        this.email = "";
        this.phoneZone = "";
        this.phoneNumber = "";
        this.password = "";
      });
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/InfinityFx.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './IAnimationFX.ts', './Enums.ts'], function (exports) {
  var _inheritsLoose, _applyDecoratedDescriptor, _initializerDefineProperty, _assertThisInitialized, _asyncToGenerator, _regeneratorRuntime, cclegacy, Enum, Node, UITransform, Vec3, _decorator, NSAnimationFX, EDirection, EComponentInvokeOptions;
  return {
    setters: [function (module) {
      _inheritsLoose = module.inheritsLoose;
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      Enum = module.Enum;
      Node = module.Node;
      UITransform = module.UITransform;
      Vec3 = module.Vec3;
      _decorator = module._decorator;
    }, function (module) {
      NSAnimationFX = module.NSAnimationFX;
    }, function (module) {
      EDirection = module.EDirection;
      EComponentInvokeOptions = module.EComponentInvokeOptions;
    }],
    execute: function () {
      exports('NSInfinityFx', void 0);
      cclegacy._RF.push({}, "85e6dBDIzNEyqc+r2PjRq6D", "InfinityFx", undefined);
      var _cc$_decorator = _decorator,
        ccclass = _cc$_decorator.ccclass,
        property = _cc$_decorator.property;
      var NSInfinityFx;
      (function (_NSInfinityFx, _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6) {
        var Component = (_dec = ccclass('NSInfinityFx.Component'), _dec2 = property({
          type: Enum(EDirection)
        }), _dec3 = property({
          min: 0
        }), _dec4 = property({}), _dec5 = property({
          type: [Node]
        }), _dec6 = property({}), _dec7 = property({
          type: Enum(EComponentInvokeOptions)
        }), _dec(_class = (_class2 = /*#__PURE__*/function (_NSAnimationFX$Compon) {
          _inheritsLoose(Component, _NSAnimationFX$Compon);
          function Component() {
            var _this;
            for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
              args[_key] = arguments[_key];
            }
            _this = _NSAnimationFX$Compon.call.apply(_NSAnimationFX$Compon, [this].concat(args)) || this;
            _initializerDefineProperty(_this, "direction", _descriptor, _assertThisInitialized(_this));
            _initializerDefineProperty(_this, "speed", _descriptor2, _assertThisInitialized(_this));
            _initializerDefineProperty(_this, "isReverse", _descriptor3, _assertThisInitialized(_this));
            _initializerDefineProperty(_this, "target", _descriptor4, _assertThisInitialized(_this));
            _initializerDefineProperty(_this, "dif", _descriptor5, _assertThisInitialized(_this));
            _initializerDefineProperty(_this, "option", _descriptor6, _assertThisInitialized(_this));
            _this._run = true;
            _this._transforms = [];
            _this._viewportUI = null;
            _this._size = 0;
            _this._positions = [];
            return _this;
          }
          var _proto = Component.prototype;
          _proto.onEnable = function onEnable() {
            this._invoker(EComponentInvokeOptions.OnEnable);
          };
          _proto.start = function start() {
            this._invoker(EComponentInvokeOptions.OnStart);
          };
          _proto._invoker = function _invoker(type) {
            type === this.option && this.show();
          };
          _proto._getData = function _getData(_data) {
            var _data$direction, _data$speed, _data$isReverse, _data$option;
            return {
              direction: (_data$direction = _data.direction) != null ? _data$direction : this.direction,
              speed: (_data$speed = _data.speed) != null ? _data$speed : this.speed,
              isReverse: (_data$isReverse = _data.isReverse) != null ? _data$isReverse : this.isReverse,
              option: (_data$option = _data.option) != null ? _data$option : this.option
            };
          };
          _proto.show = /*#__PURE__*/function () {
            var _show = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {
              return _regeneratorRuntime().wrap(function _callee$(_context) {
                while (1) switch (_context.prev = _context.next) {
                  case 0:
                    this.resume();
                  case 1:
                  case "end":
                    return _context.stop();
                }
              }, _callee, this);
            }));
            function show() {
              return _show.apply(this, arguments);
            }
            return show;
          }();
          _proto.hide = /*#__PURE__*/function () {
            var _hide = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {
              return _regeneratorRuntime().wrap(function _callee2$(_context2) {
                while (1) switch (_context2.prev = _context2.next) {
                  case 0:
                    this.pause();
                    this._setup();
                  case 2:
                  case "end":
                    return _context2.stop();
                }
              }, _callee2, this);
            }));
            function hide() {
              return _hide.apply(this, arguments);
            }
            return hide;
          }();
          _proto.reset = function reset() {
            this._setup();
          };
          _proto.pause = function pause() {
            this._run = false;
          };
          _proto.resume = function resume() {
            this._run = true;
          };
          _proto._init = function _init() {
            if (this.target.length === 0) {
              this.destroy();
              return;
            }
            this._viewportUI = this.node.getComponent(UITransform);
            this._transforms = this.target.map(function (e) {
              return e.getComponent(UITransform);
            });
            this._setup();
          };
          _proto._setup = function _setup() {
            var _this2 = this;
            this._positions = [];
            switch (this.direction) {
              case EDirection.HORIZONTAL:
                {
                  this._size = this.target.reduce(function (nextX, target, i) {
                    var transform = _this2._transforms[i];
                    target.position = new Vec3(nextX + transform.width / 2, 0, 0);
                    _this2._positions[i] = nextX + transform.width / 2;
                    return nextX + transform.width;
                  }, 0);
                  if (this._size < this._viewportUI.width) {
                    this.warn("InfinityFx: Background elements don't cover the full viewport width. Consider adding more elements.");
                  }
                  break;
                }
              case EDirection.VERTICAL:
                {
                  this._size = -this.target.reduce(function (nextY, target, i) {
                    var elemUI = _this2._transforms[i];
                    target.position = new Vec3(0, nextY - elemUI.height / 2, 0);
                    _this2._positions[i] = nextY - elemUI.height / 2;
                    return nextY - elemUI.height;
                  }, 0);
                  if (this._size < this._viewportUI.height) {
                    this.warn("InfinityFx: Background elements don't cover the full viewport height. Consider adding more elements.");
                  }
                  break;
                }
            }
          };
          _proto.update = function update(dt) {
            if (!this._run) return;
            var scroller = this.speed * dt * (this.isReverse ? -1 : 1);
            switch (this.direction) {
              case EDirection.HORIZONTAL:
                {
                  for (var i = 0; i < this.target.length; i++) {
                    var elem = this.target[i];
                    elem.position = new Vec3(elem.position.x - scroller, elem.position.y, elem.position.z);
                    this._positions[i] = elem.position.x;
                    var transform = this._transforms[i];
                    if (scroller > 0) {
                      // Moving left
                      if (elem.position.x + transform.width / 2 < -this._viewportUI.width / 2) {
                        var rPos = -Infinity;
                        var rIndex = 0;
                        for (var j = 0; j < this._positions.length; j++) {
                          if (this._positions[j] > rPos) {
                            rPos = this._positions[j];
                            rIndex = j;
                          }
                        }
                        var rUI = this._transforms[rIndex];
                        elem.position = new Vec3(rPos + rUI.width / 2 + transform.width / 2 + this.dif, elem.position.y, elem.position.z);
                        this._positions[i] = elem.position.x;
                        this.invoke('onTransition', rUI);
                      }
                    } else {
                      if (elem.position.x - transform.width / 2 > this._viewportUI.width / 2) {
                        var lPos = Infinity;
                        var lIndex = 0;
                        for (var _j = 0; _j < this._positions.length; _j++) {
                          if (this._positions[_j] < lPos) {
                            lPos = this._positions[_j];
                            lIndex = _j;
                          }
                        }
                        var lUI = this._transforms[lIndex];
                        elem.position = new Vec3(lPos - lUI.width / 2 - transform.width / 2 + this.dif, elem.position.y, elem.position.z);
                        this._positions[i] = elem.position.x;
                        this.invoke('onTransition', lUI);
                      }
                    }
                  }
                  break;
                }
              case EDirection.VERTICAL:
                {
                  for (var _i = 0; _i < this.target.length; _i++) {
                    var _elem = this.target[_i];
                    _elem.position = new Vec3(_elem.position.x, _elem.position.y + scroller, _elem.position.z);
                    this._positions[_i] = _elem.position.y;
                    var elemUI = this._transforms[_i];
                    if (scroller > 0) {
                      if (_elem.position.y - elemUI.height / 2 > this._viewportUI.height / 2) {
                        var bPos = Infinity;
                        var bIndex = 0;
                        for (var _j2 = 0; _j2 < this._positions.length; _j2++) {
                          if (this._positions[_j2] < bPos) {
                            bPos = this._positions[_j2];
                            bIndex = _j2;
                          }
                        }
                        var bUI = this._transforms[bIndex];
                        _elem.position = new Vec3(_elem.position.x, bPos - bUI.height / 2 - elemUI.height / 2 + this.dif, _elem.position.z);
                        this._positions[_i] = _elem.position.y;
                        this.invoke('onTransition', bUI);
                      }
                    } else {
                      if (_elem.position.y + elemUI.height / 2 < -this._viewportUI.height / 2) {
                        var tPos = -Infinity;
                        var tIndex = 0;
                        for (var _j3 = 0; _j3 < this._positions.length; _j3++) {
                          if (this._positions[_j3] > tPos) {
                            tPos = this._positions[_j3];
                            tIndex = _j3;
                          }
                        }
                        var topmostElemUI = this._transforms[tIndex];
                        _elem.position = new Vec3(_elem.position.x, tPos + topmostElemUI.height / 2 + elemUI.height / 2 + this.dif, _elem.position.z);
                        this._positions[_i] = _elem.position.y;
                        this.invoke('onTransition', topmostElemUI);
                      }
                    }
                  }
                }
                break;
            }
          };
          return Component;
        }(NSAnimationFX.Component), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "direction", [_dec2], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return EDirection.VERTICAL;
          }
        }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "speed", [_dec3], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return 100;
          }
        }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "isReverse", [_dec4], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return false;
          }
        }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "target", [_dec5], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return [];
          }
        }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "dif", [_dec6], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return 0;
          }
        }), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, "option", [_dec7], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return EComponentInvokeOptions.None;
          }
        })), _class2)) || _class);
        _NSInfinityFx.Component = Component;
      })(NSInfinityFx || (NSInfinityFx = exports('NSInfinityFx', {})));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/InGameTutorial.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './GameTutorial.ts', './UIItemPlayer.ts', './UICommunityCard.ts', './SkeletonSelector.ts', './UIGameAlert.ts', './UIGameLight.ts', './TypesLanguageManager.ts', './Enums.ts', './GlobalConfig.ts', './UICardsDealer.ts', './Decorators.ts', './UIGamePots.ts', './ComponentUtils.ts', './UIGameTutorial.ts', './NodeUtils.ts', './LanguageManager.ts', './StringUtils.ts', './AsyncUtils.ts', './UIPopupMoreBet.ts', './Constants.ts', './AudioManager.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _asyncToGenerator, _regeneratorRuntime, _createForOfIteratorHelperLoose, _createClass, cclegacy, _decorator, Node, Button, Label, GameTutorial, UIItemPlayer, UICommunityCard, NSSkeletonSelector, NSGameAlert, UIGameLight, CCELang, numberToTLang, ETypeModePlay, EAudioID, GlobalConfig, NSCardsDealer, pDecorators, NSGamePots, pComponentUtils, UIGameTutorial, pNodeUtils, LanguageMananger, pStringUtils, pAsyncUtils, UIPopupMoreBet, Duration, NSAudio;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
      _createForOfIteratorHelperLoose = module.createForOfIteratorHelperLoose;
      _createClass = module.createClass;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Node = module.Node;
      Button = module.Button;
      Label = module.Label;
    }, function (module) {
      GameTutorial = module.GameTutorial;
    }, function (module) {
      UIItemPlayer = module.UIItemPlayer;
    }, function (module) {
      UICommunityCard = module.UICommunityCard;
    }, function (module) {
      NSSkeletonSelector = module.NSSkeletonSelector;
    }, function (module) {
      NSGameAlert = module.NSGameAlert;
    }, function (module) {
      UIGameLight = module.UIGameLight;
    }, function (module) {
      CCELang = module.CCELang;
      numberToTLang = module.numberToTLang;
    }, function (module) {
      ETypeModePlay = module.ETypeModePlay;
      EAudioID = module.EAudioID;
    }, function (module) {
      GlobalConfig = module.default;
    }, function (module) {
      NSCardsDealer = module.NSCardsDealer;
    }, function (module) {
      pDecorators = module.pDecorators;
    }, function (module) {
      NSGamePots = module.NSGamePots;
    }, function (module) {
      pComponentUtils = module.pComponentUtils;
    }, function (module) {
      UIGameTutorial = module.UIGameTutorial;
    }, function (module) {
      pNodeUtils = module.pNodeUtils;
    }, function (module) {
      LanguageMananger = module.LanguageMananger;
    }, function (module) {
      pStringUtils = module.pStringUtils;
    }, function (module) {
      pAsyncUtils = module.pAsyncUtils;
    }, function (module) {
      UIPopupMoreBet = module.UIPopupMoreBet;
    }, function (module) {
      Duration = module.Duration;
    }, function (module) {
      NSAudio = module.NSAudio;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _dec11, _dec12, _dec13, _dec14, _dec15, _dec16, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9, _descriptor10, _descriptor11, _descriptor12, _descriptor13, _descriptor14, _descriptor15;
      cclegacy._RF.push({}, "5c5b4vp74xPiKIvAA0VNvW1", "InGameTutorial", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var InGameTutorial = exports('InGameTutorial', (_dec = ccclass("InGameTutorial"), _dec2 = property({
        type: [UIItemPlayer]
      }), _dec3 = property(NSSkeletonSelector.Component), _dec4 = property({
        type: Node
      }), _dec5 = property({
        type: UICommunityCard,
        visible: true
      }), _dec6 = property({
        type: NSGameAlert.Component
      }), _dec7 = property({
        type: UIGameLight
      }), _dec8 = property({
        type: Node
      }), _dec9 = property({
        type: UIPopupMoreBet
      }), _dec10 = property({
        type: Button
      }), _dec11 = property({
        type: Label
      }), _dec12 = property({
        type: Button
      }), _dec13 = property(Node), _dec14 = property({
        type: [CCELang],
        visible: function visible() {
          return this.hasChat;
        },
        override: true
      }), _dec15 = property({
        type: Node
      }), _dec16 = property({
        type: Node
      }), _dec(_class = (_class2 = /*#__PURE__*/function (_GameTutorial) {
        _inheritsLoose(InGameTutorial, _GameTutorial);
        function InGameTutorial() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _GameTutorial.call.apply(_GameTutorial, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "players", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "spAllInFx", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "hover", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "uiCommunityCard", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "alert", _descriptor5, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "light", _descriptor6, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "action", _descriptor7, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "more", _descriptor8, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnCall", _descriptor9, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lblCall", _descriptor10, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnRaise", _descriptor11, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "slideArrow", _descriptor12, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "_chat", _descriptor13, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "arrow", _descriptor14, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "outline", _descriptor15, _assertThisInitialized(_this));
          _this._skeletonHandlers = [['onCompleteAnAnim', _this._onAllInAnimComplete, _assertThisInitialized(_this)]];
          _this._pcards = {
            0: {
              actorNr: 3,
              allIn: false,
              avatar: GlobalConfig.instance.Login.player.information.avatar,
              cards: ['TS', 'TC'],
              chips: 10000000,
              exp: 0,
              folded: false,
              id: GlobalConfig.instance.getUserId(),
              index: 0,
              isState: false,
              level: 0,
              playerName: GlobalConfig.instance.getUserName(),
              talked: false,
              type: "",
              vippoint: GlobalConfig.instance.Login.player.information.vippoint
            },
            1: {
              actorNr: 2,
              allIn: false,
              avatar: "2",
              cards: [],
              chips: 10000000,
              exp: 0,
              folded: false,
              id: 0,
              index: 2,
              isState: false,
              level: 0,
              playerName: "Player_B",
              talked: false,
              type: "",
              vippoint: 0
            },
            2: {
              actorNr: 1,
              allIn: false,
              avatar: "3",
              cards: [],
              chips: 10000000,
              exp: 0,
              folded: false,
              id: 0,
              index: 1,
              isState: false,
              level: 0,
              playerName: "Player_A",
              talked: false,
              type: "",
              vippoint: 0
            }
          };
          _this._next = true;
          _this._cards = {
            Deal: [],
            Flop: ['2S', 'KS', 'QS'],
            Turn: ['2S', 'KS', 'QS', 'TH'],
            River: ['2S', 'KS', 'QS', 'TH', 'TD']
          };
          _this._actions = [/*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  _this._next = true;
                  _this.action.active = true;
                  pDecorators.instance(NSGamePots.Component).setStep(100000);
                  _this.players.forEach(function (_p, _i) {
                    var _ret = _this._pcards[_i];
                    if (!_ret) return;
                    var _isMain = GlobalConfig.instance.isMainPlayer(_ret);
                    _p.init(_ret, ETypeModePlay.YARD, _isMain);
                    _p.setTxtStatus('hide');
                  });
                  _this.action.active = true;
                  _this.btnCall.interactable = false;
                  _this.lblCall.string = LanguageMananger.getString('txt_btn_check');
                case 7:
                case "end":
                  return _context.stop();
              }
            }, _callee);
          })), /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {
            var _main, _card, call_txt, call_amount;
            return _regeneratorRuntime().wrap(function _callee2$(_context2) {
              while (1) switch (_context2.prev = _context2.next) {
                case 0:
                  _this._next = false;
                  _main = _this.players[0];
                  _card = pDecorators.instance(NSCardsDealer.Component);
                  _context2.next = 5;
                  return _card.setNewGame(Object.values(_this._pcards), 0, function (_player) {
                    return _this.players[_player.index];
                  });
                case 5:
                  _context2.next = 7;
                  return Promise.all(_this.players.map(function (_p, _i) {
                    var _ret = _this._pcards[_i];
                    if (!_ret) return;
                    var _isMain = GlobalConfig.instance.isMainPlayer(_ret);
                    var _money = _p.index * 100000;
                    _this.bet(_p, _money, 'hide');
                    return _isMain ? _p.showFaceCardPlayer(_ret.cards) : _p.showBackCardPlayer();
                  }, _this.uiCommunityCard.show(_this._cards.Deal)));
                case 7:
                  _this.btnCall.interactable = true;
                  _this.btnRaise.interactable = false;
                  call_txt = LanguageMananger.instance.getString("txt_btn_call_bet");
                  call_amount = pStringUtils.formatNumberKMB(200000);
                  _this.lblCall.string = "" + call_txt + call_amount;
                  _this.turn(_main);
                  _this.activeTuto(true);
                  pNodeUtils.setPosition(_this.outline, _this.btnCall);
                  pNodeUtils.setPosition(_this.arrow, _this.btnCall, {
                    y: 50,
                    x: 0,
                    z: 0
                  });
                case 16:
                case "end":
                  return _context2.stop();
              }
            }, _callee2);
          })), /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {
            var _main, _players, _i2, _players2, _players2$_i, player, amount, view;
            return _regeneratorRuntime().wrap(function _callee3$(_context3) {
              while (1) switch (_context3.prev = _context3.next) {
                case 0:
                  _this._next = true;
                  _this.activeTuto(false);
                  _this.btnCall.interactable = false;
                  _this.lblCall.string = LanguageMananger.getString('txt_btn_check');
                  _main = _this.players[0];
                  _this.bet(_main, 200000, 'call');
                  _players = [{
                    player: _this.players[2],
                    amount: 100000,
                    view: 200000
                  }, {
                    player: _this.players[1],
                    amount: 0,
                    view: 200000
                  }];
                  _i2 = 0, _players2 = _players;
                case 8:
                  if (!(_i2 < _players2.length)) {
                    _context3.next = 17;
                    break;
                  }
                  _players2$_i = _players2[_i2], player = _players2$_i.player, amount = _players2$_i.amount, view = _players2$_i.view;
                  _this.turn(player);
                  _context3.next = 13;
                  return pAsyncUtils.wait(1);
                case 13:
                  _this.bet(player, amount, 'call', view);
                case 14:
                  _i2++;
                  _context3.next = 8;
                  break;
                case 17:
                  _this.players.forEach(function (_p) {
                    _p.uiGameInfo.actPot(200000, {
                      betName: "",
                      bets: [],
                      bigBlind: 0,
                      blinds: [],
                      board: [],
                      incrRaise: 0,
                      pot: 200000 * 3,
                      roundBets: [200000, 200000, 200000],
                      roundName: "Deal",
                      sidePot: 0,
                      sidepots: [],
                      smallBlind: 0
                    }, false);
                    _p.uiGameInfo.view.active(false);
                  });
                  _this.players.forEach(function (_p) {
                    return _p.setTxtStatus('hide');
                  });
                  return _context3.abrupt("return", _this.uiCommunityCard.show(_this._cards.Flop));
                case 20:
                case "end":
                  return _context3.stop();
              }
            }, _callee3);
          })), /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {
            var _players, _i3, _players3, _players3$_i, player, amount, _main;
            return _regeneratorRuntime().wrap(function _callee4$(_context4) {
              while (1) switch (_context4.prev = _context4.next) {
                case 0:
                  _this._next = false;
                  _players = [{
                    player: _this.players[1],
                    amount: 0
                  }, {
                    player: _this.players[2],
                    amount: 0
                  }];
                  _i3 = 0, _players3 = _players;
                case 3:
                  if (!(_i3 < _players3.length)) {
                    _context4.next = 12;
                    break;
                  }
                  _players3$_i = _players3[_i3], player = _players3$_i.player, amount = _players3$_i.amount;
                  _this.turn(player);
                  _context4.next = 8;
                  return pAsyncUtils.wait(1);
                case 8:
                  _this.bet(player, amount, 'check');
                case 9:
                  _i3++;
                  _context4.next = 3;
                  break;
                case 12:
                  _main = _this.players[0];
                  _this.turn(_main);
                  _this.btnCall.interactable = true;
                  _this.activeTuto(true);
                case 16:
                case "end":
                  return _context4.stop();
              }
            }, _callee4);
          })), function () {
            _this._next = true;
            _this.players[0].setTxtStatus('check');
            _this.btnCall.interactable = false;
            _this.activeTuto(false);
            _this.players[0].activeClock(false);
            _this.players.forEach(function (_p) {
              return _p.setTxtStatus('hide');
            });
            return _this.uiCommunityCard.show(_this._cards.Turn);
          }, /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5() {
            var _players, _i4, _players4, _players4$_i, player, amount, _main, call_txt, call_amount;
            return _regeneratorRuntime().wrap(function _callee5$(_context5) {
              while (1) switch (_context5.prev = _context5.next) {
                case 0:
                  _this._next = false;
                  _players = [{
                    player: _this.players[2],
                    amount: 2000000
                  }, {
                    player: _this.players[1],
                    amount: 0
                  }];
                  _i4 = 0, _players4 = _players;
                case 3:
                  if (!(_i4 < _players4.length)) {
                    _context5.next = 12;
                    break;
                  }
                  _players4$_i = _players4[_i4], player = _players4$_i.player, amount = _players4$_i.amount;
                  _this.turn(player);
                  _context5.next = 8;
                  return pAsyncUtils.wait(1);
                case 8:
                  amount > 0 ? _this.bet(player, amount, 'raise') : _this.fold(player);
                case 9:
                  _i4++;
                  _context5.next = 3;
                  break;
                case 12:
                  _main = _this.players[0];
                  _this.turn(_main);
                  _main.callRq = 2000000;
                  _main.raiseRq = 2000000;
                  _this.btnCall.interactable = true;
                  _this.arrow.active = true;
                  _this.outline.active = true;
                  call_txt = LanguageMananger.instance.getString("txt_btn_call_bet");
                  call_amount = pStringUtils.formatNumberKMB(2000000);
                  _this.lblCall.string = "" + call_txt + call_amount;
                case 22:
                case "end":
                  return _context5.stop();
              }
            }, _callee5);
          })), /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6() {
            return _regeneratorRuntime().wrap(function _callee6$(_context6) {
              while (1) switch (_context6.prev = _context6.next) {
                case 0:
                  _this._next = true;
                  _this.btnCall.interactable = false;
                  _this.arrow.active = false;
                  _this.outline.active = false;
                  _context6.next = 6;
                  return _this.bet(_this.players[0], 2000000, 'call');
                case 6:
                  _this.players.forEach(function (_p) {
                    _p.activeClock(false);
                    _p.uiGameInfo.actPot(_p.isFolded ? 0 : 2000000, {
                      betName: "",
                      bets: [],
                      bigBlind: 0,
                      blinds: [],
                      board: [],
                      incrRaise: 0,
                      pot: 4600000,
                      roundBets: [2000000, 0, 2000000],
                      roundName: "Turn",
                      sidePot: 0,
                      sidepots: [],
                      smallBlind: 0
                    }, false);
                    _p.uiGameInfo.view.active(false);
                    _p.setTxtStatus('hide');
                  });
                  return _context6.abrupt("return", _this.uiCommunityCard.show(_this._cards.River));
                case 8:
                case "end":
                  return _context6.stop();
              }
            }, _callee6);
          })), /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee7() {
            var _target, _main;
            return _regeneratorRuntime().wrap(function _callee7$(_context7) {
              while (1) switch (_context7.prev = _context7.next) {
                case 0:
                  _this._next = false;
                  _target = _this.players[2];
                  _this.turn(_target);
                  _context7.next = 5;
                  return pAsyncUtils.wait(1);
                case 5:
                  _this.bet(_target, 3000000, 'raise');
                  _main = _this.players[0];
                  _this.light.setTarget(_main, 0.15);
                  _main.activeClock(true);
                  _this.btnRaise.interactable = true;
                  _this.more.tinit(6000000, _this.players[0].data.chips);
                  _this.more.add('onReachMax', function () {
                    _this.more.slidable = false;
                    _this.btnRaise.interactable = true;
                    _this.slideArrow.active = false;
                    _this.arrow.active = true;
                    _this.outline.active = true;
                  });
                  pNodeUtils.setPosition(_this.outline, _this.btnRaise);
                  pNodeUtils.setPosition(_this.arrow, _this.btnRaise, {
                    y: 50,
                    x: 0,
                    z: 0
                  });
                  _this.arrow.active = true;
                  _this.outline.active = true;
                case 16:
                case "end":
                  return _context7.stop();
              }
            }, _callee7);
          })), /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee8() {
            return _regeneratorRuntime().wrap(function _callee8$(_context8) {
              while (1) switch (_context8.prev = _context8.next) {
                case 0:
                  _this.more.open();
                  _this.slideArrow.active = true;
                  _this.arrow.active = false;
                  _this.outline.active = false;
                  _this.btnRaise.interactable = false;
                  _this.more.lltx3.interactable = false;
                  _this.more.lltAllIn.interactable = false;
                  _this.more.llt1p2.interactable = false;
                  _this.more.llt3p4.interactable = false;
                case 9:
                case "end":
                  return _context8.stop();
              }
            }, _callee8);
          })), /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee10() {
            var _main, _next, _allin, _pot, _pm, _iterator, _step, ret, _msg;
            return _regeneratorRuntime().wrap(function _callee10$(_context10) {
              while (1) switch (_context10.prev = _context10.next) {
                case 0:
                  _this._next = true;
                  _this.more.close();
                  _this.btnRaise.interactable = false;
                  _this.arrow.active = false;
                  _this.outline.active = false;
                  _main = _this.players[0];
                  _next = _this.players[2];
                  _allin = 7800000;
                  _this.bet(_main, _main.data.chips, 'allin');
                  _this.showAllIn();
                  _this.turn(_next, 0.15);
                  _context10.next = 13;
                  return pAsyncUtils.wait(1);
                case 13:
                  _this.showAllIn();
                  _context10.next = 16;
                  return _this.bet(_next, _allin, 'allin', _allin);
                case 16:
                  _pot = 20200000;
                  _pm = _this.players.map( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee9(_p) {
                    return _regeneratorRuntime().wrap(function _callee9$(_context9) {
                      while (1) switch (_context9.prev = _context9.next) {
                        case 0:
                          _context9.next = 2;
                          return _p.uiGameInfo.actPot(_p.isFolded ? 0 : _allin, {
                            betName: "",
                            bets: [],
                            bigBlind: 0,
                            blinds: [],
                            board: [],
                            incrRaise: 0,
                            pot: _pot,
                            roundBets: [_allin, 0, _allin],
                            roundName: "River",
                            sidePot: 0,
                            sidepots: [],
                            smallBlind: 0
                          }, false);
                        case 2:
                          _p.uiGameInfo.view.active(false);
                        case 3:
                        case "end":
                          return _context9.stop();
                      }
                    }, _callee9);
                  })));
                  _next.updateAmountChipBet(0);
                  _pm.push(_this.uiCommunityCard.show(_this._cards.River));
                  _context10.next = 22;
                  return Promise.all(_pm);
                case 22:
                  _next.showFaceCardPlayer(_next.data.cards);
                  _this.uiCommunityCard.card.highlight(['KS', 'TH', 'TD'], true);
                  _main.uiGameInfo.hand.highlight(_main.data.cards, false);
                  _context10.next = 27;
                  return _main.uiGameInfo.actWin(_main, _pot);
                case 27:
                  _main.updateData('chips', _pot);
                  _context10.next = 30;
                  return pAsyncUtils.wait(0.25);
                case 30:
                  pDecorators.instance(NSGamePots.Component).reset();
                  _main.activeWinner(true);
                  _this.hover.active = true;
                  for (_iterator = _createForOfIteratorHelperLoose(_this.players); !(_step = _iterator()).done;) {
                    ret = _step.value;
                    ret.showDark();
                  }
                  _msg = LanguageMananger.instance.getString("txt_result_card_3");
                  _context10.next = 37;
                  return _this.alert.show('winner', _msg, Duration.winner.alert);
                case 37:
                case "end":
                  return _context10.stop();
              }
            }, _callee10);
          })), /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee11() {
            var _iterator2, _step2, ret;
            return _regeneratorRuntime().wrap(function _callee11$(_context11) {
              while (1) switch (_context11.prev = _context11.next) {
                case 0:
                  _this._next = true;
                  _this.hover.active = false;
                  _this.action.active = false;
                  for (_iterator2 = _createForOfIteratorHelperLoose(_this.players); !(_step2 = _iterator2()).done;) {
                    ret = _step2.value;
                    ret.offDark();
                    ret.activeWinner(false);
                  }
                  _this.alert.hide('winner');
                  _this.uiCommunityCard.hide();
                  _this.players.forEach(function (_p) {
                    return _p.reset(false);
                  });
                  _this.light.opacity = 0;
                case 8:
                case "end":
                  return _context11.stop();
              }
            }, _callee11);
          }))];
          return _this;
        }
        var _proto = InGameTutorial.prototype;
        _proto._onExit = /*#__PURE__*/function () {
          var _onExit2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee12() {
            return _regeneratorRuntime().wrap(function _callee12$(_context12) {
              while (1) switch (_context12.prev = _context12.next) {
                case 0:
                case "end":
                  return _context12.stop();
              }
            }, _callee12);
          }));
          function _onExit() {
            return _onExit2.apply(this, arguments);
          }
          return _onExit;
        }();
        _proto.onEnable = function onEnable() {
          this.spAllInFx.on(this._skeletonHandlers);
        };
        _proto.onDisable = function onDisable() {
          this.spAllInFx.off(this._skeletonHandlers);
        };
        _proto.bet = /*#__PURE__*/function () {
          var _bet = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee13(player, amount, status, view) {
            return _regeneratorRuntime().wrap(function _callee13$(_context13) {
              while (1) switch (_context13.prev = _context13.next) {
                case 0:
                  amount = Math.min(amount, player.data.chips);
                  if (view === undefined) view = amount;
                  player.activeClock(false);
                  player.updateData('chips', player.data.chips - amount);
                  player.setTxtStatus(status);
                  return _context13.abrupt("return", player.updateAmountChipBet(view));
                case 6:
                case "end":
                  return _context13.stop();
              }
            }, _callee13);
          }));
          function bet(_x2, _x3, _x4, _x5) {
            return _bet.apply(this, arguments);
          }
          return bet;
        }();
        _proto.fold = function fold(player) {
          player.activeClock(false);
          player.setTxtStatus('fold');
          player.updateAmountChipBet(0);
          player.updateData('folded', true);
        };
        _proto.turn = function turn(player, duration) {
          if (duration === void 0) {
            duration = 0.15;
          }
          this.light.setTarget(player, duration);
          player.activeClock(true);
        };
        _proto.activeTuto = function activeTuto(status) {
          this.outline.active = status;
          this.arrow.active = status;
        };
        _proto._onEnter = function _onEnter() {
          var _root = pDecorators.instance(UIGameTutorial);
          _root.btnNext.node.active = this._next;
        };
        _proto._actNext = function _actNext() {
          var _root = pDecorators.instance(UIGameTutorial);
          _root.actNext();
        };
        _proto.showAllIn = function showAllIn() {
          this.spAllInFx.active = true;
          this.spAllInFx.playSelected();
          pDecorators.instance(NSAudio.Manager).play(EAudioID.SFX_ALL_IN);
        };
        _proto._onAllInAnimComplete = function _onAllInAnimComplete() {
          if (this.spAllInFx.isRunning) return;
          this.spAllInFx.active = false;
        };
        _proto._onLoad = function _onLoad() {
          this.hover.active = false;
          this.more.close();
          pComponentUtils.appends({
            _options: [{
              _target: this.btnCall,
              _handlers: this._actNext
            }, {
              _target: this.btnRaise,
              _handlers: this._actNext
            }],
            _type: Button.EventType.CLICK,
            _binder: this
          });
        };
        _createClass(InGameTutorial, [{
          key: "chat",
          get: function get() {
            return this.hasChat ? numberToTLang(this._chat[this._index]) : null;
          }
        }]);
        return InGameTutorial;
      }(GameTutorial), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "players", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return [];
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "spAllInFx", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "hover", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "uiCommunityCard", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "alert", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, "light", [_dec7], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor7 = _applyDecoratedDescriptor(_class2.prototype, "action", [_dec8], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor8 = _applyDecoratedDescriptor(_class2.prototype, "more", [_dec9], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor9 = _applyDecoratedDescriptor(_class2.prototype, "btnCall", [_dec10], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor10 = _applyDecoratedDescriptor(_class2.prototype, "lblCall", [_dec11], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor11 = _applyDecoratedDescriptor(_class2.prototype, "btnRaise", [_dec12], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor12 = _applyDecoratedDescriptor(_class2.prototype, "slideArrow", [_dec13], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor13 = _applyDecoratedDescriptor(_class2.prototype, "_chat", [_dec14], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return [];
        }
      }), _descriptor14 = _applyDecoratedDescriptor(_class2.prototype, "arrow", [_dec15], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor15 = _applyDecoratedDescriptor(_class2.prototype, "outline", [_dec16], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/InterfaceConfigMTT.ts", ['cc'], function (exports) {
  var cclegacy;
  return {
    setters: [function (module) {
      cclegacy = module.cclegacy;
    }],
    execute: function () {
      cclegacy._RF.push({}, "997f7TW5u1JeZHMECzGgG4U", "InterfaceConfigMTT", undefined);
      var ERegistrationStatus = exports('ERegistrationStatus', /*#__PURE__*/function (ERegistrationStatus) {
        ERegistrationStatus[ERegistrationStatus["Registered"] = 0] = "Registered";
        ERegistrationStatus[ERegistrationStatus["WaitingToStart"] = 1] = "WaitingToStart";
        ERegistrationStatus[ERegistrationStatus["Unregistered"] = 2] = "Unregistered";
        ERegistrationStatus[ERegistrationStatus["SeeMore"] = 3] = "SeeMore";
        ERegistrationStatus[ERegistrationStatus["WatchGame"] = 4] = "WatchGame";
        return ERegistrationStatus;
      }({}));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/IPlayerData.ts", ['cc'], function (exports) {
  var cclegacy;
  return {
    setters: [function (module) {
      cclegacy = module.cclegacy;
    }],
    execute: function () {
      exports('NSPlayerData', void 0);
      cclegacy._RF.push({}, "6bbf5nTj41HZKvMZ4j4qt4p", "IPlayerData", undefined);
      var NSPlayerData;
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/IPlayingScene.ts", ['cc'], function () {
  var cclegacy;
  return {
    setters: [function (module) {
      cclegacy = module.cclegacy;
    }],
    execute: function () {
      cclegacy._RF.push({}, "07aa0uIXoxEkqJ+wP/x34lb", "IPlayingScene", undefined);
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/IRespones.ts", ['cc'], function () {
  var cclegacy;
  return {
    setters: [function (module) {
      cclegacy = module.cclegacy;
    }],
    execute: function () {
      cclegacy._RF.push({}, "92737d5iHdLAIQ4pnuLYVbu", "IRespones", undefined);
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/ISNGCommand.ts", ['cc'], function (exports) {
  var cclegacy;
  return {
    setters: [function (module) {
      cclegacy = module.cclegacy;
    }],
    execute: function () {
      exports('NSngTourCMD', void 0);
      cclegacy._RF.push({}, "f7fb7oTyNdJfqLjw7Hn/ZdU", "ISNGCommand", undefined);
      /**
       * @description Register and Join tournament flow:
       * 1. Client get the tournament list from `game.sngTableHandler.getTounaments`
       * 2. Player register to a tournament by `game.sngTableHandler.registerTournament`
       * 3. Client receive the `onSngTournamentJoin` event when a new player join ( registered to the tournament )
       * 4. When the tournament is fully registered ( enough players ), the tournament's status turn to `READY` and client receive the `onSngTournamentStatus` event.
       * 5. Server auto create a new tournament with the exactly data to replaced a fully tournament.
       * 6. After `5` seconds, the tournament will start, and the tournament's status turn to `IN_PROGRESS` state.
       *
       * @description In-game glow:
       * 1. Client receive the `onTableEvent` event.
       * 2. Client receive the `onStartTurn` when a new turn started.
       * 3. Client can execute the action by `game.sngTableHandler.execute` command.
       * 4. Client receive the `onEndTurn` when a turn ended.
       * 5. Every 5 minutes, the tournament will update the blinds and client receive the `onSngTournamentUpdate` event.
       * 6. When a player is out of chips, client will receive the `onSngPlayerEliminated` event.
       * 7. WHen only one player left, the tournament will end and client receive the `onSngTournamentResult` event.
       *
       * @description Ended tournament flow:
       * 1. The tournament's status turn to `ENDED` state.
       * 2. Client receive the `onSngTournamentResult` event.
       * 3. Client can see the tournament result and receive the reward if they had one.
       * 4. Player go back to the lobby.
       */
      var NSngTourCMD;
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/ISNGResponse.ts", ['cc'], function (exports) {
  var cclegacy;
  return {
    setters: [function (module) {
      cclegacy = module.cclegacy;
    }],
    execute: function () {
      exports('NSngResponse', void 0);
      cclegacy._RF.push({}, "949fbof5mNE1Zy4BEbE6MZU", "ISNGResponse", undefined);
      /**
       * @description Register and Join tournament flow:
       * 1. Client get the tournament list from `game.sngTableHandler.getTounaments`
       * 2. Player register to a tournament by `game.sngTableHandler.registerTournament`
       * 3. Client receive the `onSngTournamentJoin` event when a new player join ( registered to the tournament )
       * 4. When the tournament is fully registered ( enough players ), the tournament's status turn to `READY` and client receive the `onSngTournamentStatus` event.
       * 5. Server auto create a new tournament with the exactly data to replaced a fully tournament.
       * 6. After `5` seconds, the tournament will start, and the tournament's status turn to `IN_PROGRESS` state.
       *
       * @description In-game glow:
       * 1. Client receive the `onTableEvent` event.
       * 2. Client receive the `onStartTurn` when a new turn started.
       * 3. Client can execute the action by `game.sngTableHandler.execute` command.
       * 4. Client receive the `onEndTurn` when a turn ended.
       * 5. Every 5 minutes, the tournament will update the blinds and client receive the `onSngTournamentUpdate` event.
       * 6. When a player is out of chips, client will receive the `onSngPlayerEliminated` event.
       * 7. WHen only one player left, the tournament will end and client receive the `onSngTournamentResult` event.
       *
       * @description Ended tournament flow:
       * 1. The tournament's status turn to `ENDED` state.
       * 2. Client receive the `onSngTournamentResult` event.
       * 3. Client can see the tournament result and receive the reward if they had one.
       * 4. Player go back to the lobby.
       */
      var NSngResponse;
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/IStorage.ts", ['cc'], function () {
  var cclegacy;
  return {
    setters: [function (module) {
      cclegacy = module.cclegacy;
    }],
    execute: function () {
      cclegacy._RF.push({}, "df668tKIHNIu7q4jBWwAkXW", "IStorage", undefined);
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/ITableData.ts", ['cc'], function (exports) {
  var cclegacy;
  return {
    setters: [function (module) {
      cclegacy = module.cclegacy;
    }],
    execute: function () {
      exports('NSTable', void 0);
      cclegacy._RF.push({}, "d88eei/PalG3oaGsg5X5hd8", "ITableData", undefined);
      var NSTable;
      (function (_NSTable) {
        function create(count, mode, speed, list, data, _opt) {
          var is_new = _opt.is_new,
            sng = _opt.sng,
            mtt = _opt.mtt,
            join = _opt.join;
          return {
            count: count,
            mode: mode,
            speed: speed,
            list: list,
            data: data,
            is_new: is_new,
            sng: sng,
            mtt: mtt,
            join: join
          };
        }
        _NSTable.create = create;
      })(NSTable || (NSTable = exports('NSTable', {})));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/ITableMonitorCMD.ts", ['cc'], function (exports) {
  var cclegacy;
  return {
    setters: [function (module) {
      cclegacy = module.cclegacy;
    }],
    execute: function () {
      exports('NSTableMonitorCMD', void 0);
      cclegacy._RF.push({}, "e18939gEFhJF7+nuoE21GBC", "ITableMonitorCMD", undefined);
      var NSTableMonitorCMD;
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/ITableMonitorResponse.ts", ['cc'], function (exports) {
  var cclegacy;
  return {
    setters: [function (module) {
      cclegacy = module.cclegacy;
    }],
    execute: function () {
      exports('NSTableMonitorResponse', void 0);
      cclegacy._RF.push({}, "1fc58fYKKpMQ4MrPd5CFUpf", "ITableMonitorResponse", undefined);
      var NSTableMonitorResponse;
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/ItemEmoji.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './ComponentUtils.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, cclegacy, _decorator, Sprite, Button, Component, pComponentUtils;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Sprite = module.Sprite;
      Button = module.Button;
      Component = module.Component;
    }, function (module) {
      pComponentUtils = module.pComponentUtils;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _class, _class2, _descriptor, _descriptor2;
      cclegacy._RF.push({}, "d9077cKhf9PII0u7bC8nr9M", "ItemEmoji", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var ItemEmoji = exports('ItemEmoji', (_dec = ccclass('ItemEmoji'), _dec2 = property(Sprite), _dec3 = property(Button), _dec(_class = (_class2 = /*#__PURE__*/function (_Component) {
        _inheritsLoose(ItemEmoji, _Component);
        function ItemEmoji() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _Component.call.apply(_Component, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "icon", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btn", _descriptor2, _assertThisInitialized(_this));
          _this._emoji_name = "";
          _this._onClick = null;
          return _this;
        }
        var _proto = ItemEmoji.prototype;
        _proto.start = function start() {
          pComponentUtils.appends({
            _options: {
              _handlers: this.onClick,
              _target: this.btn
            },
            _type: Button.EventType.CLICK,
            _binder: this
          });
        };
        _proto.init = function init(_sf, _onEmojiClick) {
          this.icon.spriteFrame = _sf;
          this._emoji_name = _sf.name;
          this._onClick = _onEmojiClick;
        };
        _proto.onClick = function onClick() {
          console.log(">>> CLICK EMOJI: ", this._emoji_name);
          this._onClick && this._onClick(this._emoji_name);
        };
        return ItemEmoji;
      }(Component), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "icon", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "btn", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/ItemPlayerData.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './ArrayUtils.ts'], function (exports) {
  var _extends, _createForOfIteratorHelperLoose, _createClass, cclegacy, pArray;
  return {
    setters: [function (module) {
      _extends = module.extends;
      _createForOfIteratorHelperLoose = module.createForOfIteratorHelperLoose;
      _createClass = module.createClass;
    }, function (module) {
      cclegacy = module.cclegacy;
    }, function (module) {
      pArray = module.pArray;
    }],
    execute: function () {
      cclegacy._RF.push({}, "3dbfbrCPX9CKIfL4ztY7Bgq", "ItemPlayerData", undefined);
      var ItemPlayerData = exports('ItemPlayerData', /*#__PURE__*/function () {
        function ItemPlayerData() {
          this._onInit = null;
          this._data = null;
        }
        ItemPlayerData.create = function create(data) {
          var ret = this._create();
          ret.init(data);
          return ret;
        };
        ItemPlayerData._create = function _create() {
          throw new Error("Please create an instance");
        };
        var _proto = ItemPlayerData.prototype;
        _proto.updates = function updates(opt) {
          for (var _len = arguments.length, opts = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
            opts[_key - 1] = arguments[_key];
          }
          if (!this._data) return;
          opts = pArray.flatter.apply(pArray, [opt].concat(opts));
          var _data = _extends({}, this._data);
          for (var _iterator = _createForOfIteratorHelperLoose(opts), _step; !(_step = _iterator()).done;) {
            var _step$value = _step.value,
              _key2 = _step$value.key,
              _data2 = _step$value.data;
            this.update(_key2, _data2);
          }
          this._data = _data;
        };
        _proto.init = function init(data) {
          this._data = data;
          this._onInit && this._onInit(data);
          console.log("[ItemPlayerData] initialized", data);
        };
        _createClass(ItemPlayerData, [{
          key: "valid",
          get: function get() {
            return !!this._data;
          }
        }, {
          key: "data",
          get: function get() {
            return this._data;
          }
        }]);
        return ItemPlayerData;
      }());
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/IUploadResponse.ts", ['cc'], function (exports) {
  var cclegacy;
  return {
    setters: [function (module) {
      cclegacy = module.cclegacy;
    }],
    execute: function () {
      exports('NSUpLoad', void 0);
      cclegacy._RF.push({}, "a102dJY1aNE+qUZT0tYV+SZ", "IUploadResponse", undefined);
      var NSUpLoad;
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/JsonUtils.ts", ['cc', './StringUtils.ts'], function (exports) {
  var cclegacy, pStringUtils;
  return {
    setters: [function (module) {
      cclegacy = module.cclegacy;
    }, function (module) {
      pStringUtils = module.pStringUtils;
    }],
    execute: function () {
      cclegacy._RF.push({}, "a0b77gL4vZNcr032voQJLgR", "JsonUtils", undefined);
      var JsonUtils = exports('default', /*#__PURE__*/function () {
        function JsonUtils() {}
        JsonUtils.isValidData = function isValidData(data) {
          if (data == null || data == undefined) return false;
          if (data == 'undefined' || data == 'null' || data == '') return false;
          return !!data;
        };
        JsonUtils.parseMissionConditionJson = function parseMissionConditionJson(jsonStr, type) {
          var out = {};
          var data = JSON.parse(jsonStr);
          for (var key in data) {
            out[key] = data[key];
          }
          return out;
        };
        JsonUtils.getMissionConditionTarget = function getMissionConditionTarget(data, type) {
          var obj = typeof data === 'string' ? JSON.parse(data) : data;
          switch (type) {
            case 'DAILY_LOGIN':
              return obj.login_days || 0;
            case 'WIN_HANDS':
              return obj.win_count || 0;
            case 'MAKE_FRIEND':
              return obj.friend_count || 0;
            case 'TOTAL_BET':
              return obj.total_bet_amount || 0;
            case 'WIN_STREAK':
              return obj.win_streak || 0;
            case 'LEVEL_UP':
              return obj.level || 0;
            case 'BUY_ITEM':
              return obj.item || 0;
          }
        };
        JsonUtils.getMissionCondition = function getMissionCondition(jsonStr, type) {
          var obj = JsonUtils.parseMissionConditionJson(jsonStr, type);
          for (var key in obj) {
            if (obj[key] !== undefined) return obj[key];
          }
          return 0;
        };
        JsonUtils.getMissionRewards = function getMissionRewards(jsonStr, type) {
          var rs = '';
          var data = typeof jsonStr === 'string' ? JSON.parse(jsonStr) : jsonStr;
          for (var key in data) {
            var first = '';
            if (key === 'coins') {
              first = "Coins: ";
            } else if (key === 'item') {
              first = "Item: ";
            } else if (key === 'exp') {
              first = "Exp: ";
            }
            var _value = data[key];
            var _msg = typeof _value == 'number' ? pStringUtils.formatNumberKMB(_value) : "" + _value;
            rs += "" + first + _msg + "\n";
          }
          // rs.endsWith(',') && (rs = rs.substring(0, rs.length - 1));
          return rs;
        };
        return JsonUtils;
      }());
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/LangSelectorAPI.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './TypesLanguageManager.ts'], function (exports) {
  var _applyDecoratedDescriptor, _createClass, _initializerDefineProperty, cclegacy, _decorator, CCELang, isTLang, TLangToNumber, numberToTLang;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _createClass = module.createClass;
      _initializerDefineProperty = module.initializerDefineProperty;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
    }, function (module) {
      CCELang = module.CCELang;
      isTLang = module.isTLang;
      TLangToNumber = module.TLangToNumber;
      numberToTLang = module.numberToTLang;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _class, _class2, _descriptor, _descriptor2;
      cclegacy._RF.push({}, "f7a3cr97oREbKX5k8oO9+KX", "LangSelectorAPI", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var LangSelectorAPI = exports('LangSelectorAPI', (_dec = ccclass('LangSelectorAPI'), _dec2 = property({}), _dec3 = property({}), _dec4 = property({
        type: CCELang,
        visible: true
      }), _dec(_class = (_class2 = /*#__PURE__*/function () {
        function LangSelectorAPI() {
          _initializerDefineProperty(this, "_search", _descriptor, this);
          _initializerDefineProperty(this, "_key", _descriptor2, this);
        }
        _createClass(LangSelectorAPI, [{
          key: "search",
          get: function get() {
            return this._search;
          },
          set: function set(x) {
            this._search = x;
            isTLang(this._search) && (this._key = TLangToNumber(this._search));
          }
        }, {
          key: "key",
          get: function get() {
            return numberToTLang(this._key);
          }
        }]);
        return LangSelectorAPI;
      }(), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "_search", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return '';
        }
      }), _applyDecoratedDescriptor(_class2.prototype, "search", [_dec3], Object.getOwnPropertyDescriptor(_class2.prototype, "search"), _class2.prototype), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "_key", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return 0;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/LanguageManager.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './Enums.ts', './TypesLanguageManager.ts', './ArrayUtils.ts', './Decorators.ts', './StringUtils.ts', './MathUtils.ts', './EventManager.ts'], function (exports) {
  var _applyDecoratedDescriptor, _createClass, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, cclegacy, _decorator, JsonAsset, sys, Component, ELanguageCode, numberToLang, GroupLangs, pArray, pDecorators, pStringUtils, pMathUtils, pEventManager;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _createClass = module.createClass;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      JsonAsset = module.JsonAsset;
      sys = module.sys;
      Component = module.Component;
    }, function (module) {
      ELanguageCode = module.ELanguageCode;
    }, function (module) {
      numberToLang = module.numberToLang;
      GroupLangs = module.GroupLangs;
    }, function (module) {
      pArray = module.pArray;
    }, function (module) {
      pDecorators = module.pDecorators;
    }, function (module) {
      pStringUtils = module.pStringUtils;
    }, function (module) {
      pMathUtils = module.pMathUtils;
    }, function (module) {
      pEventManager = module.pEventManager;
    }],
    execute: function () {
      exports('NSLanguage', void 0);
      var _dec, _dec2, _dec3, _class, _class2, _descriptor, _descriptor2, _dec4, _dec5, _dec6, _dec7, _class4, _class5, _descriptor3;
      cclegacy._RF.push({}, "f2829kZhwdGirJOOxSqgViZ", "LanguageManager", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var singleton = pDecorators.singleton;
      var NSLanguage;
      var RecordLanguages = (_dec = ccclass('LanguageManager.RecordLanguages'), _dec2 = property({
        readonly: true,
        visible: true
      }), _dec3 = property(JsonAsset), _dec(_class = (_class2 = /*#__PURE__*/function () {
        function RecordLanguages() {
          _initializerDefineProperty(this, "_group", _descriptor, this);
          _initializerDefineProperty(this, "file", _descriptor2, this);
          this._data = {};
        }
        RecordLanguages.create = function create(group) {
          var _ret = new RecordLanguages();
          _ret._group = group;
          return _ret;
        };
        var _proto = RecordLanguages.prototype;
        _proto.get = function get(id, code) {
          var _this$_data$id$code, _this$_data$id;
          return (_this$_data$id$code = (_this$_data$id = this._data[id]) == null ? void 0 : _this$_data$id[code]) != null ? _this$_data$id$code : id;
        };
        _proto.init = function init() {
          this._data = this.file.json;
        };
        _createClass(RecordLanguages, [{
          key: "group",
          get: function get() {
            return this._group;
          }
        }]);
        return RecordLanguages;
      }(), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "_group", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return 'base';
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "file", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class);
      var LanguageMananger = exports('LanguageMananger', (_dec4 = ccclass('LanguageMananger'), _dec5 = singleton(), _dec6 = property({
        type: [RecordLanguages]
      }), _dec7 = property({
        type: [RecordLanguages],
        readonly: true
      }), _dec4(_class4 = _dec5(_class4 = (_class5 = /*#__PURE__*/function (_Component) {
        _inheritsLoose(LanguageMananger, _Component);
        function LanguageMananger() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key2 = 0; _key2 < _len; _key2++) {
            args[_key2] = arguments[_key2];
          }
          _this = _Component.call.apply(_Component, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "_list", _descriptor3, _assertThisInitialized(_this));
          _this._code = ELanguageCode.VIETNAMESE;
          _this._data = {
            base: undefined,
            badge: undefined,
            mission: undefined
          };
          return _this;
        }
        LanguageMananger.getString = function getString(id) {
          return this.instance.getString(id);
        };
        LanguageMananger.getStrings = function getStrings() {
          var _this$instance;
          return (_this$instance = this.instance).getStrings.apply(_this$instance, arguments);
        };
        LanguageMananger.get = function get(group, id) {
          return this.instance._get(group, id);
        };
        LanguageMananger.badge = function badge(id) {
          return this.instance._badge(id);
        };
        var _proto2 = LanguageMananger.prototype;
        _proto2._badge = function _badge(id) {};
        LanguageMananger.gets = function gets(group) {
          var _this2 = this;
          for (var _len2 = arguments.length, ids = new Array(_len2 > 1 ? _len2 - 1 : 0), _key3 = 1; _key3 < _len2; _key3++) {
            ids[_key3 - 1] = arguments[_key3];
          }
          return ids.reduce(function (data, key) {
            data[key] = _this2.instance._get(group, key);
            return data;
          }, {});
        };
        _proto2.onLoad = function onLoad() {
          var _this3 = this;
          this.setLanguage(sys.localStorage.getItem("LANGUAGE_KEY") || ELanguageCode.VIETNAMESE);
          this._list.forEach(function (_item) {
            _item.init();
            _this3._data[_item.group] = _item;
          });
          delete this._list;
        };
        _proto2.setLanguage = function setLanguage(languageCode) {
          this._code = languageCode;
          sys.localStorage.setItem("LANGUAGE_KEY", languageCode);
          pEventManager.invoke('onChangeLanguage', languageCode);
        };
        _proto2.get = function get(group, id) {
          return this._get(group, id);
        };
        _proto2.gets = function gets(group) {
          var _this4 = this;
          for (var _len3 = arguments.length, ids = new Array(_len3 > 1 ? _len3 - 1 : 0), _key4 = 1; _key4 < _len3; _key4++) {
            ids[_key4 - 1] = arguments[_key4];
          }
          return ids.reduce(function (data, key) {
            data[key] = _this4._get(group, key);
            return data;
          }, {});
        };
        _proto2._get = function _get(group, id) {
          if (typeof id === 'undefined') {
            return "undefined";
          }
          var _ids = pArray.flatter(id);
          var _id = _ids[pMathUtils.random(0, _ids.length - 1)];
          var _data = this._data[group];
          if (typeof _id === 'string') {
            return _data.get(_id, this.code);
          }
          var eid = _id.eid,
            key = _id.key,
            handler = _id.handler,
            raw = _id.raw,
            replacers = _id.replacers;
          var _keys = pArray.flatter(key);
          var _key = _keys[pMathUtils.random(0, _keys.length - 1)];
          var _txt = !!eid
          //@ts-ignore
          ? this._get(group, numberToLang(group, eid)) : !!raw ? raw : this._get(group, key);
          _txt = _txt || _key;
          _txt = replacers != undefined ? pStringUtils.replace(_txt, replacers) : _txt;
          return handler ? handler(_txt) : _txt;
        };
        _proto2.getString = function getString(id) {
          return this.get('base', id);
        };
        _proto2.getStrings = function getStrings() {
          var _this5 = this;
          for (var _len4 = arguments.length, ids = new Array(_len4), _key5 = 0; _key5 < _len4; _key5++) {
            ids[_key5] = arguments[_key5];
          }
          return ids.reduce(function (data, key) {
            data[key] = _this5.getString(key);
            return data;
          }, {});
        };
        _createClass(LanguageMananger, [{
          key: "list",
          get: function get() {
            var _this6 = this;
            if (this._list.length !== GroupLangs.length) {
              var _news = GroupLangs.map(function (group) {
                return RecordLanguages.create(group);
              });
              _news.forEach(function (_new) {
                if (!_this6._list.find(function (_item) {
                  return _item.group === _new.group;
                })) {
                  _this6._list.push(_new);
                }
              });
            }
            return this._list;
          }
        }, {
          key: "code",
          get: function get() {
            return this._code;
          }
        }], [{
          key: "instance",
          get: function get() {
            return pDecorators.instance(LanguageMananger);
          }
        }]);
        return LanguageMananger;
      }(Component), (_descriptor3 = _applyDecoratedDescriptor(_class5.prototype, "_list", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return [];
        }
      }), _applyDecoratedDescriptor(_class5.prototype, "list", [_dec7], Object.getOwnPropertyDescriptor(_class5.prototype, "list"), _class5.prototype)), _class5)) || _class4) || _class4));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/LeaderBoardCommand.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './Connection.ts'], function (exports) {
  var _asyncToGenerator, _regeneratorRuntime, cclegacy, _connection;
  return {
    setters: [function (module) {
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
    }, function (module) {
      _connection = module.default;
    }],
    execute: function () {
      exports('default', request);
      cclegacy._RF.push({}, "d0b1dFqxT5JQp4HCBeolwUr", "LeaderBoardCommand", undefined);
      var LBC;
      (function (_LBC) {
        var prefix = _LBC.prefix = "game.leaderboardHandler.";
      })(LBC || (LBC = {}));
      function request(_x, _x2, _x3) {
        return _request.apply(this, arguments);
      }
      function _request() {
        _request = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(command, payload, cb) {
          return _regeneratorRuntime().wrap(function _callee$(_context) {
            while (1) switch (_context.prev = _context.next) {
              case 0:
                return _context.abrupt("return", _connection.send(LBC.prefix + command, payload, cb));
              case 1:
              case "end":
                return _context.stop();
            }
          }, _callee);
        }));
        return _request.apply(this, arguments);
      }
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/LinkListToggle.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './Decorators.ts', './StringUtils.ts', './EventDriver.ts', './env', './UpdateManager.ts'], function (exports) {
  var _inheritsLoose, _applyDecoratedDescriptor, _initializerDefineProperty, _assertThisInitialized, _createClass, _asyncToGenerator, _regeneratorRuntime, cclegacy, SpriteFrame, Material, Node, EventHandler, CCClass, Sprite, Button, _decorator, Component, pDecorators, pStringUtils, NSEventDriver, EDITOR, UpdateManager;
  return {
    setters: [function (module) {
      _inheritsLoose = module.inheritsLoose;
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _createClass = module.createClass;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      SpriteFrame = module.SpriteFrame;
      Material = module.Material;
      Node = module.Node;
      EventHandler = module.EventHandler;
      CCClass = module.CCClass;
      Sprite = module.Sprite;
      Button = module.Button;
      _decorator = module._decorator;
      Component = module.Component;
    }, function (module) {
      pDecorators = module.pDecorators;
    }, function (module) {
      pStringUtils = module.pStringUtils;
    }, function (module) {
      NSEventDriver = module.NSEventDriver;
    }, function (module) {
      EDITOR = module.EDITOR;
    }, function (module) {
      UpdateManager = module.UpdateManager;
    }],
    execute: function () {
      exports('NSLinkListToggle', void 0);
      cclegacy._RF.push({}, "d184aAy3+VPW4DrV9CY9/St", "LinkListToggle", undefined);
      var _cc$_decorator = _decorator,
        ccclass = _cc$_decorator.ccclass,
        property = _cc$_decorator.property,
        menu = _cc$_decorator.menu,
        executeInEditMode = _cc$_decorator.executeInEditMode,
        disallowMultiple = _cc$_decorator.disallowMultiple;
      var logger = pDecorators.logger;
      var core_group = {
        id: '1',
        name: 'Core'
      };
      var frame_group = {
        id: '1',
        name: 'View'
      };
      var node_group = {
        id: '1',
        name: 'Node'
      };
      var opt_group = {
        id: '1',
        name: 'Options'
      };
      var NSLinkListToggle;
      (function (_NSLinkListToggle, _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _dec9, _dec10, _dec11, _dec12, _dec13, _dec14, _dec15, _dec16, _dec17, _dec18, _dec19, _class4, _class5, _descriptor8, _descriptor9, _descriptor10, _descriptor11, _descriptor12, _descriptor13) {
        var _events = ['onLanding', 'onTransition'];
        var Helper = (_dec = ccclass('DTHelper'), _dec2 = property({
          readonly: true
        }), _dec3 = property({
          tooltip: "The idenify of this Helper"
        }), _dec4 = property({
          type: SpriteFrame,
          tooltip: "The view frame of the target toggle will be appended on 'onLanding' state. This can be null",
          group: frame_group
        }), _dec5 = property({
          type: Material,
          tooltip: "The shader will be applied to the sprite on 'onLanding' state. This can be null",
          group: frame_group
        }), _dec6 = property({
          type: [Node],
          tooltip: "These nodes will be activated on 'onLanding' event and disable on 'onTransition' event.",
          group: node_group
        }), _dec7 = property({
          type: [EventHandler],
          group: core_group
        }), _dec8 = property({
          type: [EventHandler],
          group: core_group
        }), _dec(_class = (_class2 = /*#__PURE__*/function (_NSEventDriver$Handle) {
          _inheritsLoose(Helper, _NSEventDriver$Handle);
          function Helper() {
            var _this;
            for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
              args[_key] = arguments[_key];
            }
            _this = _NSEventDriver$Handle.call.apply(_NSEventDriver$Handle, [this].concat(args)) || this;
            _initializerDefineProperty(_this, "_fixedId", _descriptor, _assertThisInitialized(_this));
            _initializerDefineProperty(_this, "id", _descriptor2, _assertThisInitialized(_this));
            _initializerDefineProperty(_this, "frame", _descriptor3, _assertThisInitialized(_this));
            _initializerDefineProperty(_this, "shader", _descriptor4, _assertThisInitialized(_this));
            _initializerDefineProperty(_this, "nodes", _descriptor5, _assertThisInitialized(_this));
            _initializerDefineProperty(_this, "onTransition", _descriptor6, _assertThisInitialized(_this));
            _initializerDefineProperty(_this, "onLanding", _descriptor7, _assertThisInitialized(_this));
            _this._isLanded = false;
            _this._target = null;
            return _this;
          }
          Helper.generate = function generate(id, fixed) {
            if (fixed === void 0) {
              fixed = false;
            }
            var ret = new Helper();
            ret.id = id;
            ret._fixedId = fixed;
            return ret;
          };
          var _proto = Helper.prototype;
          _proto.is = function is(id) {
            return this.id === id;
          };
          _proto.init = function init() {
            var _this2 = this;
            _events.forEach(function (target) {
              return _this2.add(target, function () {
                return EventHandler.emitEvents(_this2[target]);
              });
            });
          };
          _proto.transition = /*#__PURE__*/function () {
            var _transition = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(invoke) {
              return _regeneratorRuntime().wrap(function _callee$(_context) {
                while (1) switch (_context.prev = _context.next) {
                  case 0:
                    if (invoke === void 0) {
                      invoke = true;
                    }
                    //await pAsyncUtils.wait(0.05);

                    this.nodes.forEach(function (node) {
                      return node.active = false;
                    });
                    invoke && this.invoke('onTransition');
                    this._isLanded = false;
                  case 4:
                  case "end":
                    return _context.stop();
                }
              }, _callee, this);
            }));
            function transition(_x) {
              return _transition.apply(this, arguments);
            }
            return transition;
          }();
          _proto.landing = /*#__PURE__*/function () {
            var _landing = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(target, invoke) {
              return _regeneratorRuntime().wrap(function _callee2$(_context2) {
                while (1) switch (_context2.prev = _context2.next) {
                  case 0:
                    if (invoke === void 0) {
                      invoke = true;
                    }
                    //await pAsyncUtils.wait(0.05);

                    this._target = target;
                    if (!!this._target) {
                      this._target.spriteFrame = this.frame;
                      this._target.customMaterial = this.shader;
                    }
                    this.nodes.forEach(function (node) {
                      return node.active = true;
                    });
                    invoke && this.invoke('onLanding');
                    this._isLanded = true;
                  case 6:
                  case "end":
                    return _context2.stop();
                }
              }, _callee2, this);
            }));
            function landing(_x2, _x3) {
              return _landing.apply(this, arguments);
            }
            return landing;
          }();
          _proto.refix = function refix() {
            CCClass.Attr.setClassAttr(this.constructor, 'id', 'readonly', true);
          };
          _proto.fix = function fix() {
            var _this3 = this;
            this.nodes.forEach(function (node) {
              return node.active = _this3._isLanded;
            });
            if (this._isLanded) {
              if (!!this._target) {
                this._target.spriteFrame = this.frame;
                this._target.customMaterial = this.shader;
              }
            }
          };
          return Helper;
        }(NSEventDriver.Handler), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "_fixedId", [_dec2], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return false;
          }
        }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "id", [_dec3], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return pStringUtils.uuid();
          }
        }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "frame", [_dec4], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: null
        }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "shader", [_dec5], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: null
        }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "nodes", [_dec6], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return [];
          }
        }), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, "onTransition", [_dec7], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return [];
          }
        }), _descriptor7 = _applyDecoratedDescriptor(_class2.prototype, "onLanding", [_dec8], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return [];
          }
        })), _class2)) || _class);
        _NSLinkListToggle.Helper = Helper;
        var Component$1 = (_dec9 = logger('LinkListToggle'), _dec10 = ccclass('LinkListToggle'), _dec11 = disallowMultiple(), _dec12 = executeInEditMode(), _dec13 = menu('Dynamic/LinkListToggle'), _dec14 = property({
          readonly: true
        }), _dec15 = property({
          group: core_group
        }), _dec16 = property({
          type: Helper,
          group: core_group
        }), _dec17 = property({
          type: Sprite,
          tooltip: "The view of this toggler. This can be null.",
          group: opt_group
        }), _dec18 = property({
          type: Button,
          tooltip: "The clicker of this toggler. This can be null.",
          group: opt_group
        }), _dec19 = property({}), _dec9(_class4 = _dec10(_class4 = _dec11(_class4 = _dec12(_class4 = _dec13(_class4 = (_class5 = /*#__PURE__*/function (_cc$Component) {
          _inheritsLoose(Component, _cc$Component);
          function Component() {
            var _this4;
            for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
              args[_key2] = arguments[_key2];
            }
            _this4 = _cc$Component.call.apply(_cc$Component, [this].concat(args)) || this;
            _initializerDefineProperty(_this4, "_fixedId", _descriptor8, _assertThisInitialized(_this4));
            _initializerDefineProperty(_this4, "invokeOnStart", _descriptor9, _assertThisInitialized(_this4));
            _initializerDefineProperty(_this4, "toggles", _descriptor10, _assertThisInitialized(_this4));
            _initializerDefineProperty(_this4, "sprite", _descriptor11, _assertThisInitialized(_this4));
            _initializerDefineProperty(_this4, "button", _descriptor12, _assertThisInitialized(_this4));
            _initializerDefineProperty(_this4, "allwayFix", _descriptor13, _assertThisInitialized(_this4));
            _this4._index = 0;
            _this4._update = null;
            return _this4;
          }
          var _proto2 = Component.prototype;
          _proto2.resetup = function resetup(list) {
            this._fixedId = true;
            this.toggles = list.map(function (id) {
              return Helper.generate(id.toString(), true);
            });
            this._refix();
          };
          _proto2.get = function get(id) {
            return this.toggles.find(function (toggle) {
              return toggle.is(id.toString());
            });
          };
          _proto2.onFocusInEditor = function onFocusInEditor() {
            this._refix();
          };
          _proto2.onLostFocusInEditor = function onLostFocusInEditor() {
            this._refix();
          };
          _proto2._refix = function _refix() {
            if (!this._fixedId) return;
            CCClass.Attr.setClassAttr(this.constructor, 'toggles', 'readonly', true);
            this.toggles.forEach(function (toggle) {
              return toggle.refix();
            });
          };
          _proto2.onLoad = function onLoad() {
            var _this5 = this;
            !!this.button && this.button.node.on(Button.EventType.CLICK, function () {
              return _this5["switch"](_this5._index + 1);
            }, this);
            this.toggles.forEach(function (t) {
              return t.init();
            });
            if (!this.allwayFix || EDITOR) return;
            this._update = function () {
              var _this5$toggles;
              return (_this5$toggles = _this5.toggles) == null ? void 0 : _this5$toggles.forEach(function (_toggler) {
                return _toggler == null ? void 0 : _toggler.fix();
              });
            };
            pDecorators.instance(UpdateManager).add({
              _function: this._update,
              _this: this
            });
          };
          _proto2.start = function start() {
            if (this.invokeOnStart) {
              this._index = -1;
              this["switch"](0);
            }
          };
          _proto2._valider = function _valider(index) {
            this._index = index;
            this._index = this._index % this.toggles.length;
          };
          _proto2["switch"] = function _switch(index, invoke) {
            if (index === void 0) {
              index = this._index + 1;
            }
            if (invoke === void 0) {
              invoke = true;
            }
            if (index % this.toggles.length === this._index) return;
            var start = this.toggles[this._index];
            start == null || start.transition(invoke);
            this._valider(index);
            var end = this.toggles[this._index];
            end == null || end.landing(this.sprite, invoke);
            this.log("Switch From " + (start == null ? void 0 : start.id) + " To " + (end == null ? void 0 : end.id));
          };
          _proto2.jump = function jump(id, invoke) {
            if (invoke === void 0) {
              invoke = true;
            }
            try {
              var iLanding = this.toggles.findIndex(function (toggle) {
                return toggle.is(id.toString());
              });
              if (iLanding < 0) {
                this.error("Toggler with id: " + id.toString() + " does not exist!", this.toggles);
                return;
              }
              ;
              this["switch"](iLanding, invoke);
            } catch (_error) {
              this.warn("Jump to toggler with id: " + id.toString() + " failed!", _error);
            }
          };
          _createClass(Component, [{
            key: "list",
            get: function get() {
              return this.toggles;
            }
          }, {
            key: "interactable",
            set: function set(state) {
              this.button && (this.button.interactable = state);
            }
          }]);
          return Component;
        }(Component), (_descriptor8 = _applyDecoratedDescriptor(_class5.prototype, "_fixedId", [_dec14], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return false;
          }
        }), _descriptor9 = _applyDecoratedDescriptor(_class5.prototype, "invokeOnStart", [_dec15], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return false;
          }
        }), _descriptor10 = _applyDecoratedDescriptor(_class5.prototype, "toggles", [_dec16], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return [];
          }
        }), _descriptor11 = _applyDecoratedDescriptor(_class5.prototype, "sprite", [_dec17], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: null
        }), _descriptor12 = _applyDecoratedDescriptor(_class5.prototype, "button", [_dec18], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: null
        }), _descriptor13 = _applyDecoratedDescriptor(_class5.prototype, "allwayFix", [_dec19], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return false;
          }
        })), _class5)) || _class4) || _class4) || _class4) || _class4) || _class4);
        _NSLinkListToggle.Component = Component$1;
      })(NSLinkListToggle || (NSLinkListToggle = exports('NSLinkListToggle', {})));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/LocalStorage.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './BaseStorage.ts', './JsonUtils.ts'], function (exports) {
  var _inheritsLoose, _asyncToGenerator, _regeneratorRuntime, cclegacy, sys, BaseStorage, JsonUtils;
  return {
    setters: [function (module) {
      _inheritsLoose = module.inheritsLoose;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      sys = module.sys;
    }, function (module) {
      BaseStorage = module.BaseStorage;
    }, function (module) {
      JsonUtils = module.default;
    }],
    execute: function () {
      cclegacy._RF.push({}, "f77bciB3jhDSq+JnlvQJdCA", "LocalStorage", undefined);
      var LocalStorage = exports('LocalStorage', /*#__PURE__*/function (_BaseStorage) {
        _inheritsLoose(LocalStorage, _BaseStorage);
        function LocalStorage() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _BaseStorage.call.apply(_BaseStorage, [this].concat(args)) || this;
          _this._secret = 'top_pokke_secret';
          return _this;
        }
        var _proto = LocalStorage.prototype;
        _proto._save = /*#__PURE__*/function () {
          var _save2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  sys.localStorage.setItem(this._secret, JSON.stringify(this._data));
                case 1:
                case "end":
                  return _context.stop();
              }
            }, _callee, this);
          }));
          function _save() {
            return _save2.apply(this, arguments);
          }
          return _save;
        }();
        _proto._onClear = function _onClear() {
          sys.localStorage.setItem(this._secret, "{}");
        };
        _proto._init = function _init() {
          this._secret = this._secret || 'top_pokke_secret';
          var data = sys.localStorage.getItem(this._secret);
          // console.log("_LS_init", this._secret, data);
          this._data = JsonUtils.isValidData(data) ? JSON.parse(data) : {};
        };
        _proto._onLoggingIn = function _onLoggingIn() {
          //this._secret = GlobalConfig.instance.secret;
          //const data = sys.localStorage.getItem(this._secret);
          //const json = JsonUtils.isValidData(data) ? JSON.parse(data) : {};
          //console.log("_LS_onLoggingIn", this._secret, json);
          //for (const key in json) this._data[key] = json[key];
        };
        return LocalStorage;
      }(BaseStorage));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/LogDisplayer.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './ComponentUtils.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, cclegacy, _decorator, Label, UITransform, Component, pComponentUtils;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Label = module.Label;
      UITransform = module.UITransform;
      Component = module.Component;
    }, function (module) {
      pComponentUtils = module.pComponentUtils;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _class, _class2, _descriptor, _descriptor2;
      cclegacy._RF.push({}, "8631a/HI91NvJymEY7OUAia", "LogDisplayer", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var LogDisplayer = exports('LogDisplayer', (_dec = ccclass("LogDisplayer"), _dec2 = property(Label), _dec3 = property({
        min: 0,
        max: 1,
        slide: true,
        step: 0.05
      }), _dec(_class = (_class2 = /*#__PURE__*/function (_Component) {
        _inheritsLoose(LogDisplayer, _Component);
        function LogDisplayer() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _Component.call.apply(_Component, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "lab_text", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "rate", _descriptor2, _assertThisInitialized(_this));
          _this._transform = null;
          return _this;
        }
        var _proto = LogDisplayer.prototype;
        _proto.onLoad = function onLoad() {
          this._transform = pComponentUtils.getSafeComponent(this.lab_text, UITransform);
          this.lab_text.overflow = Label.Overflow.RESIZE_HEIGHT;
          this._transform.setAnchorPoint(0, 0.5);
        };
        _proto.set = function set(string, trans, layer) {
          if (!trans) return;
          this.node.layer = layer;
          this.lab_text.string = string;
          //this._transform.width = trans.width * this.rate;
          //this.lab_text.node.setPosition(-this._transform.width/2, 0);
        };

        return LogDisplayer;
      }(Component), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "lab_text", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "rate", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return 0.95;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/LogViewer.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './ComponentUtils.ts', './LogDisplayer.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _createForOfIteratorHelperLoose, cclegacy, _decorator, Button, Label, ScrollView, UIOpacity, EditBox, Prefab, sys, instantiate, UITransform, tween, Component, pComponentUtils, LogDisplayer;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _createForOfIteratorHelperLoose = module.createForOfIteratorHelperLoose;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Button = module.Button;
      Label = module.Label;
      ScrollView = module.ScrollView;
      UIOpacity = module.UIOpacity;
      EditBox = module.EditBox;
      Prefab = module.Prefab;
      sys = module.sys;
      instantiate = module.instantiate;
      UITransform = module.UITransform;
      tween = module.tween;
      Component = module.Component;
    }, function (module) {
      pComponentUtils = module.pComponentUtils;
    }, function (module) {
      LogDisplayer = module.LogDisplayer;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _dec11, _class2, _class3, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9, _descriptor10;
      cclegacy._RF.push({}, "98822kEdtRLWYyRe9EurqMl", "LogViewer", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var _keys = ['log', 'warn', 'error'];
      var _LogViewer = /*#__PURE__*/function () {
        var _proto = _LogViewer.prototype;
        _proto.set = function set(_onAdd) {
          this._onAdd = _onAdd;
        };
        function _LogViewer() {
          var _this2 = this;
          this._console = {};
          this._index = 0;
          this._onAdd = null;
          if (!sys.isNative) {
            return;
          }
          var _loop = function _loop() {
            var key = _step.value;
            _this2[key] = [];
            _this2._console[key] = console[key];
            console[key] = function () {
              for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
                args[_key] = arguments[_key];
              }
              _this2._console[key].apply(console, args);
              var _str = _this2._toString.apply(_this2, args);
              _this2[key].push(_str);
              _this2._onAdd == null || _this2._onAdd(_str);
            };
          };
          for (var _iterator = _createForOfIteratorHelperLoose(_keys), _step; !(_step = _iterator()).done;) {
            _loop();
          }
        }
        _proto._toString = function _toString() {
          for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
            args[_key2] = arguments[_key2];
          }
          var _map = args.map(function (v) {
            if (typeof v === 'object') {
              try {
                return JSON.stringify(v);
              } catch (e) {
                return '[object]';
              }
            } else {
              return String(v);
            }
          }).join(' ');
          var _date = new Date();
          var _time = "[" + _date.getHours() + ":" + _date.getMinutes() + ":" + _date.getSeconds() + "." + _date.getMilliseconds() + "]";
          return _time + " >> " + _map;
        };
        return _LogViewer;
      }();
      var _view = new _LogViewer();
      var LogViewer = exports('LogViewer', (_dec = ccclass('LogViewer'), _dec2 = property(Button), _dec3 = property(Button), _dec4 = property(Label), _dec5 = property(ScrollView), _dec6 = property(UIOpacity), _dec7 = property(EditBox), _dec8 = property(Button), _dec9 = property(Button), _dec10 = property(Button), _dec11 = property(Prefab), _dec(_class2 = (_class3 = /*#__PURE__*/function (_Component) {
        _inheritsLoose(LogViewer, _Component);
        function LogViewer() {
          var _this3;
          for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
            args[_key3] = arguments[_key3];
          }
          _this3 = _Component.call.apply(_Component, [this].concat(args)) || this;
          _initializerDefineProperty(_this3, "btn_show", _descriptor, _assertThisInitialized(_this3));
          _initializerDefineProperty(_this3, "btn_change", _descriptor2, _assertThisInitialized(_this3));
          _initializerDefineProperty(_this3, "lbl_change", _descriptor3, _assertThisInitialized(_this3));
          _initializerDefineProperty(_this3, "scroller", _descriptor4, _assertThisInitialized(_this3));
          _initializerDefineProperty(_this3, "opx", _descriptor5, _assertThisInitialized(_this3));
          _initializerDefineProperty(_this3, "box_search", _descriptor6, _assertThisInitialized(_this3));
          _initializerDefineProperty(_this3, "btn_search", _descriptor7, _assertThisInitialized(_this3));
          _initializerDefineProperty(_this3, "btn_top", _descriptor8, _assertThisInitialized(_this3));
          _initializerDefineProperty(_this3, "btn_bot", _descriptor9, _assertThisInitialized(_this3));
          _initializerDefineProperty(_this3, "prefab", _descriptor10, _assertThisInitialized(_this3));
          _this3._console = {};
          _this3._index = 0;
          _this3._isShowing = false;
          _this3._tw = null;
          return _this3;
        }
        var _proto2 = LogViewer.prototype;
        _proto2.onLoad = function onLoad() {
          var _this4 = this;
          if (!sys.isNative) {
            this.destroy();
            this.node.destroy();
            return;
          }
          pComponentUtils.appends({
            _options: [{
              _handlers: this._actShow,
              _target: this.btn_show
            }, {
              _handlers: this._actChange,
              _target: this.btn_change
            }, {
              _handlers: this._actSearch,
              _target: this.btn_search
            }, {
              _handlers: function _handlers() {
                return _this4.scroller.scrollToTop(0.25);
              },
              _target: this.btn_top
            }, {
              _handlers: function _handlers() {
                return _this4.scroller.scrollToBottom(0.25);
              },
              _target: this.btn_bot
            }],
            _binder: this,
            _type: Button.EventType.CLICK
          });
          this.opx.node.active = false;
          _view.set(this._add.bind(this));
        };
        _proto2._actSearch = function _actSearch() {
          var _search = this.box_search.string;
          var _list = this[_keys[this._index]].filter(function (v) {
            return v.includes(_search);
          });
          this._adds(_list);
        };
        _proto2._adds = function _adds(views) {
          this.scroller.content.removeAllChildren();
          for (var _iterator2 = _createForOfIteratorHelperLoose(views), _step2; !(_step2 = _iterator2()).done;) {
            var ret = _step2.value;
            this._add(ret);
          }
          this.scroller.scrollToBottom(0.25);
        };
        _proto2._add = function _add(str) {
          var _inst = instantiate(this.prefab);
          var _comp = _inst.getComponent(LogDisplayer);
          _comp.set(str, this.scroller.content.getComponent(UITransform), this.node.layer);
          this.scroller.content.addChild(_inst);
        };
        _proto2._actChange = function _actChange() {
          this._index++;
          if (this._index >= _keys.length) this._index = 0;
          this.lbl_change.string = _keys[this._index].toUpperCase();
          var _target = _keys[this._index];
          var _list = this[_target];
          this._adds(_list);
        };
        _proto2._actShow = function _actShow() {
          var _this$_tw;
          (_this$_tw = this._tw) == null || _this$_tw.stop();
          this._tw = tween(this.opx).to(0.25, {
            opacity: this._isShowing ? 0 : 255
          }).start();
          this._isShowing = !this._isShowing;
          this.opx.node.active = this._isShowing;
        };
        _proto2._toString = function _toString() {
          for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {
            args[_key4] = arguments[_key4];
          }
          var _map = args.map(function (v) {
            if (typeof v === 'object') {
              try {
                return JSON.stringify(v);
              } catch (e) {
                return '[object]';
              }
            } else {
              return String(v);
            }
          }).join(' ');
          var _date = new Date();
          var _time = "[" + _date.getHours() + ":" + _date.getMinutes() + ":" + _date.getSeconds() + "." + _date.getMilliseconds() + "]";
          return _time + " >> " + _map;
        };
        return LogViewer;
      }(Component), (_descriptor = _applyDecoratedDescriptor(_class3.prototype, "btn_show", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class3.prototype, "btn_change", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class3.prototype, "lbl_change", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class3.prototype, "scroller", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor5 = _applyDecoratedDescriptor(_class3.prototype, "opx", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor6 = _applyDecoratedDescriptor(_class3.prototype, "box_search", [_dec7], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor7 = _applyDecoratedDescriptor(_class3.prototype, "btn_search", [_dec8], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor8 = _applyDecoratedDescriptor(_class3.prototype, "btn_top", [_dec9], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor9 = _applyDecoratedDescriptor(_class3.prototype, "btn_bot", [_dec10], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor10 = _applyDecoratedDescriptor(_class3.prototype, "prefab", [_dec11], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class3)) || _class2));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/main", ['./debug-view-runtime-control.ts', './EventDefine.ts', './ProtocolDefine.ts', './ProtocolHandler.ts', './ProtocolHandlerMockTest.ts', './SocketService.ts', './Connection.ts', './ProtocolManager.ts', './Reconnector.ts', './codec.ts', './constants2.ts', './emitter.ts', './msg_decoder.ts', './msg_encoder.ts', './protobuf.ts', './protocol.ts', './toppoker.mjs_cjs=&original=.js', './toppoker.ts', './util.ts', './LogDisplayer.ts', './LogViewer.ts', './AsyncClasser.ts', './EventDriver.ts', './OnceOnly.ts', './PersistentNode.ts', './Constants.ts', './Enums.ts', './Global.ts', './NoticePoint.ts', './ResponeCode.ts', './SyncTarget.ts', './ToggleSameLabel.ts', './ToggleUpdateSize.ts', './UIBalance.ts', './EditorComponent.ts', './SharperLabel.ts', './Actioner.ts', './AnimationFX.ts', './FlippingCard.ts', './FlippingFX.ts', './FloatingMessageFX.ts', './IFlipableObject.ts', './InfinityFx.ts', './MovingFx.ts', './RotatingFx.ts', './RunningNumber.ts', './ScalingFx.ts', './SkewNode.ts', './SpawningFx.ts', './SpinCardFx.ts', './UIDynamicLabel.ts', './UIFlippingObject.ts', './UIPlayerBalanceUpdater.ts', './UIShortText.ts', './AChecker.ts', './AlwayCenter.ts', './AutoAlignCameras.ts', './AutoClose.ts', './BubbleChat.ts', './CaptchaHelper.ts', './ClassHelper.ts', './DynamicButton.ts', './HtmlText.ts', './MTTHelper.ts', './MiniLoading.ts', './NotifyLabel.ts', './SNGHelper.ts', './ShaderAplier.ts', './SkeletonSelector.ts', './UIAutoZSibling.ts', './UIButtonHelper.ts', './newFile.ts', './IAnimationFX.ts', './ICardInfo.ts', './IChatCommand.ts', './IChatData.ts', './IConnectorCommand.ts', './IDynamicData.ts', './IEnity.ts', './IEventBinder.ts', './IEventResponse.ts', './IFlexCreator.ts', './IGameCommand.ts', './IGameHistory.ts', './IGateCommand.ts', './IItemPlayer.ts', './IMTTCommand.ts', './IMTTResponse.ts', './IPlayerData.ts', './IPlayingScene.ts', './IRespones.ts', './ISNGCommand.ts', './ISNGResponse.ts', './ITableData.ts', './ITableMonitorCMD.ts', './ITableMonitorResponse.ts', './IUploadResponse.ts', './LangSelectorAPI.ts', './LanguageManager.ts', './MultiLanguage.ts', './NextMultiLanguage.ts', './TypesLanguageManager.ts', './ArticleCommand.ts', './AssetManager.ts', './AudioManager.ts', './ChatCommand.ts', './ClockChanger.ts', './CommandManager.ts', './EngineManager.ts', './EntryCommand.ts', './EventManager.ts', './ExpCommand.ts', './FacebookManager.ts', './GameDebugger.ts', './GameManager.ts', './GamePausedManager.ts', './GateCommand.ts', './GlobalConfig.ts', './GoogleManager.ts', './LeaderBoardCommand.ts', './MTTCommand.ts', './MissionCommand.ts', './NotifyCommand.ts', './QuickAudioPlayer.ts', './SNGCommand.ts', './SafeBoxCommand.ts', './ShopCommand.ts', './SpinGameCommand.ts', './SupportCommand.ts', './TableCommand.ts', './TableMonitorCommand.ts', './TimeTreasureCommand.ts', './UIController.ts', './UpdateManager.ts', './UserCommand.ts', './pAndroid.ts', './GaussianBlur.ts', './GameData.ts', './INetwork.ts', './IStorage.ts', './BaseStorage.ts', './CryptoStorage.ts', './DBStorage.ts', './LocalStorage.ts', './TestButton.ts', './TMttTournament.ts', './TSngTournament.ts', './PokerRank.ts', './UICardType.ts', './UIBase.ts', './AlertDialog.ts', './UIGameAlert.ts', './UIPopupAlert.ts', './EditTextResized.ts', './FloatingNotice.ts', './NoticePopup.ts', './NotifyToast.ts', './UIChatItem.ts', './UIKeepScale.ts', './UILoadingScene.ts', './UINotice.ts', './UIPopup.ts', './UIPopupNotice.ts', './UIScale.ts', './UIScaleBG.ts', './UISlider.ts', './UIUpdateAlignment.ts', './LinkListToggle.ts', './NodePoolToggler.ts', './TogglerManager.ts', './UIKickPlayer.ts', './UIActionCard.ts', './UIAutoPlayer.ts', './UIAutoPlaying.ts', './UICardInfo.ts', './UIGameAction.ts', './UIGameActionManager.ts', './UIGamePots.ts', './UIItemDealerIngame.ts', './UIItemDetailHistory.ts', './UIItemHistory.ts', './UILobbyCompete.ts', './UIMiniRateCard.ts', './UIPTPopupInfoTable.ts', './UIPopupActionDealer.ts', './UIPopupChangeAccessory.ts', './UIPopupChangeTable.ts', './UIPopupDetailHistory.ts', './UIPopupDonateChip.ts', './UIPopupGiveGift.ts', './UIPopupHistory.ts', './UIPopupInvitePlayer.ts', './UIPopupInvitePlayerItem.ts', './UIPopupMiniGame.ts', './UIPopupRateCard.ts', './UIPopupSpinGame.ts', './UIProfilePlayerIngame.ts', './UISpinHistory.ts', './UISpinHistoryItem.ts', './UISpinRule.ts', './UITipChipFly.ts', './EngineController.ts', './GameController.ts', './MTTController.ts', './MTTGamePlayer.ts', './PlayingController.ts', './SNGConfig.ts', './SNGGamePlayer.ts', './SNGWinner.ts', './YardGamePlayer.ts', './DataRoomMTT.ts', './InterfaceConfigMTT.ts', './ItemPlayerData.ts', './MTTPlayerData.ts', './SNGPlayerData.ts', './YardPlayerData.ts', './UIItemLevelsBlind.ts', './UIItemMineTournMTT.ts', './UIItemRanker.ts', './UIItemReward.ts', './UIItemRoomMTT.ts', './UIMTTRankManager.ts', './UIMTTRanking.ts', './UIMttResult.ts', './UIMttTableSelector.ts', './UIMttTablesView.ts', './UIPageItemRoomMTT.ts', './UIPanelMineTournMTT.ts', './UIPopupHelpMTT.ts', './UIPopupInfoTournMTT.ts', './UIPopupSigupMTT.ts', './UIRebuyPopup.ts', './UIRoomMTT.ts', './ChatClickHandle.ts', './ItemEmoji.ts', './UICardConfig.ts', './UICardHand.ts', './UICardManager.ts', './UICardsDealer.ts', './UIChatBox.ts', './UIChatRuntime.ts', './UIChipPlayerSNG.ts', './UICommunityCard.ts', './UIEmojiChat.ts', './UIEmojis.ts', './UIFlexTable.ts', './UIGameDealer.ts', './UIGameInfo.ts', './UIGameLight.ts', './UIGamePlay.ts', './UIHistoryChat.ts', './UIHistoryChatItem.ts', './UIHistoryChatManager.ts', './UIHistoryPlayer.ts', './UIItemCard.ts', './UIItemPlayer.ts', './UIItemPlayerManager.ts', './UIItemPlayerSNG.ts', './UIItemRoomSNG.ts', './UIPlayer.ts', './UIPlayerInfor.ts', './UIPlayerStatus.ts', './UIPlayingScene.ts', './UIPopupBuyChip.ts', './UIPopupChat.ts', './UIPopupHelpSNG.ts', './UIPopupMoreBet.ts', './UIPopupResultEndGame.ts', './UIPopupSettingInGame.ts', './UIQuickChat.ts', './UIRoomSNG.ts', './UIStandUpRegister.ts', './UIChestReward.ts', './UIItemCardFace.ts', './UIPanelChangeCardBack.ts', './UIPanelChangeCardFace.ts', './UIPanelChangeDealer.ts', './UIPanelChangeTitle.ts', './UIPanelHistory.ts', './UIPopupCardFace.ts', './RoomItemData.ts', './UIPTPageRoom.ts', './UIPTRoomItem.ts', './UIPTYard.ts', './UIPTPopupAlertVip.ts', './UIPTPopupCreatePrivateRoom.ts', './UIPTPopupCreateSuccesAlert.ts', './UIPTPopupFilterRoomType.ts', './UIPTPopupHelp.ts', './UIPTPopupJoinPrivateRoom.ts', './UIPTPopupSearchRoom.ts', './UIEmailRegister.ts', './UILogin.ts', './UILoginApple.ts', './UILoginAsGuest.ts', './UILoginChangePhoneZone.ts', './UILoginEmail.ts', './UILoginFB.ts', './UILoginForgotPassword.ts', './UILoginGoogle.ts', './UIReconnect.ts', './AvatarItem.ts', './PhoneZoneItem.ts', './MainScreenController.ts', './UIFloatingMessage.ts', './UIInvitedToPlay.ts', './UIMainScreen.ts', './UIBanner.ts', './UIEmail.ts', './UIItemEmail.ts', './UIItemNotifi.ts', './UIEvent.ts', './UIItemEventPage.ts', './FriendManager.ts', './UIFriend.ts', './UIFriendChat.ts', './UIFriendItem.ts', './UIFriendProfile.ts', './UIGiveAwayItem.ts', './UIPopupGiveAway.ts', './UIEmailIconCounter.ts', './UINoticeIconCounter.ts', './UIMission.ts', './UIMissionItem.ts', './UIMore.ts', './UIAchievement.ts', './UIBtnLoadAvatar.ts', './UIChooseAvatarItem.ts', './UIItemAchievement.ts', './UIMiniProfile.ts', './UINoticeAchievement.ts', './UIProfile.ts', './UIProfileAchievement.ts', './UIProfileEdit.ts', './UIProfileSafe.ts', './UIResetPassword.ts', './UISafeboxPassword.ts', './UIRank.ts', './UIRankItem.ts', './UIRankPlayerInfo.ts', './UISetting.ts', './UISettingLanguage.ts', './UISettingLogOut.ts', './UISettingOther.ts', './UISettingPrivacy.ts', './UISettingRemoveAcc.ts', './UISettingRemoveCache.ts', './UIHistoryFeedbackItem.ts', './UISupport.ts', './UISupportItem.ts', './UISupportLevelRuleItem.ts', './UISupportTableLevelRule.ts', './CardTutorial.ts', './EndTurorial.ts', './GameTutorial.ts', './InGameTutorial.ts', './MainPropertyTut.ts', './MoverTutorial.ts', './NextTutoritalStep.ts', './StepButton.ts', './TipDealerTutorial.ts', './TutorialStep.ts', './TutorialTween.ts', './UIGamePlayTutorial.ts', './UIGameTutorial.ts', './UIRewardEndTutorial.ts', './UITutorial.ts', './UITutorialScene.ts', './ShopManager.ts', './UICardsPage.ts', './UIDefaultShopPage.ts', './UIGiftToFriends.ts', './UINavDefaultShopPage.ts', './UIPopupBuy.ts', './UIPurchasedShopPage.ts', './UIShop.ts', './UIShopPage.ts', './MyPropsItem.ts', './UICardItem.ts', './UIGiftFriendItem.ts', './UIItemPurchased.ts', './UINormalItem.ts', './UISpecialItem.ts', './UISplash.ts', './Dropdown.ts', './DropdownItem.ts', './ArrayUtils.ts', './AsyncUtils.ts', './BundleUtils.ts', './ClassUtils.ts', './ComponentUtils.ts', './CryptoUtils.ts', './DateUtils.ts', './Decorators.ts', './EnumUtils.ts', './FileUtils.ts', './GlobalUtils.ts', './HttpUtils.ts', './JsonUtils.ts', './MathUtils.ts', './NodeUtils.ts', './ObjectUtils.ts', './Pooler.ts', './RoundedRectMask.ts', './RoundedRectShaderController.ts', './StringUtils.ts', './TimeZone.ts', './ToggleUtil.ts'], function () {
  return {
    setters: [null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null],
    execute: function () {}
  };
});

System.register("chunks:///_virtual/MainPropertyTut.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './GlobalConfig.ts', './StringUtils.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, cclegacy, _decorator, Sprite, Label, Component, GlobalConfig, pStringUtils;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Sprite = module.Sprite;
      Label = module.Label;
      Component = module.Component;
    }, function (module) {
      GlobalConfig = module.default;
    }, function (module) {
      pStringUtils = module.pStringUtils;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4;
      cclegacy._RF.push({}, "e9a9fqIYd9Ex7jVJs/nN48b", "MainPropertyTut", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var MainPropertyTut = exports('MainPropertyTut', (_dec = ccclass("MainPropertyTut"), _dec2 = property(Sprite), _dec3 = property(Label), _dec4 = property(Label), _dec5 = property({
        min: 0
      }), _dec(_class = (_class2 = /*#__PURE__*/function (_Component) {
        _inheritsLoose(MainPropertyTut, _Component);
        function MainPropertyTut() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _Component.call.apply(_Component, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "avatar", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "nickname", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "money", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "chip", _descriptor4, _assertThisInitialized(_this));
          return _this;
        }
        var _proto = MainPropertyTut.prototype;
        _proto.onEnable = function onEnable() {
          this.avatar.spriteFrame = GlobalConfig.instance.getAvatar();
          this.nickname.string = GlobalConfig.instance.getUserName();
          this.money.string = pStringUtils.formatNumberKMB(this.chip);
        };
        return MainPropertyTut;
      }(Component), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "avatar", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "nickname", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "money", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "chip", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return 0;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/MainScreenController.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './EventDriver.ts', './ResponeCode.ts', './IGameCommand.ts', './EventManager.ts', './GameManager.ts', './GlobalConfig.ts', './NotifyToast.ts', './UILoadingScene.ts', './UIHistoryChatManager.ts', './StringUtils.ts', './MathUtils.ts', './Enums.ts', './TableCommand.ts', './UserCommand.ts', './ChatCommand.ts', './ArticleCommand.ts', './AssetManager.ts', './UINotice.ts', './PlayingController.ts', './MTTCommand.ts', './UIController.ts'], function (exports) {
  var _inheritsLoose, _createClass, _assertThisInitialized, _asyncToGenerator, _regeneratorRuntime, cclegacy, NSEventDriver, ResponseCode, NSGameCMD, pEventManager, GameManager, GlobalConfig, NotifyToast, UILoadingScene, UIHistoryChatManager, pStringUtils, pMathUtils, MessageNotifi, ENumberPlayerCount, ETypeModePlay, EDealSpeed, UIType, request$3, request$1, request$2, request$4, NSAsset, UINotice, PlayingController, request, UIController;
  return {
    setters: [function (module) {
      _inheritsLoose = module.inheritsLoose;
      _createClass = module.createClass;
      _assertThisInitialized = module.assertThisInitialized;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
    }, function (module) {
      NSEventDriver = module.NSEventDriver;
    }, function (module) {
      ResponseCode = module.ResponseCode;
    }, function (module) {
      NSGameCMD = module.NSGameCMD;
    }, function (module) {
      pEventManager = module.pEventManager;
    }, function (module) {
      GameManager = module.GameManager;
    }, function (module) {
      GlobalConfig = module.default;
    }, function (module) {
      NotifyToast = module.NotifyToast;
    }, function (module) {
      UILoadingScene = module.UILoadingScene;
    }, function (module) {
      UIHistoryChatManager = module.default;
    }, function (module) {
      pStringUtils = module.pStringUtils;
    }, function (module) {
      pMathUtils = module.pMathUtils;
    }, function (module) {
      MessageNotifi = module.MessageNotifi;
      ENumberPlayerCount = module.ENumberPlayerCount;
      ETypeModePlay = module.ETypeModePlay;
      EDealSpeed = module.EDealSpeed;
      UIType = module.UIType;
    }, function (module) {
      request$3 = module.default;
    }, function (module) {
      request$1 = module.default;
    }, function (module) {
      request$2 = module.default;
    }, function (module) {
      request$4 = module.default;
    }, function (module) {
      NSAsset = module.NSAsset;
    }, function (module) {
      UINotice = module.UINotice;
    }, function (module) {
      PlayingController = module.default;
    }, function (module) {
      request = module.default;
    }, function (module) {
      UIController = module.UIController;
    }],
    execute: function () {
      cclegacy._RF.push({}, "1f42avIe55CNpusZ3mWikOv", "MainScreenController", undefined);
      var _MainScreenController = /*#__PURE__*/function (_NSEventDriver$Handle) {
        _inheritsLoose(_MainScreenController, _NSEventDriver$Handle);
        function _MainScreenController() {
          var _this$_email;
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _NSEventDriver$Handle.call.apply(_NSEventDriver$Handle, [this].concat(args)) || this;
          _this._events = [['onLandingMainScreen', _this._onLandingMainScreen, _assertThisInitialized(_this)], ['onLandingLogin', _this.onLandingLogin, _assertThisInitialized(_this)], ['onLoggout', _this._onLoggout, _assertThisInitialized(_this)], ['onNotification', _this._onNotification, _assertThisInitialized(_this)], ['onPeopleSentFriendRequest', _this._onReceiveFriendRequest, _assertThisInitialized(_this)], ['onFriendAcceptedRequest', _this._onAcceptedRequest, _assertThisInitialized(_this)], ['onUserChat', _this.onUserChat, _assertThisInitialized(_this)], ['messageOnMarkAllAsRead', _this.messageOnMarkAllAsRead, _assertThisInitialized(_this)]];
          _this._currentChatSessions = null;
          _this._email = (_this$_email = {}, _this$_email[MessageNotifi.EMAIL] = [], _this$_email[MessageNotifi.SYSTEM] = [], _this$_email);
          _this._articles = [];
          _this._numberFriendRequest = 0;
          _this._rooms = {
            TS: undefined,
            TC: undefined,
            CC: undefined
          };
          _this._jp = [];
          _this._fetching = null;
          return _this;
        }
        var _proto = _MainScreenController.prototype;
        _proto._onReceiveFriendRequest = function _onReceiveFriendRequest() {
          this._actFetchEmail(MessageNotifi.EMAIL).then(function () {
            return pEventManager.invoke('onHasFriendMessage', MessageNotifi.EMAIL);
          });
          this.getFriendRequest();
        };
        _proto._onAcceptedRequest = function _onAcceptedRequest() {
          this._actFetchEmail(MessageNotifi.EMAIL).then(function () {
            return pEventManager.invoke('onHasFriendMessage', MessageNotifi.EMAIL);
          });
        };
        _MainScreenController.generate = function generate() {
          var ret = new _MainScreenController();
          ret.init();
          return ret;
        };
        _proto._flush = function _flush() {
          pEventManager.on(this._events);
        };
        _proto._binding = function _binding() {
          pEventManager.off(this._events);
        };
        _proto.init = function init() {
          this._flush();
          // this._binding();
        };

        _proto._onLandingMainScreen = function _onLandingMainScreen() {
          var _this2 = this;
          this._actFetchArticles();
          Object.keys(this._email).forEach(function (e) {
            return _this2._actFetchEmail(e);
          });
          this.fetchRoomList('TS', 'TC', 'CC');
          this.updateChatSessions();
          this.getFriendRequest();
          GameManager.Instance.getDefaultAvatars();
          var context = GlobalConfig.instance.Login.context;
          var lastKnown = context.lastKnown;
          var gameType = lastKnown.gameType,
            tableInfo = lastKnown.tableInfo,
            tid = lastKnown.tid,
            tournament_id = lastKnown.tournament_id;
        };
        _proto._rejoinMTT = /*#__PURE__*/function () {
          var _rejoinMTT2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(table) {
            var instance, tournament_id, online_players, max_players, _data, extendData, _table;
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  instance = GlobalConfig.instance;
                  instance.loading.open();
                  PlayingController.instance.setRoom('MTT');
                  tournament_id = table.tournament_id, online_players = table.online_players, max_players = table.max_players;
                  _context.next = 6;
                  return request('getTournament', {
                    tournament_id: tournament_id
                  });
                case 6:
                  _data = _context.sent;
                  if (!(_data.code != ResponseCode.SUCCESS)) {
                    _context.next = 11;
                    break;
                  }
                  NotifyToast.instance.showWithKey('txt_error_join_mtt_tournament');
                  UINotice.show('txt_title', (_data == null ? void 0 : _data.error) || 'txt_error_join_mtt_tournament', 'txt_btn_confirm2');
                  return _context.abrupt("return");
                case 11:
                  extendData = {
                    id: tournament_id.toString(),
                    displayTid: tournament_id,
                    isPrivate: false,
                    smallBlind: 0,
                    bigBlind: 0,
                    minBuyIn: 0,
                    maxBuyIn: 0,
                    gold: 0,
                    players: max_players,
                    maxPlayers: 0,
                    minPlayers: 0,
                    zone: 'TS',
                    gameMode: 'normal',
                    members: online_players
                  };
                  _table = {
                    count: ENumberPlayerCount.NINE_PLAYERS,
                    mode: ETypeModePlay.MTT,
                    speed: EDealSpeed.DEAL_SPEED_1,
                    list: [],
                    data: extendData,
                    //@ts-ignore
                    mtt: _data
                  };
                  PlayingController.instance.setup(_table, tournament_id.toString(), "MTT");
                  _context.next = 16;
                  return UIController.Instance.open(UIType.PLAYING_SCENE, false, true);
                case 16:
                  pEventManager.invoke('onJoinMTTLobby', _data);
                case 17:
                case "end":
                  return _context.stop();
              }
            }, _callee);
          }));
          function _rejoinMTT(_x) {
            return _rejoinMTT2.apply(this, arguments);
          }
          return _rejoinMTT;
        }();
        _proto.getFriendRequest = /*#__PURE__*/function () {
          var _getFriendRequest = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {
            var res;
            return _regeneratorRuntime().wrap(function _callee2$(_context2) {
              while (1) switch (_context2.prev = _context2.next) {
                case 0:
                  _context2.next = 2;
                  return request$1('getFriends', {
                    type: NSGameCMD.UserHandler.GetFriends.EType.FRIEND_REQUEST,
                    limit: 10,
                    page: 1
                  });
                case 2:
                  res = _context2.sent;
                  res.code === ResponseCode.SUCCESS && (this._numberFriendRequest = res.msg.totalItems);
                  pEventManager.invoke('onHasFriendRequest', this._numberFriendRequest);
                case 5:
                case "end":
                  return _context2.stop();
              }
            }, _callee2, this);
          }));
          function getFriendRequest() {
            return _getFriendRequest.apply(this, arguments);
          }
          return getFriendRequest;
        }();
        _proto.getEmail = function getEmail(type) {
          return this._email[type];
        };
        _proto.updateChatSessions = /*#__PURE__*/function () {
          var _updateChatSessions = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(data) {
            var rs;
            return _regeneratorRuntime().wrap(function _callee3$(_context3) {
              while (1) switch (_context3.prev = _context3.next) {
                case 0:
                  _context3.next = 2;
                  return request$2('getChatSessions', {});
                case 2:
                  rs = _context3.sent;
                  if (rs.code === ResponseCode.SUCCESS) {
                    this._currentChatSessions = rs;
                    pEventManager.invoke('updateNoticePointChat', data);
                  }
                case 4:
                case "end":
                  return _context3.stop();
              }
            }, _callee3, this);
          }));
          function updateChatSessions(_x2) {
            return _updateChatSessions.apply(this, arguments);
          }
          return updateChatSessions;
        }();
        _proto.messageOnMarkAllAsRead = /*#__PURE__*/function () {
          var _messageOnMarkAllAsRead = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {
            return _regeneratorRuntime().wrap(function _callee4$(_context4) {
              while (1) switch (_context4.prev = _context4.next) {
                case 0:
                  this.updateChatSessions();
                case 1:
                case "end":
                  return _context4.stop();
              }
            }, _callee4, this);
          }));
          function messageOnMarkAllAsRead() {
            return _messageOnMarkAllAsRead.apply(this, arguments);
          }
          return messageOnMarkAllAsRead;
        }();
        _proto.onUserChat = /*#__PURE__*/function () {
          var _onUserChat = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(res) {
            return _regeneratorRuntime().wrap(function _callee5$(_context5) {
              while (1) switch (_context5.prev = _context5.next) {
                case 0:
                  if (!(res.code === ResponseCode.ERROR)) {
                    _context5.next = 3;
                    break;
                  }
                  this.warn("Get user chat error", res);
                  return _context5.abrupt("return");
                case 3:
                  pEventManager.invoke('onHasUserChat', res);
                  this.updateChatSessions(res);
                case 5:
                case "end":
                  return _context5.stop();
              }
            }, _callee5, this);
          }));
          function onUserChat(_x3) {
            return _onUserChat.apply(this, arguments);
          }
          return onUserChat;
        }();
        _proto._onNotification = /*#__PURE__*/function () {
          var _onNotification2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6(res) {
            var notification, instance, type, title, content, scope, _content, senderId, senderName, senderFullName, _UIHistoryChatManager, userData, res_user;
            return _regeneratorRuntime().wrap(function _callee6$(_context6) {
              while (1) switch (_context6.prev = _context6.next) {
                case 0:
                  notification = res.notification;
                  instance = NotifyToast.instance;
                  if (!(!notification || !instance)) {
                    _context6.next = 4;
                    break;
                  }
                  return _context6.abrupt("return");
                case 4:
                  type = notification.type;
                  _context6.t0 = type;
                  _context6.next = _context6.t0 === 'bigwin' ? 8 : _context6.t0 === 'popup' ? 10 : _context6.t0 === 'toast' ? 13 : 29;
                  break;
                case 8:
                  this._jp.push(notification);
                  return _context6.abrupt("return");
                case 10:
                  title = notification.title, content = notification.content;
                  UINotice.show({
                    raw: title
                  }, {
                    raw: content
                  }, {
                    key: "txt_btn_confirm1"
                  });
                  return _context6.abrupt("return");
                case 13:
                  scope = notification.scope, _content = notification.content, senderId = notification.senderId, senderName = notification.senderName, senderFullName = notification.senderFullName;
                  if (!(scope === "global")) {
                    _context6.next = 17;
                    break;
                  }
                  instance.show(senderFullName + ": " + _content, scope);
                  return _context6.abrupt("return");
                case 17:
                  if (!(scope === "zone")) {
                    _context6.next = 27;
                    break;
                  }
                  userData = {
                    username: senderName,
                    full_name: senderFullName,
                    avatar: GlobalConfig.instance.Login.player.information.avatar,
                    msg: _content
                  };
                  if (!(senderId !== GlobalConfig.instance.Login.player.information.id)) {
                    _context6.next = 24;
                    break;
                  }
                  _context6.next = 22;
                  return request$1('getUserInfo', {
                    uid: String(senderId)
                  });
                case 22:
                  res_user = _context6.sent;
                  userData.avatar = res_user.msg.avatar;
                case 24:
                  (_UIHistoryChatManager = UIHistoryChatManager.instance) == null || _UIHistoryChatManager.save(userData);
                  pEventManager.invoke('onHasChat', {
                    username: userData.username,
                    fullname: userData.full_name,
                    msg: userData.msg,
                    uid: senderId
                  });
                  return _context6.abrupt("return");
                case 27:
                  instance.show(_content, scope);
                  return _context6.abrupt("return");
                case 29:
                case "end":
                  return _context6.stop();
              }
            }, _callee6, this);
          }));
          function _onNotification(_x4) {
            return _onNotification2.apply(this, arguments);
          }
          return _onNotification;
        }();
        _proto.fetchRoomList = /*#__PURE__*/function () {
          var _fetchRoomList = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee9() {
            var _this3 = this;
            var _len2,
              zones,
              _key2,
              _args9 = arguments;
            return _regeneratorRuntime().wrap(function _callee9$(_context9) {
              while (1) switch (_context9.prev = _context9.next) {
                case 0:
                  for (_len2 = _args9.length, zones = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
                    zones[_key2] = _args9[_key2];
                  }
                  if (!this._fetching) {
                    _context9.next = 6;
                    break;
                  }
                  _context9.next = 4;
                  return this._fetching;
                case 4:
                  this.log("\t\t_FETCHING ROOM [1] ... >>", this._rooms, this._fetching);
                  return _context9.abrupt("return", this._rooms);
                case 6:
                  this._fetching = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee8() {
                    var all;
                    return _regeneratorRuntime().wrap(function _callee8$(_context8) {
                      while (1) switch (_context8.prev = _context8.next) {
                        case 0:
                          _context8.prev = 0;
                          all = zones.map( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee7(zone) {
                            var msg;
                            return _regeneratorRuntime().wrap(function _callee7$(_context7) {
                              while (1) switch (_context7.prev = _context7.next) {
                                case 0:
                                  _context7.next = 2;
                                  return request$3('getTables', {
                                    zone: zone
                                  });
                                case 2:
                                  msg = _context7.sent;
                                  _context7.t0 = msg.code;
                                  _context7.next = _context7.t0 === ResponseCode.SUCCESS ? 6 : _context7.t0 === ResponseCode.ERROR ? 8 : 10;
                                  break;
                                case 6:
                                  _this3._rooms[zone] = msg;
                                  return _context7.abrupt("break", 10);
                                case 8:
                                  _this3.error("Can not fetch Zooms from Zone: " + zone);
                                  return _context7.abrupt("break", 10);
                                case 10:
                                case "end":
                                  return _context7.stop();
                              }
                            }, _callee7);
                          })));
                          _context8.next = 4;
                          return Promise.all(all);
                        case 4:
                          _context8.next = 9;
                          break;
                        case 6:
                          _context8.prev = 6;
                          _context8.t0 = _context8["catch"](0);
                          _this3.error('Can not fetch Rooms', _context8.t0);
                        case 9:
                          _context8.prev = 9;
                          _this3._fetching = null;
                          return _context8.finish(9);
                        case 12:
                        case "end":
                          return _context8.stop();
                      }
                    }, _callee8, null, [[0, 6, 9, 12]]);
                  }))();
                  _context9.next = 9;
                  return this._fetching;
                case 9:
                  this.log("\t\t_FETCHING ROOM [2] ... >>", this._rooms, this._fetching);
                  return _context9.abrupt("return", this._rooms);
                case 11:
                case "end":
                  return _context9.stop();
              }
            }, _callee9, this);
          }));
          function fetchRoomList() {
            return _fetchRoomList.apply(this, arguments);
          }
          return fetchRoomList;
        }();
        _proto.getAllTables = function getAllTables() {
          return this._rooms;
        };
        _proto.getTables = /*#__PURE__*/function () {
          var _getTables = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee10(type) {
            var instance;
            return _regeneratorRuntime().wrap(function _callee10$(_context10) {
              while (1) switch (_context10.prev = _context10.next) {
                case 0:
                  if (this._rooms[type]) {
                    _context10.next = 6;
                    break;
                  }
                  instance = UILoadingScene.instance;
                  instance.open();
                  _context10.next = 5;
                  return this.fetchRoomList(type);
                case 5:
                  instance.close();
                case 6:
                  return _context10.abrupt("return", this._rooms[type].tables.tables);
                case 7:
                case "end":
                  return _context10.stop();
              }
            }, _callee10, this);
          }));
          function getTables(_x6) {
            return _getTables.apply(this, arguments);
          }
          return getTables;
        }();
        _proto._actFetchEmail = /*#__PURE__*/function () {
          var _actFetchEmail2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee11(type) {
            var res;
            return _regeneratorRuntime().wrap(function _callee11$(_context11) {
              while (1) switch (_context11.prev = _context11.next) {
                case 0:
                  _context11.next = 2;
                  return request$1('getMessagesAndEmails', {});
                case 2:
                  res = _context11.sent;
                  _context11.t0 = res.code;
                  _context11.next = _context11.t0 === ResponseCode.SUCCESS ? 6 : _context11.t0 === ResponseCode.ERROR ? 17 : 20;
                  break;
                case 6:
                  _context11.t1 = type;
                  _context11.next = _context11.t1 === MessageNotifi.EMAIL ? 9 : _context11.t1 === MessageNotifi.SYSTEM ? 12 : 16;
                  break;
                case 9:
                  this._email[type] = res.msg.emails;
                  this._email[type].sort(function (a, b) {
                    return b.log_timestamp - a.log_timestamp;
                  });
                  return _context11.abrupt("break", 16);
                case 12:
                  this._email[type] = res.msg.systems;
                  this._email[type].sort(function (a, b) {
                    return b.log_timestamp - a.log_timestamp;
                  });
                  return _context11.abrupt("break", 16);
                case 16:
                  return _context11.abrupt("break", 20);
                case 17:
                  console.error('[MainScreenController] Error >>', res);
                  this._email[type] = [];
                  return _context11.abrupt("break", 20);
                case 20:
                  pEventManager.invoke('onLoadedEmailsAndNotices');
                case 21:
                case "end":
                  return _context11.stop();
              }
            }, _callee11, this);
          }));
          function _actFetchEmail(_x7) {
            return _actFetchEmail2.apply(this, arguments);
          }
          return _actFetchEmail;
        }();
        _proto._actFetchArticles = /*#__PURE__*/function () {
          var _actFetchArticles2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee12() {
            var res, Instance, _prm;
            return _regeneratorRuntime().wrap(function _callee12$(_context12) {
              while (1) switch (_context12.prev = _context12.next) {
                case 0:
                  _context12.next = 2;
                  return request$4('getArticles', {});
                case 2:
                  res = _context12.sent;
                  if (!(res.code !== ResponseCode.SUCCESS)) {
                    _context12.next = 6;
                    break;
                  }
                  console.error('Get articles error', res);
                  return _context12.abrupt("return");
                case 6:
                  Instance = GameManager.Instance;
                  this._articles = res.data;
                  this.invoke('onLoadedArticles', this._articles);
                  _prm = this._articles.map(function (_data) {
                    return new Promise(function (_rs, _rj) {
                      return NSAsset.instance().get(_data.thumbnail).then(function (_frame) {
                        return _rs({
                          id: _data.id,
                          spf: _frame
                        });
                      })["catch"](_rj);
                    });
                  });
                  Promise.all(_prm).then(function (_data) {
                    Instance.articleData.isLoaded = true;
                    Instance.articleData.data = _data;
                    Instance.articleData.onLoaded && Instance.articleData.onLoaded(_data);
                  });
                case 11:
                case "end":
                  return _context12.stop();
              }
            }, _callee12, this);
          }));
          function _actFetchArticles() {
            return _actFetchArticles2.apply(this, arguments);
          }
          return _actFetchArticles;
        }();
        _proto.onLandingLogin = function onLandingLogin() {};
        _proto._onLoggout = function _onLoggout() {};
        _createClass(_MainScreenController, [{
          key: "currentChatSessions",
          get: function get() {
            return this._currentChatSessions;
          }
        }, {
          key: "articles",
          get: function get() {
            var _this4 = this;
            if (!this._articles) {
              return new Promise( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee13(_rs) {
                return _regeneratorRuntime().wrap(function _callee13$(_context13) {
                  while (1) switch (_context13.prev = _context13.next) {
                    case 0:
                      _context13.next = 2;
                      return _this4._actFetchArticles();
                    case 2:
                      _rs(_this4._articles);
                    case 3:
                    case "end":
                      return _context13.stop();
                  }
                }, _callee13);
              })));
            }
            return Promise.resolve(this._articles);
          }
        }, {
          key: "numberFriendRequest",
          get: function get() {
            return this._numberFriendRequest;
          }
        }, {
          key: "jp",
          get: function get() {
            if (this._jp.length <= 0) {
              var hands = ["ONE_PAIR", "TWO_PAIR", "THREE_OF_A_KIN", "STRAIGHT", "FLUSH", "FULL_HOUSE", "FOUR_OF_A_KIND", "STRAIGHT_FLUSH", "ROYAL_FLUSH"];
              var hand = hands[pMathUtils.random(0, hands.length - 1, 'INTEGER')];
              var reward = pMathUtils.random(1000000, 500000000, 'INTEGER', true);
              return {
                senderFullName: pStringUtils.generateRandomVietnameseName(),
                senderName: pStringUtils.randomName(),
                title: "",
                content: "",
                type: "bigwin",
                scope: "table",
                timestamp: "",
                senderId: 0,
                handType: hand,
                reward: reward,
                senderAvatar: "1"
              };
            } else {
              return this._jp.shift();
            }
          }
        }]);
        return _MainScreenController;
      }(NSEventDriver.Handler);
      var MainScreenController = exports('MainScreenController', _MainScreenController.generate());
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/MathUtils.ts", ['cc', './ArrayUtils.ts'], function (exports) {
  var cclegacy, Vec2, Vec3, Size, Rect, Quat, Color, easing, pArray;
  return {
    setters: [function (module) {
      cclegacy = module.cclegacy;
      Vec2 = module.Vec2;
      Vec3 = module.Vec3;
      Size = module.Size;
      Rect = module.Rect;
      Quat = module.Quat;
      Color = module.Color;
      easing = module.easing;
    }, function (module) {
      pArray = module.pArray;
    }],
    execute: function () {
      exports('pMathUtils', void 0);
      cclegacy._RF.push({}, "53473YGUONImZZaeTJpha3E", "MathUtils", undefined);
      var pMathUtils;
      (function (_pMathUtils) {
        function getMostSignificantDigit(value) {
          if (value === 0) return 0;
          var magnitude = Math.floor(Math.log10(Math.abs(value)));
          var multiplier = Math.pow(10, magnitude);
          var firstDigit = Math.floor(Math.abs(value) / multiplier);
          return firstDigit * multiplier * (value < 0 ? -1 : 1);
        }
        _pMathUtils.getMostSignificantDigit = getMostSignificantDigit;
        function random(min, max, type, significant) {
          if (type === void 0) {
            type = "INTEGER";
          }
          if (significant === void 0) {
            significant = false;
          }
          var number = min;
          switch (type) {
            case "INTEGER":
              {
                number = randomIntFromInterval(min, max);
                break;
              }
            case "FLOAT":
              {
                number = Math.random() * (max - min) + min;
                break;
              }
          }
          significant && (number = getMostSignificantDigit(number));
          return number;
        }
        _pMathUtils.random = random;
        function range(value, min, max) {
          if (typeof min != 'number') {
            max = min.max;
            min = min.min;
          }
          return Math.max(Math.min(value, max), min);
        }
        _pMathUtils.range = range;
        function rand(arr) {
          for (var _len = arguments.length, arrs = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
            arrs[_key - 1] = arguments[_key];
          }
          arr = pArray.flatter.apply(pArray, [arr].concat(arrs));
          var index = Math.floor(Math.random() * arr.length);
          return arr[index];
        }
        _pMathUtils.rand = rand;
        function randomIntFromInterval(min, max) {
          // min and max included
          return Math.floor(Math.random() * (max - min + 1) + min);
        }
        _pMathUtils.randomIntFromInterval = randomIntFromInterval;
        function randomFromInterval(min, max) {
          // min and max included
          return Math.random() * (max - min) + min;
        }
        _pMathUtils.randomFromInterval = randomFromInterval;
        function vec2(other, y) {
          if (other === void 0) {
            other = 0;
          }
          if (y === void 0) {
            y = 0;
          }
          return typeof other === 'number' ? new Vec2(other, y) : new Vec2(other.x, other.y);
        }
        _pMathUtils.vec2 = vec2;
        function vec3(other, y, z) {
          if (other === void 0) {
            other = 0;
          }
          if (y === void 0) {
            y = 0;
          }
          if (z === void 0) {
            z = 0;
          }
          return typeof other === 'number' ? new Vec3(other, y, z) : new Vec3(other.x, other.y, other.z);
        }
        _pMathUtils.vec3 = vec3;
        function size(other, height) {
          if (other === void 0) {
            other = 0;
          }
          if (height === void 0) {
            height = 0;
          }
          return typeof other === 'number' ? new Size(other, height) : new Size(other.width, other.height);
        }
        _pMathUtils.size = size;
        function rect(_other, _y, _width, _height) {
          if (_other === void 0) {
            _other = 0;
          }
          if (_y === void 0) {
            _y = 0;
          }
          if (_width === void 0) {
            _width = 0;
          }
          if (_height === void 0) {
            _height = 0;
          }
          if (typeof _other === 'number') {
            if (typeof _y === 'number') {
              return new Rect(_other, _y, _width, _height);
            }
          } else {
            var _other2 = _other,
              _x = _other2.x,
              _y2 = _other2.y;
            if ('width' in _other) {
              return new Rect(_x, _y2, _other.width, _other.height);
            } else if (typeof _y === 'object' && 'width' in _y) {
              return new Rect(_x, _y2, _y.width, _y.height);
            }
          }
          return new Rect(0, 0, 0, 0);
        }
        _pMathUtils.rect = rect;
        function quat(other, y, z, w) {
          if (other === void 0) {
            other = 0;
          }
          if (y === void 0) {
            y = 0;
          }
          if (z === void 0) {
            z = 0;
          }
          if (w === void 0) {
            w = 0;
          }
          return typeof other === 'number' ? new Quat(other, y, z, w) : new Quat(other.x, other.y, other.z, other.w);
        }
        _pMathUtils.quat = quat;
        function color(other, g, b, a) {
          if (other === void 0) {
            other = 0;
          }
          if (g === void 0) {
            g = 0;
          }
          if (b === void 0) {
            b = 0;
          }
          if (a === void 0) {
            a = 0;
          }
          return typeof other === 'number' ? new Color(other, g, b, a) : new Color(other.r, other.g, other.b, other.a);
        }
        _pMathUtils.color = color;
        function create(type, data) {
          switch (type) {
            case "Vec2":
              return vec2(data);
            case "Vec3":
              return vec3(data);
            case "Size":
              return size(data);
            case "Rect":
              return rect(data);
            case "Quat":
              return quat(data);
            case "Color":
              return color(data);
          }
        }
        _pMathUtils.create = create;
        function add(type, first, second, out) {
          switch (type) {
            case "Vec2":
              {
                var _fx = first.x;
                var _fy = first.y;
                var _sx = second.x;
                var _sy = second.y;
                out = vec2(_fx + _sx, _fy + _sy);
                return out;
              }
            case "Vec3":
              {
                var _fx2 = first.x;
                var _fy2 = first.y;
                var _fz = first.z;
                var _sx2 = second.x;
                var _sy2 = second.y;
                var _sz = second.z;
                out = vec3(_fx2 + _sx2, _fy2 + _sy2, _fz + _sz);
                return out;
              }
            case "Size":
              {
                var _fw = first.width;
                var _fh = first.height;
                var _sw = second.width;
                var _sh = second.height;
                out = size(_fw + _sw, _fh + _sh);
                return out;
              }
            case "Rect":
              {
                var _fx3 = first.x;
                var _fy3 = first.y;
                var _fw2 = first.width;
                var _fh2 = first.height;
                var _sx3 = second.x;
                var _sy3 = second.y;
                var _sw2 = second.width;
                var _sh2 = second.height;
                out = rect(_fx3 + _sx3, _fy3 + _sy3, _fw2 + _sw2, _fh2 + _sh2);
                return out;
              }
            case "Color":
              {
                var _fr = first.r;
                var _fg = first.g;
                var _fb = first.b;
                var _fa = first.a;
                var _sr = second.r;
                var _sg = second.g;
                var _sb = second.b;
                var _sa = second.a;
                out = color(_fr + _sr, _fg + _sg, _fb + _sb, _fa + _sa);
                return out;
              }
            case "Quat":
              {
                var _fx4 = first.x;
                var _fy4 = first.y;
                var _fz2 = first.z;
                var _fw3 = first.w;
                var _sx4 = second.x;
                var _sy4 = second.y;
                var _sz2 = second.z;
                var _sw3 = second.w;
                out = quat(_fx4 + _sx4, _fy4 + _sy4, _fz2 + _sz2, _fw3 + _sw3);
                return out;
              }
          }
        }
        _pMathUtils.add = add;
        function addF(type, first) {
          for (var _len2 = arguments.length, args = new Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {
            args[_key2 - 2] = arguments[_key2];
          }
          switch (type) {
            case "Vec2":
              {
                var _x2 = args[0] + first.x;
                var _y3 = args[1] + first.y;
                args[2] = vec2(_x2, _y3);
                return args[2];
              }
            case "Vec3":
              {
                var _x3 = args[0] + first.x;
                var _y4 = args[1] + first.y;
                var _z = args[2] + first.z;
                args[3] = vec3(_x3, _y4, _z);
                return args[3];
              }
            case "Size":
              {
                var _width2 = args[0] + first.width;
                var _height2 = args[1] + first.height;
                args[2] = size(_width2, _height2);
                return args[2];
              }
            case "Rect":
              {
                var _x4 = args[0] + first.x;
                var _y5 = args[1] + first.y;
                var _width3 = args[2] + first.width;
                var _height3 = args[3] + first.height;
                args[4] = rect(_x4, _y5, _width3, _height3);
                return args[4];
              }
            case "Color":
              {
                var _r = args[0] + first.r;
                var _g = args[1] + first.g;
                var _b = args[2] + first.b;
                var _a = args[3] + first.a;
                args[4] = color(_r, _g, _b, _a);
                return args[4];
              }
            case "Quat":
              {
                var _x5 = args[0] + first.x;
                var _y6 = args[1] + first.y;
                var _z2 = args[2] + first.z;
                var _w = args[3] + first.w;
                args[4] = quat(_x5, _y6, _z2, _w);
                return args[4];
              }
          }
        }
        _pMathUtils.addF = addF;
        function subF(type, first) {
          for (var _len3 = arguments.length, args = new Array(_len3 > 2 ? _len3 - 2 : 0), _key3 = 2; _key3 < _len3; _key3++) {
            args[_key3 - 2] = arguments[_key3];
          }
          switch (type) {
            case "Vec2":
              {
                var _x6 = args[0] - first.x;
                var _y7 = args[1] - first.y;
                args[2] = vec2(_x6, _y7);
                return args[2];
              }
            case "Vec3":
              {
                var _x7 = args[0] - first.x;
                var _y8 = args[1] - first.y;
                var _z3 = args[2] - first.z;
                args[3] = vec3(_x7, _y8, _z3);
                return args[3];
              }
            case "Size":
              {
                var _width4 = args[0] - first.width;
                var _height4 = args[1] - first.height;
                args[2] = size(_width4, _height4);
                return args[2];
              }
            case "Rect":
              {
                var _x8 = args[0] - first.x;
                var _y9 = args[1] - first.y;
                var _width5 = args[2] - first.width;
                var _height5 = args[3] - first.height;
                args[4] = rect(_x8, _y9, _width5, _height5);
                return args[4];
              }
            case "Color":
              {
                var _r2 = args[0] - first.r;
                var _g2 = args[1] - first.g;
                var _b2 = args[2] - first.b;
                var _a2 = args[3] - first.a;
                args[4] = color(_r2, _g2, _b2, _a2);
                return args[4];
              }
            case "Quat":
              {
                var _x9 = args[0] - first.x;
                var _y10 = args[1] - first.y;
                var _z4 = args[2] - first.z;
                var _w2 = args[3] - first.w;
                args[4] = quat(_x9, _y10, _z4, _w2);
                return args[4];
              }
          }
        }
        _pMathUtils.subF = subF;
        function mulF(type, first) {
          for (var _len4 = arguments.length, args = new Array(_len4 > 2 ? _len4 - 2 : 0), _key4 = 2; _key4 < _len4; _key4++) {
            args[_key4 - 2] = arguments[_key4];
          }
          switch (type) {
            case "Vec2":
              {
                var _x10 = args[0] * first.x;
                var _y11 = args[1] * first.y;
                args[2] = vec2(_x10, _y11);
                return args[2];
              }
            case "Vec3":
              {
                var _x11 = args[0] * first.x;
                var _y12 = args[1] * first.y;
                var _z5 = args[2] * first.z;
                args[3] = vec3(_x11, _y12, _z5);
                return args[3];
              }
            case "Size":
              {
                var _width6 = args[0] * first.width;
                var _height6 = args[1] * first.height;
                args[2] = size(_width6, _height6);
                return args[2];
              }
            case "Rect":
              {
                var _x12 = args[0] * first.x;
                var _y13 = args[1] * first.y;
                var _width7 = args[2] * first.width;
                var _height7 = args[3] * first.height;
                args[4] = rect(_x12, _y13, _width7, _height7);
                return args[4];
              }
            case "Color":
              {
                var _r3 = args[0] * first.r;
                var _g3 = args[1] * first.g;
                var _b3 = args[2] * first.b;
                var _a3 = args[3] * first.a;
                args[4] = color(_r3, _g3, _b3, _a3);
                return args[4];
              }
            case "Quat":
              {
                var _x13 = args[0] * first.x;
                var _y14 = args[1] * first.y;
                var _z6 = args[2] * first.z;
                var _w3 = args[3] * first.w;
                args[4] = quat(_x13, _y14, _z6, _w3);
                return args[4];
              }
          }
        }
        _pMathUtils.mulF = mulF;
        function addS(type, first, args, out) {
          switch (type) {
            case "Vec2":
              return addF(type, first, args, args, out);
            case "Vec3":
              return addF(type, first, args, args, args, out);
            case "Size":
              return addF(type, first, args, args, out);
            case "Rect":
              return addF(type, first, args, args, args, args, out);
            case "Color":
              return addF(type, first, args, args, args, args, out);
            case "Quat":
              return addF(type, first, args, args, args, args, out);
          }
        }
        _pMathUtils.addS = addS;
        function subS(type, first, args, out) {
          switch (type) {
            case "Vec2":
              return subF(type, first, args, args, out);
            case "Vec3":
              return subF(type, first, args, args, args, out);
            case "Size":
              return subF(type, first, args, args, out);
            case "Rect":
              return subF(type, first, args, args, args, args, out);
            case "Color":
              return subF(type, first, args, args, args, args, out);
            case "Quat":
              return subF(type, first, args, args, args, args, out);
          }
        }
        _pMathUtils.subS = subS;
        function mulS(type, first, args, out) {
          switch (type) {
            case "Vec2":
              return mulF(type, first, args, args, out);
            case "Vec3":
              return mulF(type, first, args, args, args, out);
            case "Size":
              return mulF(type, first, args, args, out);
            case "Rect":
              return mulF(type, first, args, args, args, args, out);
            case "Color":
              return mulF(type, first, args, args, args, args, out);
            case "Quat":
              return mulF(type, first, args, args, args, args, out);
          }
        }
        _pMathUtils.mulS = mulS;
        function sub(type, first, second, out) {
          switch (type) {
            case "Vec2":
              {
                var _fx = first.x;
                var _fy = first.y;
                var _sx = second.x;
                var _sy = second.y;
                out = vec2(_fx - _sx, _fy - _sy);
                return out;
              }
            case "Vec3":
              {
                var _fx5 = first.x;
                var _fy5 = first.y;
                var _fz = first.z;
                var _sx5 = second.x;
                var _sy5 = second.y;
                var _sz = second.z;
                out = vec3(_fx5 - _sx5, _fy5 - _sy5, _fz - _sz);
                return out;
              }
            case "Size":
              {
                var _fw = first.width;
                var _fh = first.height;
                var _sw = second.width;
                var _sh = second.height;
                out = size(_fw - _sw, _fh - _sh);
                return out;
              }
            case "Rect":
              {
                var _fx6 = first.x;
                var _fy6 = first.y;
                var _fw4 = first.width;
                var _fh3 = first.height;
                var _sx6 = second.x;
                var _sy6 = second.y;
                var _sw4 = second.width;
                var _sh3 = second.height;
                out = rect(_fx6 - _sx6, _fy6 - _sy6, _fw4 - _sw4, _fh3 - _sh3);
                return out;
              }
            case "Color":
              {
                var _fr = first.r;
                var _fg = first.g;
                var _fb = first.b;
                var _fa = first.a;
                var _sr = second.r;
                var _sg = second.g;
                var _sb = second.b;
                var _sa = second.a;
                out = color(_fr - _sr, _fg - _sg, _fb - _sb, _fa - _sa);
                return out;
              }
            case "Quat":
              {
                var _fx7 = first.x;
                var _fy7 = first.y;
                var _fz3 = first.z;
                var _fw5 = first.w;
                var _sx7 = second.x;
                var _sy7 = second.y;
                var _sz3 = second.z;
                var _sw5 = second.w;
                out = quat(_fx7 - _sx7, _fy7 - _sy7, _fz3 - _sz3, _fw5 - _sw5);
                return out;
              }
          }
        }
        _pMathUtils.sub = sub;
        function mul(type, first, second, out) {
          switch (type) {
            case "Vec2":
              {
                var _fx = first.x;
                var _fy = first.y;
                var _sx = second.x;
                var _sy = second.y;
                out = vec2(_fx * _sx, _fy * _sy);
                return out;
              }
            case "Vec3":
              {
                var _fx8 = first.x;
                var _fy8 = first.y;
                var _fz = first.z;
                var _sx8 = second.x;
                var _sy8 = second.y;
                var _sz = second.z;
                out = vec3(_fx8 * _sx8, _fy8 * _sy8, _fz * _sz);
                return out;
              }
            case "Size":
              {
                var _fw = first.width;
                var _fh = first.height;
                var _sw = second.width;
                var _sh = second.height;
                out = size(_fw * _sw, _fh * _sh);
                return out;
              }
            case "Rect":
              {
                var _fx9 = first.x;
                var _fy9 = first.y;
                var _fw6 = first.width;
                var _fh4 = first.height;
                var _sx9 = second.x;
                var _sy9 = second.y;
                var _sw6 = second.width;
                var _sh4 = second.height;
                out = rect(_fx9 * _sx9, _fy9 * _sy9, _fw6 * _sw6, _fh4 * _sh4);
                return out;
              }
            case "Color":
              {
                var _fr = first.r;
                var _fg = first.g;
                var _fb = first.b;
                var _fa = first.a;
                var _sr = second.r;
                var _sg = second.g;
                var _sb = second.b;
                var _sa = second.a;
                out = color(_fr * _sr, _fg * _sg, _fb * _sb, _fa * _sa);
                return out;
              }
            case "Quat":
              {
                var _fx10 = first.x;
                var _fy10 = first.y;
                var _fz4 = first.z;
                var _fw7 = first.w;
                var _sx10 = second.x;
                var _sy10 = second.y;
                var _sz4 = second.z;
                var _sw7 = second.w;
                out = quat(_fx10 * _sx10, _fy10 * _sy10, _fz4 * _sz4, _fw7 * _sw7);
                return out;
              }
          }
        }
        _pMathUtils.mul = mul;
        var NSAngle;
        (function (_NSAngle) {
          function unit(_angle, _input, _output) {
            if (_input === _output) return _angle;
            if (_input === 'degree' && _output === 'radian') {
              return _angle * Math.PI / 180;
            }
            if (_input === 'radian' && _output === 'degree') {
              return _angle * 180 / Math.PI;
            }
          }
          _NSAngle.unit = unit;
          function length(_start, _target) {
            var vts = vec3(_start.x - _target.x, _start.y - _target.y, _start.z - _target.z);
            return Math.sqrt(Math.pow(vts.x, 2) + Math.pow(vts.y, 2));
          }
          _NSAngle.length = length;
          function between(_start, _target, _type, _unit) {
            if (_type === void 0) {
              _type = 'Between';
            }
            if (_unit === void 0) {
              _unit = 'radian';
            }
            var vts = vec3(_start.x - _target.x, _start.y - _target.y, _start.z - _target.z);
            var mts = Math.sqrt(Math.pow(vts.x, 2) + Math.pow(vts.y, 2));
            if (mts === 0) return 0;
            switch (_type) {
              case "Ox":
                {
                  return unit(Math.atan2(vts.y, vts.x), 'radian', _unit);
                }
              case "Oy":
                {
                  return unit(Math.atan2(vts.x, vts.y), 'radian', _unit);
                }
              case "Oz":
                {
                  return unit(Math.atan2(vts.x, vts.z), 'radian', _unit);
                }
              case "Between":
                {
                  var _dot = _start.x * _target.x + _start.y * _target.y + _start.z * _target.z;
                  var _mags = Math.sqrt(Math.pow(_start.x, 2) + Math.pow(_start.y, 2) + Math.pow(_start.z, 2));
                  var _magt = Math.sqrt(Math.pow(_target.x, 2) + Math.pow(_target.y, 2) + Math.pow(_target.z, 2));
                  if (_mags === 0 || _magt === 0) {
                    return 0;
                  }
                  var _cos = Math.max(-1, Math.min(1, _dot / (_mags * _magt)));
                  return unit(Math.acos(_cos), 'radian', _unit);
                }
            }
          }
          _NSAngle.between = between;
        })(NSAngle || (NSAngle = _pMathUtils.NSAngle || (_pMathUtils.NSAngle = {})));
        function isOdd(num) {
          for (var _len5 = arguments.length, nums = new Array(_len5 > 1 ? _len5 - 1 : 0), _key5 = 1; _key5 < _len5; _key5++) {
            nums[_key5 - 1] = arguments[_key5];
          }
          nums = pArray.flatter.apply(pArray, [num].concat(nums));
          return nums.every(function (_num) {
            return _num % 2 !== 0;
          });
        }
        _pMathUtils.isOdd = isOdd;
        function scaleImageInsideBound(boundWidth, boundHeight, iWidth, iHeight) {
          var scale = Math.min(boundWidth / iWidth, boundHeight / iHeight);
          return size(iWidth * scale, iHeight * scale);
        }
        _pMathUtils.scaleImageInsideBound = scaleImageInsideBound;
        function getEasing(_easing) {
          if (!_easing) return easing.linear;
          if (typeof _easing === 'function') {
            return _easing;
          }
          var _easer = easing[_easing];
          return typeof _easer === 'function' ? _easer : easing.linear;
        }
        _pMathUtils.getEasing = getEasing;
      })(pMathUtils || (pMathUtils = exports('pMathUtils', {})));
      /**
       * @deprecated Use `pMathUtils` instead
       */
      var MathUtils = exports('MathUtils', pMathUtils);
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/MiniLoading.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _createClass, cclegacy, _decorator, Node, Animation, Component;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _createClass = module.createClass;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Node = module.Node;
      Animation = module.Animation;
      Component = module.Component;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _class, _class2, _descriptor, _descriptor2, _descriptor3;
      cclegacy._RF.push({}, "3efd5n64otDsLXz1Xi7wxky", "MiniLoading", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var MiniLoading = exports('MiniLoading', (_dec = ccclass("MiniLoading"), _dec2 = property(Node), _dec3 = property(Animation), _dec4 = property(Animation), _dec5 = property({}), _dec(_class = (_class2 = /*#__PURE__*/function (_Component) {
        _inheritsLoose(MiniLoading, _Component);
        function MiniLoading() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _Component.call.apply(_Component, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "root", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "_anim", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "clip", _descriptor3, _assertThisInitialized(_this));
          return _this;
        }
        var _proto = MiniLoading.prototype;
        _proto.show = function show() {
          this.root.active = true;
          this._anim.play(this.clip);
        };
        _proto.close = function close() {
          this.root.active = false;
        };
        _createClass(MiniLoading, [{
          key: "anim",
          get: function get() {
            return this._anim;
          },
          set: function set(x) {
            var _this$_anim$defaultCl;
            this._anim = x;
            !!this._anim && this.clip.length <= 0 && (this.clip = ((_this$_anim$defaultCl = this._anim.defaultClip) == null ? void 0 : _this$_anim$defaultCl.name) || '');
          }
        }, {
          key: "isShowing",
          get: function get() {
            return this.root.active;
          }
        }]);
        return MiniLoading;
      }(Component), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "root", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "_anim", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _applyDecoratedDescriptor(_class2.prototype, "anim", [_dec4], Object.getOwnPropertyDescriptor(_class2.prototype, "anim"), _class2.prototype), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "clip", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return "";
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/MissionCommand.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './Connection.ts'], function (exports) {
  var _asyncToGenerator, _regeneratorRuntime, cclegacy, _connection;
  return {
    setters: [function (module) {
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
    }, function (module) {
      _connection = module.default;
    }],
    execute: function () {
      exports('default', request);
      cclegacy._RF.push({}, "eaf71ylWNJItpzzcMa/MSqi", "MissionCommand", undefined);
      var MC;
      (function (_MC) {
        var prefix = _MC.prefix = "game.missionsHandler.";
      })(MC || (MC = {}));
      function request(_x, _x2, _x3) {
        return _request.apply(this, arguments);
      }
      function _request() {
        _request = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(command, payload, cb) {
          return _regeneratorRuntime().wrap(function _callee$(_context) {
            while (1) switch (_context.prev = _context.next) {
              case 0:
                return _context.abrupt("return", _connection.send(MC.prefix + command, payload, cb));
              case 1:
              case "end":
                return _context.stop();
            }
          }, _callee);
        }));
        return _request.apply(this, arguments);
      }
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/MoverTutorial.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './GameTutorial.ts', './MovingFx.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, cclegacy, _decorator, GameTutorial, NSMovingFx;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
    }, function (module) {
      GameTutorial = module.GameTutorial;
    }, function (module) {
      NSMovingFx = module.NSMovingFx;
    }],
    execute: function () {
      var _dec, _dec2, _class, _class2, _descriptor;
      cclegacy._RF.push({}, "19c658++wNBqZuN2fcdzIIf", "MoverTutorial", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var MoverTutorial = exports('MoverTutorial', (_dec = ccclass("GameTutorial.MoverTutorial"), _dec2 = property(NSMovingFx.Component), _dec(_class = (_class2 = /*#__PURE__*/function (_GameTutorial) {
        _inheritsLoose(MoverTutorial, _GameTutorial);
        function MoverTutorial() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _GameTutorial.call.apply(_GameTutorial, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "mover", _descriptor, _assertThisInitialized(_this));
          _this._actions = [function () {
            return _this.mover.show({
              id: 'on'
            });
          }];
          return _this;
        }
        var _proto = MoverTutorial.prototype;
        _proto._onExit = function _onExit() {
          return this.mover.show({
            id: 'off'
          });
        };
        return MoverTutorial;
      }(GameTutorial), _descriptor = _applyDecoratedDescriptor(_class2.prototype, "mover", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/MovingFx.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './IAnimationFX.ts', './Enums.ts', './ComponentUtils.ts', './StringUtils.ts', './AsyncUtils.ts', './NodeUtils.ts'], function (exports) {
  var _inheritsLoose, _applyDecoratedDescriptor, _createClass, _initializerDefineProperty, _assertThisInitialized, _asyncToGenerator, _regeneratorRuntime, _createForOfIteratorHelperLoose, cclegacy, Enum, Node, v3, UITransform, CCInteger, _decorator, tween, NSAnimationFX, EByTo, pComponentUtils, pStringUtils, pAsyncUtils, pNodeUtils;
  return {
    setters: [function (module) {
      _inheritsLoose = module.inheritsLoose;
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _createClass = module.createClass;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
      _createForOfIteratorHelperLoose = module.createForOfIteratorHelperLoose;
    }, function (module) {
      cclegacy = module.cclegacy;
      Enum = module.Enum;
      Node = module.Node;
      v3 = module.v3;
      UITransform = module.UITransform;
      CCInteger = module.CCInteger;
      _decorator = module._decorator;
      tween = module.tween;
    }, function (module) {
      NSAnimationFX = module.NSAnimationFX;
    }, function (module) {
      EByTo = module.EByTo;
    }, function (module) {
      pComponentUtils = module.pComponentUtils;
    }, function (module) {
      pStringUtils = module.pStringUtils;
    }, function (module) {
      pAsyncUtils = module.pAsyncUtils;
    }, function (module) {
      pNodeUtils = module.pNodeUtils;
    }],
    execute: function () {
      exports('NSMovingFx', void 0);
      cclegacy._RF.push({}, "381799spXRAZ6NyoVXXF4ML", "MovingFx", undefined);
      var _cc$_decorator = _decorator,
        ccclass = _cc$_decorator.ccclass,
        property = _cc$_decorator.property,
        menu = _cc$_decorator.menu;
      var NSMovingFx;
      (function (_NSMovingFx, _dec, _dec2, _dec3, _dec4, _dec5, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _dec6, _dec7, _dec8, _dec9, _dec10, _class4, _class5, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _dec11, _dec12, _dec13, _dec14, _class7, _class8, _descriptor9, _descriptor10) {
        var Helper = (_dec = ccclass('NSMovingFx.Helper'), _dec2 = property({
          visible: function visible() {
            return !this.carget;
          },
          displayOrder: 0
        }), _dec3 = property({
          type: Enum(EByTo),
          override: true
        }), _dec4 = property({
          visible: function visible() {
            return true;
          },
          type: Node,
          displayOrder: 0,
          displayName: "Target"
        }), _dec5 = property({
          visible: function visible() {
            return !this.carget;
          }
        }), _dec(_class = (_class2 = /*#__PURE__*/function (_NSAnimationFX$Helper) {
          _inheritsLoose(Helper, _NSAnimationFX$Helper);
          function Helper() {
            var _this;
            for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
              args[_key] = arguments[_key];
            }
            _this = _NSAnimationFX$Helper.call.apply(_NSAnimationFX$Helper, [this].concat(args)) || this;
            _initializerDefineProperty(_this, "target", _descriptor, _assertThisInitialized(_this));
            _initializerDefineProperty(_this, "byto", _descriptor2, _assertThisInitialized(_this));
            _initializerDefineProperty(_this, "carget", _descriptor3, _assertThisInitialized(_this));
            _initializerDefineProperty(_this, "isWorld", _descriptor4, _assertThisInitialized(_this));
            return _this;
          }
          var _proto = Helper.prototype;
          _proto["do"] = function _do(tween) {
            var target = pComponentUtils.getTargetFromTween(tween);
            if (!target) return;
            var position = v3();
            if (this.carget) {
              position = pNodeUtils.getLocalPosition(target, this.carget);
            } else {
              var transform = pComponentUtils.getSafeComponent(target, UITransform);
              position = this.isWorld ? transform.convertToNodeSpaceAR(this.target) : this.target;
            }
            switch (this.byto) {
              case EByTo.BY:
                {
                  tween.by(this.duration, {
                    position: position
                  }, {
                    easing: this.easing
                  });
                  return tween;
                }
              case EByTo.TO:
                {
                  tween.to(this.duration, {
                    position: position
                  }, {
                    easing: this.easing
                  });
                  return tween;
                }
            }
          };
          return Helper;
        }(NSAnimationFX.Helper), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "target", [_dec2], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return v3();
          }
        }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "byto", [_dec3], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return EByTo.BY;
          }
        }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "carget", [_dec4], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return null;
          }
        }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "isWorld", [_dec5], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return false;
          }
        })), _class2)) || _class);
        _NSMovingFx.Helper = Helper;
        var ExpertHelper = (_dec6 = ccclass('NSMovingFx.ExpertHelper'), _dec7 = property({}), _dec8 = property({
          min: 0,
          type: CCInteger
        }), _dec9 = property({
          min: 0
        }), _dec10 = property({
          type: [Helper]
        }), _dec6(_class4 = (_class5 = /*#__PURE__*/function () {
          function ExpertHelper() {
            _initializerDefineProperty(this, "id", _descriptor5, this);
            _initializerDefineProperty(this, "loopTime", _descriptor6, this);
            _initializerDefineProperty(this, "delay", _descriptor7, this);
            _initializerDefineProperty(this, "helpers", _descriptor8, this);
            this._asid = {
              time: 0,
              id: pStringUtils.uuid()
            };
            this._tween = null;
            this._resolver = null;
          }
          var _proto2 = ExpertHelper.prototype;
          _proto2.show = /*#__PURE__*/function () {
            var _show = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(target) {
              var _this2 = this;
              return _regeneratorRuntime().wrap(function _callee$(_context) {
                while (1) switch (_context.prev = _context.next) {
                  case 0:
                    this.stop();
                    this._asid.time = this.delay;
                    _context.next = 4;
                    return pAsyncUtils.wait(this._asid);
                  case 4:
                    return _context.abrupt("return", new Promise(function (rs) {
                      _this2._tween = _this2.helpers.reduce(function (curr, helper) {
                        return curr = helper["do"](curr);
                      }, tween(target));
                      _this2._resolver = rs;
                      _this2._tween.call(_this2.stop.bind(_this2)).start();
                    }));
                  case 5:
                  case "end":
                    return _context.stop();
                }
              }, _callee, this);
            }));
            function show(_x) {
              return _show.apply(this, arguments);
            }
            return show;
          }();
          _proto2.stop = function stop() {
            var _this$_tween;
            (_this$_tween = this._tween) == null || _this$_tween.stop();
            this._resolver && this._resolver();
            this._resolver = null;
          };
          _proto2.is = function is(id) {
            id = typeof id === 'object' ? id.id : id;
            return this.id === id;
          };
          _createClass(ExpertHelper, [{
            key: "isShowing",
            get: function get() {
              return !!this._resolver;
            }
          }]);
          return ExpertHelper;
        }(), (_descriptor5 = _applyDecoratedDescriptor(_class5.prototype, "id", [_dec7], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return pStringUtils.uuid();
          }
        }), _descriptor6 = _applyDecoratedDescriptor(_class5.prototype, "loopTime", [_dec8], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return 0;
          }
        }), _descriptor7 = _applyDecoratedDescriptor(_class5.prototype, "delay", [_dec9], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return 0;
          }
        }), _descriptor8 = _applyDecoratedDescriptor(_class5.prototype, "helpers", [_dec10], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return [];
          }
        })), _class5)) || _class4);
        _NSMovingFx.ExpertHelper = ExpertHelper;
        var Component = (_dec11 = ccclass('NSMovingFx.Component'), _dec12 = menu('Effect/NSMovingFx.Component'), _dec13 = property({
          type: Node
        }), _dec14 = property([ExpertHelper]), _dec11(_class7 = _dec12(_class7 = (_class8 = /*#__PURE__*/function (_NSAnimationFX$Compon) {
          _inheritsLoose(Component, _NSAnimationFX$Compon);
          function Component() {
            var _this3;
            for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
              args[_key2] = arguments[_key2];
            }
            _this3 = _NSAnimationFX$Compon.call.apply(_NSAnimationFX$Compon, [this].concat(args)) || this;
            _initializerDefineProperty(_this3, "target", _descriptor9, _assertThisInitialized(_this3));
            _initializerDefineProperty(_this3, "helpers", _descriptor10, _assertThisInitialized(_this3));
            return _this3;
          }
          var _proto3 = Component.prototype;
          _proto3._init = function _init() {};
          _proto3._getData = function _getData(_data) {
            return {
              id: _data.id || pStringUtils.uuid()
            };
          };
          _proto3.get = function get(id) {
            var helper = this.helpers.find(function (helper) {
              return helper.is(id);
            });
            return helper;
          };
          _proto3.show = /*#__PURE__*/function () {
            var _show2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(data) {
              var helper;
              return _regeneratorRuntime().wrap(function _callee2$(_context2) {
                while (1) switch (_context2.prev = _context2.next) {
                  case 0:
                    _context2.prev = 0;
                    helper = this.helpers.find(function (helper) {
                      return helper.is(data);
                    });
                    if (helper) {
                      _context2.next = 5;
                      break;
                    }
                    this.warn("MovingFx: Helper with id " + data + " not found.");
                    return _context2.abrupt("return");
                  case 5:
                    _context2.next = 7;
                    return helper.show(this.target);
                  case 7:
                    _context2.next = 12;
                    break;
                  case 9:
                    _context2.prev = 9;
                    _context2.t0 = _context2["catch"](0);
                    this.warn("MovingFx: Error showing helper with id " + data, _context2.t0);
                  case 12:
                  case "end":
                    return _context2.stop();
                }
              }, _callee2, this, [[0, 9]]);
            }));
            function show(_x2) {
              return _show2.apply(this, arguments);
            }
            return show;
          }();
          _proto3.hide = /*#__PURE__*/function () {
            var _hide = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {
              var _iterator, _step, ref;
              return _regeneratorRuntime().wrap(function _callee3$(_context3) {
                while (1) switch (_context3.prev = _context3.next) {
                  case 0:
                    for (_iterator = _createForOfIteratorHelperLoose(this.helpers); !(_step = _iterator()).done;) {
                      ref = _step.value;
                      ref.stop();
                    }
                  case 1:
                  case "end":
                    return _context3.stop();
                }
              }, _callee3, this);
            }));
            function hide() {
              return _hide.apply(this, arguments);
            }
            return hide;
          }();
          _createClass(Component, [{
            key: "isShowing",
            get: function get() {
              return this.helpers.some(function (helper) {
                return helper.isShowing;
              });
            }
          }]);
          return Component;
        }(NSAnimationFX.Component), (_descriptor9 = _applyDecoratedDescriptor(_class8.prototype, "target", [_dec13], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: null
        }), _descriptor10 = _applyDecoratedDescriptor(_class8.prototype, "helpers", [_dec14], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return [];
          }
        })), _class8)) || _class7) || _class7);
        _NSMovingFx.Component = Component;
      })(NSMovingFx || (NSMovingFx = exports('NSMovingFx', {})));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/msg_decoder.ts", ['cc', './codec.ts', './util.ts'], function (exports) {
  var cclegacy, Codec, Util;
  return {
    setters: [function (module) {
      cclegacy = module.cclegacy;
    }, function (module) {
      Codec = module.Codec;
    }, function (module) {
      Util = module.Util;
    }],
    execute: function () {
      cclegacy._RF.push({}, "f6295X5+19Ngp3TawVM3e/m", "msg_decoder", undefined);

      /**
       * Interface for protobuf schema definitions.
       */

      /**
       * Protobuf message decoder.
       * Decodes binary buffers into JavaScript objects according to proto schema.
       */
      var MsgDecoder = exports('MsgDecoder', /*#__PURE__*/function () {
        function MsgDecoder() {}
        /** Initialize with proto definitions */
        MsgDecoder.init = function init(protos) {
          this.protos = protos || {};
        }

        /** Update proto definitions */;
        MsgDecoder.setProtos = function setProtos(protos) {
          if (protos) {
            this.protos = protos;
          }
        }

        /**
         * Decode a message buffer according to the given route.
         */;
        MsgDecoder.decode = function decode(route, buf) {
          var protos = this.protos[route];
          this.buffer = buf;
          this.offset = 0;
          if (protos) {
            return this.decodeMsg({}, protos, this.buffer.length);
          }
          return null;
        }

        /**
         * Recursively decode a message by walking through the buffer
         * based on the schema definition.
         */;
        MsgDecoder.decodeMsg = function decodeMsg(msg, protos, length) {
          while (this.offset < length) {
            var _protos$__tags;
            var head = this.getHead();
            var type = head.type;
            var tag = head.tag;
            var name = (_protos$__tags = protos.__tags) == null ? void 0 : _protos$__tags[tag];
            if (!name || !protos[name]) {
              break;
            }
            var field = protos[name];
            switch (field.option) {
              case "required":
              case "optional":
                msg[name] = this.decodeProp(field.type, protos);
                break;
              case "repeated":
                if (!msg[name]) msg[name] = [];
                this.decodeArray(msg[name], field.type, protos);
                break;
            }
          }
          return msg;
        }

        /** Decode a single field value */;
        MsgDecoder.decodeProp = function decodeProp(type, protos) {
          switch (type) {
            case "uInt32":
              return Codec.decodeUInt32(this.getBytes());
            case "int32":
            case "sInt32":
              return Codec.decodeSInt32(this.getBytes());
            case "float":
              {
                var value = Codec.decodeFloat(this.buffer, this.offset);
                this.offset += 4;
                return value;
              }
            case "double":
              {
                var _value = Codec.decodeDouble(this.buffer, this.offset);
                this.offset += 8;
                return _value;
              }
            case "string":
              {
                var length = Codec.decodeUInt32(this.getBytes());
                var str = Codec.decodeStr(this.buffer, this.offset, length);
                this.offset += length;
                return str;
              }
            default:
              {
                var _protos$__messages;
                var message = (protos == null || (_protos$__messages = protos.__messages) == null ? void 0 : _protos$__messages[type]) || this.protos["message " + type];
                if (message) {
                  var _length = Codec.decodeUInt32(this.getBytes());
                  var msg = {};
                  this.decodeMsg(msg, message, this.offset + _length);
                  return msg;
                }
                break;
              }
          }
        }

        /** Decode an array (repeated field) */;
        MsgDecoder.decodeArray = function decodeArray(array, type, protos) {
          if (Util.isSimpleType(type)) {
            var length = Codec.decodeUInt32(this.getBytes());
            for (var i = 0; i < length; i++) {
              array.push(this.decodeProp(type));
            }
          } else {
            array.push(this.decodeProp(type, protos));
          }
        }

        /** Get next varint bytes and advance offset */;
        MsgDecoder.getBytes = function getBytes(flag) {
          if (flag === void 0) {
            flag = false;
          }
          var bytes = [];
          var pos = this.offset;
          var b;
          do {
            b = this.buffer[pos];
            bytes.push(b);
            pos++;
          } while (b >= 128);
          if (!flag) {
            this.offset = pos;
          }
          return bytes;
        }

        /** Peek varint bytes without advancing offset */;
        MsgDecoder.peekBytes = function peekBytes() {
          return this.getBytes(true);
        }

        /** Decode tag header (field number + wire type) */;
        MsgDecoder.getHead = function getHead() {
          var tag = Codec.decodeUInt32(this.getBytes());
          return {
            type: tag & 0x7,
            tag: tag >> 3
          };
        }

        /** Peek at tag header without moving offset */;
        MsgDecoder.peekHead = function peekHead() {
          var tag = Codec.decodeUInt32(this.peekBytes());
          return {
            type: tag & 0x7,
            tag: tag >> 3
          };
        }

        /** Check if message parsing is finished */;
        MsgDecoder.isFinish = function isFinish(msg, protos) {
          var _protos$__tags2;
          return !((_protos$__tags2 = protos.__tags) != null && _protos$__tags2[this.peekHead().tag]);
        };
        return MsgDecoder;
      }());
      MsgDecoder.protos = {};
      MsgDecoder.buffer = void 0;
      MsgDecoder.offset = 0;
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/msg_encoder.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './codec.ts', './util.ts', './constants2.ts'], function (exports) {
  var _createForOfIteratorHelperLoose, cclegacy, Codec, Util, constants;
  return {
    setters: [function (module) {
      _createForOfIteratorHelperLoose = module.createForOfIteratorHelperLoose;
    }, function (module) {
      cclegacy = module.cclegacy;
    }, function (module) {
      Codec = module.Codec;
    }, function (module) {
      Util = module.Util;
    }, function (module) {
      constants = module.constants;
    }],
    execute: function () {
      cclegacy._RF.push({}, "8479bdVvWNAZoBrI6Nzi+7T", "msg_encoder", undefined);
      var MsgEncoder = exports('MsgEncoder', /*#__PURE__*/function () {
        function MsgEncoder() {}
        /** Initialize with proto definitions. */
        MsgEncoder.init = function init(protos) {
          this.protos = protos || {};
        }

        /**
         * Encode a message given its route and content.
         * @param route Proto route key (message name)
         * @param msg Message data object
         */;
        MsgEncoder.encode = function encode(route, msg) {
          var protos = this.protos[route];
          if (!this.checkMsg(msg, protos)) return null;

          // Pre-allocate a large enough buffer (2x estimated size)
          var length = Codec.byteLength(JSON.stringify(msg)) * 2;
          var buffer = new Uint8Array(length);
          var offset = 0;
          if (protos) {
            offset = this.encodeMsg(buffer, offset, protos, msg);
            if (offset > 0) return buffer.subarray(0, offset);
          }
          return null;
        }

        /** Validate message against proto schema */;
        MsgEncoder.checkMsg = function checkMsg(msg, protos) {
          var _protos$__messages2;
          if (!protos) return false;
          for (var name in protos) {
            var proto = protos[name];
            if (!proto || typeof proto.option === "undefined") continue;
            switch (proto.option) {
              case "required":
                if (typeof msg[name] === "undefined") {
                  console.warn("Missing required property:", name, proto, msg);
                  return false;
                }
              // fallthrough
              case "optional":
                if (typeof msg[name] !== "undefined") {
                  var _protos$__messages;
                  var message = ((_protos$__messages = protos.__messages) == null ? void 0 : _protos$__messages[proto.type]) || this.protos["message " + proto.type];
                  if (message && !this.checkMsg(msg[name], message)) {
                    console.warn("Inner proto validation failed:", name, proto, msg);
                    return false;
                  }
                }
                break;
              case "repeated":
                var messageRep = ((_protos$__messages2 = protos.__messages) == null ? void 0 : _protos$__messages2[proto.type]) || this.protos["message " + proto.type];
                if (Array.isArray(msg[name]) && messageRep) {
                  for (var _iterator = _createForOfIteratorHelperLoose(msg[name]), _step; !(_step = _iterator()).done;) {
                    var item = _step.value;
                    if (!this.checkMsg(item, messageRep)) return false;
                  }
                }
                break;
            }
          }
          return true;
        }

        /** Encode a message according to proto schema */;
        MsgEncoder.encodeMsg = function encodeMsg(buffer, offset, protos, msg) {
          var _msg$name;
          for (var name in msg) {
            var proto = protos[name];
            if (!proto) continue;
            switch (proto.option) {
              case "required":
              case "optional":
                offset = this.writeBytes(buffer, offset, this.encodeTag(proto.type, proto.tag));
                offset = this.encodeProp(msg[name], proto.type, offset, buffer, protos);
                break;
              case "repeated":
                if (((_msg$name = msg[name]) == null ? void 0 : _msg$name.length) > 0) {
                  offset = this.encodeArray(msg[name], proto, offset, buffer, protos);
                }
                break;
            }
          }
          return offset;
        }

        /** Encode a single property by type */;
        MsgEncoder.encodeProp = function encodeProp(value, type, offset, buffer, protos) {
          switch (type) {
            case "uInt32":
              return this.writeBytes(buffer, offset, Codec.encodeUInt32(value));
            case "int32":
            case "sInt32":
              return this.writeBytes(buffer, offset, Codec.encodeSInt32(value));
            case "float":
              this.writeBytes(buffer, offset, Codec.encodeFloat(value));
              return offset + 4;
            case "double":
              this.writeBytes(buffer, offset, Codec.encodeDouble(value));
              return offset + 8;
            case "string":
              {
                var length = Codec.byteLength(value);
                offset = this.writeBytes(buffer, offset, Codec.encodeUInt32(length));
                Codec.encodeStr(buffer, offset, value);
                return offset + length;
              }
            default:
              {
                var _protos$__messages3;
                var message = ((_protos$__messages3 = protos.__messages) == null ? void 0 : _protos$__messages3[type]) || this.protos["message " + type];
                if (message) {
                  // Create temp buffer for nested message
                  var tmpBuffer = new Uint8Array(Codec.byteLength(JSON.stringify(value)) * 2);
                  var _length = this.encodeMsg(tmpBuffer, 0, message, value);

                  // Write message length
                  offset = this.writeBytes(buffer, offset, Codec.encodeUInt32(_length));

                  // Copy message content
                  buffer.set(tmpBuffer.subarray(0, _length), offset);
                  offset += _length;
                }
                return offset;
              }
          }
        }

        /** Encode a repeated field (array) */;
        MsgEncoder.encodeArray = function encodeArray(array, proto, offset, buffer, protos) {
          if (Util.isSimpleType(proto.type)) {
            // Packed repeated (single tag + length)
            offset = this.writeBytes(buffer, offset, this.encodeTag(proto.type, proto.tag));
            offset = this.writeBytes(buffer, offset, Codec.encodeUInt32(array.length));
            for (var _iterator2 = _createForOfIteratorHelperLoose(array), _step2; !(_step2 = _iterator2()).done;) {
              var item = _step2.value;
              offset = this.encodeProp(item, proto.type, offset, buffer, protos);
            }
          } else {
            // Unpacked repeated (tag per element)
            for (var _iterator3 = _createForOfIteratorHelperLoose(array), _step3; !(_step3 = _iterator3()).done;) {
              var _item = _step3.value;
              offset = this.writeBytes(buffer, offset, this.encodeTag(proto.type, proto.tag));
              offset = this.encodeProp(_item, proto.type, offset, buffer, protos);
            }
          }
          return offset;
        }

        /** Write a sequence of bytes into buffer */;
        MsgEncoder.writeBytes = function writeBytes(buffer, offset, bytes) {
          for (var i = 0; i < bytes.length; i++, offset++) {
            buffer[offset] = bytes[i];
          }
          return offset;
        };
        MsgEncoder.encodeTag = function encodeTag(type, tag) {
          var _constants$TYPES$type;
          var wireType = (_constants$TYPES$type = constants.TYPES[type]) != null ? _constants$TYPES$type : 2; // Default to length-delimited
          return Codec.encodeUInt32(tag << 3 | wireType);
        };
        return MsgEncoder;
      }());
      MsgEncoder.protos = {};
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/MTTCommand.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './Connection.ts'], function (exports) {
  var _asyncToGenerator, _regeneratorRuntime, cclegacy, _connection;
  return {
    setters: [function (module) {
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
    }, function (module) {
      _connection = module.default;
    }],
    execute: function () {
      exports('default', request);
      cclegacy._RF.push({}, "435fdpocUxAIJcSNSq6pQz7", "MTTCommand", undefined);
      var MTT;
      (function (_MTT) {
        var prefix = _MTT.prefix = "mtt.mttTableHandler.";
      })(MTT || (MTT = {}));
      function request(_x, _x2, _x3) {
        return _request.apply(this, arguments);
      }
      function _request() {
        _request = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(command, payload, cb) {
          return _regeneratorRuntime().wrap(function _callee$(_context) {
            while (1) switch (_context.prev = _context.next) {
              case 0:
                return _context.abrupt("return", _connection.send(MTT.prefix + command, payload, cb));
              case 1:
              case "end":
                return _context.stop();
            }
          }, _callee);
        }));
        return _request.apply(this, arguments);
      }
      window['MTT'] = request;
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/MTTController.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './Decorators.ts', './GlobalConfig.ts', './TMttTournament.ts', './MTTHelper.ts', './ClassHelper.ts', './MTTCommand.ts'], function (exports) {
  var _inheritsLoose, _applyDecoratedDescriptor, _initializerDefineProperty, _assertThisInitialized, _asyncToGenerator, _regeneratorRuntime, cclegacy, _decorator, pDecorators, GlobalConfig, TMttTournament, MTTSpace, HelperSpace, request;
  return {
    setters: [function (module) {
      _inheritsLoose = module.inheritsLoose;
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
    }, function (module) {
      pDecorators = module.pDecorators;
    }, function (module) {
      GlobalConfig = module.default;
    }, function (module) {
      TMttTournament = module.TMttTournament;
    }, function (module) {
      MTTSpace = module.MTTSpace;
    }, function (module) {
      HelperSpace = module.HelperSpace;
    }, function (module) {
      request = module.default;
    }],
    execute: function () {
      exports('NSMttConfig', void 0);
      cclegacy._RF.push({}, "64d41D5rpNEsJ+N3x1rF5G4", "MTTController", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property,
        executeInEditMode = _decorator.executeInEditMode;
      var singleton = pDecorators.singleton;
      var NSMttConfig;
      (function (_NSMttConfig, _dec, _dec2, _dec3, _dec4, _class, _class2, _descriptor) {
        var Controller = (_dec = ccclass('MTTController'), _dec2 = singleton(), _dec3 = executeInEditMode(), _dec4 = property(MTTSpace.ConfigManager), _dec(_class = _dec2(_class = _dec3(_class = (_class2 = /*#__PURE__*/function (_HelperSpace$ConfigLo) {
          _inheritsLoose(Controller, _HelperSpace$ConfigLo);
          function Controller() {
            var _this;
            for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
              args[_key] = arguments[_key];
            }
            _this = _HelperSpace$ConfigLo.call.apply(_HelperSpace$ConfigLo, [this].concat(args)) || this;
            _initializerDefineProperty(_this, "config", _descriptor, _assertThisInitialized(_this));
            _this._eList = ['config'];
            _this._eArray = TMttTournament.qType;
            return _this;
          }
          var _proto = Controller.prototype;
          _proto.actFetchingRoom = /*#__PURE__*/function () {
            var _actFetchingRoom = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(loading) {
              var instance, data;
              return _regeneratorRuntime().wrap(function _callee$(_context) {
                while (1) switch (_context.prev = _context.next) {
                  case 0:
                    if (loading === void 0) {
                      loading = true;
                    }
                    instance = GlobalConfig.instance;
                    loading && instance.loading.open();
                    _context.next = 5;
                    return request('getTournaments', {});
                  case 5:
                    data = _context.sent;
                    instance.loading.close();
                    return _context.abrupt("return", data);
                  case 8:
                  case "end":
                    return _context.stop();
                }
              }, _callee);
            }));
            function actFetchingRoom(_x) {
              return _actFetchingRoom.apply(this, arguments);
            }
            return actFetchingRoom;
          }();
          return Controller;
        }(HelperSpace.ConfigLoaderComponent), _descriptor = _applyDecoratedDescriptor(_class2.prototype, "config", [_dec4], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return MTTSpace.ConfigManager.generate(TMttTournament.qType);
          }
        }), _class2)) || _class) || _class) || _class);
        _NSMttConfig.Controller = Controller;
      })(NSMttConfig || (NSMttConfig = exports('NSMttConfig', {})));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/MTTGamePlayer.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './Decorators.ts', './GameController.ts', './GlobalConfig.ts', './UIPlayingScene.ts', './UIGamePlay.ts', './EventManager.ts', './Enums.ts', './UINotice.ts', './AsyncUtils.ts', './StringUtils.ts', './LanguageManager.ts', './MTTCommand.ts', './ResponeCode.ts', './UIController.ts', './NotifyToast.ts', './UIGamePots.ts'], function (exports) {
  var _inheritsLoose, _createClass, _assertThisInitialized, _asyncToGenerator, _regeneratorRuntime, _extends, cclegacy, pDecorators, GameController, GlobalConfig, UIPlayingScene, UIGamePlay, pEventManager, UIType, EStatusGame, EStatusPlayer, ENumberPlayerCount, UINotice, pAsyncUtils, pStringUtils, LanguageMananger, request, ResponseCode, UIController, NotifyToast, NSGamePots;
  return {
    setters: [function (module) {
      _inheritsLoose = module.inheritsLoose;
      _createClass = module.createClass;
      _assertThisInitialized = module.assertThisInitialized;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
      _extends = module.extends;
    }, function (module) {
      cclegacy = module.cclegacy;
    }, function (module) {
      pDecorators = module.pDecorators;
    }, function (module) {
      GameController = module.GameController;
    }, function (module) {
      GlobalConfig = module.default;
    }, function (module) {
      UIPlayingScene = module.default;
    }, function (module) {
      UIGamePlay = module.default;
    }, function (module) {
      pEventManager = module.pEventManager;
    }, function (module) {
      UIType = module.UIType;
      EStatusGame = module.EStatusGame;
      EStatusPlayer = module.EStatusPlayer;
      ENumberPlayerCount = module.ENumberPlayerCount;
    }, function (module) {
      UINotice = module.UINotice;
    }, function (module) {
      pAsyncUtils = module.pAsyncUtils;
    }, function (module) {
      pStringUtils = module.pStringUtils;
    }, function (module) {
      LanguageMananger = module.LanguageMananger;
    }, function (module) {
      request = module.default;
    }, function (module) {
      ResponseCode = module.ResponseCode;
    }, function (module) {
      UIController = module.UIController;
    }, function (module) {
      NotifyToast = module.NotifyToast;
    }, function (module) {
      NSGamePots = module.NSGamePots;
    }],
    execute: function () {
      var _dec, _dec2, _class;
      cclegacy._RF.push({}, "8a78bb1iDJP95nDGz05cjx6", "MTTGamePlayer", undefined);
      var logger = pDecorators.logger,
        singleton = pDecorators.singleton;
      var MTTGamePlayer = exports('MTTGamePlayer', (_dec = singleton({
        initer: '_init',
        destroyer: '_destroy',
        wake: "Instantly"
      }), _dec2 = logger('MTTGamePlayer'), _dec(_class = _dec2(_class = /*#__PURE__*/function (_GameController) {
        _inheritsLoose(MTTGamePlayer, _GameController);
        function MTTGamePlayer() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _GameController.call.apply(_GameController, [this].concat(args)) || this;
          _this._events = [
          //['onPlayerEventTournament', this._onPlayerEvent, this],
          ['onMttPreTournamentStart', _this._onPreStart, _assertThisInitialized(_this)], ['onMttTournamentUpdate', _this._onUpdate, _assertThisInitialized(_this)], ['onMttRebuyOpportunity', _this._onRebuyOpportunity, _assertThisInitialized(_this)], ['onMttPlayerEliminated', _this._onPlayerEliminated, _assertThisInitialized(_this)], ['onMttTournamentTablesEvent', _this._onTourEvent, _assertThisInitialized(_this)], ['onJoinMTTLobby', _this._onJoinLobby, _assertThisInitialized(_this)], ['onMttRebuyPending', _this._onRebuyPending, _assertThisInitialized(_this)], ['onMttTableResumed', _this._onTableResumed, _assertThisInitialized(_this)], ['onMttRebuyCountdown', _this._onMttRebuyCountdown, _assertThisInitialized(_this)], ['onWatchMTTLobby', _this._onWatch, _assertThisInitialized(_this)], ['onMttAddonOpportunity', _this._onAddonOpportunity, _assertThisInitialized(_this)], ['onMttRebuyDecisionResult', _this._onMttRebuyDecision, _assertThisInitialized(_this)], ['onMttAddonDecisionResult', _this._onMttAddonDecision, _assertThisInitialized(_this)], ['onMttPrizeAwarded', _this._onPrizeAwarded, _assertThisInitialized(_this)], ['onMttConsolidationStarted', _this._onTableMerging, _assertThisInitialized(_this)], ['onMttTournamentEnded', _this._onEnded, _assertThisInitialized(_this)], ['onInitViewPlaying', _this._onInitViewPlaying, _assertThisInitialized(_this)],
          //['onMttTournamentResult', this._onResult, this],
          ['onMttConsolidationStarted', _this._onConsolidation, _assertThisInitialized(_this)], ['onNewGame', _this._onNewGame, _assertThisInitialized(_this)]];
          _this._isCountdown = false;
          _this._isPreStart = false;
          _this._id = pStringUtils.uuid();
          _this._autoLeaveRoom = null;
          _this._isEnded = false;
          _this._isEndGame = null;
          _this._endGamePM = null;
          _this._isSpector = false;
          _this._eliminated = {};
          _this._save = '';
          _this._running = false;
          _this._maxRetry = 15;
          _this._pJoinRoom = null;
          _this._isSitting = false;
          _this._joinGameRes = null;
          _this._isGameStarted = false;
          return _this;
        }
        var _proto = MTTGamePlayer.prototype;
        _proto._onPreStart = /*#__PURE__*/function () {
          var _onPreStart2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(data) {
            var time_remaining, left;
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  if (!this._isPreStart) {
                    _context.next = 2;
                    break;
                  }
                  return _context.abrupt("return");
                case 2:
                  time_remaining = data.time_remaining;
                  this._isPreStart = true;
                  left = time_remaining / 1000;
                  this._actCoundown(left);
                case 6:
                case "end":
                  return _context.stop();
              }
            }, _callee, this);
          }));
          function _onPreStart(_x) {
            return _onPreStart2.apply(this, arguments);
          }
          return _onPreStart;
        }();
        _proto._onNewGame = function _onNewGame() {
          this._running = true;
          var _gp = pDecorators.instance(UIGamePlay);
          if (!_gp) return;
          _gp.forceOffHover();
        };
        _proto._onConsolidation = function _onConsolidation(data) {
          this.log("___MTTXX_Consolidation: ", data);
        };
        _proto._onInitViewPlaying = function _onInitViewPlaying() {
          var _p = pDecorators.instance(NSGamePots.Component);
          _p == null || _p.setStep(this.table.data.smallBlind);
          this._ante = this.table.mtt.ante;
        };
        _proto._onWatch = function _onWatch() {
          this._isSpector = true;
          var _pv = pDecorators.instance(UIPlayingScene);
          _pv == null || _pv.hidePlayerRanking();
        };
        _proto._onTableMerging = function _onTableMerging(data) {
          NotifyToast.instance.showWithKey({
            key: 'dynamic_mtt_merging_table'
          });
        };
        _proto._getAnte = function _getAnte(ante) {
          ante = typeof ante === 'string' ? parseInt(ante) : typeof ante === 'number' ? ante : ante.ante;
          return !ante ? this._ante : ante;
        };
        _proto._onEnded = /*#__PURE__*/function () {
          var _onEnded2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(msg) {
            var data, tournament_id, Instance, _uiw, _uir;
            return _regeneratorRuntime().wrap(function _callee2$(_context2) {
              while (1) switch (_context2.prev = _context2.next) {
                case 0:
                  data = msg.data;
                  tournament_id = data.tournament_id;
                  if (!(String(this._tid) == String(tournament_id) && this._isEnded)) {
                    _context2.next = 4;
                    break;
                  }
                  return _context2.abrupt("return");
                case 4:
                  _context2.next = 6;
                  return this._isEndGame;
                case 6:
                  this._isEnded = true;
                  Instance = UIController.Instance;
                  if (!this._isSpector) {
                    _context2.next = 21;
                    break;
                  }
                  UIController.closes({
                    type: UIType.MTT_REBUY
                  });
                  _context2.next = 12;
                  return Instance.get(UIType.WINNER_FRAME);
                case 12:
                  _uiw = _context2.sent;
                  _uiw == null || _uiw.turnOffReplayBtn();
                  _context2.next = 16;
                  return Instance.get(UIType.MTT_RESULT);
                case 16:
                  _uir = _context2.sent;
                  if (!(_uir && _uir.active)) {
                    _context2.next = 20;
                    break;
                  }
                  _uir.hideWatchBtn();
                  return _context2.abrupt("return");
                case 20:
                  UINotice.show('txt_title', {
                    key: 'dynamic_mtt_ended',
                    replacers: {
                      find: "@name",
                      replacer: this._tourname
                    }
                  }, 'txt_btn_back3', undefined, undefined, undefined, {
                    _function: this._actLeaveTable,
                    _this: this
                  });
                case 21:
                case "end":
                  return _context2.stop();
              }
            }, _callee2, this);
          }));
          function _onEnded(_x2) {
            return _onEnded2.apply(this, arguments);
          }
          return _onEnded;
        }();
        _proto.onEndGame = /*#__PURE__*/function () {
          var _onEndGame = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(data) {
            return _regeneratorRuntime().wrap(function _callee3$(_context3) {
              while (1) switch (_context3.prev = _context3.next) {
                case 0:
                  _context3.next = 2;
                  return _GameController.prototype.onEndGame.call(this, data);
                case 2:
                  this._endGamePM && this._endGamePM();
                case 3:
                case "end":
                  return _context3.stop();
              }
            }, _callee3, this);
          }));
          function onEndGame(_x3) {
            return _onEndGame.apply(this, arguments);
          }
          return onEndGame;
        }();
        _proto._onPrizeAwarded = /*#__PURE__*/function () {
          var _onPrizeAwarded2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(data) {
            var _this2 = this;
            var msg, rewards, rank, Instance, _rebuy, _ui, _GlobalConfig$instanc, avatar, player, information, display_name, _fn;
            return _regeneratorRuntime().wrap(function _callee4$(_context4) {
              while (1) switch (_context4.prev = _context4.next) {
                case 0:
                  msg = data.msg;
                  rewards = msg.rewards, rank = msg.rank;
                  if (this._running) {
                    _context4.next = 4;
                    break;
                  }
                  return _context4.abrupt("return");
                case 4:
                  _context4.next = 6;
                  return this._isEndGame;
                case 6:
                  Instance = UIController.Instance;
                  _context4.next = 9;
                  return Instance.get(UIType.MTT_REBUY);
                case 9:
                  _rebuy = _context4.sent;
                  if (!(!!_rebuy && !!_rebuy.type && _rebuy.type === 'rebuy')) {
                    _context4.next = 12;
                    break;
                  }
                  return _context4.abrupt("return");
                case 12:
                  Instance.close(UIType.MTT_RESULT);
                  UINotice.instance.close(true, true);
                  _context4.next = 16;
                  return Instance.open(UIType.WINNER_FRAME);
                case 16:
                  _ui = _context4.sent;
                  _GlobalConfig$instanc = GlobalConfig.instance.Login, avatar = _GlobalConfig$instanc.avatar, player = _GlobalConfig$instanc.player;
                  information = player.information;
                  display_name = information.display_name;
                  _fn = rewards.reduce(function (_acc, _cur) {
                    return _cur.reward_type === 'TICKET' && (_acc.ticket_amount += _cur.ticket_count), _cur.reward_type === 'CHIPS' && (_acc.reward_amount += _cur.reward_amount), _acc;
                  }, {
                    rank: rank,
                    reward_amount: 0,
                    avatar: avatar,
                    display_name: display_name,
                    ticket_amount: 0
                  });
                  _ui == null || _ui.init(_fn, {
                    _function: this._actLeaveTable,
                    _this: this
                  }, this._isEnded || rank <= 1 ? null : function () {
                    return _this2._isSpector = true;
                  }, 'txt_keep_watching');
                case 22:
                case "end":
                  return _context4.stop();
              }
            }, _callee4, this);
          }));
          function _onPrizeAwarded(_x4) {
            return _onPrizeAwarded2.apply(this, arguments);
          }
          return _onPrizeAwarded;
        }();
        _proto._onPlayerEliminated = /*#__PURE__*/function () {
          var _onPlayerEliminated2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6(data) {
            var _this3 = this;
            var msg, player_id, rank, instance, _date, _pv, Instance;
            return _regeneratorRuntime().wrap(function _callee6$(_context6) {
              while (1) switch (_context6.prev = _context6.next) {
                case 0:
                  msg = data.msg;
                  player_id = msg.player_id, rank = msg.rank;
                  instance = GlobalConfig.instance;
                  if (!(!player_id || !instance.isMainPlayer(player_id) || rank === 1)) {
                    _context6.next = 5;
                    break;
                  }
                  return _context6.abrupt("return");
                case 5:
                  if (!this._eliminated[player_id]) {
                    _context6.next = 7;
                    break;
                  }
                  return _context6.abrupt("return");
                case 7:
                  if (this._running) {
                    _context6.next = 9;
                    break;
                  }
                  return _context6.abrupt("return");
                case 9:
                  this._isSpector = true;
                  this._eliminated[player_id] = true;
                  _date = new Date();
                  _pv = pDecorators.instance(UIPlayingScene);
                  _pv == null || _pv.hidePlayerRanking();
                  NotifyToast.instance.showWithKey({
                    key: "dynamic_mtt_tour_lose",
                    replacers: [{
                      find: "@time",
                      replacer: _date.getHours().toString().padStart(2, "0") + ":" + _date.getMinutes().toString().padStart(2, "0")
                    }, {
                      find: "@name",
                      replacer: this._tourname
                    }, {
                      find: "@rank",
                      replacer: "" + rank
                    }]
                  });
                  Instance = UIController.Instance;
                  Instance.close(UIType.MTT_REBUY);
                  if (!Instance.isOpened(UIType.WINNER_FRAME)) {
                    _context6.next = 19;
                    break;
                  }
                  return _context6.abrupt("return");
                case 19:
                  _context6.next = 21;
                  return this._isEndGame;
                case 21:
                  Instance.open(UIType.MTT_RESULT, true, false, false, data, /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5() {
                    return _regeneratorRuntime().wrap(function _callee5$(_context5) {
                      while (1) switch (_context5.prev = _context5.next) {
                        case 0:
                          instance.loading.open();
                          _context5.next = 3;
                          return _this3._actLeaveTable();
                        case 3:
                          instance.loading.close();
                        case 4:
                        case "end":
                          return _context5.stop();
                      }
                    }, _callee5);
                  })), this._isEnded ? null : function () {
                    return _this3._isSpector = true;
                  });
                case 22:
                case "end":
                  return _context6.stop();
              }
            }, _callee6, this);
          }));
          function _onPlayerEliminated(_x5) {
            return _onPlayerEliminated2.apply(this, arguments);
          }
          return _onPlayerEliminated;
        }();
        _proto._actLeaveTable = /*#__PURE__*/function () {
          var _actLeaveTable2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee7(dirty) {
            var _data;
            return _regeneratorRuntime().wrap(function _callee7$(_context7) {
              while (1) switch (_context7.prev = _context7.next) {
                case 0:
                  if (dirty === void 0) {
                    dirty = true;
                  }
                  UIController.closes({
                    type: UIType.MTT_REBUY
                  }, {
                    type: UIType.WINNER_FRAME
                  }, {
                    type: UIType.MTT_RESULT
                  });
                  if (!this._autoLeaveRoom) {
                    _context7.next = 11;
                    break;
                  }
                  _context7.next = 5;
                  return this._autoLeaveRoom;
                case 5:
                  this._autoLeaveRoom = null;
                  _context7.t0 = dirty;
                  if (!_context7.t0) {
                    _context7.next = 10;
                    break;
                  }
                  _context7.next = 10;
                  return this._actBackToMainDirty();
                case 10:
                  return _context7.abrupt("return");
                case 11:
                  if (!this._leaveType) {
                    _context7.next = 17;
                    break;
                  }
                  _context7.next = 14;
                  return request('leaveTable', {});
                case 14:
                  _context7.t1 = _context7.sent;
                  _context7.next = 20;
                  break;
                case 17:
                  _context7.next = 19;
                  return request('leaveTable', {});
                case 19:
                  _context7.t1 = _context7.sent;
                case 20:
                  _data = _context7.t1;
                  if (_data.code !== ResponseCode.SUCCESS) {
                    this.warn("Error on leave MTT table: ", _data.error);
                    //return;
                  }

                  _context7.t2 = dirty;
                  if (!_context7.t2) {
                    _context7.next = 26;
                    break;
                  }
                  _context7.next = 26;
                  return this._actBackToMainDirty();
                case 26:
                case "end":
                  return _context7.stop();
              }
            }, _callee7, this);
          }));
          function _actLeaveTable(_x6) {
            return _actLeaveTable2.apply(this, arguments);
          }
          return _actLeaveTable;
        }();
        _proto._actBackToMainDirty = /*#__PURE__*/function () {
          var _actBackToMainDirty2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee8() {
            return _regeneratorRuntime().wrap(function _callee8$(_context8) {
              while (1) switch (_context8.prev = _context8.next) {
                case 0:
                  _context8.next = 2;
                  return UIController.Instance.open(UIType.ROOM_MTT, false);
                case 2:
                  pDecorators.instance(UIPlayingScene).actBackToMain();
                  this.isMainSitDown && pEventManager.invoke('onStandUp');
                  pEventManager.invoke('onLeaveTable');
                  this._onBackToLobby();
                case 6:
                case "end":
                  return _context8.stop();
              }
            }, _callee8, this);
          }));
          function _actBackToMainDirty() {
            return _actBackToMainDirty2.apply(this, arguments);
          }
          return _actBackToMainDirty;
        }();
        _proto._onRebuyOpportunity = function _onRebuyOpportunity(data) {
          var msg = data.msg;
          if (!this._running) return;
          UIController.open(UIType.MTT_REBUY, true, true, false, 'rebuy', msg);
          UIController.closes({
            type: UIType.MTT_RESULT
          }, {
            type: UIType.WINNER_FRAME
          });
        };
        _proto._onAddonOpportunity = function _onAddonOpportunity(data) {
          var msg = data.msg;
          if (!this._running) return;
          if (this._eliminated[GlobalConfig.instance.Login.player.information.id]) return;
          UIController.open(UIType.MTT_REBUY, true, true, false, 'addon', msg);
        };
        _proto._onRebuyPending = function _onRebuyPending(msg) {
          var data = msg.data;
          var _gp = pDecorators.instance(UIGamePlay);
          if (!_gp) return;
          var player_name = data.player_name,
            timeout_seconds = data.timeout_seconds;
          _gp.showAlert('normal', LanguageMananger.getString({
            key: 'dynamic_rebuy_pending',
            replacers: {
              find: '@timer',
              replacer: timeout_seconds + "s"
            }
          }));
          NotifyToast.instance.showWithKey({
            key: GlobalConfig.instance.isMainByUserName(player_name) ? "dynamic_mtt_rebuy_noti_main" : "dynamic_mtt_rebuy_noti",
            replacers: {
              find: "@name",
              replacer: player_name
            }
          });
        };
        _proto._onMttRebuyCountdown = function _onMttRebuyCountdown(msg) {
          var data = msg.data;
          var _gp = pDecorators.instance(UIGamePlay);
          if (!_gp) return;
          if (this._gameState === EStatusGame.IN_PROGRESS) {
            _gp.hideAlert('normal');
            return;
          }
          var remaining_seconds = data.remaining_seconds,
            pending_players = data.pending_players;
          var _ids = pending_players.map(function (_id) {
            return parseInt(_id);
          }).filter(Boolean);
          var _is = GlobalConfig.instance.hasMainById(_ids);
          _gp.hideAlert();
          if (_is) return;
          var _str = LanguageMananger.getString({
            key: 'dynamic_rebuy_pending',
            replacers: {
              find: '@timer',
              replacer: remaining_seconds + "s"
            }
          });
          _gp.blockOffHover();
          _gp.showAlert('normal', _str);
        };
        _proto._onMttRebuyDecision = function _onMttRebuyDecision(msg) {
          this.log("___MTTXX_Rebuy Decision: ", msg);
          var data = msg.data;
          var rebuy_data = data.rebuy_data,
            player_id = data.player_id;
          this._isEndGame = Promise.resolve();
          var _gp = pDecorators.instance(UIGamePlay);
          if (!_gp) return;
          _gp.hideAlert();
          _gp.forceOffHover();
          if (!GlobalConfig.instance.isMainPlayer(player_id)) return;
          if (!!rebuy_data) {
            this._eliminated[player_id] = false;
            var rebuy_chips = rebuy_data.rebuy_chips,
              max_rebuys = rebuy_data.max_rebuys,
              rebuy_count = rebuy_data.rebuy_count;
            NotifyToast.instance.showWithKey({
              key: 'dyanmic_rebuy_success',
              replacers: [{
                find: "@chips",
                replacer: pStringUtils.formatNumberKMB(rebuy_chips)
              }, {
                find: "@count",
                replacer: "" + (max_rebuys - rebuy_count)
              }]
            });
            var _player = _gp.getPlayerByID(player_id);
            if (!_player) return;
            pDecorators.instance(NSGamePots.Component).fromDealer(rebuy_chips, _player);
          } else {
            NotifyToast.instance.showWithKey({
              key: 'txt_refuse_rebuy'
            });
          }
        };
        _proto._onMttAddonDecision = function _onMttAddonDecision(msg) {
          var data = msg.data;
          var player_id = data.player_id;
          if (!GlobalConfig.instance.isMainPlayer(player_id)) return;
          var addon_data = data.addon_data;
          !!addon_data ? NotifyToast.instance.showWithKey({
            key: 'dynamic_addon_success',
            replacers: {
              find: "@chips",
              replacer: pStringUtils.formatNumberKMB(addon_data.addon_chips)
            }
          }) : NotifyToast.instance.showWithKey({
            key: 'txt_refuse_addon'
          });
          var _gp = pDecorators.instance(UIGamePlay);
          if (!_gp) return;
          var _player = _gp.getPlayerByID(player_id);
          if (!_player) return;
          pDecorators.instance(NSGamePots.Component).fromDealer(addon_data.addon_chips, _player);
        };
        _proto._onTourEvent = function _onTourEvent(msg) {
          var action = msg.action;
          switch (action) {
            case "table_balance":
            case "table_merge":
              {
                var _gp = pDecorators.instance(UIGamePlay);
                if (!_gp) return;
                _gp.hideAlert();
                break;
              }
            case "table_break":
              {
                var _gp2 = pDecorators.instance(UIGamePlay);
                if (!_gp2) return;
                _gp2.showAlert('normal', LanguageMananger.getString('txt_mtt_merging_table_wait'));
              }
              break;
          }
        };
        _proto._onTableResumed = function _onTableResumed() {
          var _gp = pDecorators.instance(UIGamePlay);
          if (!_gp) return;
          _gp.hideAlert();
        };
        _proto._actCoundown = /*#__PURE__*/function () {
          var _actCoundown2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee9(left) {
            var _this4 = this;
            var _gp, _str;
            return _regeneratorRuntime().wrap(function _callee9$(_context9) {
              while (1) switch (_context9.prev = _context9.next) {
                case 0:
                  _context9.next = 2;
                  return pDecorators.wait(UIGamePlay);
                case 2:
                  _gp = _context9.sent;
                  if (_gp) {
                    _context9.next = 5;
                    break;
                  }
                  return _context9.abrupt("return");
                case 5:
                  if (!this._isCountdown) {
                    _context9.next = 7;
                    break;
                  }
                  return _context9.abrupt("return");
                case 7:
                  _str = LanguageMananger.getString('dynamic_mtt_pre_start_countdown');
                  this._isCountdown = true;
                  pAsyncUtils.countdown({
                    id: this._id,
                    time: left
                  }, 1, function (_left) {
                    if (_left <= 0) {
                      _this4._isCountdown = false;
                      _gp.alert.hide();
                      return;
                    }
                    var _seconds = _left % 60;
                    var _minutes = Math.floor(_left / 60);
                    var _time = _minutes.toString().padStart(2, "0") + ":" + _seconds.toString().padStart(2, "0");
                    _gp.alert.show('normal', pStringUtils.replace(_str, {
                      find: "@timer",
                      replacer: _time
                    }), 0);
                  });
                case 10:
                case "end":
                  return _context9.stop();
              }
            }, _callee9, this);
          }));
          function _actCoundown(_x7) {
            return _actCoundown2.apply(this, arguments);
          }
          return _actCoundown;
        }();
        _proto._onUpdate = function _onUpdate(msg) {
          var event_type = msg.event_type;
          switch (event_type) {
            case "mtt_tournament_started":
              {
                this._isCountdown && this._actStopCD();
                break;
              }
            case "mtt_blind_update":
              {
                var blind_schedule = this.table.mtt.blind_schedule;
                var _msg$data = msg.data,
                  small_blind = _msg$data.small_blind,
                  big_blind = _msg$data.big_blind,
                  ante = _msg$data.ante,
                  level = _msg$data.level;
                this._ante = typeof ante === 'string' ? parseInt(ante) : ante;
                var _pv = pDecorators.instance(UIPlayingScene);
                if (level >= blind_schedule.length) {
                  _pv.stopCountDownBlind();
                  return;
                }
                var duration_minutes = msg.data.duration_minutes;
                var _min = Number(duration_minutes);
                if (!Number.isNaN(_min)) {
                  var _sec = _min * 60;
                  _pv.actCountDownUpdateBlind(_sec, _sec);
                }
                _pv.updateTourTableInfo(ante, small_blind, big_blind);
                NotifyToast.instance.showWithKey({
                  key: 'dynamic_notice_blind_level_incread',
                  replacers: [{
                    find: "@level",
                    replacer: "" + level
                  }, {
                    find: "@sb",
                    replacer: pStringUtils.formatNumberKMB(small_blind)
                  }, {
                    find: "@bb",
                    replacer: pStringUtils.formatNumberKMB(big_blind)
                  }]
                });
                break;
              }
            case 'tournament_cancelled':
              {
                var refund_info = msg.data.refund_info;
                var refund_amount = refund_info.refund_amount;
                UINotice.show('txt_title', {
                  key: "dynamic_mtt_tour_cancelled_and_refund",
                  replacers: [{
                    find: "@name",
                    replacer: this._tourname
                  }, {
                    find: "@amount",
                    replacer: pStringUtils.formatNumberKMB(refund_amount)
                  }]
                }, 'txt_btn_confirm', {
                  _function: this._actBackToMainDirty,
                  _this: this
                }, undefined, {
                  _function: this._actBackToMainDirty,
                  _this: this
                });
              }
          }
        };
        _proto._onBackToLobby = function _onBackToLobby() {
          this._autoLeaveRoom = null;
          this._isPreStart = false;
          this._isSpector = false;
          this._running = false;
          this._isEnded = false;
          this._eliminated = {};
          UIController.closes({
            type: UIType.MTT_REBUY
          }, {
            type: UIType.WINNER_FRAME
          });
          NotifyToast.instance.showWithKey({
            key: "dynamic_leave_tournament",
            replacers: {
              find: "@name",
              replacer: this._tourname
            }
          });
          //this._ante = 0;
          this._actStopCD();
        };
        _proto._actStopCD = function _actStopCD() {
          this._isCountdown = false;
          pAsyncUtils.stop(this._id);
          var _gp = pDecorators.instance(UIGamePlay);
          _gp == null || _gp.hideAlert();
        };
        _proto.onTableEvent = /*#__PURE__*/function () {
          var _onTableEvent = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee10(data) {
            var _this5 = this;
            var msg, tid, players, _main, rank_info, _pv;
            return _regeneratorRuntime().wrap(function _callee10$(_context10) {
              while (1) switch (_context10.prev = _context10.next) {
                case 0:
                  this._isEndGame = new Promise(function (_rs) {
                    return _this5._endGamePM = _rs;
                  });
                  this._isCountdown && this._actStopCD();
                  msg = data.msg;
                  tid = msg.tid, players = msg.players;
                  this._save = tid;
                  if (!!players) {
                    _main = players.find(function (player) {
                      return GlobalConfig.instance.isMainPlayer(player);
                    });
                    if (!!_main) {
                      rank_info = _main.rank_info;
                      _pv = pDecorators.instance(UIPlayingScene);
                      _pv == null || _pv.updatePlayerRanking(rank_info.current_rank);
                    }
                  }
                  return _context10.abrupt("return", _GameController.prototype.onTableEvent.call(this, data));
                case 7:
                case "end":
                  return _context10.stop();
              }
            }, _callee10, this);
          }));
          function onTableEvent(_x8) {
            return _onTableEvent.apply(this, arguments);
          }
          return onTableEvent;
        }();
        _proto._onJoinLobby = /*#__PURE__*/function () {
          var _onJoinLobby2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee11(msg) {
            var _pDecorators$instance;
            var _pv, _gp, player_info, tournament_info, _is, starting_stack, _members;
            return _regeneratorRuntime().wrap(function _callee11$(_context11) {
              while (1) switch (_context11.prev = _context11.next) {
                case 0:
                  _context11.next = 2;
                  return this._pJoinRoom;
                case 2:
                  _context11.next = 4;
                  return pDecorators.wait(UIPlayingScene);
                case 4:
                  _pv = _context11.sent;
                  _context11.next = 7;
                  return pDecorators.wait(UIGamePlay);
                case 7:
                  _gp = _context11.sent;
                  if (!(!_pv || !_gp)) {
                    _context11.next = 15;
                    break;
                  }
                  this.log("UIPlayingScene or UIGamePlay not found");
                  if (!this._actRetryCatcher("MTT MET")) {
                    _context11.next = 12;
                    break;
                  }
                  return _context11.abrupt("return");
                case 12:
                  _context11.next = 14;
                  return this._onJoinLobby(msg);
                case 14:
                  return _context11.abrupt("return");
                case 15:
                  _context11.next = 18;
                  return _gp.wait('onReady');
                case 18:
                  _gp.uiCommunityCard.hide();
                  (_pDecorators$instance = pDecorators.instance(NSGamePots.Component)) == null || _pDecorators$instance.reset();
                  _gp.forceHideAlert();
                  this._onRecheckData = msg;
                  player_info = msg.player_info, tournament_info = msg.tournament_info;
                  _is = GlobalConfig.instance.isMainPlayer(player_info);
                  if (_is) {
                    _context11.next = 26;
                    break;
                  }
                  return _context11.abrupt("return");
                case 26:
                  starting_stack = tournament_info.starting_stack;
                  _members = [_extends({}, player_info, {
                    actorNr: 2,
                    allIn: false,
                    cards: [],
                    chips: starting_stack,
                    exp: 0,
                    folded: false,
                    index: 0,
                    isState: false,
                    playerName: player_info.player_name,
                    talked: false,
                    type: "",
                    vippoint: player_info.vip_point
                  })];
                  if (!this._isCountdown) {
                    this._actCoundown(this.table.join.tournament_info.time_until_start / 1000);
                  }
                  _pv.updateLeavingBtn(true);
                  !this.isMainSitDown && pEventManager.invoke('onSitDown');
                  _context11.next = 33;
                  return _gp.actRotation('main', _members, []);
                case 33:
                  _context11.next = 35;
                  return this._checkDisplayer(_members, [], this._onJoinLobby.bind(this), "ERRR SIT DOWN");
                case 35:
                case "end":
                  return _context11.stop();
              }
            }, _callee11, this);
          }));
          function _onJoinLobby(_x9) {
            return _onJoinLobby2.apply(this, arguments);
          }
          return _onJoinLobby;
        }();
        _proto._onPlayerEvent = /*#__PURE__*/function () {
          var _onPlayerEvent2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee12(data) {
            var event_type;
            return _regeneratorRuntime().wrap(function _callee12$(_context12) {
              while (1) switch (_context12.prev = _context12.next) {
                case 0:
                  event_type = data.event_type;
                  _context12.t0 = event_type;
                  _context12.next = _context12.t0 === 'player_register' ? 4 : _context12.t0 === 'player_unregister' ? 5 : 6;
                  break;
                case 4:
                  return _context12.abrupt("break", 6);
                case 5:
                  return _context12.abrupt("break", 6);
                case 6:
                case "end":
                  return _context12.stop();
              }
            }, _callee12);
          }));
          function _onPlayerEvent(_x10) {
            return _onPlayerEvent2.apply(this, arguments);
          }
          return _onPlayerEvent;
        }();
        _proto.setWaiter = function setWaiter(promise) {
          this._pJoinRoom = promise;
        };
        _proto.onJoinTable = function onJoinTable() {};
        _proto.onJoinGame = function onJoinGame(msg) {
          this._joinGameRes = msg;
          this._actCheckToJoinGame();
        };
        _proto._actCheckToJoinGame = /*#__PURE__*/function () {
          var _actCheckToJoinGame2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee13(i) {
            var _res;
            return _regeneratorRuntime().wrap(function _callee13$(_context13) {
              while (1) switch (_context13.prev = _context13.next) {
                case 0:
                  if (i === void 0) {
                    i = 0;
                  }
                  if (!this._isSitting) {
                    _context13.next = 3;
                    break;
                  }
                  return _context13.abrupt("return");
                case 3:
                  if (this._joinGameRes) {
                    _context13.next = 5;
                    break;
                  }
                  return _context13.abrupt("return");
                case 5:
                  this._isSitting = true;
                  _res = this._joinGameRes;
                  this._joinGameRes = null;
                  _context13.next = 10;
                  return this._onJoinGame(_res);
                case 10:
                  //await this._checkMain();

                  this._isSitting = false;
                  this._actCheckToJoinGame(i + 1);
                case 12:
                case "end":
                  return _context13.stop();
              }
            }, _callee13, this);
          }));
          function _actCheckToJoinGame(_x11) {
            return _actCheckToJoinGame2.apply(this, arguments);
          }
          return _actCheckToJoinGame;
        }();
        _proto._checkMain = function _checkMain() {
          var _gp = pDecorators.instance(UIGamePlay);
          if (!_gp) return Promise.resolve();
          return _gp.checkMainSitDown();
        };
        _proto._onJoinGame = /*#__PURE__*/function () {
          var _onJoinGame2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee14(msg) {
            var members, waitings, _hasMain, _pv, _gp, _num;
            return _regeneratorRuntime().wrap(function _callee14$(_context14) {
              while (1) switch (_context14.prev = _context14.next) {
                case 0:
                  members = msg.members, waitings = msg.waitings;
                  _hasMain = GlobalConfig.instance.hasMainById(members);
                  if (_hasMain) {
                    _context14.next = 4;
                    break;
                  }
                  return _context14.abrupt("return");
                case 4:
                  _context14.next = 6;
                  return this._pJoinRoom;
                case 6:
                  _pv = pDecorators.instance(UIPlayingScene);
                  _gp = pDecorators.instance(UIGamePlay);
                  if (!(!_pv || !_gp)) {
                    _context14.next = 10;
                    break;
                  }
                  return _context14.abrupt("return");
                case 10:
                  _num = members.length > 5 ? ENumberPlayerCount.NINE_PLAYERS : ENumberPlayerCount.FIVE_PLAYERS; //const _num = members.length > ENumberPlayerCount.FIVE_PLAYERS ? ENumberPlayerCount.NINE_PLAYERS : ENumberPlayerCount.FIVE_PLAYERS;
                  if (_num != this._table.count) {
                    this._table.count = _num;
                    _gp.actChangeTable(_num, this._table.mode, members);
                  }
                  this.log("JoinGame >>> Has Main >>", _hasMain);
                  if (!(_hasMain && !this.isMainSitDown)) {
                    _context14.next = 21;
                    break;
                  }
                  _pv.updateLeavingBtn(true);
                  !this.isMainSitDown && pEventManager.invoke('onSitDown');
                  _context14.next = 18;
                  return _gp.actRotation('main', members, waitings);
                case 18:
                  !this.isMainSitDown && (this.mainState = EStatusPlayer.JOIN_GAME);
                  _context14.next = 22;
                  break;
                case 21:
                  this.isMainSitDown ? _gp.actRotation('other', members, waitings) : _gp.actRotation('watch', members, waitings);
                case 22:
                case "end":
                  return _context14.stop();
              }
            }, _callee14, this);
          }));
          function _onJoinGame(_x12) {
            return _onJoinGame2.apply(this, arguments);
          }
          return _onJoinGame;
        }();
        _proto.onStartTurn = function onStartTurn() {};
        _proto.leaveTable = /*#__PURE__*/function () {
          var _leaveTable = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee15(onSuccess, onError) {
            var data, code, instance, notice;
            return _regeneratorRuntime().wrap(function _callee15$(_context15) {
              while (1) switch (_context15.prev = _context15.next) {
                case 0:
                  if (!this._leaveType) {
                    _context15.next = 6;
                    break;
                  }
                  _context15.next = 3;
                  return request('leaveTable', {});
                case 3:
                  _context15.t0 = _context15.sent;
                  _context15.next = 9;
                  break;
                case 6:
                  _context15.next = 8;
                  return request('leaveRoom', {
                    tournament_id: Number(this._tid)
                  });
                case 8:
                  _context15.t0 = _context15.sent;
                case 9:
                  data = _context15.t0;
                  code = data.code;
                  instance = GlobalConfig.instance;
                  notice = instance.notice;
                  _context15.t1 = code;
                  _context15.next = _context15.t1 === ResponseCode.SUCCESS ? 16 : _context15.t1 === ResponseCode.ERROR ? 22 : 23;
                  break;
                case 16:
                  this.isMainSitDown && pEventManager.invoke('onStandUp');
                  _context15.next = 19;
                  return UIController.Instance.open(UIType.ROOM_MTT, false);
                case 19:
                  pEventManager.invoke('onLeaveTable');
                  onSuccess(data);
                  return _context15.abrupt("break", 25);
                case 22:
                  onError();
                case 23:
                  notice.show('txt_title', data['error'], 'txt_btn_confirm');
                  return _context15.abrupt("break", 25);
                case 25:
                case "end":
                  return _context15.stop();
              }
            }, _callee15, this);
          }));
          function leaveTable(_x13, _x14) {
            return _leaveTable.apply(this, arguments);
          }
          return leaveTable;
        }();
        _proto.onUpdateSelf = function onUpdateSelf(data) {
          if (!this._running) return;
          if ('msg' in data) {
            var msg = data.msg;
            if ('rank_info' in msg) {
              var rank_info = msg.rank_info,
                player = msg.player;
              if (!!player && !GlobalConfig.instance.isMainPlayer(player)) return;
              if ('id' in msg && !GlobalConfig.instance.isMainPlayer(msg.id)) return;
              var _pv = pDecorators.instance(UIPlayingScene);
              if (!_pv) return;
              _pv.updatePlayerRanking(rank_info.current_rank);
            }
          }
        };
        _proto.onKickUser = function onKickUser() {};
        _proto.onDisconnect = function onDisconnect() {};
        _proto.leaveRoomChecker = /*#__PURE__*/function () {
          var _leaveRoomChecker = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee16(onConfirm) {
            return _regeneratorRuntime().wrap(function _callee16$(_context16) {
              while (1) switch (_context16.prev = _context16.next) {
                case 0:
                  if (!this._isSpector) {
                    _context16.next = 3;
                    break;
                  }
                  onConfirm();
                  return _context16.abrupt("return");
                case 3:
                  UINotice.instance.show('txt_title_leave_sng_tournament', this._isGameStarted ? "txt_warning_leave_mtt_tour_after_start" : "txt_warning_leave_mtt_tour_before_start", 'txt_btn_confirm2', onConfirm, 'txt_btn_cancel');
                case 4:
                case "end":
                  return _context16.stop();
              }
            }, _callee16, this);
          }));
          function leaveRoomChecker(_x15) {
            return _leaveRoomChecker.apply(this, arguments);
          }
          return leaveRoomChecker;
        }();
        _proto._actKick = /*#__PURE__*/function () {
          var _actKick2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee17() {
            return _regeneratorRuntime().wrap(function _callee17$(_context17) {
              while (1) switch (_context17.prev = _context17.next) {
                case 0:
                  return _context17.abrupt("return", false);
                case 1:
                case "end":
                  return _context17.stop();
              }
            }, _callee17);
          }));
          function _actKick() {
            return _actKick2.apply(this, arguments);
          }
          return _actKick;
        }();
        _proto._actStandUpCMD = /*#__PURE__*/function () {
          var _actStandUpCMD2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee18() {
            return _regeneratorRuntime().wrap(function _callee18$(_context18) {
              while (1) switch (_context18.prev = _context18.next) {
                case 0:
                case "end":
                  return _context18.stop();
              }
            }, _callee18);
          }));
          function _actStandUpCMD() {
            return _actStandUpCMD2.apply(this, arguments);
          }
          return _actStandUpCMD;
        }();
        _proto._actCallCMD = function _actCallCMD() {
          var _pDecorators$instance2 = pDecorators.instance(UIGamePlay),
            main = _pDecorators$instance2.main;
          return request('execute', {
            action: 'call',
            amt: main.callRq,
            tid: this._save
          });
        };
        _proto._actFoldCMD = function _actFoldCMD() {
          return request('execute', {
            action: "fold",
            amt: 0,
            tid: this._save
          });
        };
        _proto._actAllInCMD = function _actAllInCMD(amt) {
          return request('execute', {
            action: "allin",
            amt: amt,
            tid: this._save
          });
        };
        _proto._actBetCMD = function _actBetCMD(amt) {
          return request('execute', {
            action: "bet",
            amt: amt,
            tid: this._save
          });
        };
        _proto._actCheckCMD = function _actCheckCMD() {
          return request('execute', {
            action: "check",
            amt: 0,
            tid: this._save
          });
        };
        _proto.actBuyIn = /*#__PURE__*/function () {
          var _actBuyIn = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee19() {
            return _regeneratorRuntime().wrap(function _callee19$(_context19) {
              while (1) switch (_context19.prev = _context19.next) {
                case 0:
                case "end":
                  return _context19.stop();
              }
            }, _callee19);
          }));
          function actBuyIn() {
            return _actBuyIn.apply(this, arguments);
          }
          return actBuyIn;
        }();
        _createClass(MTTGamePlayer, [{
          key: "_tourname",
          get: function get() {
            return this._table.mtt.name;
          }
        }, {
          key: "_leaveType",
          get: function get() {
            return this._running || !!this._table.mtt.watch;
          }
        }]);
        return MTTGamePlayer;
      }(GameController)) || _class) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/MTTHelper.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './ClassHelper.ts', './TypesLanguageManager.ts', './LanguageManager.ts'], function (exports) {
  var _inheritsLoose, _createClass, _applyDecoratedDescriptor, _createForOfIteratorHelperLoose, _initializerDefineProperty, _assertThisInitialized, cclegacy, _decorator, SpriteFrame, Color, Node, Label, color, HelperSpace, CCELang, isTLang, TLangToNumber, numberToTLang, LanguageMananger;
  return {
    setters: [function (module) {
      _inheritsLoose = module.inheritsLoose;
      _createClass = module.createClass;
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _createForOfIteratorHelperLoose = module.createForOfIteratorHelperLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      SpriteFrame = module.SpriteFrame;
      Color = module.Color;
      Node = module.Node;
      Label = module.Label;
      color = module.color;
    }, function (module) {
      HelperSpace = module.HelperSpace;
    }, function (module) {
      CCELang = module.CCELang;
      isTLang = module.isTLang;
      TLangToNumber = module.TLangToNumber;
      numberToTLang = module.numberToTLang;
    }, function (module) {
      LanguageMananger = module.LanguageMananger;
    }],
    execute: function () {
      exports('MTTSpace', void 0);
      cclegacy._RF.push({}, "0c367yjBWtGWLf1vO1RJeVU", "MTTHelper", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var MTTSpace;
      (function (_MTTSpace, _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _dec8, _dec9, _class4, _class5, _descriptor6, _dec10, _dec11, _dec12, _dec13, _dec14, _dec15, _dec16, _dec17, _dec18, _class7, _class8, _descriptor7, _descriptor8, _descriptor9, _descriptor10, _descriptor11, _descriptor12, _dec19, _dec20, _class10, _class11, _descriptor13) {
        var Config = (_dec = ccclass('MTTSpace.Config'), _dec2 = property(SpriteFrame), _dec3 = property(SpriteFrame), _dec4 = property({
          type: Color
        }), _dec5 = property({
          override: true,
          type: CCELang,
          visible: true
        }), _dec6 = property({}), _dec7 = property({}), _dec(_class = (_class2 = /*#__PURE__*/function (_HelperSpace$_BaseCon) {
          _inheritsLoose(Config, _HelperSpace$_BaseCon);
          function Config() {
            var _this;
            for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
              args[_key] = arguments[_key];
            }
            _this = _HelperSpace$_BaseCon.call.apply(_HelperSpace$_BaseCon, [this].concat(args)) || this;
            _initializerDefineProperty(_this, "sprBg", _descriptor, _assertThisInitialized(_this));
            _initializerDefineProperty(_this, "sprBtn", _descriptor2, _assertThisInitialized(_this));
            _initializerDefineProperty(_this, "color", _descriptor3, _assertThisInitialized(_this));
            _initializerDefineProperty(_this, "_key", _descriptor4, _assertThisInitialized(_this));
            _initializerDefineProperty(_this, "_search", _descriptor5, _assertThisInitialized(_this));
            return _this;
          }
          Config._create = function _create() {
            return new Config();
          };
          _createClass(Config, [{
            key: "search",
            get: function get() {
              return this._search;
            },
            set: function set(x) {
              this._search = x;
              isTLang(this._search) && (this._key = TLangToNumber(this._search));
            }
          }, {
            key: "key",
            get: function get() {
              return numberToTLang(this._key);
            }
          }]);
          return Config;
        }(HelperSpace._BaseConfig), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "sprBg", [_dec2], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: null
        }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "sprBtn", [_dec3], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: null
        }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "color", [_dec4], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return color('#25FFA1');
          }
        }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "_key", [_dec5], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return 0;
          }
        }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "_search", [_dec6], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return '';
          }
        }), _applyDecoratedDescriptor(_class2.prototype, "search", [_dec7], Object.getOwnPropertyDescriptor(_class2.prototype, "search"), _class2.prototype)), _class2)) || _class);
        _MTTSpace.Config = Config;
        var ConfigManager = (_dec8 = ccclass('MTTSpace.ConfigManager'), _dec9 = property({
          type: [Config],
          readonly: true
        }), _dec8(_class4 = (_class5 = /*#__PURE__*/function (_HelperSpace$_BaseMan) {
          _inheritsLoose(ConfigManager, _HelperSpace$_BaseMan);
          function ConfigManager() {
            var _this2;
            for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
              args[_key2] = arguments[_key2];
            }
            _this2 = _HelperSpace$_BaseMan.call.apply(_HelperSpace$_BaseMan, [this].concat(args)) || this;
            _initializerDefineProperty(_this2, "configs", _descriptor6, _assertThisInitialized(_this2));
            return _this2;
          }
          ConfigManager.generate = function generate(helper) {
            return this.create(helper);
          };
          ConfigManager._create = function _create() {
            return new ConfigManager();
          };
          var _proto = ConfigManager.prototype;
          _proto._init = function _init() {
            var _this3 = this;
            this.configs = this._helper.arr.map(function (_helper, _index) {
              return Config.create(_this3._helper, _index);
            });
          };
          _proto.check = function check(helper) {
            if (this.configs.length != helper.length) {
              this._helper = helper;
              this.configs = helper.arr.map(function (_helper, index) {
                return Config.create(helper, index);
              });
            }
          };
          _proto.apply = function apply() {
            for (var _iterator = _createForOfIteratorHelperLoose(this.configs), _step; !(_step = _iterator()).done;) {
              var ret = _step.value;
              ret.apply(this._helper);
            }
          };
          _proto.set = function set(type, target) {
            var id = this._helper.number(type);
            var bg = target[0],
              btn = target[1],
              txt = target[2],
              renders = target[3];
            var _config = this.configs[id];
            if (!_config) return;
            bg && (bg.spriteFrame = _config.sprBg);
            btn && (btn.spriteFrame = _config.sprBtn);
            txt && (txt.string = LanguageMananger.getString(_config.key));
            renders && renders.forEach(function (_render) {
              _render.color = _config.color.clone();
            });
          };
          return ConfigManager;
        }(HelperSpace._BaseManager), _descriptor6 = _applyDecoratedDescriptor(_class5.prototype, "configs", [_dec9], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return [];
          }
        }), _class5)) || _class4);
        _MTTSpace.ConfigManager = ConfigManager;
        var ItemConfig = (_dec10 = ccclass('MTTSpace.ItemConfig'), _dec11 = property(Node), _dec12 = property(Label), _dec13 = property({
          override: true,
          type: CCELang,
          visible: true
        }), _dec14 = property({}), _dec15 = property({}), _dec16 = property({
          override: true,
          type: CCELang,
          visible: true
        }), _dec17 = property({}), _dec18 = property({}), _dec10(_class7 = (_class8 = /*#__PURE__*/function (_HelperSpace$_BaseCon2) {
          _inheritsLoose(ItemConfig, _HelperSpace$_BaseCon2);
          function ItemConfig() {
            var _this4;
            for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
              args[_key3] = arguments[_key3];
            }
            _this4 = _HelperSpace$_BaseCon2.call.apply(_HelperSpace$_BaseCon2, [this].concat(args)) || this;
            _initializerDefineProperty(_this4, "item", _descriptor7, _assertThisInitialized(_this4));
            _initializerDefineProperty(_this4, "fee", _descriptor8, _assertThisInitialized(_this4));
            _initializerDefineProperty(_this4, "_short", _descriptor9, _assertThisInitialized(_this4));
            _initializerDefineProperty(_this4, "_search_short", _descriptor10, _assertThisInitialized(_this4));
            _initializerDefineProperty(_this4, "_long", _descriptor11, _assertThisInitialized(_this4));
            _initializerDefineProperty(_this4, "_search_long", _descriptor12, _assertThisInitialized(_this4));
            return _this4;
          }
          ItemConfig._create = function _create() {
            return new ItemConfig();
          };
          _createClass(ItemConfig, [{
            key: "search_short",
            get: function get() {
              return this._search_short;
            },
            set: function set(x) {
              this._search_short = x;
              isTLang(this._search_short) && (this._short = TLangToNumber(this._search_short));
            }
          }, {
            key: "search_long",
            get: function get() {
              return this._search_long;
            },
            set: function set(x) {
              this._search_long = x;
              isTLang(this._search_long) && (this._long = TLangToNumber(this._search_long));
            }
          }, {
            key: "short",
            get: function get() {
              return numberToTLang(this._short);
            }
          }, {
            key: "shortTxt",
            get: function get() {
              return LanguageMananger.getString(this["short"]);
            }
          }, {
            key: "long",
            get: function get() {
              return numberToTLang(this._long);
            }
          }, {
            key: "longTxt",
            get: function get() {
              return LanguageMananger.getString(this["long"]);
            }
          }]);
          return ItemConfig;
        }(HelperSpace._BaseConfig), (_descriptor7 = _applyDecoratedDescriptor(_class8.prototype, "item", [_dec11], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: null
        }), _descriptor8 = _applyDecoratedDescriptor(_class8.prototype, "fee", [_dec12], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: null
        }), _descriptor9 = _applyDecoratedDescriptor(_class8.prototype, "_short", [_dec13], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return 0;
          }
        }), _descriptor10 = _applyDecoratedDescriptor(_class8.prototype, "_search_short", [_dec14], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return '';
          }
        }), _applyDecoratedDescriptor(_class8.prototype, "search_short", [_dec15], Object.getOwnPropertyDescriptor(_class8.prototype, "search_short"), _class8.prototype), _descriptor11 = _applyDecoratedDescriptor(_class8.prototype, "_long", [_dec16], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return 0;
          }
        }), _descriptor12 = _applyDecoratedDescriptor(_class8.prototype, "_search_long", [_dec17], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return '';
          }
        }), _applyDecoratedDescriptor(_class8.prototype, "search_long", [_dec18], Object.getOwnPropertyDescriptor(_class8.prototype, "search_long"), _class8.prototype)), _class8)) || _class7);
        _MTTSpace.ItemConfig = ItemConfig;
        var ItemConfigManager = (_dec19 = ccclass('MTTSpace.ItemConfigManager'), _dec20 = property({
          type: [ItemConfig],
          readonly: true
        }), _dec19(_class10 = (_class11 = /*#__PURE__*/function (_HelperSpace$_BaseMan2) {
          _inheritsLoose(ItemConfigManager, _HelperSpace$_BaseMan2);
          function ItemConfigManager() {
            var _this5;
            for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {
              args[_key4] = arguments[_key4];
            }
            _this5 = _HelperSpace$_BaseMan2.call.apply(_HelperSpace$_BaseMan2, [this].concat(args)) || this;
            _initializerDefineProperty(_this5, "configs", _descriptor13, _assertThisInitialized(_this5));
            return _this5;
          }
          ItemConfigManager.generate = function generate(helper) {
            return this.create(helper);
          };
          ItemConfigManager._create = function _create() {
            return new ItemConfigManager();
          };
          var _proto2 = ItemConfigManager.prototype;
          _proto2._init = function _init() {
            var _this6 = this;
            this.configs = this._helper.arr.map(function (_helper, _index) {
              return ItemConfig.create(_this6._helper, _index);
            });
          };
          _proto2.check = function check(helper) {
            if (this.configs.length != helper.length) {
              this._helper = helper;
              this.configs = helper.arr.map(function (_helper, index) {
                return ItemConfig.create(helper, index);
              });
            }
          };
          _proto2.apply = function apply() {
            for (var _iterator2 = _createForOfIteratorHelperLoose(this.configs), _step2; !(_step2 = _iterator2()).done;) {
              var ret = _step2.value;
              ret.apply(this._helper);
            }
          };
          _proto2.set = function set(type, target) {
            var id = this._helper.number(type);
            var _config = this.configs[id];
            if (!_config) return;
            var active = target[0],
              fee = target[1],
              _short = target[2],
              _long = target[3];
            _config.fee.string = fee;
            _config.item.active = active(type);
            _short && _short(type, _config.shortTxt);
            _long && _long(type, _config.longTxt);
          };
          return ItemConfigManager;
        }(HelperSpace._BaseManager), _descriptor13 = _applyDecoratedDescriptor(_class11.prototype, "configs", [_dec20], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return [];
          }
        }), _class11)) || _class10);
        _MTTSpace.ItemConfigManager = ItemConfigManager;
      })(MTTSpace || (MTTSpace = exports('MTTSpace', {})));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/MTTPlayerData.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './ItemPlayerData.ts'], function (exports) {
  var _inheritsLoose, _createClass, cclegacy, ItemPlayerData;
  return {
    setters: [function (module) {
      _inheritsLoose = module.inheritsLoose;
      _createClass = module.createClass;
    }, function (module) {
      cclegacy = module.cclegacy;
    }, function (module) {
      ItemPlayerData = module.ItemPlayerData;
    }],
    execute: function () {
      cclegacy._RF.push({}, "a58a3xZ9utGvJ+/T2tuETgh", "MTTPlayerData", undefined);
      var MTTPlayerData = exports('MTTPlayerData', /*#__PURE__*/function (_ItemPlayerData) {
        _inheritsLoose(MTTPlayerData, _ItemPlayerData);
        function MTTPlayerData() {
          return _ItemPlayerData.apply(this, arguments) || this;
        }
        var _proto = MTTPlayerData.prototype;
        _proto.fold = function fold() {};
        _proto.update = function update(key, data) {};
        _createClass(MTTPlayerData, [{
          key: "vippoint",
          get: function get() {
            return this.data.vip_point;
          }
        }, {
          key: "id",
          get: function get() {
            return this.data.id;
          }
        }, {
          key: "cards",
          get: function get() {
            return [];
          }
        }, {
          key: "folded",
          get: function get() {
            return false;
          }
        }, {
          key: "username",
          get: function get() {
            return this.data.player_name;
          }
        }, {
          key: "avatar",
          get: function get() {
            return this.data.avatar;
          }
        }, {
          key: "fullName",
          get: function get() {
            return this.data.display_name;
          }
        }, {
          key: "chips",
          get: function get() {
            return this.data.current_chips;
          }
        }, {
          key: "index",
          get: function get() {
            return 0;
          }
        }, {
          key: "actorNr",
          get: function get() {
            return 0;
          }
        }]);
        return MTTPlayerData;
      }(ItemPlayerData));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/MultiLanguage.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './LanguageManager.ts', './EventManager.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, cclegacy, _decorator, Enum, sp, SpriteFrame, Sprite, Label, RichText, Component, LanguageMananger, pEventManager;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Enum = module.Enum;
      sp = module.sp;
      SpriteFrame = module.SpriteFrame;
      Sprite = module.Sprite;
      Label = module.Label;
      RichText = module.RichText;
      Component = module.Component;
    }, function (module) {
      LanguageMananger = module.LanguageMananger;
    }, function (module) {
      pEventManager = module.pEventManager;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9, _descriptor10;
      cclegacy._RF.push({}, "e2256NwSjJKOIHOXisy/6Nz", "MultiLanguage", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var TYPE_OBJECT = exports('TYPE_OBJECT', /*#__PURE__*/function (TYPE_OBJECT) {
        TYPE_OBJECT[TYPE_OBJECT["LABEL"] = 0] = "LABEL";
        TYPE_OBJECT[TYPE_OBJECT["RICH_TEXT"] = 1] = "RICH_TEXT";
        TYPE_OBJECT[TYPE_OBJECT["SPRITE"] = 2] = "SPRITE";
        TYPE_OBJECT[TYPE_OBJECT["SKELETON"] = 3] = "SKELETON";
        return TYPE_OBJECT;
      }({}));
      var MultiLanguage = exports('default', (_dec = property({
        type: Enum(TYPE_OBJECT)
      }), _dec2 = property({
        visible: function visible() {
          return this.TYPE == TYPE_OBJECT.LABEL || this.TYPE == TYPE_OBJECT.RICH_TEXT;
        }
      }), _dec3 = property({
        visible: function visible() {
          return this.TYPE == TYPE_OBJECT.LABEL;
        }
      }), _dec4 = property({
        visible: function visible() {
          return this.TYPE == TYPE_OBJECT.LABEL;
        }
      }), _dec5 = property({}), _dec6 = property({}), _dec7 = property({
        visible: function visible() {
          return this.TYPE == TYPE_OBJECT.SKELETON;
        },
        type: sp.Skeleton
      }), _dec8 = property({
        visible: function visible() {
          return this.TYPE == TYPE_OBJECT.SKELETON;
        }
      }), _dec9 = property({
        visible: function visible() {
          return this.TYPE == TYPE_OBJECT.SPRITE;
        },
        type: [SpriteFrame]
      }), _dec10 = property({
        visible: function visible() {
          return this.TYPE == TYPE_OBJECT.SPRITE;
        },
        type: Sprite
      }), ccclass(_class = (_class2 = /*#__PURE__*/function (_Component) {
        _inheritsLoose(MultiLanguage, _Component);
        function MultiLanguage() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _Component.call.apply(_Component, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "TYPE", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "id", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "isAddColon", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "isUpperCase", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "txtSuffix", _descriptor5, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "txtPrefix", _descriptor6, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "skeletonLanguage", _descriptor7, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "animationName", _descriptor8, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "spriteFrames", _descriptor9, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "sprite", _descriptor10, _assertThisInitialized(_this));
          _this._events = [['onChangeLanguage', _this.updateLanguage, _assertThisInitialized(_this)]];
          return _this;
        }
        var _proto = MultiLanguage.prototype;
        _proto.onLoad = function onLoad() {
          pEventManager.on(this._events);
        };
        _proto.onEnable = function onEnable() {
          this.updateLanguage();
        };
        _proto.onDestroy = function onDestroy() {
          pEventManager.off(this._events);
        };
        _proto.updateLanguage = function updateLanguage() {
          switch (this.TYPE) {
            case TYPE_OBJECT.LABEL:
              this.updateText();
              break;
            case TYPE_OBJECT.RICH_TEXT:
              this.updateRichText();
              break;
            case TYPE_OBJECT.SPRITE:
              this.updateSprite();
              break;
            case TYPE_OBJECT.SKELETON:
              this.updateSkeleton();
              break;
          }
        };
        _proto.updateText = function updateText() {
          var str = LanguageMananger.instance.getString(this.id);
          if (!str || str.trim() === '') {
            return;
          }
          if (this.isUpperCase) {
            str = str.toUpperCase();
          }
          if (this.isAddColon) {
            str += ':';
          }
          this.getComponent(Label).string = "" + this.txtPrefix + str + this.txtSuffix;
        };
        _proto.updateRichText = function updateRichText() {
          var str = LanguageMananger.instance.getString(this.id);
          if (str != null && str.trim().length == 0) {
            return;
          }
          this.getComponent(RichText).string = str;
        };
        _proto.getTxt = function getTxt() {
          return LanguageMananger.instance.getString(this.id);
        };
        _proto.updateSprite = function updateSprite() {
          if (this.sprite == null) {
            this.sprite = this.getComponent(Sprite);
          }
          switch (LanguageMananger.instance.code) {
            case "vi":
              this.sprite.spriteFrame = this.spriteFrames[0];
              break;
            case "en":
              this.sprite.spriteFrame = this.spriteFrames[1];
              break;
          }
        };
        _proto.updateSkeleton = function updateSkeleton() {
          switch (LanguageMananger.instance.code) {
            case "vi":
              this.skeletonLanguage.setAnimation(0, this.animationName[0], true);
              break;
            case "en":
              this.skeletonLanguage.setAnimation(0, this.animationName[1], true);
              break;
          }
        }

        // update (dt) {}
        ;

        return MultiLanguage;
      }(Component), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "TYPE", [_dec], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return TYPE_OBJECT.LABEL;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "id", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return 'txt_sit';
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "isAddColon", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return false;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "isUpperCase", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return false;
        }
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "txtSuffix", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return '';
        }
      }), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, "txtPrefix", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return '';
        }
      }), _descriptor7 = _applyDecoratedDescriptor(_class2.prototype, "skeletonLanguage", [_dec7], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor8 = _applyDecoratedDescriptor(_class2.prototype, "animationName", [_dec8], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return [];
        }
      }), _descriptor9 = _applyDecoratedDescriptor(_class2.prototype, "spriteFrames", [_dec9], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return [];
        }
      }), _descriptor10 = _applyDecoratedDescriptor(_class2.prototype, "sprite", [_dec10], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/MyPropsItem.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './Enums.ts', './UIController.ts', './LanguageManager.ts', './DateUtils.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _asyncToGenerator, _regeneratorRuntime, cclegacy, _decorator, Sprite, Label, Node, Component, UIType, UIController, LanguageMananger, pDateUtils;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Sprite = module.Sprite;
      Label = module.Label;
      Node = module.Node;
      Component = module.Component;
    }, function (module) {
      UIType = module.UIType;
    }, function (module) {
      UIController = module.UIController;
    }, function (module) {
      LanguageMananger = module.LanguageMananger;
    }, function (module) {
      pDateUtils = module.pDateUtils;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4;
      cclegacy._RF.push({}, "424d2gBEVpKMbpB4pYjQSe+", "MyPropsItem", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var MyPropsItem = exports('MyPropsItem', (_dec = ccclass('MyPropsItem'), _dec2 = property(Sprite), _dec3 = property(Label), _dec4 = property(Label), _dec5 = property(Node), _dec(_class = (_class2 = /*#__PURE__*/function (_Component) {
        _inheritsLoose(MyPropsItem, _Component);
        function MyPropsItem() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _Component.call.apply(_Component, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "spIcon", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbName", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbProperties", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "buttonActive", _descriptor4, _assertThisInitialized(_this));
          _this._data = void 0;
          return _this;
        }
        var _proto = MyPropsItem.prototype;
        _proto.init = function init(d) {
          this._data = d;
          this.refreshUI();
        };
        _proto.refreshUI = function refreshUI() {
          this.lbName.string = this._data.item.name;
          var date = '';
          if (this._data.expiresAt) {
            if (new Date(this._data.expiresAt).getTime() > Date.now()) {
              date = "\nHSD: " + pDateUtils.getMinutesFromNow(this._data.expiresAt) + " minutes";
            }
          }
          this.buttonActive.active = !this._data.used;
          this.lbProperties.string = LanguageMananger.instance.getString('txt_number') + ": " + this._data.quantity + date;
        };
        _proto.onButtonClick = /*#__PURE__*/function () {
          var _onButtonClick = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {
            var _ui;
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  _context.next = 2;
                  return UIController.Instance.open(UIType.POPUP_GIFT_PROPS, true);
                case 2:
                  _ui = _context.sent;
                  _ui.init(this._data.id, this._data.item.type === 'GIFT');
                case 4:
                case "end":
                  return _context.stop();
              }
            }, _callee, this);
          }));
          function onButtonClick() {
            return _onButtonClick.apply(this, arguments);
          }
          return onButtonClick;
        }();
        return MyPropsItem;
      }(Component), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "spIcon", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "lbName", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "lbProperties", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "buttonActive", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/newFile.ts", ['cc'], function () {
  var cclegacy;
  return {
    setters: [function (module) {
      cclegacy = module.cclegacy;
    }],
    execute: function () {
      cclegacy._RF.push({}, "a7b96a3ON1LfI8cmu3gagCz", "newFile", undefined);
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/NextMultiLanguage.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './MultiLanguage.ts', './TypesLanguageManager.ts', './LanguageManager.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _createClass, cclegacy, _decorator, Label, RichText, TYPE_OBJECT, MultiLanguage, CCELang, numberToTLang, isTLang, TLangToNumber, LanguageMananger;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _createClass = module.createClass;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Label = module.Label;
      RichText = module.RichText;
    }, function (module) {
      TYPE_OBJECT = module.TYPE_OBJECT;
      MultiLanguage = module.default;
    }, function (module) {
      CCELang = module.CCELang;
      numberToTLang = module.numberToTLang;
      isTLang = module.isTLang;
      TLangToNumber = module.TLangToNumber;
    }, function (module) {
      LanguageMananger = module.LanguageMananger;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _class, _class2, _descriptor, _descriptor2;
      cclegacy._RF.push({}, "d2b959DzRZHwIVP6u+nS2uq", "NextMultiLanguage", undefined);
      var executeInEditMode = _decorator.executeInEditMode,
        disallowMultiple = _decorator.disallowMultiple;
      var NextMultiLanguage = exports('NextMultiLanguage', (_dec = _decorator.ccclass('NextMultiLanguage'), _dec2 = _decorator.property({}), _dec3 = _decorator.property({}), _dec4 = _decorator.property({
        override: true,
        visible: function visible() {
          return this.TYPE == TYPE_OBJECT.LABEL || this.TYPE == TYPE_OBJECT.RICH_TEXT;
        },
        type: CCELang
      }), _dec5 = _decorator.property({}), _dec(_class = executeInEditMode(_class = disallowMultiple(_class = (_class2 = /*#__PURE__*/function (_MultiLanguage) {
        _inheritsLoose(NextMultiLanguage, _MultiLanguage);
        function NextMultiLanguage() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _MultiLanguage.call.apply(_MultiLanguage, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "_search", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "id", _descriptor2, _assertThisInitialized(_this));
          return _this;
        }
        var _proto = NextMultiLanguage.prototype;
        _proto.onLoad = function onLoad() {
          _MultiLanguage.prototype.onLoad.call(this);
          var _mul = this.getComponent(MultiLanguage);
          if (!!_mul && !(_mul instanceof NextMultiLanguage)) {
            this.search = _mul.id;
            this.txtPrefix = _mul.txtPrefix;
            this.txtSuffix = _mul.txtSuffix;
            _mul.destroy();
          }
        };
        _proto.updateText = function updateText() {
          var str = this.getTxt();
          if (!str || str.trim() === '') {
            return;
          }
          if (this.isUpperCase) {
            str = str.toUpperCase();
          }
          if (this.isAddColon) {
            str += ':';
          }
          this.getComponent(Label).string = "" + this.txtPrefix + str + this.txtSuffix;
        };
        _proto.updateRichText = function updateRichText() {
          var str = this.getTxt();
          if (str != null && str.trim().length == 0) {
            return;
          }
          this.getComponent(RichText).string = str;
        };
        _proto.getTxt = function getTxt() {
          var key = numberToTLang(this.id);
          return LanguageMananger.instance.getString(key);
        };
        _createClass(NextMultiLanguage, [{
          key: "search",
          get: function get() {
            return this._search;
          },
          set: function set(x) {
            this._search = x;
            isTLang(this._search) && (this.id = TLangToNumber(this._search));
          }
        }, {
          key: "append",
          get: function get() {
            return false;
          },
          set: function set(x) {
            x && this.updateText();
          }
        }]);
        return NextMultiLanguage;
      }(MultiLanguage), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "_search", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return '';
        }
      }), _applyDecoratedDescriptor(_class2.prototype, "search", [_dec3], Object.getOwnPropertyDescriptor(_class2.prototype, "search"), _class2.prototype), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "id", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return 0;
        }
      }), _applyDecoratedDescriptor(_class2.prototype, "append", [_dec5], Object.getOwnPropertyDescriptor(_class2.prototype, "append"), _class2.prototype)), _class2)) || _class) || _class) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/NextTutoritalStep.ts", ['cc'], function () {
  var cclegacy;
  return {
    setters: [function (module) {
      cclegacy = module.cclegacy;
    }],
    execute: function () {
      cclegacy._RF.push({}, "ec7d6M441hBabXeMFAo6jZX", "NextTutoritalStep", undefined);
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/NodePoolToggler.ts", ['cc'], function () {
  var cclegacy;
  return {
    setters: [function (module) {
      cclegacy = module.cclegacy;
    }],
    execute: function () {
      cclegacy._RF.push({}, "fb3bcDIclFOKKSsWxDTehnG", "NodePoolToggler", undefined);
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/NodeUtils.ts", ['cc', './ArrayUtils.ts', './ComponentUtils.ts', './MathUtils.ts'], function (exports) {
  var cclegacy, Node, v3, UITransform, pArray, pComponentUtils, pMathUtils;
  return {
    setters: [function (module) {
      cclegacy = module.cclegacy;
      Node = module.Node;
      v3 = module.v3;
      UITransform = module.UITransform;
    }, function (module) {
      pArray = module.pArray;
    }, function (module) {
      pComponentUtils = module.pComponentUtils;
    }, function (module) {
      pMathUtils = module.pMathUtils;
    }],
    execute: function () {
      cclegacy._RF.push({}, "9c5b476St5EfpNMpVk96nbN", "NodeUtils", undefined);
      var _NodeUtils = /*#__PURE__*/function () {
        function _NodeUtils() {}
        var _proto = _NodeUtils.prototype;
        _proto.getChildrenByName = function getChildrenByName(papa, opt) {
          for (var _len = arguments.length, opts = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {
            opts[_key - 2] = arguments[_key];
          }
          papa = papa instanceof Node ? papa : papa.node;
          opts = pArray.flatter.apply(pArray, [opt].concat(opts));
          return opts.reduce(function (data, current) {
            var _name = current._name,
              _out = current._out;
            data[_name] = papa.getChildByName(_name);
            !!_out && _out(data[_name]);
            return data;
          }, {});
        };
        _proto.setPosition = function setPosition(_target, _position, _dif) {
          _target = _target instanceof Node ? _target : _target.node;
          var dif = !!_dif ? _dif : {
            x: 0,
            y: 0,
            z: 0
          };
          if (_position instanceof Node) {
            var _pos = pMathUtils.add('Vec3', _position.worldPosition, dif);
            _target.setWorldPosition(_pos);
            return;
          }
          if ('node' in _position) {
            var _pos2 = pMathUtils.add('Vec3', _position.node.worldPosition, dif);
            _target.setWorldPosition(_pos2);
            return;
          }
          if ('position' in _position && 'isWorldPos' in _position) {
            var position = _position.position,
              isWorldPos = _position.isWorldPos;
            var _this$_getPosition = this._getPosition(position),
              _x = _this$_getPosition.x,
              _y = _this$_getPosition.y,
              _z = _this$_getPosition.z;
            isWorldPos ? _target.setWorldPosition(_x + dif.x, _y + dif.y, _z + dif.z) : _target.setPosition(_x + dif.x, _y + dif.y, _z + dif.z);
            return;
          }
          var _this$_getPosition2 = this._getPosition(_position),
            x = _this$_getPosition2.x,
            y = _this$_getPosition2.y,
            _this$_getPosition2$z = _this$_getPosition2.z,
            z = _this$_getPosition2$z === void 0 ? 0 : _this$_getPosition2$z;
          _target.setPosition(x + dif.x, y + dif.y, z + dif.z);
        };
        _proto.revoleFlexPosition = function revoleFlexPosition(_target, _isWorldPos) {
          if (_target instanceof Node) {
            return _isWorldPos ? function (_node, _dif) {
              return _dif ? pMathUtils.add('Vec3', _target.worldPosition, _dif) : _target.worldPosition.clone();
            } : function (_node, _dif) {
              return _dif ? pMathUtils.add('Vec3', _target.position, _dif) : _target.position.clone();
            };
          }
          if ('node' in _target) {
            return _isWorldPos ? function (_node, _dif) {
              return _dif ? pMathUtils.add('Vec3', _target.node.worldPosition, _dif) : _target.node.worldPosition.clone();
            } : function (_node, _dif) {
              return _dif ? pMathUtils.add('Vec3', _target.node.position, _dif) : _target.node.position.clone();
            };
          }
          if ('position' in _target && 'isWorldPos' in _target) {
            var position = _target.position,
              isWorldPos = _target.isWorldPos;
            var _this$_getPosition3 = this._getPosition(position),
              _x2 = _this$_getPosition3.x,
              _y2 = _this$_getPosition3.y,
              _z2 = _this$_getPosition3.z;
            isWorldPos = Boolean(isWorldPos);
            var _vec = v3(_x2, _y2, _z2);
            if (_isWorldPos && isWorldPos) {
              return function (_node, _dif) {
                return _dif ? v3(_dif.x, _dif.y, _dif.z) : _vec;
              };
            } else if (!_isWorldPos && !isWorldPos) {
              return function (_node, _dif) {
                return _dif ? v3(_dif.x, _dif.y, _dif.z) : _vec;
              };
            } else if (_isWorldPos && !isWorldPos) {
              return function (_node, _dif) {
                var parent = _node.parent;
                if (!parent) return _dif ? v3(_dif.x, _dif.y, _dif.z) : _vec;
                var _transform = pComponentUtils.getSafeComponent(parent, UITransform);
                return _dif ? pMathUtils.add('Vec3', _transform.convertToWorldSpaceAR(_vec), _dif) : _transform.convertToWorldSpaceAR(_vec);
              };
            } else {
              return function (_node, _dif) {
                var parent = _node.parent;
                if (!parent) return _dif ? v3(_dif.x, _dif.y, _dif.z) : _vec;
                var _transform = pComponentUtils.getSafeComponent(parent, UITransform);
                return _dif ? pMathUtils.add('Vec3', _transform.convertToNodeSpaceAR(_vec), _dif) : _transform.convertToNodeSpaceAR(_vec);
              };
            }
          }
          var _this$_getPosition4 = this._getPosition(_target),
            x = _this$_getPosition4.x,
            y = _this$_getPosition4.y,
            _this$_getPosition4$z = _this$_getPosition4.z,
            z = _this$_getPosition4$z === void 0 ? 0 : _this$_getPosition4$z;
          var vec = v3(x, y, z);
          if (_isWorldPos) {
            return function (_node, _dif) {
              var parent = _node.parent;
              if (!parent) return _dif ? v3(_dif.x, _dif.y, _dif.z) : vec;
              var _transform = pComponentUtils.getSafeComponent(parent, UITransform);
              return _dif ? pMathUtils.add('Vec3', _transform.convertToWorldSpaceAR(vec), _dif) : _transform.convertToWorldSpaceAR(vec);
            };
          } else {
            return function (_node, _dif) {
              var parent = _node.parent;
              if (!parent) return _dif ? v3(_dif.x, _dif.y, _dif.z) : vec;
              var _transform = pComponentUtils.getSafeComponent(parent, UITransform);
              return _dif ? pMathUtils.add('Vec3', _transform.convertToNodeSpaceAR(vec), _dif) : _transform.convertToNodeSpaceAR(vec);
            };
          }
        };
        _proto.getLocalPosition = function getLocalPosition(_self, _target, _dif) {
          _self = _self instanceof Node ? _self : _self.node;
          var _self2 = _self,
            parent = _self2.parent;
          var dif = !!_dif ? _dif : {
            x: 0,
            y: 0,
            z: 0
          };
          if (!parent) return v3();
          var _transform = pComponentUtils.getSafeComponent(parent, UITransform);
          if (_target instanceof Node) {
            var _pos = _transform.convertToNodeSpaceAR(_target.worldPosition);
            return pMathUtils.add('Vec3', _pos, dif);
          }
          if ('node' in _target) {
            var _pos3 = _transform.convertToNodeSpaceAR(_target.node.worldPosition);
            return pMathUtils.add('Vec3', _pos3, dif);
          }
          if ('position' in _target && 'isWorldPos' in _target) {
            var position = _target.position,
              isWorldPos = _target.isWorldPos;
            var _this$_getPosition5 = this._getPosition(position),
              _x3 = _this$_getPosition5.x,
              _y3 = _this$_getPosition5.y,
              _z3 = _this$_getPosition5.z;
            var vec = v3(_x3, _y3, _z3);
            var _pos4 = Boolean(isWorldPos) ? _transform.convertToNodeSpaceAR(vec) : vec;
            return pMathUtils.add('Vec3', _pos4, dif);
          }
          var _this$_getPosition6 = this._getPosition(_target),
            x = _this$_getPosition6.x,
            y = _this$_getPosition6.y,
            _this$_getPosition6$z = _this$_getPosition6.z,
            z = _this$_getPosition6$z === void 0 ? 0 : _this$_getPosition6$z;
          return pMathUtils.add('Vec3', v3(x, y, z), dif);
        };
        _proto._getPosition = function _getPosition(_position) {
          var x = _position.x,
            y = _position.y;
          var z = 'z' in _position ? _position.z : 0;
          return {
            x: x,
            y: y,
            z: z
          };
        };
        return _NodeUtils;
      }();
      var pNodeUtils = exports('pNodeUtils', new _NodeUtils());
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/NoticePoint.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './EventManager.ts', './MainScreenController.ts', './FriendManager.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, cclegacy, _decorator, Node, Label, Component, pEventManager, MainScreenController, NSFriendManager;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Node = module.Node;
      Label = module.Label;
      Component = module.Component;
    }, function (module) {
      pEventManager = module.pEventManager;
    }, function (module) {
      MainScreenController = module.MainScreenController;
    }, function (module) {
      NSFriendManager = module.NSFriendManager;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _class, _class2, _descriptor, _descriptor2;
      cclegacy._RF.push({}, "f01a3Q+0UVBA566Hfea/P6L", "NoticePoint", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var NoticePoint = exports('NoticePoint', (_dec = ccclass('NoticePoint'), _dec2 = property(Node), _dec3 = property(Label), _dec(_class = (_class2 = /*#__PURE__*/function (_Component) {
        _inheritsLoose(NoticePoint, _Component);
        function NoticePoint() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _Component.call.apply(_Component, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "point", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbNumber", _descriptor2, _assertThisInitialized(_this));
          _this._events = [['updateNoticePointChat', _this._onHasUserChat, _assertThisInitialized(_this)]
          //['onHasFriendRequest', this.onHasFriendRequest, this],
          ];

          _this._fes = [['onHasFriendRequest', _this._onHasFriendRequest, _assertThisInitialized(_this)]];
          _this.pointCounts = {};
          return _this;
        }
        var _proto = NoticePoint.prototype;
        _proto.onEnable = function onEnable() {
          pEventManager.on(this._events);
          var _fm = NSFriendManager.instance();
          _fm.on(this._fes);
          this._onHasUserChat();
          this._onHasFriendRequest(_fm.numberOfFriendRequest);
        };
        _proto.onDisable = function onDisable() {
          pEventManager.off(this._events);
        };
        _proto._onHasUserChat = function _onHasUserChat() {
          if (!MainScreenController.currentChatSessions) return;
          var total = MainScreenController.currentChatSessions.data.map(function (d) {
            return d.unreadCount;
          }).reduce(function (sum, current) {
            return sum + current;
          }, 0);
          this.pointCounts['updateNoticePointChat'] = total;
          this._loadUI();
        };
        _proto._onHasFriendRequest = function _onHasFriendRequest(num) {
          this.pointCounts['onHasFriendRequest'] = num;
          this._loadUI();
        };
        _proto._loadUI = function _loadUI() {
          var total = 0;
          for (var _k in this.pointCounts) {
            total += this.pointCounts[_k];
          }
          this.point.active = total > 0;
          this.lbNumber && (this.lbNumber.string = total < 10 ? total.toString() : '9+');
        };
        return NoticePoint;
      }(Component), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "point", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "lbNumber", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/NoticePopup.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './LanguageManager.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _createClass, cclegacy, _decorator, Label, Component, LanguageMananger;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _createClass = module.createClass;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Label = module.Label;
      Component = module.Component;
    }, function (module) {
      LanguageMananger = module.LanguageMananger;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _class, _class2, _descriptor, _descriptor2, _class3;
      cclegacy._RF.push({}, "e110d2l8kpCkrlC060Rol0F", "NoticePopup", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property,
        menu = _decorator.menu;
      var NoticePopup = exports('NoticePopup', (_dec = ccclass('NoticePopup'), _dec2 = menu('NoticePopup'), _dec3 = property(Label), _dec4 = property(Label), _dec(_class = _dec2(_class = (_class2 = (_class3 = /*#__PURE__*/function (_Component) {
        _inheritsLoose(NoticePopup, _Component);
        function NoticePopup() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _Component.call.apply(_Component, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "lblTitle", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lblMsg", _descriptor2, _assertThisInitialized(_this));
          return _this;
        }
        var _proto = NoticePopup.prototype;
        _proto.onLoad = function onLoad() {
          NoticePopup._I = this;
          this.close();
        };
        _proto.open = function open() {
          this.node.active = true;
        };
        _proto.close = function close() {
          this.node.active = false;
        };
        _proto.setRawTxt = function setRawTxt(title, msg) {
          this.lblTitle.string = title;
          this.lblMsg.string = msg;
        };
        _proto.setTxtFromKey = function setTxtFromKey(title, msg) {
          var _msg;
          (_msg = msg) != null ? _msg : msg = 'txt_default_error_msg';
          var data = LanguageMananger.instance.getStrings(title, msg);
          this.setRawTxt(data[title], data[msg]);
        };
        _createClass(NoticePopup, null, [{
          key: "instance",
          get: function get() {
            return NoticePopup._I;
          }
        }]);
        return NoticePopup;
      }(Component), _class3._I = null, _class3), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "lblTitle", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "lblMsg", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/NotifyCommand.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './Connection.ts'], function (exports) {
  var _asyncToGenerator, _regeneratorRuntime, cclegacy, _connection;
  return {
    setters: [function (module) {
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
    }, function (module) {
      _connection = module.default;
    }],
    execute: function () {
      exports('default', request);
      cclegacy._RF.push({}, "1e2bfQI0ZFKyZyEvdoyoCXn", "NotifyCommand", undefined);
      var NHC;
      (function (_NHC) {
        var prefix = _NHC.prefix = "game.notificationHandler.";
      })(NHC || (NHC = {}));
      function request(_x, _x2, _x3) {
        return _request.apply(this, arguments);
      }
      function _request() {
        _request = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(command, payload, cb) {
          return _regeneratorRuntime().wrap(function _callee$(_context) {
            while (1) switch (_context.prev = _context.next) {
              case 0:
                return _context.abrupt("return", _connection.send(NHC.prefix + command, payload, cb));
              case 1:
              case "end":
                return _context.stop();
            }
          }, _callee);
        }));
        return _request.apply(this, arguments);
      }
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/NotifyLabel.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _createClass, cclegacy, _decorator, Label;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _createClass = module.createClass;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Label = module.Label;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _class, _class2;
      cclegacy._RF.push({}, "2d3ccf5+kRMJJlHNnZSkvP0", "NotifyLabel", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var NotifyLabel = exports('NotifyLabel', (_dec = ccclass("NotifyLabel"), _dec2 = property({
        type: Label
      }), _dec3 = property({
        override: true
      }), _dec(_class = (_class2 = /*#__PURE__*/function (_Label) {
        _inheritsLoose(NotifyLabel, _Label);
        function NotifyLabel() {
          return _Label.apply(this, arguments) || this;
        }
        _createClass(NotifyLabel, [{
          key: "copy",
          get: function get() {
            return null;
          },
          set: function set(value) {
            if (!value) return;
            this.string = value.string;
            this.material = value.material;
            this.font = value.font;
            this.fontSize = value.fontSize;
            this.lineHeight = value.lineHeight;
            this.color = value.color;
            this.horizontalAlign = value.horizontalAlign;
            this.verticalAlign = value.verticalAlign;
            this.overflow = value.overflow;
            this.enableWrapText = value.enableWrapText;
            this.useSystemFont = value.useSystemFont;
            this.cacheMode = value.cacheMode;
            this.enableShadow = value.enableShadow;
            this.enableOutline = value.enableOutline;
          }
        }, {
          key: "string",
          get: function get() {
            return _Label.prototype.string;
          },
          set: function set(value) {
            this.string = value;
            this.updateRenderData(true);
            this.node.emit("on-string-changed", value);
          }
        }], [{
          key: "EventType",
          get: function get() {
            return {
              STRING_CHANGED: "on-string-changed"
            };
          }
        }]);
        return NotifyLabel;
      }(Label), (_applyDecoratedDescriptor(_class2.prototype, "copy", [_dec2], Object.getOwnPropertyDescriptor(_class2.prototype, "copy"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, "string", [_dec3], Object.getOwnPropertyDescriptor(_class2.prototype, "string"), _class2.prototype)), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/NotifyToast.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './Decorators.ts', './LanguageManager.ts', './EngineManager.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _createClass, cclegacy, _decorator, RichText, Node, UITransform, Label, v3, tween, TweenSystem, Component, pDecorators, LanguageMananger, pEngineManager;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _createClass = module.createClass;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      RichText = module.RichText;
      Node = module.Node;
      UITransform = module.UITransform;
      Label = module.Label;
      v3 = module.v3;
      tween = module.tween;
      TweenSystem = module.TweenSystem;
      Component = module.Component;
    }, function (module) {
      pDecorators = module.pDecorators;
    }, function (module) {
      LanguageMananger = module.LanguageMananger;
    }, function (module) {
      pEngineManager = module.pEngineManager;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _class, _class2, _descriptor, _descriptor2, _descriptor3;
      cclegacy._RF.push({}, "b72e2LczbtHi4yxLZO8xRPt", "NotifyToast", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var singleton = pDecorators.singleton;
      var NotifyToast = exports('NotifyToast', (_dec = ccclass('NotifyToast'), _dec2 = singleton(), _dec3 = property(RichText), _dec4 = property(Node), _dec5 = property({
        min: 0
      }), _dec(_class = _dec2(_class = (_class2 = /*#__PURE__*/function (_Component) {
        _inheritsLoose(NotifyToast, _Component);
        function NotifyToast() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _Component.call.apply(_Component, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "content", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "boundNode", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "displayDuration", _descriptor3, _assertThisInitialized(_this));
          _this._stackNotify = [];
          _this._isFirst = true;
          _this._isShowing = false;
          _this._transform = void 0;
          _this._width = 0;
          return _this;
        }
        var _proto = NotifyToast.prototype;
        _proto.onLoad = function onLoad() {
          this._transform = this.boundNode.getComponent(UITransform);
          this._width = this._transform.contentSize.width;
        };
        _proto.showWithMultiKey = function showWithMultiKey(group, key, scope, onDone) {
          if (scope === void 0) {
            scope = 'table';
          }
          if (onDone === void 0) {
            onDone = null;
          }
          //@ts-ignore
          var _txt = LanguageMananger.get(group, key);
          this.show(_txt, scope, onDone);
        };
        _proto.showWithKey = function showWithKey(key, scope, onDone) {
          if (scope === void 0) {
            scope = 'table';
          }
          if (onDone === void 0) {
            onDone = null;
          }
          var txt = LanguageMananger.instance.getString(key);
          this.show(txt, scope, onDone);
        };
        _proto.show = function show(text, scope, onDone, running) {
          if (running === void 0) {
            running = false;
          }
          if (!text || text.trim().length === 0) return;
          pEngineManager.log("NotifyToast", "show", text, "WITH SCOPE >>", scope);
          if (this._isShowing) {
            this._stackNotify.push({
              text: text,
              scope: scope,
              onDone: onDone
            });
            return;
          }
          this.content.node.active = false;
          this._isShowing = true;
          var _this$_actMeasureText = this._actMeasureTextWidth(text),
            boundLabelWidth = _this$_actMeasureText.boundLabelWidth,
            showAnim = _this$_actMeasureText.showAnim;
          var textParams = {
            text: text,
            scope: scope,
            textSize: boundLabelWidth - 20,
            onDone: onDone,
            showAnim: showAnim
          };
          this._isFirst || running ? this._actEntrance(textParams) : this._actRunText(text, scope, boundLabelWidth - 20, onDone, showAnim);
        };
        _proto._actMeasureTextWidth = function _actMeasureTextWidth(text) {
          var _node = new Node();
          _node.addComponent(UITransform);
          var _label = _node.addComponent(Label);
          _label.font = this.content.font;
          _label.fontSize = 18;
          _label.lineHeight = this.content.lineHeight;
          _label.overflow = Label.Overflow.NONE;
          _label.string = text;
          _label.updateRenderData(true);
          var _ltransform = _label.node.getComponent(UITransform);
          var _lwidth = _ltransform.contentSize.width;
          var _sanim = _lwidth + 20 >= this._width;
          return {
            boundLabelWidth: _lwidth,
            showAnim: _sanim
          };
        };
        _proto._actEntrance = function _actEntrance(params) {
          var _this2 = this;
          this._isFirst = false;
          var _btransform = this.boundNode.getComponent(UITransform);
          var _tpos = this.node.getPosition();
          var _spos = v3(_tpos.x, _tpos.y + _btransform.contentSize.height, _tpos.z);
          this.node.setPosition(_spos);
          this.boundNode.active = true;
          tween(this.node).to(0.1, {
            position: _tpos
          }, {
            easing: 'quadInOut'
          }).call(function () {
            return _this2._actRunText(params.text, params.scope, params.textSize, params.onDone, params.showAnim);
          }).start();
        };
        _proto._actRunText = function _actRunText(text, scope, textSize, onDone, showAnim) {
          if (showAnim === void 0) {
            showAnim = true;
          }
          var _scope = {
            'global': '<img src="loadspeaker_big"/> ',
            'zone': '<img src="loadspeaker_small"/> '
          };
          var type = _scope[scope] || "";
          this.content.string = type + "<size=18>" + text + "</size>";
          showAnim ? this._showAnimatedNoti(textSize, onDone) : this._showStaticNoti(onDone);
        };
        _proto._showStaticNoti = function _showStaticNoti(onDone) {
          var _this3 = this;
          this.content.node.setPosition(v3(0, this.content.node.position.y, 0));
          this.content.node.active = true;
          this.scheduleOnce(function () {
            _this3._isShowing = false;
            _this3._actExitAnim(onDone);
          }, this.displayDuration);
        };
        _proto._showAnimatedNoti = function _showAnimatedNoti(textSize, onDone) {
          var _this4 = this;
          var duration = (this._width + textSize) / 120;
          var startPos = this.content.node.getPosition();
          var endPos = startPos.clone();
          startPos.x = this._width * (1 - this._transform.anchorX) + textSize * 0.5;
          this.content.node.setPosition(startPos);
          endPos.x = -this._width * this._transform.anchorX - textSize * 0.5;
          this.content.node.active = true;
          tween(this.content.node).to(duration, {
            position: endPos
          }).call(function () {
            _this4._isShowing = false;
            if (_this4._stackNotify.length === 0) {
              _this4._actExitAnim(onDone);
              return;
            }
            _this4._actProcessNextNoti(onDone);
          }).start();
        };
        _proto._actExitAnim = function _actExitAnim(onDone) {
          var _this5 = this;
          TweenSystem.instance.ActionManager.removeAllActionsFromTarget(this.node);
          var pos = this.node.getPosition();
          var exitPos = v3(pos.x, pos.y + this._transform.contentSize.height, pos.z);
          tween(this.node).to(0.1, {
            position: exitPos
          }, {
            easing: 'quadInOut'
          }).call(function () {
            _this5.boundNode.active = false;
            _this5.node.setPosition(pos);
            _this5._isFirst = true;
            onDone == null || onDone();
          }).start();
        };
        _proto._actProcessNextNoti = function _actProcessNextNoti(currentOnDone) {
          var reversedStack = this._stackNotify.reverse();
          var next = reversedStack.pop();
          this._stackNotify = reversedStack.reverse();
          next ? this.show(next.text, next.scope, next.onDone) : this._actExitAnim(currentOnDone);
        };
        _createClass(NotifyToast, null, [{
          key: "instance",
          get: function get() {
            return pDecorators.instance(NotifyToast);
          }
        }]);
        return NotifyToast;
      }(Component), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "content", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "boundNode", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "displayDuration", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return 3;
        }
      })), _class2)) || _class) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/ObjectUtils.ts", ['cc'], function (exports) {
  var cclegacy;
  return {
    setters: [function (module) {
      cclegacy = module.cclegacy;
    }],
    execute: function () {
      cclegacy._RF.push({}, "4a111jr8nJJCqHMiXel5aNL", "ObjectUtils", undefined);
      var _ObjectUtils = /*#__PURE__*/function () {
        function _ObjectUtils() {
          this._pool = [];
        }
        var _proto = _ObjectUtils.prototype;
        _proto.bind = function bind(key) {
          var _is = this._pool.includes(key);
          if (_is) return false;
          this._pool.push(key);
          return true;
        };
        _proto.clone = function clone(target) {
          return JSON.parse(JSON.stringify(target));
        };
        return _ObjectUtils;
      }();
      var pObjectUtils = exports('pObjectUtils', new _ObjectUtils());
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/OnceOnly.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './StringUtils.ts', './ObjectUtils.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, cclegacy, _decorator, Component, pStringUtils, pObjectUtils;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Component = module.Component;
    }, function (module) {
      pStringUtils = module.pStringUtils;
    }, function (module) {
      pObjectUtils = module.pObjectUtils;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _class, _class2, _descriptor;
      cclegacy._RF.push({}, "8e204IbkI9I8qJ2G842aW4X", "OnceOnly", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property,
        executionOrder = _decorator.executionOrder;
      var OnceOnly = exports('OnceOnly', (_dec = ccclass("OnceOnly"), _dec2 = executionOrder(-Infinity), _dec3 = property({}), _dec(_class = _dec2(_class = (_class2 = /*#__PURE__*/function (_Component) {
        _inheritsLoose(OnceOnly, _Component);
        function OnceOnly() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _Component.call.apply(_Component, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "id", _descriptor, _assertThisInitialized(_this));
          return _this;
        }
        var _proto = OnceOnly.prototype;
        _proto.onLoad = function onLoad() {
          var _is = pObjectUtils.bind(this.id);
          if (!_is) {
            this.node.destroy();
            this.node.removeFromParent();
          }
        };
        return OnceOnly;
      }(Component), _descriptor = _applyDecoratedDescriptor(_class2.prototype, "id", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return pStringUtils.uuid();
        }
      }), _class2)) || _class) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/pAndroid.ts", ['cc'], function () {
  var cclegacy, sys;
  return {
    setters: [function (module) {
      cclegacy = module.cclegacy;
      sys = module.sys;
    }],
    execute: function () {
      cclegacy._RF.push({}, "ab3b1BKBrJDKZbX5qyXZFk5", "pAndroid", undefined);
      if (window.jsb && sys.isNative && sys.os === sys.OS.ANDROID) {
        var _ol = console.log;
        var _oe = console.error;
        console.log = function () {
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          var _msg = args.map(function (arg) {
            return typeof arg === 'string' ? arg : JSON.stringify(arg);
          }).join(" ");
          try {
            //@ts-ignore
            window.jsb.reflection.callStaticMethod("android/util/Log", "d", "(Ljava/lang/String;Ljava/lang/String;)I", "JS_LOG", _msg);
          } catch (e) {}
          _ol.apply(console, args);
        };
        console.error = function () {
          for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
            args[_key2] = arguments[_key2];
          }
          var _msg = args.map(function (arg) {
            return typeof arg === 'string' ? arg : JSON.stringify(arg);
          }).join(" ");
          try {
            //@ts-ignore
            window.jsb.reflection.callStaticMethod("android/util/Log", "d", "(Ljava/lang/String;Ljava/lang/String;)I", "JS_ERROR", _msg);
          } catch (e) {}
          _oe.apply(console, args);
        };
        console.log("Android native log redirection is enabled.");
      }
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/PersistentNode.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc'], function (exports) {
  var _inheritsLoose, cclegacy, _decorator, director, Component;
  return {
    setters: [function (module) {
      _inheritsLoose = module.inheritsLoose;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      director = module.director;
      Component = module.Component;
    }],
    execute: function () {
      var _dec, _dec2, _class;
      cclegacy._RF.push({}, "35eebvLdGJMI6gfcUaw+EB4", "PersistentNode", undefined);
      var ccclass = _decorator.ccclass,
        disallowMultiple = _decorator.disallowMultiple;
      var PersistentNode = exports('PersistentNode', (_dec = ccclass('PersistentNode'), _dec2 = disallowMultiple(), _dec(_class = _dec2(_class = /*#__PURE__*/function (_Component) {
        _inheritsLoose(PersistentNode, _Component);
        function PersistentNode() {
          return _Component.apply(this, arguments) || this;
        }
        var _proto = PersistentNode.prototype;
        _proto.onLoad = function onLoad() {
          this.node.parent = null;
          director.addPersistRootNode(this.node);
        };
        return PersistentNode;
      }(Component)) || _class) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/PhoneZoneItem.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, cclegacy, _decorator, Label, Component;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Label = module.Label;
      Component = module.Component;
    }],
    execute: function () {
      var _dec, _dec2, _class, _class2, _descriptor;
      cclegacy._RF.push({}, "1a5f5GHsfhIR5ssfPscYPR7", "PhoneZoneItem", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property,
        type = _decorator.type;
      var PhoneZoneItem = exports('PhoneZoneItem', (_dec = ccclass('PhoneZoneItem'), _dec2 = type(Label), _dec(_class = (_class2 = /*#__PURE__*/function (_Component) {
        _inheritsLoose(PhoneZoneItem, _Component);
        function PhoneZoneItem() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _Component.call.apply(_Component, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "lblZone", _descriptor, _assertThisInitialized(_this));
          _this.zoneIndex = 0;
          return _this;
        }
        var _proto = PhoneZoneItem.prototype;
        _proto.setContent = function setContent(zoneIndex, zoneName, zoneCode) {
          this.lblZone.string = zoneName + '  +' + zoneCode;
          this.zoneIndex = zoneIndex;
        };
        _proto.getZoneIndex = function getZoneIndex() {
          return this.zoneIndex;
        };
        return PhoneZoneItem;
      }(Component), _descriptor = _applyDecoratedDescriptor(_class2.prototype, "lblZone", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/PlayingController.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './Decorators.ts', './EventManager.ts', './YardGamePlayer.ts', './SNGGamePlayer.ts', './MTTGamePlayer.ts'], function (exports) {
  var _createClass, _asyncToGenerator, _regeneratorRuntime, cclegacy, pDecorators, pEventManager, YardGamePlayer, SNGGamePlayer, MTTGamePlayer;
  return {
    setters: [function (module) {
      _createClass = module.createClass;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
    }, function (module) {
      pDecorators = module.pDecorators;
    }, function (module) {
      pEventManager = module.pEventManager;
    }, function (module) {
      YardGamePlayer = module.YardGamePlayer;
    }, function (module) {
      SNGGamePlayer = module.SNGGamePlayer;
    }, function (module) {
      MTTGamePlayer = module.MTTGamePlayer;
    }],
    execute: function () {
      var _dec, _class;
      cclegacy._RF.push({}, "26a7cTINstJR55n28SGO+cN", "PlayingController", undefined);
      var singleton = pDecorators.singleton;
      var PlayingController = exports('default', (_dec = singleton({
        initer: "_init",
        destroyer: '_destroy',
        wake: 'Instantly'
      }), _dec(_class = /*#__PURE__*/function () {
        function PlayingController() {
          this._controller = null;
          this._room = null;
          this._events = [['onTableEvent', this._onTableEvent, this], ['onUpdateUsers', this._onUpdateUsers, this], ['onStartTurn', this._onStartTurn, this], ['onEndTurn', this._onEndTurn, this], ['onChat', this._onChat, this], ['onUpdateMyself', this._onUpdateSelf, this], ['onKickUser', this._onKickUser, this], ['onError', this._onDisconnect, this], ['onClearTable', this._onClearTable, this], ['onLeaveTable', this._onLeaveTable, this], ['onEndGame', this._onEndGame, this], ['onJoinTable', this._onJoinTable, this], ['onJoinGame', this._onJoinGame, this]];
        }
        var _proto = PlayingController.prototype;
        _proto._init = function _init() {
          this.room = 'PT';
          pEventManager.on(this._events);
        };
        _proto._destroy = function _destroy() {
          pEventManager.off(this._events);
        };
        _proto._onChat = function _onChat(data) {
          this.controller.onChat(data);
        };
        _proto._onTableEvent = function _onTableEvent(msg) {
          this.controller.onTableEvent(msg);
        };
        _proto._onUpdateUsers = function _onUpdateUsers(msg) {
          this.controller.onUpdateUsers(msg);
        };
        _proto._onStartTurn = function _onStartTurn(data) {
          this.controller.onStartTurn(data);
        };
        _proto._onEndTurn = function _onEndTurn(msg) {
          this.controller.onEndTurn(msg);
        };
        _proto._onUpdateSelf = function _onUpdateSelf(msg) {
          this.controller.onUpdateSelf(msg);
        };
        _proto._onKickUser = function _onKickUser() {
          this.controller.onKickUser();
        };
        _proto._onDisconnect = function _onDisconnect() {
          this.controller.onDisconnect();
        };
        _proto._onClearTable = function _onClearTable(msg) {
          this.controller.onClearTable(msg);
        };
        _proto._onEndGame = function _onEndGame(data) {
          this.controller.onEndGame(data);
        };
        _proto._onLeaveTable = function _onLeaveTable() {
          this.controller.onLeaveTable();
        };
        _proto._onJoinTable = function _onJoinTable(data) {
          this.controller.onJoinTable(data);
        };
        _proto._onJoinGame = function _onJoinGame(data) {
          this.controller.onJoinGame(data);
        };
        _proto.actStandUp = /*#__PURE__*/function () {
          var _actStandUp = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  _context.next = 2;
                  return this.controller.actStandUp();
                case 2:
                case "end":
                  return _context.stop();
              }
            }, _callee, this);
          }));
          function actStandUp() {
            return _actStandUp.apply(this, arguments);
          }
          return actStandUp;
        }();
        _proto.actionBet = /*#__PURE__*/function () {
          var _actionBet = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(_value, _onSuccess) {
            return _regeneratorRuntime().wrap(function _callee2$(_context2) {
              while (1) switch (_context2.prev = _context2.next) {
                case 0:
                  if (_onSuccess === void 0) {
                    _onSuccess = null;
                  }
                  _context2.next = 3;
                  return this.controller.actionBet(_value, _onSuccess);
                case 3:
                case "end":
                  return _context2.stop();
              }
            }, _callee2, this);
          }));
          function actionBet(_x, _x2) {
            return _actionBet.apply(this, arguments);
          }
          return actionBet;
        }();
        _proto.actionCheck = /*#__PURE__*/function () {
          var _actionCheck = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {
            return _regeneratorRuntime().wrap(function _callee3$(_context3) {
              while (1) switch (_context3.prev = _context3.next) {
                case 0:
                  _context3.next = 2;
                  return this.controller.actionCheck();
                case 2:
                case "end":
                  return _context3.stop();
              }
            }, _callee3, this);
          }));
          function actionCheck() {
            return _actionCheck.apply(this, arguments);
          }
          return actionCheck;
        }();
        _proto.actionFold = /*#__PURE__*/function () {
          var _actionFold = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {
            return _regeneratorRuntime().wrap(function _callee4$(_context4) {
              while (1) switch (_context4.prev = _context4.next) {
                case 0:
                  _context4.next = 2;
                  return this.controller.actionFold();
                case 2:
                case "end":
                  return _context4.stop();
              }
            }, _callee4, this);
          }));
          function actionFold() {
            return _actionFold.apply(this, arguments);
          }
          return actionFold;
        }();
        _proto.actionCall = /*#__PURE__*/function () {
          var _actionCall = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5() {
            return _regeneratorRuntime().wrap(function _callee5$(_context5) {
              while (1) switch (_context5.prev = _context5.next) {
                case 0:
                  _context5.next = 2;
                  return this.controller.actionCall();
                case 2:
                case "end":
                  return _context5.stop();
              }
            }, _callee5, this);
          }));
          function actionCall() {
            return _actionCall.apply(this, arguments);
          }
          return actionCall;
        }();
        _proto.actionAllin = /*#__PURE__*/function () {
          var _actionAllin = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6(value, force) {
            return _regeneratorRuntime().wrap(function _callee6$(_context6) {
              while (1) switch (_context6.prev = _context6.next) {
                case 0:
                  if (force === void 0) {
                    force = false;
                  }
                  _context6.next = 3;
                  return this.controller.actionAllin(value, force);
                case 3:
                case "end":
                  return _context6.stop();
              }
            }, _callee6, this);
          }));
          function actionAllin(_x3, _x4) {
            return _actionAllin.apply(this, arguments);
          }
          return actionAllin;
        }();
        _proto.actBuyIn = /*#__PURE__*/function () {
          var _actBuyIn = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee7(slot, table, auto, amount) {
            return _regeneratorRuntime().wrap(function _callee7$(_context7) {
              while (1) switch (_context7.prev = _context7.next) {
                case 0:
                  if (auto === void 0) {
                    auto = false;
                  }
                  if (amount === void 0) {
                    amount = 0;
                  }
                  _context7.next = 4;
                  return this.controller.actBuyIn(slot, table, auto, amount);
                case 4:
                case "end":
                  return _context7.stop();
              }
            }, _callee7, this);
          }));
          function actBuyIn(_x5, _x6, _x7, _x8) {
            return _actBuyIn.apply(this, arguments);
          }
          return actBuyIn;
        }();
        _proto.actStopPlaying = function actStopPlaying() {
          this.controller.actBackToLobby();
        };
        _proto.leaveTable = /*#__PURE__*/function () {
          var _leaveTable = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee8(onSuccess, onError) {
            return _regeneratorRuntime().wrap(function _callee8$(_context8) {
              while (1) switch (_context8.prev = _context8.next) {
                case 0:
                  this.controller.leaveTable(onSuccess, onError);
                case 1:
                case "end":
                  return _context8.stop();
              }
            }, _callee8, this);
          }));
          function leaveTable(_x9, _x10) {
            return _leaveTable.apply(this, arguments);
          }
          return leaveTable;
        }();
        _proto.leaveRoomChecker = function leaveRoomChecker(onConfirm, onSuccess) {
          this.controller.leaveRoomChecker(onConfirm, onSuccess);
        };
        _proto.showProfilePlayer = /*#__PURE__*/function () {
          var _showProfilePlayer = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee9(player) {
            return _regeneratorRuntime().wrap(function _callee9$(_context9) {
              while (1) switch (_context9.prev = _context9.next) {
                case 0:
                  _context9.next = 2;
                  return this.controller.showProfilePlayer(player);
                case 2:
                case "end":
                  return _context9.stop();
              }
            }, _callee9, this);
          }));
          function showProfilePlayer(_x11) {
            return _showProfilePlayer.apply(this, arguments);
          }
          return showProfilePlayer;
        }();
        _proto.setRoom = function setRoom(room) {
          this.room = room;
        };
        _proto.setup = /*#__PURE__*/function () {
          var _setup = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee10(data, tid, room) {
            return _regeneratorRuntime().wrap(function _callee10$(_context10) {
              while (1) switch (_context10.prev = _context10.next) {
                case 0:
                  if (room === void 0) {
                    room = 'PT';
                  }
                  this.room = room;
                  _context10.next = 4;
                  return this.controller.setup(data, tid);
                case 4:
                case "end":
                  return _context10.stop();
              }
            }, _callee10, this);
          }));
          function setup(_x12, _x13, _x14) {
            return _setup.apply(this, arguments);
          }
          return setup;
        }();
        _proto.joinOtherGameOnEnd = function joinOtherGameOnEnd(table) {
          if (!this.controller) return;
          this.controller.joinOtherGameOnEnd(table);
        };
        _proto.setWaiter = function setWaiter(pm) {
          this.controller.setWaiter(pm);
        };
        _createClass(PlayingController, [{
          key: "controller",
          get: function get() {
            if (!this._controller) {
              this.room = 'PT';
            }
            return this._controller;
          }
        }, {
          key: "currentPlayer",
          get: function get() {
            return this.controller.currentPlayer;
          }
        }, {
          key: "room",
          get: function get() {
            return this._room;
          },
          set: function set(target) {
            if (this._room != target) {
              var _this$_controller, _this$_controller2;
              this._room = target;
              (_this$_controller = this._controller) == null || _this$_controller.disable();
              switch (this._room) {
                case 'PT':
                  {
                    this._controller = pDecorators.instance(YardGamePlayer);
                    //this._controller = new YardGamePlayer();
                    break;
                  }
                case 'SNG':
                  {
                    this._controller = pDecorators.instance(SNGGamePlayer);
                    //this._controller = new SNGGamePlayer();
                    break;
                  }
                case 'MTT':
                  {
                    this._controller = pDecorators.instance(MTTGamePlayer);
                    break;
                  }
              }
              (_this$_controller2 = this._controller) == null || _this$_controller2.enable();
            }
          }
        }, {
          key: "gameState",
          get: function get() {
            return this.controller.gameState;
          }
        }, {
          key: "listCurrPlayerInTabel",
          get: function get() {
            return this.controller.listCurrPlayerInTabel;
          }
        }, {
          key: "mainState",
          get: function get() {
            return this.controller.mainState;
          }
        }, {
          key: "isMainSitDown",
          get: function get() {
            return this.controller.isMainSitDown;
          }
        }, {
          key: "currentAmountCall",
          get: function get() {
            return this.controller.currentAmountCall;
          }
        }, {
          key: "game",
          get: function get() {
            return this.controller.game;
          }
        }, {
          key: "tid",
          get: function get() {
            return this.controller.tid;
          }
        }, {
          key: "tableData",
          get: function get() {
            return this.controller.table;
          }
        }, {
          key: "isPlaying",
          get: function get() {
            return this.controller.isPlaying;
          }
        }, {
          key: "currentPlayerAmount",
          get: function get() {
            return this.controller.currentPlayerAmount;
          }
        }], [{
          key: "instance",
          get: function get() {
            return pDecorators.instance(PlayingController);
          }
        }]);
        return PlayingController;
      }()) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/PokerRank.ts", ['cc'], function (exports) {
  var cclegacy;
  return {
    setters: [function (module) {
      cclegacy = module.cclegacy;
    }],
    execute: function () {
      exports('NSPokerRank', void 0);
      cclegacy._RF.push({}, "72aa74dkFxPepqKJuLP53aZ", "PokerRank", undefined);
      var NSPokerRank;
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/Pooler.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './EventDriver.ts', './Constants.ts', './EngineManager.ts', './ArrayUtils.ts'], function (exports) {
  var _createForOfIteratorHelperLoose, _createClass, _asyncToGenerator, _regeneratorRuntime, cclegacy, NSEventDriver, VOID_FUNC, pEngineManager, pArray;
  return {
    setters: [function (module) {
      _createForOfIteratorHelperLoose = module.createForOfIteratorHelperLoose;
      _createClass = module.createClass;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
    }, function (module) {
      NSEventDriver = module.NSEventDriver;
    }, function (module) {
      VOID_FUNC = module.VOID_FUNC;
    }, function (module) {
      pEngineManager = module.pEngineManager;
    }, function (module) {
      pArray = module.pArray;
    }],
    execute: function () {
      exports('default', Pooler);
      cclegacy._RF.push({}, "9a4aflfI/hHgISz6kSQbvgi", "Pooler", undefined);
      function _invoker(handler, target) {
        if (!handler) return;
        if (typeof handler === 'function') {
          return handler(target);
        }
        var _handler = target[handler];
        console.log(">>>> Pooler._invoker", handler, _handler);
        _handler && typeof _handler === 'function' && _handler();
      }
      var _Pooler = /*#__PURE__*/function () {
        function _Pooler(_opt) {
          this.__pool_ = [];
          this.__driver_ = null;
          this.__creator_ = null;
          this.__index_ = false;
          this.__subdt_ = {};
          this.__gets_ = null;
          var isDriver = _opt.isDriver,
            isDynamic = _opt.isDynamic,
            creator = _opt.creator,
            amount = _opt.amount,
            index = _opt.index;
          isDriver = isDriver || false;
          isDynamic = isDynamic || false;
          index = index || false;
          amount = amount || 0;
          this.__creator_ = creator || function () {
            return null;
          };
          this.__index_ = index;
          this.__gets_ = isDynamic ? this._dyngets : this._norgets;
          isDriver && (this.__driver_ = new NSEventDriver.Handler());
          if (amount > 0 && this.__creator_) {
            for (var i = 0; i < amount; i++) {
              var _obj = this.__creator_(i);
              if (!_obj) continue;
              this.add(_obj);
            }
            pEngineManager.log(">>>> Pooler.create", this.__pool_);
          }
          if (!index) this.pull = VOID_FUNC;
        }
        var _proto = _Pooler.prototype;
        _proto.pull = /*#__PURE__*/function () {
          var _pull = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(onPull, validitor) {
            var key, _prop;
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  _context.t0 = _regeneratorRuntime().keys(this.__subdt_);
                case 1:
                  if ((_context.t1 = _context.t0()).done) {
                    _context.next = 11;
                    break;
                  }
                  key = _context.t1.value;
                  _prop = this.__subdt_[key];
                  _context.t2 = onPull;
                  if (!_context.t2) {
                    _context.next = 8;
                    break;
                  }
                  _context.next = 8;
                  return onPull(_prop);
                case 8:
                  validitor && validitor(_prop) && this.__pool_.push(_prop);
                  _context.next = 1;
                  break;
                case 11:
                case "end":
                  return _context.stop();
              }
            }, _callee, this);
          }));
          function pull(_x, _x2) {
            return _pull.apply(this, arguments);
          }
          return pull;
        }();
        _proto.every = function every(handler) {
          this.__pool_.forEach(function (prop, index) {
            return handler(prop, index);
          });
        };
        _proto.add = function add(prop, handler) {
          var _this$__driver_;
          if (this.__pool_.indexOf(prop) > -1) return;
          _invoker(handler, prop);
          (_this$__driver_ = this.__driver_) == null || _this$__driver_.invoke('onAdd', prop);
          this.__pool_.push(prop);
          this.__index_ && (this.__subdt_[prop.uuid] = prop);
        };
        _proto.adds = function adds(prop, handler) {
          var _this$__driver_2,
            _this = this;
          prop = pArray.flatter(prop).filter(Boolean);
          (_this$__driver_2 = this.__driver_) == null || _this$__driver_2.invoke('onAdds', prop);
          prop.forEach(function (_prop) {
            return _this.add(_prop, handler);
          });
        };
        _proto.clean = function clean(handler) {
          var _this$__driver_3;
          for (var i = 0; i < this.__pool_.length; i++) {
            var _prop = this.__pool_[i];
            _invoker(handler, _prop);
          }
          (_this$__driver_3 = this.__driver_) == null || _this$__driver_3.invoke('onClean');
          this.__pool_ = [];
        };
        _proto.get = function get(handler) {
          var _this$__driver_4;
          var _last = this.__pool_.length - 1;
          if (_last < 0) return null;
          var _obj = this.__pool_[_last];
          this.__pool_.length = _last;
          _invoker(handler, _obj);
          (_this$__driver_4 = this.__driver_) == null || _this$__driver_4.invoke('onGet', _obj);
          return _obj;
        };
        _proto._norgets = function _norgets(amount, handler) {
          if (amount <= 0) return [];
          var _ret = [];
          for (var i = 0; i < amount; i++) {
            var _obj = this.get(handler);
            if (!_obj) continue;
            _ret.push(_obj);
            this.__index_ && (this.__subdt_[_obj.uuid] = _obj);
          }
          return _ret;
        };
        _proto._dyngets = function _dyngets(amount, handler) {
          if (amount <= 0) return [];
          var _pool = [];
          var remaining = amount;
          if (this.__pool_.length > 0) {
            var _this$__driver_5;
            var _count = Math.min(this.__pool_.length, remaining);
            var _start = this.__pool_.length - _count;
            var _items = this.__pool_.splice(_start, _count);
            if (handler) {
              for (var _iterator = _createForOfIteratorHelperLoose(_items), _step; !(_step = _iterator()).done;) {
                var item = _step.value;
                _invoker(handler, item);
              }
            }
            _pool.push.apply(_pool, _items);
            (_this$__driver_5 = this.__driver_) == null || _this$__driver_5.invoke('onGet', _items);
            remaining -= _count;
          }
          if (remaining > 0 && this.__creator_) {
            var startIdx = amount - remaining;
            for (var i = 0; i < remaining; i++) {
              var _obj = this.__creator_(startIdx + i);
              if (!_obj) continue;
              _invoker(handler, _obj);
              _pool.push(_obj);
              this.__index_ && (this.__subdt_[_obj.uuid] = _obj);
            }
          }
          return _pool;
        };
        _proto.gets = function gets(amount, handler) {
          var _this$__driver_6;
          pEngineManager.log(">>>> Pooler.gets", amount, handler);
          var _gets = this.__gets_ ? this.__gets_(amount, handler) : [];
          (_this$__driver_6 = this.__driver_) == null || _this$__driver_6.invoke('onGets', _gets);
          return _gets;
        };
        _createClass(_Pooler, [{
          key: "size",
          get: function get() {
            return this.__pool_.length;
          }
        }]);
        return _Pooler;
      }();
      var __opt = {
        isDynamic: false,
        isDriver: false,
        amount: 0,
        creator: function creator() {
          return null;
        },
        index: false
      };
      function Pooler(_opt) {
        _opt = _opt || __opt;
        var _ret = new _Pooler(_opt);
        return _ret;
      }
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/protobuf.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './msg_decoder.ts', './msg_encoder.ts'], function (exports) {
  var _createClass, cclegacy, MsgDecoder, MsgEncoder;
  return {
    setters: [function (module) {
      _createClass = module.createClass;
    }, function (module) {
      cclegacy = module.cclegacy;
    }, function (module) {
      MsgDecoder = module.MsgDecoder;
    }, function (module) {
      MsgEncoder = module.MsgEncoder;
    }],
    execute: function () {
      cclegacy._RF.push({}, "97ee6T0NG5D+ZGUXswhW2LW", "protobuf", undefined);
      var Protobuf = exports('Protobuf', /*#__PURE__*/function () {
        function Protobuf() {}
        Protobuf.init = function init(opts) {
          this._encoder = MsgEncoder;
          this._decoder = MsgDecoder;
          this.encoder.init(opts.encoderProtos);
          this.decoder.init(opts.decoderProtos);
        };
        Protobuf.encode = function encode(key, msg) {
          return this.encoder.encode(key, msg);
        };
        Protobuf.decode = function decode(key, msg) {
          return this.decoder.decode(key, msg);
        };
        _createClass(Protobuf, null, [{
          key: "encoder",
          get: function get() {
            if (!this._encoder) {
              throw new Error("Protobuf encoder has not been initialized.");
            }
            return this._encoder;
          }
        }, {
          key: "decoder",
          get: function get() {
            if (!this._decoder) {
              throw new Error("Protobuf decoder has not been initialized.");
            }
            return this._decoder;
          }
        }]);
        return Protobuf;
      }());
      Protobuf._encoder = void 0;
      Protobuf._decoder = void 0;
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/protocol.ts", ['cc'], function (exports) {
  var cclegacy;
  return {
    setters: [function (module) {
      cclegacy = module.cclegacy;
    }],
    execute: function () {
      var _class, _class2, _class3;
      cclegacy._RF.push({}, "6e204YUmjxFzKwC8Nt0cp8M", "protocol", undefined);
      function copyArray(dest, doffset, src, soffset, length) {
        if ('copy' in src && typeof src.copy === 'function') {
          src.copy(dest, doffset, soffset, soffset + length);
        } else {
          for (var index = 0; index < length; index++) {
            dest[doffset++] = src[soffset++];
          }
        }
      }
      var Protocol = exports('Protocol', /*#__PURE__*/function () {
        function Protocol() {}
        Protocol.strencode = function strencode(str) {
          var _byte = new Uint8Array(str.length * 3);
          var offset = 0;
          for (var i = 0; i < str.length; i++) {
            var cc = str.charCodeAt(i);
            var codes = void 0;
            if (cc <= 0x7f) {
              codes = [cc];
            } else if (cc < 0x7ff) {
              codes = [0xc0 | cc >> 6, 0x80 | cc & 0x3f];
            } else {
              codes = [0xe0 | cc >> 12, 0x80 | (cc & 0xfc0) >> 6, 0x80 | cc & 0x3f];
            }
            for (var j = 0; j < codes.length; j++) {
              _byte[offset] = codes[j];
              ++offset;
            }
          }
          var _buffer = new Uint8Array(offset);
          copyArray(_buffer, 0, _byte, 0, offset);
          return _buffer;
        };
        Protocol.strdecode = function strdecode(buffer) {
          var bytes = new Uint8Array(buffer);
          var array = [];
          var offset = 0;
          var cc = 0;
          var end = bytes.length;
          while (offset < end) {
            if (bytes[offset] < 128) {
              cc = bytes[offset];
              offset += 1;
            } else if (bytes[offset] < 224) {
              cc = ((bytes[offset] & 0x3f) << 6) + (bytes[offset + 1] & 0x3f);
              offset += 2;
            } else {
              cc = ((bytes[offset] & 0x0f) << 12) + ((bytes[offset + 1] & 0x3f) << 6) + (bytes[offset + 2] & 0x3f);
              offset += 3;
            }
            array.push(cc);
          }
          return String.fromCharCode.apply(null, array);
        };
        return Protocol;
      }());
      _class = Protocol;
      Protocol.PKG_HEAD_BYTES = 4;
      Protocol.MSG_FLAG_BYTES = 1;
      Protocol.MSG_ROUTE_CODE_BYTES = 2;
      Protocol.MSG_ROUTE_LEN_BYTES = 1;
      Protocol.MSG_ROUTE_CODE_MAX = 0xffff;
      Protocol.MSG_COMPRESS_ROUTE_MASK = 0x1;
      Protocol.MSG_TYPE_MASK = 0x7;
      Protocol.Package = (_class2 = /*#__PURE__*/function () {
        function _class2() {}
        _class2.encode = function encode(type, body) {
          var length = body ? body.length : 0;
          var buffer = new Uint8Array(_class.PKG_HEAD_BYTES + length);
          var index = 0;
          buffer[index++] = type & 0xff;
          buffer[index++] = length >> 16 & 0xff;
          buffer[index++] = length >> 8 & 0xff;
          buffer[index++] = length & 0xff;
          body && copyArray(buffer, index, body, 0, length);
          return buffer;
        };
        _class2.decode = function decode(buffer) {
          var bytes = buffer;
          var rs = [];
          var offset = 0;
          while (offset < bytes.length) {
            var type = bytes[offset++];
            var length = (bytes[offset++] << 16 | bytes[offset++] << 8 | bytes[offset++]) >>> 0;
            var body = length ? new Uint8Array(length) : null;
            copyArray(body, 0, bytes, offset, length);
            offset += length;
            rs.push({
              type: type,
              body: body
            });
          }
          return rs.length === 1 ? rs[0] : rs;
        };
        return _class2;
      }(), _class2.TYPE_HANDSHAKE = 1, _class2.TYPE_HANDSHAKE_ACK = 2, _class2.TYPE_HEARTBEAT = 3, _class2.TYPE_DATA = 4, _class2.TYPE_KICK = 5, _class2);
      Protocol.Message = (_class3 = /*#__PURE__*/function () {
        function _class3() {}
        _class3.encode = function encode(id, type, compressRoute, route, msg) {
          var idBytes = this.msgHasId(type) ? this.calculateMsgIdBytes(id) : 0;
          var msgLen = _class.MSG_FLAG_BYTES + idBytes;
          if (this.msgHasRoute(type)) {
            if (compressRoute) {
              if (typeof route !== 'number') {
                throw new Error('error flag for number route!');
              }
              msgLen += _class.MSG_ROUTE_CODE_BYTES;
            } else {
              msgLen += _class.MSG_ROUTE_LEN_BYTES;
              if (route) {
                route = _class.strdecode(route);
                // @ts-ignore
                if (route.length > 255) {
                  throw new Error('route string is overflow');
                }

                // @ts-ignore
                msgLen += route.length;
              }
            }
          }
          if (msg) msgLen += msg.length;
          var buffer = new Uint8Array(msgLen);
          var offset = 0;
          offset = this.encodeMsgFlag(type, compressRoute, buffer, offset);
          if (this.msgHasId(type)) {
            offset = this.encodeMsgId(id, buffer, offset);
          }
          if (this.msgHasRoute(type)) {
            offset = this.encodeMsgRoute(compressRoute, route, buffer, offset);
          }
          if (msg) {
            offset = this.encodeMsgBody(msg, buffer, offset);
          }
          return buffer;
        };
        _class3.decode = function decode(buffer) {
          var bytes = buffer;
          var bytesLen = bytes.length;
          var offset = 0;
          var id = 0;
          var route = null;
          var flag = bytes[offset++];
          var compressRoute = flag & _class.MSG_COMPRESS_ROUTE_MASK;
          var type = flag >> 1 & _class.MSG_TYPE_MASK;
          if (this.msgHasId(type)) {
            var m = bytes[offset++];
            var i = 0;
            do {
              m = bytes[offset++];
              id = id + (m & 0x7f) * Math.pow(2, 7 * i);
              i++;
            } while (m >= 128);
          }
          if (this.msgHasRoute(type)) {
            if (compressRoute) {
              route = (bytes[offset++] << 8 | bytes[offset++]).toString();
            } else {
              var routeLen = bytes[offset++];
              if (routeLen) {
                var routeBytes = new Uint8Array(routeLen);
                copyArray(routeBytes, 0, bytes, offset, routeLen);
                offset += routeLen;
              } else {
                route = "";
              }
              offset += routeLen;
            }
          }
          var bodyLen = bytesLen - offset;
          var body = new Uint8Array(bodyLen);
          copyArray(body, 0, bytes, offset, bodyLen);
          return {
            id: id,
            type: type,
            compressRoute: compressRoute,
            route: route,
            body: body
          };
        };
        _class3.encodeMsgId = function encodeMsgId(id, buffet, offset) {
          do {
            var tmp = id % 128;
            var next = Math.floor(id / 128);
            if (next != 0) tmp = tmp + 128;
            buffet[offset++] = tmp;
            id = next;
          } while (id !== 0);
          return offset;
        };
        _class3.msgHasId = function msgHasId(type) {
          return type === _class.Message.TYPE_REQUEST || type === _class.Message.TYPE_RESPONSE;
        };
        _class3.msgHasRoute = function msgHasRoute(type) {
          return type === _class.Message.TYPE_REQUEST || type === _class.Message.TYPE_NOTIFY || type === _class.Message.TYPE_PUSH;
        };
        _class3.calculateMsgIdBytes = function calculateMsgIdBytes(id) {
          var len = 0;
          do {
            len += 1;
            id >>= 7;
          } while (id > 0);
          return len;
        };
        _class3.encodeMsgFlag = function encodeMsgFlag(type, compressRoute, buffer, offset) {
          if (![_class.Message.TYPE_REQUEST, _class.Message.TYPE_NOTIFY, _class.Message.TYPE_RESPONSE, _class.Message.TYPE_PUSH].includes(type)) {
            throw new Error("unknown message type" + type);
          }
          buffer[offset] = type << 1 | (compressRoute ? 1 : 0);
          return offset + _class.MSG_FLAG_BYTES;
        };
        _class3.encodeMsgRoute = function encodeMsgRoute(compressRoute, route, buffer, offset) {
          if (compressRoute) {
            if (typeof route !== 'number') {
              throw new Error('error flag for number route!');
            }
            if (route > _class.MSG_ROUTE_CODE_MAX) {
              throw new Error('route number is overflow');
            }
            buffer[offset++] = route >> 8 & 0xff;
            buffer[offset++] = route & 0xff;
          } else {
            if (route) {
              var routeStr = route;
              buffer[offset++] = routeStr.length & 0xff;
              copyArray(buffer, offset, _class.strencode(routeStr), 0, routeStr.length);
              offset += routeStr.length;
            } else {
              buffer[offset++] = 0;
            }
          }
          return offset;
        };
        _class3.encodeMsgBody = function encodeMsgBody(msg, buffer, offset) {
          copyArray(buffer, offset, msg, 0, msg.length);
          return offset + msg.length;
        };
        return _class3;
      }(), _class3.TYPE_REQUEST = 0, _class3.TYPE_NOTIFY = 1, _class3.TYPE_RESPONSE = 2, _class3.TYPE_PUSH = 3, _class3);
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/ProtocolDefine.ts", ['cc'], function (exports) {
  var cclegacy;
  return {
    setters: [function (module) {
      cclegacy = module.cclegacy;
    }],
    execute: function () {
      exports('ProtocolDefine', void 0);
      cclegacy._RF.push({}, "70c76E22vtN1IffaG5sWf0S", "ProtocolDefine", undefined);
      var ProtocolDefine;
      (function (_ProtocolDefine) {
        var GameType = /*#__PURE__*/function (GameType) {
          return GameType;
        }({}); // todo
        _ProtocolDefine.GameType = GameType;
        var ChannelType = /*#__PURE__*/function (ChannelType) {
          ChannelType[ChannelType["CHANNEL_APPSTORE"] = 0] = "CHANNEL_APPSTORE";
          return ChannelType;
        }({});
        _ProtocolDefine.ChannelType = ChannelType;
        var LobbyProtocol = /*#__PURE__*/function (LobbyProtocol) {
          LobbyProtocol[LobbyProtocol["P_LOBBY_BEGIN"] = 10000] = "P_LOBBY_BEGIN";
          LobbyProtocol[LobbyProtocol["P_LOBBY_REQ_GATE"] = 10001] = "P_LOBBY_REQ_GATE";
          LobbyProtocol[LobbyProtocol["P_LOBBY_LOGIN_DEVICE"] = 10002] = "P_LOBBY_LOGIN_DEVICE";
          LobbyProtocol[LobbyProtocol["P_LOBBY_LOGIN_EMAIL"] = 10003] = "P_LOBBY_LOGIN_EMAIL";
          LobbyProtocol[LobbyProtocol["P_LOBBY_LOGIN_FB"] = 10004] = "P_LOBBY_LOGIN_FB";
          LobbyProtocol[LobbyProtocol["P_LOBBY_LOGIN_APPLE"] = 10005] = "P_LOBBY_LOGIN_APPLE";
          LobbyProtocol[LobbyProtocol["P_LOGIN_GOOGLE"] = 10006] = "P_LOGIN_GOOGLE";
          LobbyProtocol[LobbyProtocol["P_LOBBY_LOGOUT"] = 10009] = "P_LOBBY_LOGOUT";
          return LobbyProtocol;
        }({});
        _ProtocolDefine.LobbyProtocol = LobbyProtocol;
        var MTTProtocol = /*#__PURE__*/function (MTTProtocol) {
          MTTProtocol[MTTProtocol["GETS"] = 150001] = "GETS";
          MTTProtocol[MTTProtocol["REGISTER"] = 150002] = "REGISTER";
          MTTProtocol[MTTProtocol["UNREGISTER"] = 150003] = "UNREGISTER";
          MTTProtocol[MTTProtocol["GET"] = 150004] = "GET";
          MTTProtocol[MTTProtocol["STATS"] = 150005] = "STATS";
          MTTProtocol[MTTProtocol["JOIN"] = 150006] = "JOIN";
          MTTProtocol[MTTProtocol["EXECUTE"] = 150007] = "EXECUTE";
          MTTProtocol[MTTProtocol["LEAVE"] = 150008] = "LEAVE";
          MTTProtocol[MTTProtocol["GET_LEADER_BOARD"] = 150009] = "GET_LEADER_BOARD";
          MTTProtocol[MTTProtocol["REBUY"] = 150010] = "REBUY";
          MTTProtocol[MTTProtocol["ADDON"] = 150011] = "ADDON";
          return MTTProtocol;
        }({});
        _ProtocolDefine.MTTProtocol = MTTProtocol;
        var SNGProtocol = /*#__PURE__*/function (SNGProtocol) {
          SNGProtocol[SNGProtocol["GETS"] = 100001] = "GETS";
          SNGProtocol[SNGProtocol["REGISTER"] = 100002] = "REGISTER";
          SNGProtocol[SNGProtocol["LEAVE"] = 100003] = "LEAVE";
          SNGProtocol[SNGProtocol["ACTION"] = 100004] = "ACTION";
          SNGProtocol[SNGProtocol["GET"] = 100005] = "GET";
          SNGProtocol[SNGProtocol["STATS"] = 100006] = "STATS";
          return SNGProtocol;
        }({});
        _ProtocolDefine.SNGProtocol = SNGProtocol;
        var TableMonitorProtocol = /*#__PURE__*/function (TableMonitorProtocol) {
          TableMonitorProtocol[TableMonitorProtocol["SUBSCRIBE"] = 300000] = "SUBSCRIBE";
          TableMonitorProtocol[TableMonitorProtocol["UNSUBSCRIBE"] = 300001] = "UNSUBSCRIBE";
          return TableMonitorProtocol;
        }({});
        _ProtocolDefine.TableMonitorProtocol = TableMonitorProtocol;
        var GameProtocol = /*#__PURE__*/function (GameProtocol) {
          GameProtocol[GameProtocol["CREATE_TABLE"] = 20001] = "CREATE_TABLE";
          GameProtocol[GameProtocol["GET_TABLES"] = 20002] = "GET_TABLES";
          GameProtocol[GameProtocol["JOIN_TABLE"] = 20003] = "JOIN_TABLE";
          GameProtocol[GameProtocol["JOIN_GAME"] = 20004] = "JOIN_GAME";
          GameProtocol[GameProtocol["LEAVE_TABLE"] = 20005] = "LEAVE_TABLE";
          GameProtocol[GameProtocol["STAND_UP"] = 20006] = "STAND_UP";
          GameProtocol[GameProtocol["GET_USERS_IN_LOBBY"] = 20007] = "GET_USERS_IN_LOBBY";
          GameProtocol[GameProtocol["SWITCH_TABLE"] = 20008] = "SWITCH_TABLE";
          GameProtocol[GameProtocol["FIND_TABLE"] = 20009] = "FIND_TABLE";
          GameProtocol[GameProtocol["EXECUTE"] = 20010] = "EXECUTE";
          GameProtocol[GameProtocol["PLAY_NOW"] = 20011] = "PLAY_NOW";
          GameProtocol[GameProtocol["GET_TABLES_V2"] = 20012] = "GET_TABLES_V2";
          GameProtocol[GameProtocol["GET_USER_INFO"] = 21001] = "GET_USER_INFO";
          GameProtocol[GameProtocol["ADD_FRIEND"] = 21002] = "ADD_FRIEND";
          GameProtocol[GameProtocol["INVITE_PLAY"] = 21003] = "INVITE_PLAY";
          GameProtocol[GameProtocol["ACCEPT_FRIEND"] = 21004] = "ACCEPT_FRIEND";
          GameProtocol[GameProtocol["REJECT_FRIEND"] = 21005] = "REJECT_FRIEND";
          GameProtocol[GameProtocol["BLOCK_FRIEND"] = 21006] = "BLOCK_FRIEND";
          GameProtocol[GameProtocol["UNBLOCK_FRIEND"] = 21007] = "UNBLOCK_FRIEND";
          GameProtocol[GameProtocol["UNFRIEND"] = 21008] = "UNFRIEND";
          GameProtocol[GameProtocol["UNADD_FRIEND"] = 21017] = "UNADD_FRIEND";
          GameProtocol[GameProtocol["GET_RANDOM_USERS"] = 21009] = "GET_RANDOM_USERS";
          GameProtocol[GameProtocol["GET_FRIENDS"] = 21010] = "GET_FRIENDS";
          GameProtocol[GameProtocol["GET_MESSAGE_EMAIL"] = 21011] = "GET_MESSAGE_EMAIL";
          GameProtocol[GameProtocol["SEARCH_FRIENDS"] = 21012] = "SEARCH_FRIENDS";
          GameProtocol[GameProtocol["ALL_BADGES"] = 21013] = "ALL_BADGES";
          GameProtocol[GameProtocol["CLAIM_BADGE_REWARD"] = 21014] = "CLAIM_BADGE_REWARD";
          GameProtocol[GameProtocol["GET_DEFAULT_AVATARS"] = 21015] = "GET_DEFAULT_AVATARS";
          GameProtocol[GameProtocol["UPDATE_PROFILE"] = 21016] = "UPDATE_PROFILE";
          GameProtocol[GameProtocol["CHANGE_PASSWORD"] = 21018] = "CHANGE_PASSWORD";
          GameProtocol[GameProtocol["GET_AVATAR_LIST"] = 21015] = "GET_AVATAR_LIST";
          GameProtocol[GameProtocol["COMPLETE_TUTORIAL"] = 21019] = "COMPLETE_TUTORIAL";
          GameProtocol[GameProtocol["VIEW_PLAYER_INFO"] = 21020] = "VIEW_PLAYER_INFO";
          GameProtocol[GameProtocol["TIP_DEALER"] = 21021] = "TIP_DEALER";
          GameProtocol[GameProtocol["GET_TOKEN_UP_LOAD"] = 21022] = "GET_TOKEN_UP_LOAD";
          GameProtocol[GameProtocol["UPDATE_SETTINGS"] = 21023] = "UPDATE_SETTINGS";
          GameProtocol[GameProtocol["REQUEST_EMAIL_VERIFICATION"] = 21024] = "REQUEST_EMAIL_VERIFICATION";
          GameProtocol[GameProtocol["VERIFY_EMAIL_CODE"] = 21025] = "VERIFY_EMAIL_CODE";
          GameProtocol[GameProtocol["REQUEST_KICK_PLAYER"] = 21026] = "REQUEST_KICK_PLAYER";
          GameProtocol[GameProtocol["VOTE_KICK_PLAYER"] = 21027] = "VOTE_KICK_PLAYER";
          GameProtocol[GameProtocol["SEND_TABLE_NOTIFICATION"] = 22001] = "SEND_TABLE_NOTIFICATION";
          GameProtocol[GameProtocol["SEND_ZONE_NOTIFICATION"] = 22002] = "SEND_ZONE_NOTIFICATION";
          GameProtocol[GameProtocol["SEND_GLOBAL_NOTIFICATION"] = 22003] = "SEND_GLOBAL_NOTIFICATION";
          GameProtocol[GameProtocol["SEND_LOBBY_NOTIFICATION"] = 22004] = "SEND_LOBBY_NOTIFICATION";
          GameProtocol[GameProtocol["SEND_All_ZONE_NOTIFICATION"] = 22005] = "SEND_All_ZONE_NOTIFICATION";
          GameProtocol[GameProtocol["GET_GAME_INFO"] = 23001] = "GET_GAME_INFO";
          GameProtocol[GameProtocol["GET_LUCKY_CARD"] = 23002] = "GET_LUCKY_CARD";
          GameProtocol[GameProtocol["SPIN"] = 23003] = "SPIN";
          GameProtocol[GameProtocol["GET_SPIN_HISTORY"] = 23004] = "GET_SPIN_HISTORY";
          GameProtocol[GameProtocol["GET_SHOP_ITEMS"] = 40001] = "GET_SHOP_ITEMS";
          GameProtocol[GameProtocol["GET_SHOP_ITEM_DETAIL"] = 40002] = "GET_SHOP_ITEM_DETAIL";
          GameProtocol[GameProtocol["BUY_ITEM"] = 40003] = "BUY_ITEM";
          GameProtocol[GameProtocol["GET_SHOP_PURCHASE_HISTORY"] = 40004] = "GET_SHOP_PURCHASE_HISTORY";
          GameProtocol[GameProtocol["GET_SHOP_MY_PROPS_ITEMS"] = 40005] = "GET_SHOP_MY_PROPS_ITEMS";
          GameProtocol[GameProtocol["GET_MISSIONS"] = 50001] = "GET_MISSIONS";
          GameProtocol[GameProtocol["CLAIM_REWARD_MISSION"] = 50002] = "CLAIM_REWARD_MISSION";
          GameProtocol[GameProtocol["GET_TIME_TREASURE_PROGRESS"] = 55000] = "GET_TIME_TREASURE_PROGRESS";
          GameProtocol[GameProtocol["CLAIM_TIME_TREASURE_REWARD"] = 55001] = "CLAIM_TIME_TREASURE_REWARD";
          GameProtocol[GameProtocol["GET_LEADER_BOARDS"] = 60001] = "GET_LEADER_BOARDS";
          GameProtocol[GameProtocol["GET_PLAYER_RANKING"] = 60002] = "GET_PLAYER_RANKING";
          GameProtocol[GameProtocol["SAFEBOX_SETUP_PASS"] = 70001] = "SAFEBOX_SETUP_PASS";
          GameProtocol[GameProtocol["SAFEBOX_UPADTE_PASS"] = 70002] = "SAFEBOX_UPADTE_PASS";
          GameProtocol[GameProtocol["SAFEBOX_DEPOSIT"] = 70003] = "SAFEBOX_DEPOSIT";
          GameProtocol[GameProtocol["SAFEBOX_WITHDRAW"] = 70004] = "SAFEBOX_WITHDRAW";
          GameProtocol[GameProtocol["SAFEBOX_GET_TRANSACTIONS"] = 70005] = "SAFEBOX_GET_TRANSACTIONS";
          GameProtocol[GameProtocol["SAFEBOX_BALANCE"] = 70006] = "SAFEBOX_BALANCE";
          GameProtocol[GameProtocol["SAFEBOX_CHANGE_PASS"] = 70007] = "SAFEBOX_CHANGE_PASS";
          GameProtocol[GameProtocol["SAFEBOX_UNSET_PASS"] = 70008] = "SAFEBOX_UNSET_PASS";
          GameProtocol[GameProtocol["SAFEBOX_CHECK_STATUS"] = 70009] = "SAFEBOX_CHECK_STATUS";
          GameProtocol[GameProtocol["SUPPORT_FAQS"] = 80001] = "SUPPORT_FAQS";
          GameProtocol[GameProtocol["SUPPORT_FEEDBACK"] = 80002] = "SUPPORT_FEEDBACK";
          GameProtocol[GameProtocol["SUPPORT_MY_FEEDBACKS"] = 80003] = "SUPPORT_MY_FEEDBACKS";
          GameProtocol[GameProtocol["GET_ARTICLES"] = 90001] = "GET_ARTICLES";
          GameProtocol[GameProtocol["GET_DETAIL_ARTICLE"] = 90002] = "GET_DETAIL_ARTICLE";
          GameProtocol[GameProtocol["ALL_RANK_LEVEL"] = 110001] = "ALL_RANK_LEVEL";
          return GameProtocol;
        }({});
        _ProtocolDefine.GameProtocol = GameProtocol;
        var ChatProtocol = /*#__PURE__*/function (ChatProtocol) {
          ChatProtocol[ChatProtocol["SEND_MESSAGE"] = 30001] = "SEND_MESSAGE";
          ChatProtocol[ChatProtocol["GET_CHAT_SESSIONS"] = 30002] = "GET_CHAT_SESSIONS";
          ChatProtocol[ChatProtocol["GET_CHAT_HISTORIES"] = 30003] = "GET_CHAT_HISTORIES";
          ChatProtocol[ChatProtocol["GET_UNREAD_MESSAGE_COUNT"] = 30004] = "GET_UNREAD_MESSAGE_COUNT";
          ChatProtocol[ChatProtocol["MARK_ALL_MESSAGE_AS_READ"] = 30005] = "MARK_ALL_MESSAGE_AS_READ";
          ChatProtocol[ChatProtocol["DELETE_MESSAGE"] = 30006] = "DELETE_MESSAGE";
          return ChatProtocol;
        }({});
        _ProtocolDefine.ChatProtocol = ChatProtocol;
        var NotificatonProtocol = /*#__PURE__*/function (NotificatonProtocol) {
          NotificatonProtocol[NotificatonProtocol["TABLE_NOTIFICATION"] = 40001] = "TABLE_NOTIFICATION";
          NotificatonProtocol[NotificatonProtocol["ZONE_NOTIFICATION"] = 40002] = "ZONE_NOTIFICATION";
          NotificatonProtocol[NotificatonProtocol["GLOBAL_NOTIFICATION"] = 40003] = "GLOBAL_NOTIFICATION";
          NotificatonProtocol[NotificatonProtocol["LOBBY_NOTIFICATION"] = 40004] = "LOBBY_NOTIFICATION";
          return NotificatonProtocol;
        }({});
        _ProtocolDefine.NotificatonProtocol = NotificatonProtocol;
        var eFlag = /*#__PURE__*/function (eFlag) {
          eFlag[eFlag["ERROR"] = -1] = "ERROR";
          eFlag[eFlag["SUCCESS"] = 0] = "SUCCESS";
          return eFlag;
        }({});
        _ProtocolDefine.eFlag = eFlag;
      })(ProtocolDefine || (ProtocolDefine = exports('ProtocolDefine', {})));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/ProtocolHandler.ts", ['cc'], function (exports) {
  var cclegacy;
  return {
    setters: [function (module) {
      cclegacy = module.cclegacy;
    }],
    execute: function () {
      cclegacy._RF.push({}, "24aa6fVJqFNaJoWkJQu1jhk", "ProtocolHandler", undefined);
      var ProtocolHandler = exports('ProtocolHandler', /*#__PURE__*/function () {
        function ProtocolHandler() {}
        var _proto = ProtocolHandler.prototype;
        _proto.login = function login(params, callback, target) {};
        _proto.resetPassword = function resetPassword(params, callback, target) {};
        _proto.getAuthenCode = function getAuthenCode(params, callback, target) {};
        return ProtocolHandler;
      }());
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/ProtocolHandlerMockTest.ts", ['cc'], function (exports) {
  var cclegacy;
  return {
    setters: [function (module) {
      cclegacy = module.cclegacy;
    }],
    execute: function () {
      cclegacy._RF.push({}, "27feaHtm+1KZr+VbGqnkS22", "ProtocolHandlerMockTest", undefined);
      var ProtocolHandlerMockTest = exports('ProtocolHandlerMockTest', /*#__PURE__*/function () {
        function ProtocolHandlerMockTest() {}
        var _proto = ProtocolHandlerMockTest.prototype;
        _proto.login = function login(params, callback, target) {
          var data = {
            "user": {
              "name": "123",
              "avatarUrl": "asdasd"
            }
          };
          callback.apply(target, [data]);
        };
        _proto.resetPassword = function resetPassword(params, callback, target) {};
        _proto.getAuthenCode = function getAuthenCode(params, callback, target) {};
        return ProtocolHandlerMockTest;
      }());
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/ProtocolManager.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './EventManager.ts', './EventDefine.ts', './ArrayUtils.ts', './GateCommand.ts', './Connection.ts', './ResponeCode.ts', './GlobalConfig.ts', './UINotice.ts', './EntryCommand.ts', './EngineManager.ts', './NotifyToast.ts', './Decorators.ts', './UIReconnect.ts'], function () {
  var _asyncToGenerator, _regeneratorRuntime, _createClass, cclegacy, pEventManager, NSEventDefine, pArray, request, _connection, ResponseCode, GlobalConfig, UINotice, request$1, pEngineManager, NotifyToast, pDecorators, UIReconnect;
  return {
    setters: [function (module) {
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
      _createClass = module.createClass;
    }, function (module) {
      cclegacy = module.cclegacy;
    }, function (module) {
      pEventManager = module.pEventManager;
    }, function (module) {
      NSEventDefine = module.NSEventDefine;
    }, function (module) {
      pArray = module.pArray;
    }, function (module) {
      request = module.default;
    }, function (module) {
      _connection = module.default;
    }, function (module) {
      ResponseCode = module.ResponseCode;
    }, function (module) {
      GlobalConfig = module.default;
    }, function (module) {
      UINotice = module.UINotice;
    }, function (module) {
      request$1 = module.default;
    }, function (module) {
      pEngineManager = module.pEngineManager;
    }, function (module) {
      NotifyToast = module.NotifyToast;
    }, function (module) {
      pDecorators = module.pDecorators;
    }, function (module) {
      UIReconnect = module.UIReconnect;
    }],
    execute: function () {
      cclegacy._RF.push({}, "c8d207qqiJFdpFSGpDyQqgt", "ProtocolManager", undefined);
      var _ProtocolManager = /*#__PURE__*/function () {
        function _ProtocolManager() {
          this._type = "wss";
          // wss, ws
          this._ip = "gate.pokee.club/wss";
          // "127.0.0.1"; 103.82.27.92
          this._port = 3014;
          this._isSelectServerMode = false;
          // chn ch  ng nhp my ch
          this._serverList = {};
          this._event_ = [['disconnect', this._onDisconnected, this], ['onConnect', this._onConnect, this], ['onKickUser', this._onKicked, this], ['onLandingLogin', this._reset, this]];
          this._isKicked = false;
          this._readyToReconnect = false;
          this._events = {};
        }
        _ProtocolManager.create = function create() {
          var _ret = new _ProtocolManager();
          _ret._init();
          return _ret;
        };
        var _proto = _ProtocolManager.prototype;
        _proto._init = function _init() {
          this._isSelectServerMode = false;
          this.on(NSEventDefine.listeners);
          pEventManager.on(this._event_);
          this._connect(false);

          //this._initTopPokerClient();
        };

        _proto._reset = function _reset() {
          this._isKicked = false;
        };
        _proto.on = function on(event) {
          var _this = this;
          for (var _len = arguments.length, events = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
            events[_key - 1] = arguments[_key];
          }
          events = pArray.flatter.apply(pArray, [event].concat(events));
          events.forEach(function (_event) {
            return _this._quickBind('on', _event);
          });
        };
        _proto.off = function off(event) {
          var _this2 = this;
          for (var _len2 = arguments.length, events = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {
            events[_key2 - 1] = arguments[_key2];
          }
          events = pArray.flatter.apply(pArray, [event].concat(events));
          events.forEach(function (_event) {
            return _this2._quickBind('off', _event);
          });
        };
        _proto.restart = function restart(force) {
          this._selectServer(this._ip, this._port, force);
        };
        _proto._onKicked = function _onKicked(data) {
          this._isKicked = true;
          var msg = data.msg;
          UINotice.instance.show('txt_kicked_title', msg, 'txt_btn_confirm2', undefined, undefined, undefined, function () {
            return GlobalConfig.instance.logout(true, false);
          });
        };
        _proto._onConnect = /*#__PURE__*/function () {
          var _onConnect2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {
            var instance, Login, token, msg, code;
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  if (!this._isKicked) {
                    _context.next = 2;
                    break;
                  }
                  return _context.abrupt("return");
                case 2:
                  instance = GlobalConfig.instance;
                  Login = instance.Login;
                  if (this._readyToReconnect) {
                    _context.next = 6;
                    break;
                  }
                  return _context.abrupt("return");
                case 6:
                  token = Login.token;
                  pEngineManager.log('Reconnecting with token:', token);
                  if (!token) {
                    _context.next = 19;
                    break;
                  }
                  _context.next = 11;
                  return request$1('reconnect', {
                    token: token
                  });
                case 11:
                  msg = _context.sent;
                  code = msg.code;
                  if (!(code == ResponseCode.SUCCESS)) {
                    _context.next = 19;
                    break;
                  }
                  pEventManager.invoke('onReconnected', msg);
                  this._readyToReconnect = false;
                  NotifyToast.instance.showWithKey('txt_reconnect_success');
                  pDecorators.instance(UIReconnect).close();
                  return _context.abrupt("return");
                case 19:
                  UINotice.instance.show('txt_title', 'txt_disconnect', 'txt_btn_confirm2', undefined, undefined, undefined, function () {
                    return instance.logout(true, false);
                  });
                  this._readyToReconnect = false;
                case 22:
                case "end":
                  return _context.stop();
              }
            }, _callee, this);
          }));
          function _onConnect() {
            return _onConnect2.apply(this, arguments);
          }
          return _onConnect;
        }();
        _proto._onDisconnected = /*#__PURE__*/function () {
          var _onDisconnected2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {
            var _this3 = this;
            var instance, Login;
            return _regeneratorRuntime().wrap(function _callee2$(_context2) {
              while (1) switch (_context2.prev = _context2.next) {
                case 0:
                  NSEventDefine.listeners.forEach(function (event) {
                    var handler = function handler(_msg) {
                      return pEventManager.invoke(event, _msg);
                    };
                    if (_this3._events[event]) {
                      _this3._connection.off(event, _this3._events[event]);
                    }
                    _this3._events[event] = handler;
                    _this3._connection.on(event, handler);
                  });
                  this._selectServer(this._ip, this._port, false);
                  instance = GlobalConfig.instance;
                  Login = instance.Login;
                  if (Login.isLogged) {
                    this._readyToReconnect = true;
                    NotifyToast.instance.showWithKey('txt_disconnected');
                    pDecorators.instance(UIReconnect).open();
                  }
                case 5:
                case "end":
                  return _context2.stop();
              }
            }, _callee2, this);
          }));
          function _onDisconnected() {
            return _onDisconnected2.apply(this, arguments);
          }
          return _onDisconnected;
        }(

          /** msg: CloseEvent */
        );
        _proto._quickBind = function _quickBind(type, event) {
          if (type == 'on' && !this._check(event)) return;
          this._connection[type](event, this._quickFunction(event));
          if (type == 'off') delete this._events[event];
        };
        _proto._check = function _check(event) {
          return !this._events[event];
        };
        _proto._quickFunction = function _quickFunction(event) {
          if (!this._events[event]) this._events[event] = function (_msg) {
            return pEventManager.invoke(event, _msg);
          };
          return this._events[event];
        };
        _proto._connect = function _connect(isSelectServer) {
          var _this4 = this;
          return new Promise(function (_rs) {
            console.log(">>>>> TOPPOER", _this4._connection);
            _this4._connection.init({
              host: _this4._ip,
              port: _this4._port,
              type: _this4._type,
              reconnect: false,
              maxReconnectAttempts: 20
            }, /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(q) {
              var _msg, code, domain, port;
              return _regeneratorRuntime().wrap(function _callee3$(_context3) {
                while (1) switch (_context3.prev = _context3.next) {
                  case 0:
                    console.log(">>>>> TOPPOER CONNECTED", q);
                    if (!isSelectServer) {
                      _context3.next = 5;
                      break;
                    }
                    pEventManager.invoke('onConnect', _this4._isSelectServerMode, _this4._serverList);
                    _context3.next = 23;
                    break;
                  case 5:
                    _context3.next = 7;
                    return request('queryEntry', {});
                  case 7:
                    _msg = _context3.sent;
                    code = _msg.code, domain = _msg.domain, port = _msg.port;
                    _context3.t0 = code;
                    _context3.next = _context3.t0 === ResponseCode.SUCCESS ? 12 : _context3.t0 === ResponseCode.ERROR ? 20 : 23;
                    break;
                  case 12:
                    if (!_this4._isSelectServerMode) {
                      _context3.next = 16;
                      break;
                    }
                    _this4._serverList = _msg;
                    _context3.next = 18;
                    break;
                  case 16:
                    _context3.next = 18;
                    return _this4._selectServer(domain, port);
                  case 18:
                    pEventManager.invoke('onConnect', _this4._isSelectServerMode, _this4._serverList);
                    return _context3.abrupt("break", 23);
                  case 20:
                    console.warn("Cannot connect to server >>", _msg);
                    GlobalConfig.instance.loading.close();
                    return _context3.abrupt("break", 23);
                  case 23:
                  case "end":
                    return _context3.stop();
                }
              }, _callee3);
            })));
          });
        }

        // select server
        ;

        _proto._selectServer = function _selectServer(ip, port, force) {
          var _this5 = this;
          if (force === void 0) {
            force = false;
          }
          this._ip = ip;
          this._port = port;
          return force ? this._connect(true) : new Promise(function (_rs) {
            return _this5._connection.disconnect(function () {
              _rs();
              _this5._connect(true);
            });
          });
        };
        _proto.clear = function clear() {
          this._connection.clear();
        };
        _createClass(_ProtocolManager, [{
          key: "_connection",
          get: function get() {
            return _connection.connector;
          }
        }]);
        return _ProtocolManager;
      }();
      _ProtocolManager.create();
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/QuickAudioPlayer.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './Enums.ts', './AudioManager.ts', './Decorators.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _createClass, cclegacy, _decorator, Enum, Component, EAudioID, NSAudio, pDecorators;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _createClass = module.createClass;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Enum = module.Enum;
      Component = module.Component;
    }, function (module) {
      EAudioID = module.EAudioID;
    }, function (module) {
      NSAudio = module.NSAudio;
    }, function (module) {
      pDecorators = module.pDecorators;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _class, _class2, _descriptor, _descriptor2, _descriptor3;
      cclegacy._RF.push({}, "6c2e8UzWtRIuabL83pSTBRB", "QuickAudioPlayer", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var QuickAudioPlayer = exports('QuickAudioPlayer', (_dec = ccclass("QuickAudioPlayer"), _dec2 = property({
        type: Enum(EAudioID)
      }), _dec3 = property({}), _dec4 = property({
        min: 0,
        max: 1,
        slide: true
      }), _dec5 = property({}), _dec(_class = (_class2 = /*#__PURE__*/function (_Component) {
        _inheritsLoose(QuickAudioPlayer, _Component);
        function QuickAudioPlayer() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _Component.call.apply(_Component, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "id", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "_volume", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "isMusic", _descriptor3, _assertThisInitialized(_this));
          return _this;
        }
        var _proto = QuickAudioPlayer.prototype;
        _proto.play = function play() {
          pDecorators.instance(NSAudio.Manager).play(this.id, {
            id: this.id,
            volume: this.volume,
            isMusic: this.isMusic
          });
        };
        _proto.stop = function stop() {
          pDecorators.instance(NSAudio.Manager).stop(this.id);
        };
        _createClass(QuickAudioPlayer, [{
          key: "volume",
          get: function get() {
            return this._volume;
          },
          set: function set(x) {
            this._volume = x;
          }
        }]);
        return QuickAudioPlayer;
      }(Component), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "id", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return EAudioID.NONE;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "_volume", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return 0.5;
        }
      }), _applyDecoratedDescriptor(_class2.prototype, "volume", [_dec4], Object.getOwnPropertyDescriptor(_class2.prototype, "volume"), _class2.prototype), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "isMusic", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return false;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/Reconnector.ts", ['cc'], function () {
  var cclegacy;
  return {
    setters: [function (module) {
      cclegacy = module.cclegacy;
    }],
    execute: function () {
      cclegacy._RF.push({}, "986d8Pbnl1DQqEkCjtyZmdP", "Reconnector", undefined);
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/ResponeCode.ts", ['cc'], function (exports) {
  var cclegacy;
  return {
    setters: [function (module) {
      cclegacy = module.cclegacy;
    }],
    execute: function () {
      cclegacy._RF.push({}, "476e7LnmfFFlqS1uBQoi+mB", "ResponeCode", undefined);
      var ResponseCode = exports('ResponseCode', {
        SUCCESS: 200,
        ERROR: 500,
        ERR_REGISTERED: 400,
        ERR_INVALID_TABLE: 3000,
        ERR_TABLE_NOT_FOUND: 3002,
        ERR_INVALID_SIT: 3003,
        ERR_ACTION_SITDOWN_IS_ACTIVE: 3004,
        ERR_ALREADY_JOINED: 3005,
        ERR_INVALID_BUYIN: 3006,
        ERR_USER_IS_PLAYING: 3007,
        ERR_USER_NOT_FOUND: 3008,
        ERR_PLAYING_IN_OTHER_TABLE: 3009,
        ERR_MINIMUM_BUY_IN: 3010,
        ERR_INVALID_PASSWORD: 3012,
        ERR_NOT_ENOUGH_MONEY: 1003,
        ERR_NOT_FOUND_USER: 404,
        ERR_EMAIL_LOGIN_FAIL: 1001,
        ERR_USER_NOT_EXIST: 1003,
        ERR_LOGIN_BY_EMAIL_UNAUTHENTICATED: 1019,
        ERR_USER_DISABLED: 1018,
        ON_SELF_UPDATE_BALANCE: 1007,
        ON_SELF_REWARD: 1008,
        ON_SELF_REWARD_BALANCE: 1009,
        ON_SELF_REWARD_EXP: 1010,
        ON_SELF_REWARD_VIP: 1011,
        ON_SELF_REWARD_ITEM: 1012,
        ON_SELF_LEVEL_UP: 1013,
        FRIEND_REQUESTED: 2005,
        FRIEND_ACCEPTED: 2006,
        FRIEND_REMOVED: 2007,
        FRIEND_BLOCKED: 2008,
        SAFEBOX_IS_NOT_EXIST: 8000,
        SAFEBOX_PASSWORD_NOT_TRUE: 8001,
        SAFEBOX_NOT_ENOUGH_BALANCE: 8002,
        SAFEBOX_NOT_MATCH_CONDITION: 8003,
        SAFEBOX_IS_EXISTED: 8004,
        SAFEBOX_INPUT_ERROR_GREATER_THAN_5: 8005,
        ERR_REQUEST_EMAIL_FAIL: 1020,
        SNG: {
          NOT_FOUND_TOUR: 9000,
          TOUR_HAD_ENOUGH_PLAYERS: 9001,
          TOUR_HAD_STARTED: 9002,
          TOUR_HAD_ENDED: 9003,
          ALREADY_REGISTERED: 9004,
          NOT_ENOUGH_CHIP: 9005,
          TOUR_NOT_VALID: 9006,
          PLAYER_NOT_REGISTERED: 9007,
          TOUR_NOT_READY: 9008,
          ALREADY_REGISTERED_OTHER_TOUR: 9009,
          PLAYER_ELIMINATED: 9010
        }
      });
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/RoomItemData.ts", ['cc', './Constants.ts', './Enums.ts'], function (exports) {
  var cclegacy, GameZoneOptions, GameModeOptions, ENumberPlayerCount;
  return {
    setters: [function (module) {
      cclegacy = module.cclegacy;
    }, function (module) {
      GameZoneOptions = module.GameZoneOptions;
      GameModeOptions = module.GameModeOptions;
    }, function (module) {
      ENumberPlayerCount = module.ENumberPlayerCount;
    }],
    execute: function () {
      cclegacy._RF.push({}, "4327fHFTARFnKxsMp3StWaz", "RoomItemData", undefined);
      var RoomItemData = exports('RoomItemData', /*#__PURE__*/function () {
        function RoomItemData() {
          this.newRoom = false;
          this.id = '';
          this.displayTid = 0;
          this.isPrivate = false;
          this.smallBlind = 400000;
          this.bigBlind = 400000;
          this.minBuyIn = 10000000;
          this.maxBuyIn = 400000000;
          this.gold = 0;
          this.players = 9;
          this.maxPlayers = ENumberPlayerCount.FIVE_PLAYERS;
          this.minPlayers = 2;
          this.zone = GameZoneOptions[0];
          this.gameMode = GameModeOptions[0];
          this.members = 0;
          this.creator = void 0;
        }
        RoomItemData.generate = function generate(data) {
          var item = new RoomItemData();
          var msg = data.msg;
          var tableDetails = msg.tableDetails;
          item.id = msg.tableId;
          item.displayTid = tableDetails.displayTid;
          item.isPrivate = tableDetails.hasPassword;
          item.smallBlind = tableDetails.smallBlind;
          item.bigBlind = tableDetails.bigBlind;
          item.creator = tableDetails.creator;
          item.minBuyIn = tableDetails.minBuyIn;
          item.maxBuyIn = tableDetails.maxBuyIn;
          item.players = msg.playerCount;
          item.zone = tableDetails.zone;
          return item;
        };
        RoomItemData.create = function create(data) {
          var item = new RoomItemData();
          item.id = data.id;
          item.displayTid = data.displayTid;
          item.isPrivate = data.isPrivate;
          item.smallBlind = data.smallBlind;
          item.bigBlind = data.bigBlind;
          item.minBuyIn = data.minBuyIn;
          item.maxBuyIn = data.maxBuyIn;
          item.gold = 0;
          item.players = data.players;
          item.maxPlayers = data.maxPlayers;
          item.zone = data.zone;
          item.gameMode = data.gameMode;
          item.members = data.members;
          return item;
        };
        return RoomItemData;
      }());
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/RotatingFx.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './IAnimationFX.ts', './Enums.ts', './ComponentUtils.ts', './StringUtils.ts', './AsyncUtils.ts'], function (exports) {
  var _inheritsLoose, _applyDecoratedDescriptor, _initializerDefineProperty, _assertThisInitialized, _asyncToGenerator, _regeneratorRuntime, _createForOfIteratorHelperLoose, cclegacy, Enum, Node, quat, CCInteger, _decorator, tween, NSAnimationFX, EByTo, pComponentUtils, pStringUtils, pAsyncUtils;
  return {
    setters: [function (module) {
      _inheritsLoose = module.inheritsLoose;
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
      _createForOfIteratorHelperLoose = module.createForOfIteratorHelperLoose;
    }, function (module) {
      cclegacy = module.cclegacy;
      Enum = module.Enum;
      Node = module.Node;
      quat = module.quat;
      CCInteger = module.CCInteger;
      _decorator = module._decorator;
      tween = module.tween;
    }, function (module) {
      NSAnimationFX = module.NSAnimationFX;
    }, function (module) {
      EByTo = module.EByTo;
    }, function (module) {
      pComponentUtils = module.pComponentUtils;
    }, function (module) {
      pStringUtils = module.pStringUtils;
    }, function (module) {
      pAsyncUtils = module.pAsyncUtils;
    }],
    execute: function () {
      exports('NSRotatingFx', void 0);
      cclegacy._RF.push({}, "3a4a6HetnhALJ2+Omoen7Sd", "RotatingFx", undefined);
      var _cc$_decorator = _decorator,
        ccclass = _cc$_decorator.ccclass,
        property = _cc$_decorator.property,
        menu = _cc$_decorator.menu;
      var NSRotatingFx;
      (function (_NSRotatingFx, _dec, _dec2, _dec3, _dec4, _dec5, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _dec6, _dec7, _dec8, _dec9, _dec10, _class4, _class5, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _dec11, _dec12, _dec13, _dec14, _dec15, _class7, _class8, _descriptor9, _descriptor10, _descriptor11) {
        var Helper = (_dec = ccclass('NSRotatingFx.Helper'), _dec2 = property({
          visible: function visible() {
            return !this.carget;
          },
          displayOrder: 0
        }), _dec3 = property({
          type: Enum(EByTo),
          override: true,
          visible: function visible() {
            return !this.carget;
          }
        }), _dec4 = property({
          visible: function visible() {
            return true;
          },
          type: Node,
          displayOrder: 0,
          displayName: "Target"
        }), _dec5 = property({}), _dec(_class = (_class2 = /*#__PURE__*/function (_NSAnimationFX$Helper) {
          _inheritsLoose(Helper, _NSAnimationFX$Helper);
          function Helper() {
            var _this;
            for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
              args[_key] = arguments[_key];
            }
            _this = _NSAnimationFX$Helper.call.apply(_NSAnimationFX$Helper, [this].concat(args)) || this;
            _initializerDefineProperty(_this, "target", _descriptor, _assertThisInitialized(_this));
            _initializerDefineProperty(_this, "byto", _descriptor2, _assertThisInitialized(_this));
            _initializerDefineProperty(_this, "carget", _descriptor3, _assertThisInitialized(_this));
            _initializerDefineProperty(_this, "isWorld", _descriptor4, _assertThisInitialized(_this));
            return _this;
          }
          var _proto = Helper.prototype;
          _proto["do"] = function _do(tween) {
            var target = pComponentUtils.getTargetFromTween(tween);
            if (!target) return;
            var rotation = quat();
            var isWorld = false;
            if (this.carget) {
              rotation = this.carget.worldRotation;
              isWorld = true;
            } else {
              rotation = this.target;
              isWorld = this.isWorld;
            }
            switch (this.byto) {
              case EByTo.BY:
                {
                  isWorld ? tween.by(this.duration, {
                    worldRotation: rotation
                  }, {
                    easing: this.easing
                  }) : tween.by(this.duration, {
                    rotation: rotation
                  }, {
                    easing: this.easing
                  });
                  return tween;
                }
              case EByTo.TO:
                {
                  isWorld ? tween.to(this.duration, {
                    worldRotation: rotation
                  }, {
                    easing: this.easing
                  }) : tween.to(this.duration, {
                    rotation: rotation
                  }, {
                    easing: this.easing
                  });
                  return tween;
                }
            }
          };
          return Helper;
        }(NSAnimationFX.Helper), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "target", [_dec2], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return quat();
          }
        }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "byto", [_dec3], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return EByTo.BY;
          }
        }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "carget", [_dec4], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return null;
          }
        }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "isWorld", [_dec5], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return false;
          }
        })), _class2)) || _class);
        _NSRotatingFx.Helper = Helper;
        var ExpertHelper = (_dec6 = ccclass('NSRotatingFx.ExpertHelper'), _dec7 = property({}), _dec8 = property({
          min: 0,
          type: CCInteger
        }), _dec9 = property({
          min: 0
        }), _dec10 = property({
          type: [Helper]
        }), _dec6(_class4 = (_class5 = /*#__PURE__*/function () {
          function ExpertHelper() {
            _initializerDefineProperty(this, "id", _descriptor5, this);
            _initializerDefineProperty(this, "loopTime", _descriptor6, this);
            _initializerDefineProperty(this, "delay", _descriptor7, this);
            _initializerDefineProperty(this, "helpers", _descriptor8, this);
            this._asid = {
              time: 0,
              id: pStringUtils.uuid()
            };
            this._tween = null;
            this._resolver = null;
          }
          var _proto2 = ExpertHelper.prototype;
          _proto2.show = /*#__PURE__*/function () {
            var _show = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(target) {
              var _this2 = this;
              return _regeneratorRuntime().wrap(function _callee$(_context) {
                while (1) switch (_context.prev = _context.next) {
                  case 0:
                    this.stop();
                    this._asid.time = this.delay;
                    _context.next = 4;
                    return pAsyncUtils.wait(this._asid);
                  case 4:
                    return _context.abrupt("return", new Promise(function (rs) {
                      var _tween = _this2.helpers.reduce(function (curr, helper) {
                        return curr = helper["do"](curr);
                      }, tween(target));
                      _this2._tween = _this2.loopTime <= 0 ? tween(target).repeatForever(_tween) : tween(target).repeat(_this2.loopTime, _tween);
                      _this2._resolver = rs;
                      _this2._tween.call(function () {
                        return _this2.stop();
                      }).start();
                    }));
                  case 5:
                  case "end":
                    return _context.stop();
                }
              }, _callee, this);
            }));
            function show(_x) {
              return _show.apply(this, arguments);
            }
            return show;
          }();
          _proto2.stop = function stop() {
            var _this$_tween;
            (_this$_tween = this._tween) == null || _this$_tween.stop();
            this._resolver && this._resolver();
            this._resolver = null;
          };
          _proto2.is = function is(id) {
            id = typeof id === 'object' ? id.id : id;
            return this.id === id;
          };
          return ExpertHelper;
        }(), (_descriptor5 = _applyDecoratedDescriptor(_class5.prototype, "id", [_dec7], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return pStringUtils.uuid();
          }
        }), _descriptor6 = _applyDecoratedDescriptor(_class5.prototype, "loopTime", [_dec8], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return 0;
          }
        }), _descriptor7 = _applyDecoratedDescriptor(_class5.prototype, "delay", [_dec9], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return 0;
          }
        }), _descriptor8 = _applyDecoratedDescriptor(_class5.prototype, "helpers", [_dec10], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return [];
          }
        })), _class5)) || _class4);
        _NSRotatingFx.ExpertHelper = ExpertHelper;
        var Component = (_dec11 = ccclass('NSRotatingFx.Component'), _dec12 = menu('Effect/NSRotatingFx.Component'), _dec13 = property({
          type: Node
        }), _dec14 = property({}), _dec15 = property([ExpertHelper]), _dec11(_class7 = _dec12(_class7 = (_class8 = /*#__PURE__*/function (_NSAnimationFX$Compon) {
          _inheritsLoose(Component, _NSAnimationFX$Compon);
          function Component() {
            var _this3;
            for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
              args[_key2] = arguments[_key2];
            }
            _this3 = _NSAnimationFX$Compon.call.apply(_NSAnimationFX$Compon, [this].concat(args)) || this;
            _initializerDefineProperty(_this3, "target", _descriptor9, _assertThisInitialized(_this3));
            _initializerDefineProperty(_this3, "wakeUpId", _descriptor10, _assertThisInitialized(_this3));
            _initializerDefineProperty(_this3, "helpers", _descriptor11, _assertThisInitialized(_this3));
            return _this3;
          }
          var _proto3 = Component.prototype;
          _proto3._init = function _init() {};
          _proto3._getData = function _getData(_data) {
            return {
              id: _data.id || pStringUtils.uuid()
            };
          };
          _proto3.onEnable = function onEnable() {
            var _this$helpers$find,
              _this4 = this;
            this.wakeUpId && ((_this$helpers$find = this.helpers.find(function (h) {
              return h.is(_this4.wakeUpId);
            })) == null ? void 0 : _this$helpers$find.show(this.target));
          };
          _proto3.get = function get(id) {
            var helper = this.helpers.find(function (helper) {
              return helper.is(id);
            });
            return helper;
          };
          _proto3.show = /*#__PURE__*/function () {
            var _show2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(data) {
              var helper;
              return _regeneratorRuntime().wrap(function _callee2$(_context2) {
                while (1) switch (_context2.prev = _context2.next) {
                  case 0:
                    helper = this.helpers.find(function (helper) {
                      return helper.is(data);
                    });
                    if (helper) {
                      _context2.next = 4;
                      break;
                    }
                    console.warn("MovingFx: Helper with id " + data + " not found.");
                    return _context2.abrupt("return");
                  case 4:
                    _context2.next = 6;
                    return helper.show(this.target);
                  case 6:
                  case "end":
                    return _context2.stop();
                }
              }, _callee2, this);
            }));
            function show(_x2) {
              return _show2.apply(this, arguments);
            }
            return show;
          }();
          _proto3.hide = /*#__PURE__*/function () {
            var _hide = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {
              var _iterator, _step, ref;
              return _regeneratorRuntime().wrap(function _callee3$(_context3) {
                while (1) switch (_context3.prev = _context3.next) {
                  case 0:
                    for (_iterator = _createForOfIteratorHelperLoose(this.helpers); !(_step = _iterator()).done;) {
                      ref = _step.value;
                      ref.stop();
                    }
                  case 1:
                  case "end":
                    return _context3.stop();
                }
              }, _callee3, this);
            }));
            function hide() {
              return _hide.apply(this, arguments);
            }
            return hide;
          }();
          return Component;
        }(NSAnimationFX.Component), (_descriptor9 = _applyDecoratedDescriptor(_class8.prototype, "target", [_dec13], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: null
        }), _descriptor10 = _applyDecoratedDescriptor(_class8.prototype, "wakeUpId", [_dec14], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return "";
          }
        }), _descriptor11 = _applyDecoratedDescriptor(_class8.prototype, "helpers", [_dec15], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return [];
          }
        })), _class8)) || _class7) || _class7);
        _NSRotatingFx.Component = Component;
      })(NSRotatingFx || (NSRotatingFx = exports('NSRotatingFx', {})));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/RoundedRectMask.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _createClass, cclegacy, _decorator, UITransform, Graphics, Mask;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _createClass = module.createClass;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      UITransform = module.UITransform;
      Graphics = module.Graphics;
      Mask = module.Mask;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _class, _class2, _descriptor, _descriptor2, _descriptor3;
      cclegacy._RF.push({}, "dd299XoPmdA9YyL1e3AYX7n", "RoundedRectMask", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property,
        executeInEditMode = _decorator.executeInEditMode;
      var RoundedRectMask = exports('RoundedRectMask', (_dec = ccclass('RoundedRectMask'), _dec2 = executeInEditMode(true), _dec3 = property({}), _dec4 = property({}), _dec(_class = _dec2(_class = (_class2 = /*#__PURE__*/function (_Mask) {
        _inheritsLoose(RoundedRectMask, _Mask);
        function RoundedRectMask() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _Mask.call.apply(_Mask, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "cornerRadius", _descriptor, _assertThisInitialized(_this));
          // Radius of the corners
          _initializerDefineProperty(_this, "width", _descriptor2, _assertThisInitialized(_this));
          // Width of the rounded rectangle
          _initializerDefineProperty(_this, "height", _descriptor3, _assertThisInitialized(_this));
          return _this;
        }
        var _proto = RoundedRectMask.prototype;
        _proto.start = function start() {
          this.width = this.getComponent(UITransform).width;
          this.height = this.getComponent(UITransform).height;
          var maxRadius = Math.min(this.width / 2, this.height / 2);
          this.cornerRadius = Math.min(this.cornerRadius, maxRadius);
          this.drawMask();
        };
        _proto.drawMask = function drawMask() {
          var graphics = this.getComponent(Graphics);
          if (!graphics) return;
          graphics.clear();
          var w = this.width;
          var h = this.height;
          var r = this.cornerRadius;

          // Begin drawing the rounded rectangle
          graphics.moveTo(-w / 2 + r, -h / 2);
          graphics.lineTo(w / 2 - r, -h / 2);
          graphics.lineTo(w / 2, -h / 2 + r);
          graphics.lineTo(w / 2, h / 2 - r);
          graphics.lineTo(w / 2 - r, h / 2);
          graphics.lineTo(-w / 2 + r, h / 2);
          graphics.lineTo(-w / 2, h / 2 - r);
          graphics.lineTo(-w / 2, -h / 2 + r);
          graphics.arc(w / 2 - r, -h / 2 + r, r, 1.5 * Math.PI, 0, true);
          graphics.arc(w / 2 - r, h / 2 - r, r, 0, 0.5 * Math.PI, true);
          graphics.arc(-w / 2 + r, h / 2 - r, r, 0.5 * Math.PI, Math.PI, true);
          graphics.arc(-w / 2 + r, -h / 2 + r, r, Math.PI, 1.5 * Math.PI, true);

          // graphics.circle(w / 2 - r, -h / 2 + r , r);
          // graphics.circle(w / 2 - r, h / 2 - r , r);
          // graphics.circle(-w / 2 + r, h / 2 - r , r);
          // graphics.circle(-w / 2 + r, -h / 2 + r , r);

          graphics.close();

          // Fill the shape
          graphics.fill();
        }

        // Optionally, update mask shape if properties change
        ;

        _proto.onEnable = function onEnable() {
          this.drawMask();
        };
        _proto.onDisable = function onDisable() {
          var graphics = this.getComponent(Graphics);
          if (graphics) {
            graphics.clear();
          }
        };
        _createClass(RoundedRectMask, [{
          key: "execute",
          get:
          // Height of the rounded rectangle

          function get() {
            return false;
          },
          set: function set(x) {
            if (!x) return;
            x && this.drawMask();
          }
        }]);
        return RoundedRectMask;
      }(Mask), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "cornerRadius", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return 8;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "width", [property], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return 100;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "height", [property], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return 100;
        }
      }), _applyDecoratedDescriptor(_class2.prototype, "execute", [_dec4], Object.getOwnPropertyDescriptor(_class2.prototype, "execute"), _class2.prototype)), _class2)) || _class) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/RoundedRectShaderController.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _createClass, cclegacy, _decorator, Sprite, Material, isValid, UITransform, resources, Component;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _createClass = module.createClass;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Sprite = module.Sprite;
      Material = module.Material;
      isValid = module.isValid;
      UITransform = module.UITransform;
      resources = module.resources;
      Component = module.Component;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _dec11, _dec12, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7;
      cclegacy._RF.push({}, "90b80mNDrVHOZ20VzOMBjVD", "RoundedRectShaderController", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var RoundedRectShaderController = exports('RoundedRectShaderController', (_dec = ccclass('RoundedRectShaderController'), _dec2 = property(Sprite), _dec3 = property({}), _dec4 = property({}), _dec5 = property({}), _dec6 = property({}), _dec7 = property({}), _dec8 = property({}), _dec9 = property(Material), _dec10 = property({}), _dec11 = property({}), _dec12 = property({}), _dec(_class = (_class2 = /*#__PURE__*/function (_Component) {
        _inheritsLoose(RoundedRectShaderController, _Component);
        function RoundedRectShaderController() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _Component.call.apply(_Component, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "targetSprite", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "_cornerRadius", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "_width", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "_height", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "material", _descriptor5, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "useTranformData", _descriptor6, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "invokeOnStart", _descriptor7, _assertThisInitialized(_this));
          return _this;
        }
        var _proto = RoundedRectShaderController.prototype;
        _proto.onLoad = function onLoad() {
          var _this$targetSprite;
          (_this$targetSprite = this.targetSprite) != null ? _this$targetSprite : this.targetSprite = this.getComponent(Sprite);
          this.targetSprite.node.on(Sprite.EventType.SPRITE_FRAME_CHANGED, this._do, this);
          this.invokeOnStart && this._do();
        };
        _proto.onDestroy = function onDestroy() {
          if (!isValid(this.targetSprite)) return;
          this.targetSprite.node.off(Sprite.EventType.SPRITE_FRAME_CHANGED, this._do, this);
        };
        _proto._setup = function _setup(material) {
          if (!material || !this.targetSprite) return;
          if (this.useTranformData) {
            var transform = this.targetSprite.getComponent(UITransform);
            this.width = transform.width;
            this.height = transform.height;
            var maxRadius = Math.min(this.width / 2, this.height / 2);
            this.cornerRadius = Math.min(this.cornerRadius, maxRadius);
          }
          var uniqueMaterial = new Material();
          uniqueMaterial.copy(material);
          uniqueMaterial.setProperty('width', this.width);
          uniqueMaterial.setProperty('height', this.height);
          uniqueMaterial.setProperty('cornerRadius', this.cornerRadius);
          this.targetSprite.customMaterial = uniqueMaterial;
        };
        _proto._do = function _do() {
          var _this2 = this;
          if (this.material) {
            this._setup(this.material);
          } else {
            resources.load('materials/rounded-rect-mat', Material, function (err, material) {
              if (err) {
                console.error('Failed to load material: ' + err);
                return;
              }
              _this2._setup(material);
            });
          }
        };
        _createClass(RoundedRectShaderController, [{
          key: "cornerRadius",
          get: function get() {
            return this._cornerRadius;
          },
          set: function set(v) {
            this._cornerRadius = v;
          }
        }, {
          key: "width",
          get: function get() {
            return this._width;
          },
          set: function set(v) {
            this._width = v;
          }
        }, {
          key: "height",
          get: function get() {
            return this._height;
          },
          set: function set(v) {
            this._height = v;
          }
        }, {
          key: "execute",
          get: function get() {
            return false;
          },
          set: function set(v) {
            if (!v) return;
            this._setup(this.material);
          }
        }]);
        return RoundedRectShaderController;
      }(Component), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "targetSprite", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "_cornerRadius", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return 8;
        }
      }), _applyDecoratedDescriptor(_class2.prototype, "cornerRadius", [_dec4], Object.getOwnPropertyDescriptor(_class2.prototype, "cornerRadius"), _class2.prototype), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "_width", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return 10;
        }
      }), _applyDecoratedDescriptor(_class2.prototype, "width", [_dec6], Object.getOwnPropertyDescriptor(_class2.prototype, "width"), _class2.prototype), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "_height", [_dec7], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return 10;
        }
      }), _applyDecoratedDescriptor(_class2.prototype, "height", [_dec8], Object.getOwnPropertyDescriptor(_class2.prototype, "height"), _class2.prototype), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "material", [_dec9], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _applyDecoratedDescriptor(_class2.prototype, "execute", [_dec10], Object.getOwnPropertyDescriptor(_class2.prototype, "execute"), _class2.prototype), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, "useTranformData", [_dec11], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return true;
        }
      }), _descriptor7 = _applyDecoratedDescriptor(_class2.prototype, "invokeOnStart", [_dec12], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return true;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/RunningNumber.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './AnimationFX.ts', './IAnimationFX.ts', './Enums.ts', './StringUtils.ts', './Constants.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, cclegacy, _decorator, Label, Enum, tween, AnimationFX, NSAnimationFX, ETweenEasing, EComponentInvokeOptions, pStringUtils, CCGroupPropertyID;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Label = module.Label;
      Enum = module.Enum;
      tween = module.tween;
    }, function (module) {
      AnimationFX = module.AnimationFX;
    }, function (module) {
      NSAnimationFX = module.NSAnimationFX;
    }, function (module) {
      ETweenEasing = module.ETweenEasing;
      EComponentInvokeOptions = module.EComponentInvokeOptions;
    }, function (module) {
      pStringUtils = module.pStringUtils;
    }, function (module) {
      CCGroupPropertyID = module.CCGroupPropertyID;
    }],
    execute: function () {
      exports('NSRunningNumberFX', void 0);
      cclegacy._RF.push({}, "3f881u0UWZJF5ZJlndhQZPw", "RunningNumber", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property,
        menu = _decorator.menu;
      var NSRunningNumberFX;
      (function (_NSRunningNumberFX, _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8) {
        var group = _NSRunningNumberFX.group = {
          id: CCGroupPropertyID.HEADER,
          name: 'Options',
          displayOrder: 10
        };
        var FXComponent = (_dec = ccclass('RunningNumberFx'), _dec2 = menu('Effect/RunningNumber'), _dec3 = property({
          type: Label,
          group: {
            id: group.id,
            name: group.name,
            displayOrder: 1
          }
        }), _dec4 = property({
          group: group
        }), _dec5 = property({
          group: group
        }), _dec6 = property({
          min: 0,
          group: group
        }), _dec7 = property({
          group: group
        }), _dec8 = property({
          min: 0,
          group: group
        }), _dec9 = property({
          type: Enum(ETweenEasing),
          group: group
        }), _dec10 = property({
          type: Enum(EComponentInvokeOptions),
          group: group
        }), _dec(_class = _dec2(_class = (_class2 = /*#__PURE__*/function (_AnimationFX) {
          _inheritsLoose(FXComponent, _AnimationFX);
          function FXComponent() {
            var _this;
            for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
              args[_key] = arguments[_key];
            }
            _this = _AnimationFX.call.apply(_AnimationFX, [this].concat(args)) || this;
            _initializerDefineProperty(_this, "target", _descriptor, _assertThisInitialized(_this));
            _initializerDefineProperty(_this, "from", _descriptor2, _assertThisInitialized(_this));
            _initializerDefineProperty(_this, "to", _descriptor3, _assertThisInitialized(_this));
            _initializerDefineProperty(_this, "duration", _descriptor4, _assertThisInitialized(_this));
            _initializerDefineProperty(_this, "oneTimeRunner", _descriptor5, _assertThisInitialized(_this));
            _initializerDefineProperty(_this, "delay", _descriptor6, _assertThisInitialized(_this));
            _initializerDefineProperty(_this, "easing", _descriptor7, _assertThisInitialized(_this));
            _initializerDefineProperty(_this, "option", _descriptor8, _assertThisInitialized(_this));
            _this._tween = null;
            return _this;
          }
          var _proto = FXComponent.prototype;
          _proto._init = function _init() {
            if (!this.target) this.destroy();
            this.add('onUpdate', {
              _function: this._onUpdate,
              _this: this
            });
          };
          _proto._onUpdate = function _onUpdate(target, ratio) {
            this.target.string = pStringUtils.formatMoneyWithDot(target.from * ratio);
          };
          _proto.onEnable = function onEnable() {
            this._invoker(EComponentInvokeOptions.OnEnable);
          };
          _proto.start = function start() {
            this._invoker(EComponentInvokeOptions.OnStart);
          };
          _proto._invoker = function _invoker(type) {
            if (type === this.option) this.show();
          };
          _proto.onDestroy = function onDestroy() {
            this.remove('onUpdate', {
              _function: this._onUpdate,
              _this: this
            });
          };
          _proto._getData = function _getData(_data) {
            return {
              from: _data.from || this.from,
              to: _data.to || this.to,
              duration: _data.duration || this.duration,
              oneTimeRunner: _data.oneTimeRunner || this.oneTimeRunner,
              delay: _data.delay || this.delay,
              easing: _data.easing || this.easing
            };
          };
          _proto.show = function show(data) {
            var _this$_tween,
              _this2 = this;
            if (data === void 0) {
              data = this;
            }
            data = this._getData(data);
            (_this$_tween = this._tween) == null || _this$_tween.stop();
            return new Promise(function (rs) {
              _this2._tween = tween(_this2).to(data.duration, {
                from: data.to
              }, {
                easing: NSAnimationFX.easingConverter(data.easing),
                onUpdate: function onUpdate(target, ratio) {
                  return _this2.invoke('onUpdate', target, ratio);
                },
                onStart: function onStart(target) {
                  return _this2.invoke('onStart', target);
                },
                onComplete: function onComplete(target) {
                  _this2.invoke('onComplete', target);
                  rs();
                }
              }).start();
            });
          };
          _proto.hide = function hide() {
            return Promise.resolve();
          };
          return FXComponent;
        }(AnimationFX), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "target", [_dec3], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return null;
          }
        }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "from", [_dec4], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return 0;
          }
        }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "to", [_dec5], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return 0;
          }
        }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "duration", [_dec6], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return 0;
          }
        }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "oneTimeRunner", [_dec7], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return false;
          }
        }), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, "delay", [_dec8], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return 0;
          }
        }), _descriptor7 = _applyDecoratedDescriptor(_class2.prototype, "easing", [_dec9], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return ETweenEasing.linear;
          }
        }), _descriptor8 = _applyDecoratedDescriptor(_class2.prototype, "option", [_dec10], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return EComponentInvokeOptions.None;
          }
        })), _class2)) || _class) || _class);
        _NSRunningNumberFX.FXComponent = FXComponent;
      })(NSRunningNumberFX || (NSRunningNumberFX = exports('NSRunningNumberFX', {})));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/SafeBoxCommand.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './Connection.ts'], function (exports) {
  var _asyncToGenerator, _regeneratorRuntime, cclegacy, _connection;
  return {
    setters: [function (module) {
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
    }, function (module) {
      _connection = module.default;
    }],
    execute: function () {
      exports('default', request);
      cclegacy._RF.push({}, "4624borCAFOAZFofU9DozJY", "SafeBoxCommand", undefined);
      var SBC;
      (function (_SBC) {
        var prefix = _SBC.prefix = "game.safeboxHandler.";
      })(SBC || (SBC = {}));
      function request(_x, _x2, _x3) {
        return _request.apply(this, arguments);
      }
      function _request() {
        _request = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(command, payload, cb) {
          return _regeneratorRuntime().wrap(function _callee$(_context) {
            while (1) switch (_context.prev = _context.next) {
              case 0:
                return _context.abrupt("return", _connection.send(SBC.prefix + command, payload, cb));
              case 1:
              case "end":
                return _context.stop();
            }
          }, _callee);
        }));
        return _request.apply(this, arguments);
      }
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/ScalingFx.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './AnimationFX.ts', './Enums.ts', './AsyncUtils.ts', './StringUtils.ts', './IAnimationFX.ts'], function (exports) {
  var _inheritsLoose, _applyDecoratedDescriptor, _initializerDefineProperty, _assertThisInitialized, _asyncToGenerator, _regeneratorRuntime, cclegacy, _decorator, Node, CCInteger, Enum, v3, tween, AnimationFX, EByTo, EComponentInvokeOptions, pAsyncUtils, pStringUtils, NSAnimationFX;
  return {
    setters: [function (module) {
      _inheritsLoose = module.inheritsLoose;
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Node = module.Node;
      CCInteger = module.CCInteger;
      Enum = module.Enum;
      v3 = module.v3;
      tween = module.tween;
    }, function (module) {
      AnimationFX = module.AnimationFX;
    }, function (module) {
      EByTo = module.EByTo;
      EComponentInvokeOptions = module.EComponentInvokeOptions;
    }, function (module) {
      pAsyncUtils = module.pAsyncUtils;
    }, function (module) {
      pStringUtils = module.pStringUtils;
    }, function (module) {
      NSAnimationFX = module.NSAnimationFX;
    }],
    execute: function () {
      exports('NSScalingFx', void 0);
      cclegacy._RF.push({}, "cc2bbT1FGNJ3aQDAJ/qzRJ4", "ScalingFx", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property,
        menu = _decorator.menu;
      var NSScalingFx;
      (function (_NSScalingFx, _dec, _dec2, _class, _class2, _descriptor, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _class4, _class5, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6) {
        var FxHelper = (_dec = ccclass('ScalingFxHelper'), _dec2 = property({}), _dec(_class = (_class2 = /*#__PURE__*/function (_NSAnimationFX$Helper) {
          _inheritsLoose(FxHelper, _NSAnimationFX$Helper);
          function FxHelper() {
            var _this;
            for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
              args[_key] = arguments[_key];
            }
            _this = _NSAnimationFX$Helper.call.apply(_NSAnimationFX$Helper, [this].concat(args)) || this;
            _initializerDefineProperty(_this, "target", _descriptor, _assertThisInitialized(_this));
            return _this;
          }
          var _proto = FxHelper.prototype;
          _proto["do"] = function _do(tween) {
            switch (this.byto) {
              case EByTo.BY:
                {
                  tween.by(this.duration, {
                    scale: this.target
                  }, {
                    easing: this.easing
                  });
                  return tween;
                }
              case EByTo.TO:
                {
                  tween.to(this.duration, {
                    scale: this.target
                  }, {
                    easing: this.easing
                  });
                  return tween;
                }
            }
          };
          return FxHelper;
        }(NSAnimationFX.Helper), _descriptor = _applyDecoratedDescriptor(_class2.prototype, "target", [_dec2], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return v3();
          }
        }), _class2)) || _class);
        var FxComponent = (_dec3 = ccclass('ScalingFX'), _dec4 = menu('Effect/ScalingFX'), _dec5 = property({
          type: Node
        }), _dec6 = property([FxHelper]), _dec7 = property({
          min: 0,
          type: CCInteger
        }), _dec8 = property({
          min: 0
        }), _dec9 = property({
          type: Enum(EComponentInvokeOptions)
        }), _dec3(_class4 = _dec4(_class4 = (_class5 = /*#__PURE__*/function (_AnimationFX) {
          _inheritsLoose(FxComponent, _AnimationFX);
          function FxComponent() {
            var _this2;
            for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
              args[_key2] = arguments[_key2];
            }
            _this2 = _AnimationFX.call.apply(_AnimationFX, [this].concat(args)) || this;
            _initializerDefineProperty(_this2, "target", _descriptor2, _assertThisInitialized(_this2));
            _initializerDefineProperty(_this2, "helpers", _descriptor3, _assertThisInitialized(_this2));
            _initializerDefineProperty(_this2, "loopTime", _descriptor4, _assertThisInitialized(_this2));
            _initializerDefineProperty(_this2, "delay", _descriptor5, _assertThisInitialized(_this2));
            _initializerDefineProperty(_this2, "option", _descriptor6, _assertThisInitialized(_this2));
            _this2._asid = {
              time: 0,
              id: pStringUtils.uuid()
            };
            _this2._tween = null;
            return _this2;
          }
          var _proto2 = FxComponent.prototype;
          _proto2.onEnable = function onEnable() {
            this._invoker(EComponentInvokeOptions.OnEnable);
          };
          _proto2.start = function start() {
            this._invoker(EComponentInvokeOptions.OnStart);
          };
          _proto2.onDisable = function onDisable() {
            this._invoker(EComponentInvokeOptions.OnDisable);
          };
          _proto2._invoker = function _invoker(type) {
            type === this.option && this.show();
          };
          _proto2._init = function _init() {};
          _proto2._getData = function _getData(_data) {
            var _data$delay, _data$loopTime;
            return {
              delay: (_data$delay = _data.delay) != null ? _data$delay : this.delay,
              loopTime: (_data$loopTime = _data.loopTime) != null ? _data$loopTime : this.loopTime
            };
          };
          _proto2.show = /*#__PURE__*/function () {
            var _show = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(data) {
              var _rptw;
              return _regeneratorRuntime().wrap(function _callee$(_context) {
                while (1) switch (_context.prev = _context.next) {
                  case 0:
                    if (data === void 0) {
                      data = this;
                    }
                    _context.prev = 1;
                    data = this._getData(data);
                    if (this.helpers) {
                      _context.next = 5;
                      break;
                    }
                    return _context.abrupt("return");
                  case 5:
                    this._asid.time = data.delay;
                    _context.next = 8;
                    return pAsyncUtils.wait(this._asid);
                  case 8:
                    _rptw = this.helpers.reduce(function (curr, helper) {
                      return helper["do"](curr);
                    }, tween(this.target));
                    this._tween = data.loopTime <= 0 ? tween(this.target).repeatForever(_rptw) : tween(this.target).repeat(data.loopTime, _rptw);
                    this._tween.start();
                    _context.next = 16;
                    break;
                  case 13:
                    _context.prev = 13;
                    _context.t0 = _context["catch"](1);
                    this.warn(_context.t0);
                  case 16:
                  case "end":
                    return _context.stop();
                }
              }, _callee, this, [[1, 13]]);
            }));
            function show(_x) {
              return _show.apply(this, arguments);
            }
            return show;
          }();
          _proto2.hide = /*#__PURE__*/function () {
            var _hide = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {
              var _this$_tween;
              return _regeneratorRuntime().wrap(function _callee2$(_context2) {
                while (1) switch (_context2.prev = _context2.next) {
                  case 0:
                    (_this$_tween = this._tween) == null || _this$_tween.stop();
                    pAsyncUtils.stop(this._asid);
                  case 2:
                  case "end":
                    return _context2.stop();
                }
              }, _callee2, this);
            }));
            function hide() {
              return _hide.apply(this, arguments);
            }
            return hide;
          }();
          return FxComponent;
        }(AnimationFX), (_descriptor2 = _applyDecoratedDescriptor(_class5.prototype, "target", [_dec5], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return null;
          }
        }), _descriptor3 = _applyDecoratedDescriptor(_class5.prototype, "helpers", [_dec6], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return [];
          }
        }), _descriptor4 = _applyDecoratedDescriptor(_class5.prototype, "loopTime", [_dec7], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return 1;
          }
        }), _descriptor5 = _applyDecoratedDescriptor(_class5.prototype, "delay", [_dec8], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return 0;
          }
        }), _descriptor6 = _applyDecoratedDescriptor(_class5.prototype, "option", [_dec9], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return EComponentInvokeOptions.None;
          }
        })), _class5)) || _class4) || _class4);
        _NSScalingFx.FxComponent = FxComponent;
      })(NSScalingFx || (NSScalingFx = exports('NSScalingFx', {})));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/ShaderAplier.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, cclegacy, _decorator, UIRenderer, Material, Component;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      UIRenderer = module.UIRenderer;
      Material = module.Material;
      Component = module.Component;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _class, _class2, _descriptor, _descriptor2;
      cclegacy._RF.push({}, "6077axtq31KM5pl1kZCiCMh", "ShaderAplier", undefined);
      var property = _decorator.property,
        ccclass = _decorator.ccclass;
      var ShaderAplier = exports('ShaderAplier', (_dec = ccclass('ShaderAplier'), _dec2 = property(UIRenderer), _dec3 = property(Material), _dec(_class = (_class2 = /*#__PURE__*/function (_Component) {
        _inheritsLoose(ShaderAplier, _Component);
        function ShaderAplier() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _Component.call.apply(_Component, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "target", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "material", _descriptor2, _assertThisInitialized(_this));
          _this._save = null;
          return _this;
        }
        var _proto = ShaderAplier.prototype;
        _proto.onLoad = function onLoad() {
          this._save = this.target.customMaterial;
        };
        _proto.apply = function apply() {
          this.target.customMaterial = this.material;
        };
        _proto.reset = function reset() {
          this.target.customMaterial = this._save;
        };
        return ShaderAplier;
      }(Component), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "target", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "material", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/SharperLabel.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './EditorComponent.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, cclegacy, _decorator, Label, size, v3, EditorComponent;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Label = module.Label;
      size = module.size;
      v3 = module.v3;
    }, function (module) {
      EditorComponent = module.EditorComponent;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _class, _class2, _descriptor, _descriptor2, _descriptor3;
      cclegacy._RF.push({}, "5a055uYKQxJZoJxKSL8mBEF", "SharperLabel", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var SharperLabel = exports('SharperLabel', (_dec = ccclass('SharperLabel'), _dec2 = property({
        type: Label
      }), _dec3 = property({}), _dec4 = property({}), _dec(_class = (_class2 = /*#__PURE__*/function (_EditorComponent) {
        _inheritsLoose(SharperLabel, _EditorComponent);
        function SharperLabel() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _EditorComponent.call.apply(_EditorComponent, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "target", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "scale", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "font", _descriptor3, _assertThisInitialized(_this));
          return _this;
        }
        var _proto = SharperLabel.prototype;
        _proto._onAdd = function _onAdd() {
          if (!this.target) {
            this.target = this.getComponent(Label) || this.getComponentInChildren(Label);
            if (!this.target) return;
            this.font = size(this.target.fontSize * 2, this.target.lineHeight * 2);
          }
        };
        _proto._onExecute = function _onExecute() {
          if (!this.target) return;
          this.target.node.scale = this.scale;
          this.target.fontSize = this.font.width;
          this.target.lineHeight = this.font.height;
        };
        return SharperLabel;
      }(EditorComponent), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "target", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "scale", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return v3(0.5, 0.5, 0.5);
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "font", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return size(0, 0);
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/ShopCommand.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './Connection.ts'], function (exports) {
  var _asyncToGenerator, _regeneratorRuntime, cclegacy, _connection;
  return {
    setters: [function (module) {
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
    }, function (module) {
      _connection = module.default;
    }],
    execute: function () {
      exports('default', request);
      cclegacy._RF.push({}, "76be9tl6k1OwYakYHTE/EJi", "ShopCommand", undefined);
      var SHC;
      (function (_SHC) {
        var prefix = _SHC.prefix = "game.shopHandler.";
      })(SHC || (SHC = {}));
      function request(_x, _x2, _x3) {
        return _request.apply(this, arguments);
      }
      function _request() {
        _request = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(command, payload, cb) {
          return _regeneratorRuntime().wrap(function _callee$(_context) {
            while (1) switch (_context.prev = _context.next) {
              case 0:
                return _context.abrupt("return", _connection.send(SHC.prefix + command, payload, cb));
              case 1:
              case "end":
                return _context.stop();
            }
          }, _callee);
        }));
        return _request.apply(this, arguments);
      }
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/ShopManager.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './EventDriver.ts', './EventManager.ts', './ShopCommand.ts', './Decorators.ts'], function (exports) {
  var _inheritsLoose, _asyncToGenerator, _regeneratorRuntime, cclegacy, NSEventDriver, pEventManager, request, pDecorators;
  return {
    setters: [function (module) {
      _inheritsLoose = module.inheritsLoose;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
    }, function (module) {
      NSEventDriver = module.NSEventDriver;
    }, function (module) {
      pEventManager = module.pEventManager;
    }, function (module) {
      request = module.default;
    }, function (module) {
      pDecorators = module.pDecorators;
    }],
    execute: function () {
      exports('NSShopManager', void 0);
      cclegacy._RF.push({}, "2d83e+eqTJNvZ0mpgPdbV5L", "ShopManager", undefined);
      var singleton = pDecorators.singleton;
      var NSShopManager;
      (function (_NSShopManager, _dec, _class) {
        var Handler = (_dec = singleton({
          initer: '_init',
          destroyer: '_destroy',
          wake: "Instantly"
        }), _dec(_class = /*#__PURE__*/function (_NSEventDriver$Handle) {
          _inheritsLoose(Handler, _NSEventDriver$Handle);
          function Handler() {
            var _this;
            for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
              args[_key] = arguments[_key];
            }
            _this = _NSEventDriver$Handle.call.apply(_NSEventDriver$Handle, [this].concat(args)) || this;
            _this._data = null;
            _this._promise = null;
            return _this;
          }
          var _proto = Handler.prototype;
          _proto.get = /*#__PURE__*/function () {
            var _get = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {
              return _regeneratorRuntime().wrap(function _callee$(_context) {
                while (1) switch (_context.prev = _context.next) {
                  case 0:
                    _context.next = 2;
                    return this._promise;
                  case 2:
                    return _context.abrupt("return", this._data);
                  case 3:
                  case "end":
                    return _context.stop();
                }
              }, _callee, this);
            }));
            function get() {
              return _get.apply(this, arguments);
            }
            return get;
          }();
          _proto._load = /*#__PURE__*/function () {
            var _load2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {
              var _response;
              return _regeneratorRuntime().wrap(function _callee2$(_context2) {
                while (1) switch (_context2.prev = _context2.next) {
                  case 0:
                    this._load = function () {
                      return Promise.resolve();
                    };
                    _context2.next = 3;
                    return pEventManager.waits('onLoggingIn', 'onBundleLoaded');
                  case 3:
                    _context2.next = 5;
                    return request('getShopItems', {});
                  case 5:
                    _response = _context2.sent;
                    if (_response) {
                      _context2.next = 8;
                      break;
                    }
                    return _context2.abrupt("return");
                  case 8:
                    this._data = _response.data;
                  case 9:
                  case "end":
                    return _context2.stop();
                }
              }, _callee2, this);
            }));
            function _load() {
              return _load2.apply(this, arguments);
            }
            return _load;
          }();
          _proto._init = function _init() {
            this._promise = this._load();
          };
          _proto._destroy = function _destroy() {};
          return Handler;
        }(NSEventDriver.Handler)) || _class);
        _NSShopManager.Handler = Handler;
        function instance() {
          return pDecorators.instance(Handler);
        }
        _NSShopManager.instance = instance;
      })(NSShopManager || (NSShopManager = exports('NSShopManager', {})));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/SkeletonSelector.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './EventDriver.ts', './Enums.ts'], function (exports) {
  var _inheritsLoose, _createClass, _applyDecoratedDescriptor, _initializerDefineProperty, _assertThisInitialized, cclegacy, Enum, sp, CCString, CCClass, _decorator, NSEventDriver, EComponentInvokeOptions;
  return {
    setters: [function (module) {
      _inheritsLoose = module.inheritsLoose;
      _createClass = module.createClass;
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      Enum = module.Enum;
      sp = module.sp;
      CCString = module.CCString;
      CCClass = module.CCClass;
      _decorator = module._decorator;
    }, function (module) {
      NSEventDriver = module.NSEventDriver;
    }, function (module) {
      EComponentInvokeOptions = module.EComponentInvokeOptions;
    }],
    execute: function () {
      exports('NSSkeletonSelector', void 0);
      cclegacy._RF.push({}, "0249czIOwhJR7eYGaTMpsI4", "SkeletonSelector", undefined);
      var _cc$_decorator = _decorator,
        ccclass = _cc$_decorator.ccclass,
        property = _cc$_decorator.property,
        executeInEditMode = _cc$_decorator.executeInEditMode;
      var _enum = Enum({
        TEST: 1
      });
      var NSSkeletonSelector;
      (function (_NSSkeletonSelector, _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4) {
        var Component = (_dec = ccclass('NSSkeletonSelector.Component'), _dec2 = executeInEditMode(), _dec3 = property({
          type: sp.Skeleton
        }), _dec4 = property({
          type: sp.Skeleton
        }), _dec5 = property({
          type: [CCString],
          visible: function visible() {
            return this._skeleton || this._anims.length > 0;
          },
          readonly: true
        }), _dec6 = property({
          type: _enum
        }), _dec7 = property({
          type: Enum(EComponentInvokeOptions)
        }), _dec(_class = _dec2(_class = (_class2 = /*#__PURE__*/function (_NSEventDriver$Compon) {
          _inheritsLoose(Component, _NSEventDriver$Compon);
          function Component() {
            var _this;
            for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
              args[_key] = arguments[_key];
            }
            _this = _NSEventDriver$Compon.call.apply(_NSEventDriver$Compon, [this].concat(args)) || this;
            _initializerDefineProperty(_this, "_skeleton", _descriptor, _assertThisInitialized(_this));
            _initializerDefineProperty(_this, "_anims", _descriptor2, _assertThisInitialized(_this));
            _initializerDefineProperty(_this, "type", _descriptor3, _assertThisInitialized(_this));
            _initializerDefineProperty(_this, "execute", _descriptor4, _assertThisInitialized(_this));
            _this._entry = null;
            return _this;
          }
          var _proto = Component.prototype;
          _proto.playSelected = function playSelected(isLoop) {
            if (isLoop === void 0) {
              isLoop = false;
            }
            if (!this._skeleton) return null;
            if (this.isRunning) return;
            try {
              this._entry = this.isRunning ? this._skeleton.addAnimation(0, this.selected, isLoop) : this._skeleton.setAnimation(0, this.selected, isLoop);
              this._skeleton.setEndListener(this.invoke.bind(this, 'onEndAnAnim'));
              this._skeleton.setStartListener(this.invoke.bind(this, 'onStartAnAnim'));
              this._skeleton.setCompleteListener(this.invoke.bind(this, 'onCompleteAnAnim'));
              return this._entry;
            } catch (e) {
              return null;
            }
          };
          _proto.onFocusInEditor = function onFocusInEditor() {
            this._setup();
          };
          _proto.onLostFocusInEditor = function onLostFocusInEditor() {
            this._setup();
          };
          _proto._setup = function _setup() {
            if (this._anims.length <= 0) return;
            var _eanim = this._anims.map(function (name, index) {
              return {
                name: name,
                value: index
              };
            });
            CCClass.Attr.setClassAttr(this.constructor, 'type', 'enumList', _eanim);
          };
          _proto.onEnable = function onEnable() {
            this._invoker(EComponentInvokeOptions.OnEnable);
          };
          _proto.start = function start() {
            this._invoker(EComponentInvokeOptions.OnStart);
          };
          _proto._invoker = function _invoker(type) {
            if (type === this.execute) this.playSelected(this.skeleton.loop);
          };
          _createClass(Component, [{
            key: "skeleton",
            get: function get() {
              if (!this._skeleton) this._skeleton = this.getComponent(sp.Skeleton);
              return this._skeleton;
            },
            set: function set(x) {
              this._skeleton = x;
              if (this._skeleton) {
                this._anims = x.skeletonData.getRuntimeData().animations.map(function (anim) {
                  return anim.name;
                });
                this._setup();
              }
            }
          }, {
            key: "active",
            set: function set(status) {
              if (!this._skeleton) return;
              this._skeleton.node.active = status;
            }
          }, {
            key: "selected",
            get: function get() {
              return this._anims[this.type];
            }
          }, {
            key: "isRunning",
            get: function get() {
              if (!this._skeleton) return false;
              if (!this._entry) return false;
              return !this._entry.isComplete();
            }
          }]);
          return Component;
        }(NSEventDriver.Component), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "_skeleton", [_dec3], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return null;
          }
        }), _applyDecoratedDescriptor(_class2.prototype, "skeleton", [_dec4], Object.getOwnPropertyDescriptor(_class2.prototype, "skeleton"), _class2.prototype), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "_anims", [_dec5], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return [];
          }
        }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "type", [_dec6], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return 0;
          }
        }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "execute", [_dec7], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return EComponentInvokeOptions.None;
          }
        })), _class2)) || _class) || _class);
        _NSSkeletonSelector.Component = Component;
      })(NSSkeletonSelector || (NSSkeletonSelector = exports('NSSkeletonSelector', {})));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/SkewNode.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _createClass, cclegacy, _decorator, Node, math, Component;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _createClass = module.createClass;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Node = module.Node;
      math = module.math;
      Component = module.Component;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _class, _class2, _descriptor;
      cclegacy._RF.push({}, "372abGmorxK5bCqWa5pFX/V", "SkewNode", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property,
        executeInEditMode = _decorator.executeInEditMode;
      var SkewNode = exports('SkewNode', (_dec = ccclass('SkewNode'), _dec2 = executeInEditMode(), _dec3 = property(Node), _dec4 = property({
        type: math.Quat
      }), _dec(_class = _dec2(_class = (_class2 = /*#__PURE__*/function (_Component) {
        _inheritsLoose(SkewNode, _Component);
        function SkewNode() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _Component.call.apply(_Component, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "target", _descriptor, _assertThisInitialized(_this));
          return _this;
        }
        _createClass(SkewNode, [{
          key: "rotation",
          get: function get() {
            return this.target.rotation;
          },
          set: function set(x) {
            this.target.rotation = x;
          }
        }]);
        return SkewNode;
      }(Component), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "target", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _applyDecoratedDescriptor(_class2.prototype, "rotation", [_dec4], Object.getOwnPropertyDescriptor(_class2.prototype, "rotation"), _class2.prototype)), _class2)) || _class) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/SNGCommand.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './Connection.ts'], function (exports) {
  var _asyncToGenerator, _regeneratorRuntime, cclegacy, _connection;
  return {
    setters: [function (module) {
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
    }, function (module) {
      _connection = module.default;
    }],
    execute: function () {
      exports('default', request);
      cclegacy._RF.push({}, "ceb686rhv1NU4b5lBw56iOC", "SNGCommand", undefined);
      var SNG;
      (function (_SNG) {
        var prefix = _SNG.prefix = "game.sngTableHandler.";
      })(SNG || (SNG = {}));
      function request(_x, _x2, _x3) {
        return _request.apply(this, arguments);
      }
      function _request() {
        _request = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(command, payload, cb) {
          return _regeneratorRuntime().wrap(function _callee$(_context) {
            while (1) switch (_context.prev = _context.next) {
              case 0:
                return _context.abrupt("return", _connection.send(SNG.prefix + command, payload, cb));
              case 1:
              case "end":
                return _context.stop();
            }
          }, _callee);
        }));
        return _request.apply(this, arguments);
      }
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/SNGConfig.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './Decorators.ts', './SNGHelper.ts', './GlobalConfig.ts', './TSngTournament.ts', './Constants.ts', './ClassHelper.ts', './SNGCommand.ts', './EngineManager.ts'], function (exports) {
  var _inheritsLoose, _createClass, _applyDecoratedDescriptor, _initializerDefineProperty, _assertThisInitialized, _asyncToGenerator, _regeneratorRuntime, cclegacy, _decorator, pDecorators, SNGSpace, GlobalConfig, TSngTournament, CCGroup, HelperSpace, request, pEngineManager;
  return {
    setters: [function (module) {
      _inheritsLoose = module.inheritsLoose;
      _createClass = module.createClass;
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
    }, function (module) {
      pDecorators = module.pDecorators;
    }, function (module) {
      SNGSpace = module.SNGSpace;
    }, function (module) {
      GlobalConfig = module.default;
    }, function (module) {
      TSngTournament = module.TSngTournament;
    }, function (module) {
      CCGroup = module.CCGroup;
    }, function (module) {
      HelperSpace = module.HelperSpace;
    }, function (module) {
      request = module.default;
    }, function (module) {
      pEngineManager = module.pEngineManager;
    }],
    execute: function () {
      exports('NSngConfig', void 0);
      cclegacy._RF.push({}, "881c7YyZjFF6ai68y5x3fsg", "SNGConfig", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property,
        executeInEditMode = _decorator.executeInEditMode;
      var singleton = pDecorators.singleton;
      var core = CCGroup.core;
      var NSngConfig;
      (function (_NSngConfig, _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5) {
        var Handler = (_dec = ccclass('SNGConfig'), _dec2 = singleton(), _dec3 = executeInEditMode(), _dec4 = property({
          type: SNGSpace.WinnerConfig,
          group: core
        }), _dec5 = property({
          type: SNGSpace.FrameCFGManager,
          group: core
        }), _dec6 = property({
          type: SNGSpace.FrameCFGManager,
          group: core
        }), _dec7 = property({
          type: SNGSpace.LabelLangManager,
          group: core
        }), _dec8 = property({
          type: SNGSpace.FrameCFGManager,
          group: core
        }), _dec(_class = _dec2(_class = _dec3(_class = (_class2 = /*#__PURE__*/function (_HelperSpace$ConfigLo) {
          _inheritsLoose(Handler, _HelperSpace$ConfigLo);
          function Handler() {
            var _this;
            for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
              args[_key] = arguments[_key];
            }
            _this = _HelperSpace$ConfigLo.call.apply(_HelperSpace$ConfigLo, [this].concat(args)) || this;
            _initializerDefineProperty(_this, "config", _descriptor, _assertThisInitialized(_this));
            _initializerDefineProperty(_this, "bg", _descriptor2, _assertThisInitialized(_this));
            _initializerDefineProperty(_this, "clicker", _descriptor3, _assertThisInitialized(_this));
            _initializerDefineProperty(_this, "title", _descriptor4, _assertThisInitialized(_this));
            _initializerDefineProperty(_this, "icon", _descriptor5, _assertThisInitialized(_this));
            _this._eList = ['bg', 'icon', 'title', 'clicker'];
            _this._eArray = TSngTournament.qLevel;
            _this._room = null;
            return _this;
          }
          var _proto = Handler.prototype;
          _proto.onLoad = function onLoad() {
            this.actFetchingRoom();
          };
          _proto.onDestroy = function onDestroy() {
            pEngineManager.log("SNGConfig destroyed");
          };
          _proto.actFetchingRoom = /*#__PURE__*/function () {
            var _actFetchingRoom = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(loading) {
              var instance, data;
              return _regeneratorRuntime().wrap(function _callee$(_context) {
                while (1) switch (_context.prev = _context.next) {
                  case 0:
                    if (loading === void 0) {
                      loading = true;
                    }
                    instance = GlobalConfig.instance;
                    loading && instance.loading.open();
                    _context.next = 5;
                    return request('getTournaments', {});
                  case 5:
                    data = _context.sent;
                    this._room = data;
                    this.invoke('onFetchedRoom', data);
                    instance.loading.close();
                  case 9:
                  case "end":
                    return _context.stop();
                }
              }, _callee, this);
            }));
            function actFetchingRoom(_x) {
              return _actFetchingRoom.apply(this, arguments);
            }
            return actFetchingRoom;
          }();
          _createClass(Handler, [{
            key: "rooms",
            get: function get() {
              return this._room;
            }
          }]);
          return Handler;
        }(HelperSpace.ConfigLoaderComponent), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "config", [_dec4], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return new SNGSpace.WinnerConfig();
          }
        }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "bg", [_dec5], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return SNGSpace.FrameCFGManager.generate(TSngTournament.qLevel);
          }
        }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "clicker", [_dec6], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return SNGSpace.FrameCFGManager.generate(TSngTournament.qLevel);
          }
        }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "title", [_dec7], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return SNGSpace.LabelLangManager.generate(TSngTournament.qLevel);
          }
        }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "icon", [_dec8], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return SNGSpace.FrameCFGManager.generate(TSngTournament.qLevel);
          }
        })), _class2)) || _class) || _class) || _class);
        _NSngConfig.Handler = Handler;
      })(NSngConfig || (NSngConfig = exports('NSngConfig', {})));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/SNGGamePlayer.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './GameController.ts', './EventManager.ts', './ResponeCode.ts', './GlobalConfig.ts', './Decorators.ts', './UIPlayingScene.ts', './UINotice.ts', './Enums.ts', './NotifyToast.ts', './UIGamePlay.ts', './UIController.ts', './StringUtils.ts', './AsyncUtils.ts', './LanguageManager.ts', './DBStorage.ts', './SNGCommand.ts', './UIGamePots.ts'], function (exports) {
  var _inheritsLoose, _assertThisInitialized, _asyncToGenerator, _regeneratorRuntime, cclegacy, GameController, pEventManager, ResponseCode, GlobalConfig, pDecorators, UIPlayingScene, UINotice, EStatusPlayer, UIType, NotifyToast, UIGamePlay, UIController, pStringUtils, pAsyncUtils, LanguageMananger, DBStorage, request, NSGamePots;
  return {
    setters: [function (module) {
      _inheritsLoose = module.inheritsLoose;
      _assertThisInitialized = module.assertThisInitialized;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
    }, function (module) {
      GameController = module.GameController;
    }, function (module) {
      pEventManager = module.pEventManager;
    }, function (module) {
      ResponseCode = module.ResponseCode;
    }, function (module) {
      GlobalConfig = module.default;
    }, function (module) {
      pDecorators = module.pDecorators;
    }, function (module) {
      UIPlayingScene = module.default;
    }, function (module) {
      UINotice = module.UINotice;
    }, function (module) {
      EStatusPlayer = module.EStatusPlayer;
      UIType = module.UIType;
    }, function (module) {
      NotifyToast = module.NotifyToast;
    }, function (module) {
      UIGamePlay = module.default;
    }, function (module) {
      UIController = module.UIController;
    }, function (module) {
      pStringUtils = module.pStringUtils;
    }, function (module) {
      pAsyncUtils = module.pAsyncUtils;
    }, function (module) {
      LanguageMananger = module.LanguageMananger;
    }, function (module) {
      DBStorage = module.DBStorage;
    }, function (module) {
      request = module.default;
    }, function (module) {
      NSGamePots = module.NSGamePots;
    }],
    execute: function () {
      var _dec, _dec2, _class;
      cclegacy._RF.push({}, "0b1cd4RYbtBurBE5VJ2AioL", "SNGGamePlayer", undefined);
      var logger = pDecorators.logger,
        singleton = pDecorators.singleton;
      var SNGGamePlayer = exports('SNGGamePlayer', (_dec = singleton({
        initer: '_init',
        destroyer: '_destroy',
        wake: "Instantly"
      }), _dec2 = logger('SNGGamePlayer'), _dec(_class = _dec2(_class = /*#__PURE__*/function (_GameController) {
        _inheritsLoose(SNGGamePlayer, _GameController);
        function SNGGamePlayer() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _GameController.call.apply(_GameController, [this].concat(args)) || this;
          _this._events = [['onSngTournamentEvent', _this._onSngJoin, _assertThisInitialized(_this)], ['onSngTournamentStatus', _this._onSngStatus, _assertThisInitialized(_this)], ['onSngTournamentUpdate', _this._onSngUpdate, _assertThisInitialized(_this)], ['onSngPlayerEliminated', _this._onSngEliminated, _assertThisInitialized(_this)], ['onSngTournamentResult', _this._onSngResult, _assertThisInitialized(_this)], ['onSngTournamentEnded', _this._onSngEnded, _assertThisInitialized(_this)], ['onNewGame', _this._onNewGame, _assertThisInitialized(_this)], ['onInitViewPlaying', _this._onInitViewPlaying, _assertThisInitialized(_this)]
          //['onJoinTable', this._onJoinTable, this],
          //['onJoinGame', this._onJoinGame, this],
          ];

          _this._endGameSyner = null;
          _this._isGameStarted = false;
          _this._isEnded = false;
          _this._isEliminated = false;
          _this._showed = false;
          _this._isSpecial = false;
          _this._maxRetry = 15;
          return _this;
        }
        var _proto = SNGGamePlayer.prototype;
        _proto.leaveRoomChecker = function leaveRoomChecker(onConfirm) {
          UINotice.instance.show('txt_title_leave_sng_tournament', this._isGameStarted ? "txt_sng_leave_tournament_on_started" : "dynamic_leave_sng_tournament_content", 'txt_btn_confirm2', onConfirm, 'txt_btn_cancel');
        };
        _proto.leaveTable = /*#__PURE__*/function () {
          var _leaveTable = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(onSuccess, onError) {
            var _this2 = this;
            var _done, _data2, data, code, instance, notice, refund_amount;
            return _regeneratorRuntime().wrap(function _callee2$(_context2) {
              while (1) switch (_context2.prev = _context2.next) {
                case 0:
                  _done = /*#__PURE__*/function () {
                    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(_data) {
                      return _regeneratorRuntime().wrap(function _callee$(_context) {
                        while (1) switch (_context.prev = _context.next) {
                          case 0:
                            _this2.isMainSitDown && pEventManager.invoke('onStandUp');
                            _context.next = 3;
                            return UIController.Instance.open(UIType.ROOM_SNG, false);
                          case 3:
                            pEventManager.invoke('onLeaveTable');
                            onSuccess(_data);
                          case 5:
                          case "end":
                            return _context.stop();
                        }
                      }, _callee);
                    }));
                    return function _done(_x3) {
                      return _ref.apply(this, arguments);
                    };
                  }();
                  if (!this._isSpecial) {
                    _context2.next = 7;
                    break;
                  }
                  _context2.next = 4;
                  return request('leaveTournament', {
                    tournamentId: Number(this._tid)
                  });
                case 4:
                  _data2 = _context2.sent;
                  _done(_data2);
                  return _context2.abrupt("return");
                case 7:
                  if (!(this._isEnded || this._isEliminated)) {
                    _context2.next = 10;
                    break;
                  }
                  _done({
                    code: ResponseCode.SUCCESS
                  });
                  return _context2.abrupt("return");
                case 10:
                  _context2.next = 12;
                  return request('leaveTournament', {
                    tournamentId: Number(this._tid)
                  });
                case 12:
                  data = _context2.sent;
                  code = data.code;
                  instance = GlobalConfig.instance;
                  notice = instance.notice;
                  _context2.t0 = code;
                  _context2.next = _context2.t0 === ResponseCode.SUCCESS ? 19 : _context2.t0 === ResponseCode.ERROR ? 23 : 24;
                  break;
                case 19:
                  _done(data);
                  refund_amount = data.refund_amount;
                  notice.show('txt_title', {
                    key: 'txt_sng_leave_tour_success',
                    replacers: {
                      find: "@refund",
                      replacer: pStringUtils.formatNumberKMB(refund_amount)
                    }
                  }, 'txt_btn_confirm');
                  return _context2.abrupt("break", 26);
                case 23:
                  onError();
                case 24:
                  notice.show('txt_title', data['error'], 'txt_btn_confirm');
                  return _context2.abrupt("break", 26);
                case 26:
                case "end":
                  return _context2.stop();
              }
            }, _callee2, this);
          }));
          function leaveTable(_x, _x2) {
            return _leaveTable.apply(this, arguments);
          }
          return leaveTable;
        }();
        _proto._onNewGame = function _onNewGame() {
          this._isGameStarted = true;
        };
        _proto._onInitViewPlaying = function _onInitViewPlaying() {
          var _p = pDecorators.instance(NSGamePots.Component);
          _p == null || _p.setStep(this.table.data.smallBlind);
        };
        _proto.onJoinTable = function onJoinTable(msg) {
          var route = msg.route,
            players = msg.players;
          if (route != 'onJoinTable') return;
          this.listCurrPlayerInTabel = players;
        };
        _proto.onJoinGame = /*#__PURE__*/function () {
          var _onJoinGame = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {
            return _regeneratorRuntime().wrap(function _callee3$(_context3) {
              while (1) switch (_context3.prev = _context3.next) {
                case 0:
                case "end":
                  return _context3.stop();
              }
            }, _callee3);
          }));
          function onJoinGame() {
            return _onJoinGame.apply(this, arguments);
          }
          return onJoinGame;
        }(

          /** msg: NSEventResponse.IJoinGame */
        );
        _proto._onSngEnded = function _onSngEnded(msg) {
          if (!this._isGameStarted) return;
          var message = msg.message,
            results = msg.results;
          var result = results.find(function (_result) {
            return GlobalConfig.instance.isMainPlayer(_result.uid);
          });
          if (!!result) {
            var type = result.type;
            if (type === 'winner_by_default') {
              this._isSpecial = true;
            }
          }
          this._isEnded = true;
          NotifyToast.instance.show(message, 'table');
        };
        _proto._onSngUpdate = function _onSngUpdate(msg) {
          var data = msg.data;
          if (!data) return;
          var event_type = msg.event_type;
          if (event_type === 'tournament_started') {
            var _gp = pDecorators.instance(UIGamePlay);
            var _str = LanguageMananger.instance.getString('dynamic_wait_game_start_after');
            this._isGameStarted = true;
            pAsyncUtils.countdown(5, 1, function (_left) {
              return _left <= 0 ? _gp.alert.hide() : _gp.alert.show('normal', pStringUtils.replace(_str, {
                find: "@time",
                replacer: String(_left)
              }), 0);
            });
          }
          if (event_type === 'blind_level_increased') {
            var level = data.level,
              small_blind = data.small_blind,
              big_blind = data.big_blind,
              ante = data.ante;
            if (level != undefined) {
              this._ante = ante;
              NotifyToast.instance.showWithKey({
                key: 'dynamic_notice_blind_level_incread',
                replacers: [{
                  find: "@sb",
                  replacer: pStringUtils.formatNumberKMB(small_blind)
                }, {
                  find: "@bb",
                  replacer: pStringUtils.formatNumberKMB(big_blind)
                }, {
                  find: "@level",
                  replacer: "" + level
                }]
              }, 'table');
              var _pv = pDecorators.instance(UIPlayingScene);
              _pv.updateTourTableInfo(ante, small_blind, big_blind);
              _pv.updatePlayerRanking(this._getMainRank());
            }
          }
        };
        _proto.onEndGame = /*#__PURE__*/function () {
          var _onEndGame = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(data) {
            return _regeneratorRuntime().wrap(function _callee4$(_context4) {
              while (1) switch (_context4.prev = _context4.next) {
                case 0:
                  this._endGameSyner = _GameController.prototype.onEndGame.call(this, data);
                  _context4.next = 3;
                  return this._endGameSyner;
                case 3:
                  this._updateMainRank();
                  this._endGameSyner = null;
                case 5:
                case "end":
                  return _context4.stop();
              }
            }, _callee4, this);
          }));
          function onEndGame(_x4) {
            return _onEndGame.apply(this, arguments);
          }
          return onEndGame;
        }();
        _proto._getMainRank = function _getMainRank() {
          var _pDecorators$instance = pDecorators.instance(UIGamePlay),
            players = _pDecorators$instance.players;
          var _players = players.filter(function (p) {
            return !p.isEmpty;
          }).map(function (p) {
            return p.data;
          }).sort(function (a, b) {
            return b.chips - a.chips;
          });
          for (var i = 0; i < _players.length; i++) {
            var _p = _players[i];
            if (GlobalConfig.instance.isMainByUserName(_p.username)) {
              return i + 1;
            }
          }
          return 0;
        };
        _proto._updateMainRank = function _updateMainRank() {
          var _rank = this._getMainRank();
          pDecorators.instance(UIPlayingScene).updatePlayerRanking(_rank);
        };
        _proto._onSngStatus = function _onSngStatus(msg) {
          var message = msg.message;
          //const _server = timestamp * 1000;
          //const _current = Date.now();
          //const _elapsed = ( _current - _server ) / 1000;

          //const _gp = pDecorators.instance(UIGamePlay);

          //const _str = LanguageMananger.instance.getString('dynamic_wait_game_start_after');
          //this._isGameStarted = true;

          NotifyToast.instance.show(message, 'table');
        };
        _proto._onTableInProgressState = /*#__PURE__*/function () {
          var _onTableInProgressState2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(data) {
            var _gp;
            return _regeneratorRuntime().wrap(function _callee5$(_context5) {
              while (1) switch (_context5.prev = _context5.next) {
                case 0:
                  _gp = pDecorators.instance(UIGamePlay);
                  _gp.alert.hide();
                  _context5.next = 4;
                  return _GameController.prototype._onTableInProgressState.call(this, data);
                case 4:
                  this._updateMainRank();
                case 5:
                case "end":
                  return _context5.stop();
              }
            }, _callee5, this);
          }));
          function _onTableInProgressState(_x5) {
            return _onTableInProgressState2.apply(this, arguments);
          }
          return _onTableInProgressState;
        }();
        _proto._onSngEliminated = function _onSngEliminated(data) {
          if (!this._isGameStarted) return;
          var body = data.body,
            code = data.code;
          switch (code) {
            case ResponseCode.SNG.PLAYER_ELIMINATED:
              {
                var player = body.player;
                var player_name = player.player_name,
                  rank = player.rank;
                if (GlobalConfig.instance.isMainByUserName(player_name)) {
                  this._isEliminated = true;
                  this._actShowResult(rank);
                } else {
                  NotifyToast.instance.showWithKey({
                    key: 'dynamic_sng_other_eliminated',
                    replacers: {
                      find: '@name',
                      replacer: player_name
                    }
                  });
                }
                break;
              }
          }
        };
        _proto._actShowResult = /*#__PURE__*/function () {
          var _actShowResult2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee7(rank, rewards) {
            var _this3 = this;
            var _ui, _str, raw;
            return _regeneratorRuntime().wrap(function _callee7$(_context7) {
              while (1) switch (_context7.prev = _context7.next) {
                case 0:
                  if (!this._showed) {
                    _context7.next = 2;
                    break;
                  }
                  return _context7.abrupt("return");
                case 2:
                  _context7.next = 4;
                  return this._endGameSyner;
                case 4:
                  if (!(rank <= 3)) {
                    _context7.next = 14;
                    break;
                  }
                  if (rewards) {
                    _context7.next = 7;
                    break;
                  }
                  return _context7.abrupt("return");
                case 7:
                  this._showed = true;
                  _context7.next = 10;
                  return UIController.Instance.open(UIType.WINNER_FRAME);
                case 10:
                  _ui = _context7.sent;
                  _ui == null || _ui.init(rewards, /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6() {
                    var data, code;
                    return _regeneratorRuntime().wrap(function _callee6$(_context6) {
                      while (1) switch (_context6.prev = _context6.next) {
                        case 0:
                          if (!_this3._isSpecial) {
                            _context6.next = 12;
                            break;
                          }
                          _context6.next = 3;
                          return request('leaveTournament', {
                            tournamentId: Number(_this3._tid)
                          });
                        case 3:
                          data = _context6.sent;
                          code = data.code;
                          _context6.t0 = code;
                          _context6.next = _context6.t0 === ResponseCode.SUCCESS ? 8 : 10;
                          break;
                        case 8:
                          _this3._actBackToMainDirty();
                          return _context6.abrupt("break", 10);
                        case 10:
                          _context6.next = 13;
                          break;
                        case 12:
                          _this3._actBackToMainDirty();
                        case 13:
                        case "end":
                          return _context6.stop();
                      }
                    }, _callee6);
                  })), function () {
                    return _this3._replay();
                  });
                  _context7.next = 18;
                  break;
                case 14:
                  this._showed = true;
                  _str = LanguageMananger.instance.getStrings('txt_sng_main_eliminated', 'dynamic_sng_main_got_rank');
                  raw = pStringUtils.replace(_str.dynamic_sng_main_got_rank, {
                    find: '@rank',
                    replacer: String(rank)
                  }) + "\n" + _str.txt_sng_main_eliminated;
                  UINotice.instance.show('txt_title', {
                    raw: raw
                  }, 'txt_btn_back3', undefined, 'txt_keep_playing', function () {
                    return _this3._replay();
                  }, function () {
                    return _this3._actBackToMainDirty();
                  }
                  //'txt_keep_watching'
                  );

                case 18:
                case "end":
                  return _context7.stop();
              }
            }, _callee7, this);
          }));
          function _actShowResult(_x6, _x7) {
            return _actShowResult2.apply(this, arguments);
          }
          return _actShowResult;
        }();
        _proto._onDoneInitViewPlaying = function _onDoneInitViewPlaying() {
          var _db = pDecorators.instance(DBStorage);
          _db.save({
            key: 'SNG_TOUR_ID',
            value: this._tid
          });
        };
        _proto._replay = /*#__PURE__*/function () {
          var _replay2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee8() {
            var sng, table_type, level, loading, _data, code, error, tournament_id, _pv;
            return _regeneratorRuntime().wrap(function _callee8$(_context8) {
              while (1) switch (_context8.prev = _context8.next) {
                case 0:
                  sng = this._table.sng;
                  this.log("_SNG_REPLAY >> START", sng);
                  this._onBackToLobby();
                  if (sng) {
                    _context8.next = 7;
                    break;
                  }
                  _context8.next = 6;
                  return this._actBackToMainDirty();
                case 6:
                  return _context8.abrupt("return");
                case 7:
                  table_type = sng.table_type, level = sng.level;
                  loading = GlobalConfig.instance.loading;
                  loading.open();
                  _context8.t0 = this._isSpecial;
                  if (!_context8.t0) {
                    _context8.next = 15;
                    break;
                  }
                  _context8.next = 15;
                  return request('leaveTournament', {
                    tournamentId: Number(this._tid)
                  });
                case 15:
                  _context8.next = 17;
                  return request('registerTournament', {
                    table_type: table_type,
                    level: level
                  });
                case 17:
                  _data = _context8.sent;
                  code = _data.code;
                  _context8.t1 = code;
                  _context8.next = _context8.t1 === ResponseCode.SUCCESS ? 22 : _context8.t1 === ResponseCode.ERROR ? 36 : 37;
                  break;
                case 22:
                  if (!_data.error) {
                    _context8.next = 27;
                    break;
                  }
                  error = _data.error;
                  UINotice.instance.show('txt_title', {
                    raw: error.msg
                  });
                  _context8.next = 35;
                  break;
                case 27:
                  tournament_id = _data.tournament_id;
                  this.setup(this._table, tournament_id.toString());
                  _context8.next = 31;
                  return UIController.Instance.open(UIType.PLAYING_SCENE, false, true);
                case 31:
                  pDecorators.instance(DBStorage).save({
                    key: 'SNG_TOUR_ID',
                    value: tournament_id
                  });
                  _pv = pDecorators.instance(UIPlayingScene);
                  _pv.updateTourTableInfo(0, this.table.data.smallBlind, this.table.data.bigBlind);
                  _pv.updatePlayerRanking(0);
                case 35:
                  return _context8.abrupt("break", 39);
                case 36:
                  return _context8.abrupt("break", 39);
                case 37:
                  UINotice.instance.show('txt_title', {
                    raw: String(_data.error)
                  });
                  return _context8.abrupt("break", 39);
                case 39:
                  loading.close();
                case 40:
                case "end":
                  return _context8.stop();
              }
            }, _callee8, this);
          }));
          function _replay() {
            return _replay2.apply(this, arguments);
          }
          return _replay;
        }();
        _proto._actBackToMainDirty = /*#__PURE__*/function () {
          var _actBackToMainDirty2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee9() {
            return _regeneratorRuntime().wrap(function _callee9$(_context9) {
              while (1) switch (_context9.prev = _context9.next) {
                case 0:
                  _context9.next = 2;
                  return UIController.Instance.open(UIType.ROOM_SNG, false);
                case 2:
                  pDecorators.instance(UIPlayingScene).actBackToMain();
                  this.isMainSitDown && pEventManager.invoke('onStandUp');
                  this._onBackToLobby();
                  pEventManager.invoke('onLeaveTable');
                case 6:
                case "end":
                  return _context9.stop();
              }
            }, _callee9, this);
          }));
          function _actBackToMainDirty() {
            return _actBackToMainDirty2.apply(this, arguments);
          }
          return _actBackToMainDirty;
        }();
        _proto._onSngResult = function _onSngResult(data) {
          if (!this._isGameStarted) return;
          this._isSpecial = !('msg' in data);
          var rewards = 'msg' in data ? data.msg.rewards : data.rewards;
          var rank = rewards.rank;
          var _pv = pDecorators.instance(UIPlayingScene);
          if (!!_pv) {
            var uiGameAction = _pv.uiGameAction,
              uiAutoPlayer = _pv.uiAutoPlayer;
            uiGameAction.close();
            uiAutoPlayer.close();
          }
          this._actShowResult(rank, rewards);
        };
        _proto._onSngJoin = /*#__PURE__*/function () {
          var _onSngJoin2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee10(msg) {
            var members, route, players_needed, action, _pv, _gp, _members, _pDecorators$instance2;
            return _regeneratorRuntime().wrap(function _callee10$(_context10) {
              while (1) switch (_context10.prev = _context10.next) {
                case 0:
                  members = msg.members, route = msg.route, players_needed = msg.players_needed, action = msg.action;
                  this._onRecheckData = msg;
                  if (!(route !== 'onSngTournamentEvent')) {
                    _context10.next = 4;
                    break;
                  }
                  return _context10.abrupt("return");
                case 4:
                  _context10.next = 6;
                  return pDecorators.wait(UIPlayingScene);
                case 6:
                  _pv = _context10.sent;
                  _context10.next = 9;
                  return pDecorators.wait(UIGamePlay);
                case 9:
                  _gp = _context10.sent;
                  if (!(!_pv || !_gp)) {
                    _context10.next = 16;
                    break;
                  }
                  if (!this._actRetryCatcher("_onSngJoin ERROR: UIPlayingScene or UIGamePlay not found")) {
                    _context10.next = 13;
                    break;
                  }
                  return _context10.abrupt("return");
                case 13:
                  _context10.next = 15;
                  return this._onSngJoin(msg);
                case 15:
                  return _context10.abrupt("return");
                case 16:
                  players_needed > 0 && _gp.alert.show('normal', LanguageMananger.instance.getString({
                    key: 'dynamic_wait_players',
                    replacers: [{
                      find: '@amount',
                      replacer: String(players_needed)
                    }]
                  }), 0);
                  _context10.t0 = action;
                  _context10.next = _context10.t0 === "LEAVE" ? 21 : _context10.t0 === "JOIN" ? 31 : 40;
                  break;
                case 21:
                  if (this._isGameStarted) {
                    _context10.next = 29;
                    break;
                  }
                  _members = _gp.players.filter(function (_player) {
                    return !!members.find(function (_mem) {
                      return _player.is(_mem);
                    });
                  }).map(function (_player) {
                    var _player$data;
                    return (_player$data = _player.data) == null ? void 0 : _player$data.data;
                  }).filter(Boolean);
                  _context10.next = 25;
                  return _gp.actRotation('other', _members, []);
                case 25:
                  _context10.next = 27;
                  return this._checkDisplayer(members, [], this._onSngJoin.bind(this), "SNG CHECK DISPLAYER ON LEAVE");
                case 27:
                  _context10.next = 30;
                  break;
                case 29:
                  this._updateMainRank();
                case 30:
                  return _context10.abrupt("break", 40);
                case 31:
                  //_gp.uiCommunityCard.hide();
                  (_pDecorators$instance2 = pDecorators.instance(NSGamePots.Component)) == null || _pDecorators$instance2.reset();
                  _pv.updateLeavingBtn(true);
                  !this.isMainSitDown && pEventManager.invoke('onSitDown');
                  _context10.next = 36;
                  return _gp.actRotation('main', members, []);
                case 36:
                  !this.isMainSitDown && (this.mainState = EStatusPlayer.JOIN_GAME);
                  _context10.next = 39;
                  return this._checkDisplayer(members, [], this._onSngJoin.bind(this));
                case 39:
                  return _context10.abrupt("break", 40);
                case 40:
                case "end":
                  return _context10.stop();
              }
            }, _callee10, this);
          }));
          function _onSngJoin(_x8) {
            return _onSngJoin2.apply(this, arguments);
          }
          return _onSngJoin;
        }();
        _proto._onBackToLobby = function _onBackToLobby() {
          var _gp = pDecorators.instance(UIGamePlay);
          _gp == null || _gp.hideCommunityCards();
          this._isSpecial = false;
          this._isEnded = false;
          this._isEliminated = false;
          this._mainState = EStatusPlayer.WATCH;
          this._isGameStarted = false;
          this._showed = false;
          this._ante = 0;
          this.log("_SNG_ >> RESET");
        };
        _proto.onDisconnect = /*#__PURE__*/function () {
          var _onDisconnect = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee11() {
            return _regeneratorRuntime().wrap(function _callee11$(_context11) {
              while (1) switch (_context11.prev = _context11.next) {
                case 0:
                case "end":
                  return _context11.stop();
              }
            }, _callee11);
          }));
          function onDisconnect() {
            return _onDisconnect.apply(this, arguments);
          }
          return onDisconnect;
        }();
        _proto.onStartTurn = function onStartTurn(data) {
          this.log("_SNG_EVT >> onStartTurn", data);
        };
        _proto.onUpdateSelf = function onUpdateSelf(msg) {};
        _proto._actKick = /*#__PURE__*/function () {
          var _actKick2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee12() {
            return _regeneratorRuntime().wrap(function _callee12$(_context12) {
              while (1) switch (_context12.prev = _context12.next) {
                case 0:
                  return _context12.abrupt("return", false);
                case 1:
                case "end":
                  return _context12.stop();
              }
            }, _callee12);
          }));
          function _actKick() {
            return _actKick2.apply(this, arguments);
          }
          return _actKick;
        }();
        _proto.onKickUser = function onKickUser() {};
        _proto._actStandUpCMD = /*#__PURE__*/function () {
          var _actStandUpCMD2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee13() {
            return _regeneratorRuntime().wrap(function _callee13$(_context13) {
              while (1) switch (_context13.prev = _context13.next) {
                case 0:
                case "end":
                  return _context13.stop();
              }
            }, _callee13);
          }));
          function _actStandUpCMD() {
            return _actStandUpCMD2.apply(this, arguments);
          }
          return _actStandUpCMD;
        }();
        _proto._actCallCMD = function _actCallCMD() {
          var _pDecorators$instance3 = pDecorators.instance(UIGamePlay),
            main = _pDecorators$instance3.main;
          return request('execute', {
            action: 'call',
            amt: main.callRq
          });
        };
        _proto._actFoldCMD = function _actFoldCMD() {
          return request('execute', {
            action: "fold",
            amt: 0
          });
        };
        _proto._actAllInCMD = function _actAllInCMD(amt) {
          return request('execute', {
            action: "allin",
            amt: amt
          });
        };
        _proto._actBetCMD = function _actBetCMD(amt) {
          return request('execute', {
            action: "bet",
            amt: amt
          });
        };
        _proto._actCheckCMD = function _actCheckCMD() {
          return request('execute', {
            action: "check",
            amt: 0
          });
        };
        _proto.actBuyIn = /*#__PURE__*/function () {
          var _actBuyIn = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee14(slot) {
            return _regeneratorRuntime().wrap(function _callee14$(_context14) {
              while (1) switch (_context14.prev = _context14.next) {
                case 0:
                case 1:
                case "end":
                  return _context14.stop();
              }
            }, _callee14);
          }));
          function actBuyIn(_x9) {
            return _actBuyIn.apply(this, arguments);
          }
          return actBuyIn;
        }();
        return SNGGamePlayer;
      }(GameController)) || _class) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/SNGHelper.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './MathUtils.ts', './TypesLanguageManager.ts', './LanguageManager.ts', './ClassHelper.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _createClass, _createForOfIteratorHelperLoose, _initializerDefineProperty, _assertThisInitialized, cclegacy, _decorator, SpriteFrame, color, pMathUtils, CCELang, isTLang, TLangToNumber, numberToTLang, LanguageMananger, HelperSpace;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _createClass = module.createClass;
      _createForOfIteratorHelperLoose = module.createForOfIteratorHelperLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      SpriteFrame = module.SpriteFrame;
      color = module.color;
    }, function (module) {
      pMathUtils = module.pMathUtils;
    }, function (module) {
      CCELang = module.CCELang;
      isTLang = module.isTLang;
      TLangToNumber = module.TLangToNumber;
      numberToTLang = module.numberToTLang;
    }, function (module) {
      LanguageMananger = module.LanguageMananger;
    }, function (module) {
      HelperSpace = module.HelperSpace;
    }],
    execute: function () {
      exports('SNGSpace', void 0);
      cclegacy._RF.push({}, "cb8f2cp1FxIFK5MmX2koR6a", "SNGHelper", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var SNGSpace;
      (function (_SNGSpace, _dec, _dec2, _class, _class2, _descriptor, _dec3, _dec4, _class4, _class5, _descriptor2, _dec5, _dec6, _dec7, _dec8, _dec9, _class7, _class8, _descriptor3, _descriptor4, _descriptor5, _dec10, _dec11, _class10, _class11, _descriptor6, _dec12, _dec13, _class13, _class14, _descriptor7) {
        var WinnerConfig = (_dec = ccclass('SNGSpace.WinnerConfig'), _dec2 = property({
          readonly: {
            deep: false
          },
          type: [SpriteFrame]
        }), _dec(_class = (_class2 = /*#__PURE__*/function () {
          function WinnerConfig() {
            _initializerDefineProperty(this, "winnerFrames", _descriptor, this);
          }
          var _proto = WinnerConfig.prototype;
          _proto.getFrame = function getFrame(top) {
            top = pMathUtils.range(top, 0, this.winnerFrames.length - 1);
            top = top >> 0;
            return this.winnerFrames[top];
          };
          return WinnerConfig;
        }(), _descriptor = _applyDecoratedDescriptor(_class2.prototype, "winnerFrames", [_dec2], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return [null, null, null, null, null];
          }
        }), _class2)) || _class);
        _SNGSpace.WinnerConfig = WinnerConfig;
        var FrameConfig = (_dec3 = ccclass('SNGSpace.FrameConfig'), _dec4 = property(SpriteFrame), _dec3(_class4 = (_class5 = /*#__PURE__*/function (_HelperSpace$_BaseCon) {
          _inheritsLoose(FrameConfig, _HelperSpace$_BaseCon);
          function FrameConfig() {
            var _this;
            for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
              args[_key] = arguments[_key];
            }
            _this = _HelperSpace$_BaseCon.call.apply(_HelperSpace$_BaseCon, [this].concat(args)) || this;
            _initializerDefineProperty(_this, "frame", _descriptor2, _assertThisInitialized(_this));
            return _this;
          }
          FrameConfig._create = function _create() {
            return new FrameConfig();
          };
          return FrameConfig;
        }(HelperSpace._BaseConfig), _descriptor2 = _applyDecoratedDescriptor(_class5.prototype, "frame", [_dec4], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return null;
          }
        }), _class5)) || _class4);
        _SNGSpace.FrameConfig = FrameConfig;
        var LabelConfig = (_dec5 = ccclass('SNGSpace.LabelConfig'), _dec6 = property({
          type: CCELang,
          visible: true
        }), _dec7 = property({}), _dec8 = property({}), _dec9 = property({}), _dec5(_class7 = (_class8 = /*#__PURE__*/function (_HelperSpace$_BaseCon2) {
          _inheritsLoose(LabelConfig, _HelperSpace$_BaseCon2);
          function LabelConfig() {
            var _this2;
            for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
              args[_key2] = arguments[_key2];
            }
            _this2 = _HelperSpace$_BaseCon2.call.apply(_HelperSpace$_BaseCon2, [this].concat(args)) || this;
            _initializerDefineProperty(_this2, "_key", _descriptor3, _assertThisInitialized(_this2));
            _initializerDefineProperty(_this2, "_search", _descriptor4, _assertThisInitialized(_this2));
            _initializerDefineProperty(_this2, "color", _descriptor5, _assertThisInitialized(_this2));
            return _this2;
          }
          LabelConfig._create = function _create() {
            return new LabelConfig();
          };
          _createClass(LabelConfig, [{
            key: "search",
            get: function get() {
              return this._search;
            },
            set: function set(x) {
              this._search = x;
              isTLang(this._search) && (this._key = TLangToNumber(this._search));
            }
          }, {
            key: "key",
            get: function get() {
              return numberToTLang(this._key);
            }
          }]);
          return LabelConfig;
        }(HelperSpace._BaseConfig), (_descriptor3 = _applyDecoratedDescriptor(_class8.prototype, "_key", [_dec6], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return 0;
          }
        }), _descriptor4 = _applyDecoratedDescriptor(_class8.prototype, "_search", [_dec7], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return '';
          }
        }), _applyDecoratedDescriptor(_class8.prototype, "search", [_dec8], Object.getOwnPropertyDescriptor(_class8.prototype, "search"), _class8.prototype), _descriptor5 = _applyDecoratedDescriptor(_class8.prototype, "color", [_dec9], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return color(255, 255, 255, 255);
          }
        })), _class8)) || _class7);
        _SNGSpace.LabelConfig = LabelConfig;
        var FrameCFGManager = (_dec10 = ccclass('SNGSpace.FrameCFGManager'), _dec11 = property({
          type: [FrameConfig],
          readonly: true
        }), _dec10(_class10 = (_class11 = /*#__PURE__*/function (_HelperSpace$_BaseMan) {
          _inheritsLoose(FrameCFGManager, _HelperSpace$_BaseMan);
          function FrameCFGManager() {
            var _this3;
            for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
              args[_key3] = arguments[_key3];
            }
            _this3 = _HelperSpace$_BaseMan.call.apply(_HelperSpace$_BaseMan, [this].concat(args)) || this;
            _initializerDefineProperty(_this3, "frames", _descriptor6, _assertThisInitialized(_this3));
            return _this3;
          }
          FrameCFGManager.generate = function generate(helper) {
            return this.create(helper);
          };
          FrameCFGManager._create = function _create() {
            return new FrameCFGManager();
          };
          var _proto2 = FrameCFGManager.prototype;
          _proto2._init = function _init() {
            var _this4 = this;
            this.frames = this._helper.arr.map(function (_helper, index) {
              return FrameConfig.create(_this4._helper, index);
            });
          };
          _proto2.check = function check(helper) {
            if (this.frames.length != helper.length) {
              this._helper = helper;
              this.frames = helper.arr.map(function (_helper, index) {
                return FrameConfig.create(helper, index);
              });
            }
          };
          _proto2.apply = function apply() {
            for (var _iterator = _createForOfIteratorHelperLoose(this.frames), _step; !(_step = _iterator()).done;) {
              var ret = _step.value;
              ret.apply(this._helper);
            }
          };
          _proto2.set = function set(type, target) {
            var _this$frames$find;
            var id = this._helper.number(type);
            target.spriteFrame = ((_this$frames$find = this.frames.find(function (frame) {
              return frame.is(id);
            })) == null ? void 0 : _this$frames$find.frame) || null;
          };
          return FrameCFGManager;
        }(HelperSpace._BaseManager), _descriptor6 = _applyDecoratedDescriptor(_class11.prototype, "frames", [_dec11], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return [];
          }
        }), _class11)) || _class10);
        _SNGSpace.FrameCFGManager = FrameCFGManager;
        var LabelLangManager = (_dec12 = ccclass('SNGSpace.LabelLangManager'), _dec13 = property({
          type: [LabelConfig],
          readonly: true
        }), _dec12(_class13 = (_class14 = /*#__PURE__*/function (_HelperSpace$_BaseMan2) {
          _inheritsLoose(LabelLangManager, _HelperSpace$_BaseMan2);
          function LabelLangManager() {
            var _this5;
            for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {
              args[_key4] = arguments[_key4];
            }
            _this5 = _HelperSpace$_BaseMan2.call.apply(_HelperSpace$_BaseMan2, [this].concat(args)) || this;
            _initializerDefineProperty(_this5, "keys", _descriptor7, _assertThisInitialized(_this5));
            return _this5;
          }
          LabelLangManager.generate = function generate(helper) {
            return this.create(helper);
          };
          LabelLangManager._create = function _create() {
            return new LabelLangManager();
          };
          var _proto3 = LabelLangManager.prototype;
          _proto3._init = function _init() {
            var _this6 = this;
            this.keys = this._helper.arr.map(function (_helper, index) {
              return LabelConfig.create(_this6._helper, index);
            });
          };
          _proto3.apply = function apply() {
            for (var _iterator2 = _createForOfIteratorHelperLoose(this.keys), _step2; !(_step2 = _iterator2()).done;) {
              var ret = _step2.value;
              ret.apply(this._helper);
            }
          };
          _proto3.check = function check(helper) {
            if (this.keys.length != helper.length) {
              this._helper = helper;
              this.keys = helper.arr.map(function (_helper, index) {
                return LabelConfig.create(helper, index);
              });
            }
          };
          _proto3.set = function set(type, target) {
            var id = this._helper.number(type);
            var key = this.keys.find(function (key) {
              return key.is(id);
            });
            var str = LanguageMananger.instance.getString(key.key);
            target.string = str;
            target.color = key.color.clone();
          };
          return LabelLangManager;
        }(HelperSpace._BaseManager), _descriptor7 = _applyDecoratedDescriptor(_class14.prototype, "keys", [_dec13], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return [];
          }
        }), _class14)) || _class13);
        _SNGSpace.LabelLangManager = LabelLangManager;
      })(SNGSpace || (SNGSpace = exports('SNGSpace', {})));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/SNGPlayerData.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './ItemPlayerData.ts'], function (exports) {
  var _inheritsLoose, _extends, _createClass, cclegacy, ItemPlayerData;
  return {
    setters: [function (module) {
      _inheritsLoose = module.inheritsLoose;
      _extends = module.extends;
      _createClass = module.createClass;
    }, function (module) {
      cclegacy = module.cclegacy;
    }, function (module) {
      ItemPlayerData = module.ItemPlayerData;
    }],
    execute: function () {
      cclegacy._RF.push({}, "85e58F0RW9AbojPI2pGhPXF", "SNGPlayerData", undefined);
      var SNGPlayerData = exports('SNGPlayerData', /*#__PURE__*/function (_ItemPlayerData) {
        _inheritsLoose(SNGPlayerData, _ItemPlayerData);
        function SNGPlayerData() {
          return _ItemPlayerData.apply(this, arguments) || this;
        }
        SNGPlayerData._create = function _create() {
          return new SNGPlayerData();
        };
        var _proto = SNGPlayerData.prototype;
        _proto.update = function update(key, data) {
          if (!this._data) return;
          switch (key) {
            case 'username':
              {
                this._data = _extends({}, this._data, {
                  playerName: String(data)
                });
                break;
              }
            default:
              {
                var _extends2;
                this._data = _extends({}, this._data, (_extends2 = {}, _extends2[key] = data, _extends2));
                break;
              }
          }
        };
        _proto.fold = function fold() {
          this._data.folded = true;
        };
        _createClass(SNGPlayerData, [{
          key: "vippoint",
          get: function get() {
            var _this$_data;
            return ((_this$_data = this._data) == null ? void 0 : _this$_data.vippoint) || 0;
          }
        }, {
          key: "cards",
          get: function get() {
            var _this$_data2;
            return ((_this$_data2 = this._data) == null ? void 0 : _this$_data2.cards) || [];
          }
        }, {
          key: "folded",
          get: function get() {
            var _this$_data3;
            return ((_this$_data3 = this._data) == null ? void 0 : _this$_data3.folded) || false;
          }
        }, {
          key: "username",
          get: function get() {
            var _this$_data4;
            return ((_this$_data4 = this._data) == null ? void 0 : _this$_data4.playerName) || "";
          }
        }, {
          key: "chips",
          get: function get() {
            var _this$_data5;
            return ((_this$_data5 = this._data) == null ? void 0 : _this$_data5.chips) || 0;
          }
        }, {
          key: "avatar",
          get: function get() {
            var _this$_data6;
            return ((_this$_data6 = this._data) == null ? void 0 : _this$_data6.avatar) || "1";
          }
        }, {
          key: "index",
          get: function get() {
            if (!this.valid) return -1;
            return this._data.index;
          }
        }, {
          key: "fullName",
          get: function get() {
            return this._data.playerName;
          }
        }, {
          key: "actorNr",
          get: function get() {
            if (!this.valid) return -1;
            return this._data.actorNr;
          }
        }, {
          key: "id",
          get: function get() {
            var _this$_data7;
            return (_this$_data7 = this._data) == null ? void 0 : _this$_data7.id;
          }
        }]);
        return SNGPlayerData;
      }(ItemPlayerData));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/SNGWinner.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts', './Enums.ts', './Decorators.ts', './AssetManager.ts', './LanguageManager.ts', './StringUtils.ts', './AsyncUtils.ts', './ClassUtils.ts', './UIController.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _createClass, cclegacy, _decorator, Sprite, Label, Node, Button, Animation, AnimationClip, SpriteFrame, UIOpacity, UIBase, UIType, pDecorators, NSAsset, LanguageMananger, pStringUtils, pAsyncUtils, pClassUtils, UIController;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _createClass = module.createClass;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Sprite = module.Sprite;
      Label = module.Label;
      Node = module.Node;
      Button = module.Button;
      Animation = module.Animation;
      AnimationClip = module.AnimationClip;
      SpriteFrame = module.SpriteFrame;
      UIOpacity = module.UIOpacity;
    }, function (module) {
      UIBase = module.UIBase;
    }, function (module) {
      UIType = module.UIType;
    }, function (module) {
      pDecorators = module.pDecorators;
    }, function (module) {
      NSAsset = module.NSAsset;
    }, function (module) {
      LanguageMananger = module.LanguageMananger;
    }, function (module) {
      pStringUtils = module.pStringUtils;
    }, function (module) {
      pAsyncUtils = module.pAsyncUtils;
    }, function (module) {
      pClassUtils = module.pClassUtils;
    }, function (module) {
      UIController = module.UIController;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _dec11, _dec12, _dec13, _dec14, _dec15, _dec16, _dec17, _dec18, _dec19, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9, _descriptor10, _descriptor11, _descriptor12, _descriptor13, _descriptor14, _descriptor15, _descriptor16, _descriptor17, _descriptor18;
      cclegacy._RF.push({}, "d4feeddw1RFD43SUZcaH3du", "SNGWinner", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var SNGWinner = exports('SNGWinner', (_dec = ccclass('SNGWinner'), _dec2 = property({
        type: UIType,
        override: true,
        readonly: true
      }), _dec3 = property(Sprite), _dec4 = property(Sprite), _dec5 = property(Label), _dec6 = property(Label), _dec7 = property(Label), _dec8 = property(Label), _dec9 = property(Node), _dec10 = property(Label), _dec11 = property(Button), _dec12 = property(Button), _dec13 = property(Node), _dec14 = property(Animation), _dec15 = property(AnimationClip), _dec16 = property(AnimationClip), _dec17 = property([SpriteFrame]), _dec18 = property({
        type: [UIOpacity]
      }), _dec19 = property({
        type: [Sprite]
      }), _dec(_class = (_class2 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(SNGWinner, _UIBase);
        function SNGWinner() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "uiType", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "sprAvatar", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "sprFrame", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lblName", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lblTop", _descriptor5, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lblChip", _descriptor6, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lblTicket", _descriptor7, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "ticket_view", _descriptor8, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lblKeepPlaying", _descriptor9, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnLobby", _descriptor10, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnReplay", _descriptor11, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "crown", _descriptor12, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "anim", _descriptor13, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "spawnAnim", _descriptor14, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "winAnim", _descriptor15, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "winFrames", _descriptor16, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "opxs", _descriptor17, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "sprs", _descriptor18, _assertThisInitialized(_this));
          _this.__handler = [];
          _this.__replayer = [];
          return _this;
        }
        var _proto = SNGWinner.prototype;
        _proto._onLoad = function _onLoad() {
          this._addClickers([{
            target: this.btnLobby,
            handlers: this._actBackToLobby
          }, {
            target: this.btnReplay,
            handlers: this._actReplay
          }]);
        };
        _proto._actBackToLobby = function _actBackToLobby() {
          pClassUtils.invoker(this.__handler);
          this.__handler = null;
          this.close();
          UIController.close(this.uiType);
        };
        _proto._actReplay = function _actReplay() {
          pClassUtils.invoker(this.__replayer);
          this.__replayer = null;
          this.close();
          UIController.close(this.uiType);
        };
        _proto.getFrame = function getFrame(rank) {
          return this.winFrames[rank - 1] || this.winFrames[0];
        };
        _proto.turnOffReplayBtn = function turnOffReplayBtn() {
          this.btnReplay.node.active = false;
          this.__replayer = null;
        };
        _proto.init = function init(reward, handler, replay, replayTxt) {
          var _this2 = this;
          if (replayTxt === void 0) {
            replayTxt = 'txt_keep_playing';
          }
          var rank = reward.rank,
            reward_amount = reward.reward_amount,
            avatar = reward.avatar,
            display_name = reward.display_name,
            ticket_amount = reward.ticket_amount;
          this.btnReplay.node.active = !!replay;
          this.lblChip.node.active = reward_amount > 0;
          this.ticket_view.active = !!ticket_amount;
          this.lblTicket.string = "+ " + pStringUtils.formatNumberKMB(ticket_amount);
          this.__handler = pClassUtils.mapper(handler);
          this.__replayer = pClassUtils.mapper(replay);
          typeof avatar === 'string' ? pDecorators.instance(NSAsset.Manager).get(avatar).then(function (_frame) {
            return _this2.sprAvatar.spriteFrame = _frame;
          }) : this.sprAvatar.spriteFrame = avatar;
          var _str = LanguageMananger.instance.getStrings('txt_player2', 'dynamic_congrat_top');
          this.anim.defaultClip = this.spawnAnim;
          this.anim.play();
          pAsyncUtils.wait(this.spawnAnim.duration).then(function () {
            _this2.anim.defaultClip = _this2.winAnim;
            _this2.anim.play();
            _this2.opacity = 255;
          });
          this.lblKeepPlaying.string = LanguageMananger.instance.getString(replayTxt);
          this.lblName.string = _str.txt_player2 + ": " + display_name;
          this.lblTop.string = pStringUtils.replace(_str.dynamic_congrat_top, {
            find: '@top',
            replacer: String(rank)
          });
          this.lblChip.string = (reward_amount > 0 ? '+' : '') + " " + pStringUtils.formatNumberKMB(reward_amount);
          this.crown.active = rank === 1;
          this.sprFrame.spriteFrame = this.getFrame(rank);
        };
        _createClass(SNGWinner, [{
          key: "opacity",
          set: function set(value) {
            this.opxs.forEach(function (opx) {
              return opx.opacity = value;
            });
            this.sprs.forEach(function (spr) {
              var _color = spr.color.clone();
              _color.a = value;
              spr.color = _color;
            });
          }
        }]);
        return SNGWinner;
      }(UIBase), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "uiType", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return UIType.WINNER_FRAME;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "sprAvatar", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "sprFrame", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "lblName", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "lblTop", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, "lblChip", [_dec7], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor7 = _applyDecoratedDescriptor(_class2.prototype, "lblTicket", [_dec8], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor8 = _applyDecoratedDescriptor(_class2.prototype, "ticket_view", [_dec9], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor9 = _applyDecoratedDescriptor(_class2.prototype, "lblKeepPlaying", [_dec10], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor10 = _applyDecoratedDescriptor(_class2.prototype, "btnLobby", [_dec11], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor11 = _applyDecoratedDescriptor(_class2.prototype, "btnReplay", [_dec12], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor12 = _applyDecoratedDescriptor(_class2.prototype, "crown", [_dec13], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor13 = _applyDecoratedDescriptor(_class2.prototype, "anim", [_dec14], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor14 = _applyDecoratedDescriptor(_class2.prototype, "spawnAnim", [_dec15], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor15 = _applyDecoratedDescriptor(_class2.prototype, "winAnim", [_dec16], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor16 = _applyDecoratedDescriptor(_class2.prototype, "winFrames", [_dec17], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return [];
        }
      }), _descriptor17 = _applyDecoratedDescriptor(_class2.prototype, "opxs", [_dec18], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return [];
        }
      }), _descriptor18 = _applyDecoratedDescriptor(_class2.prototype, "sprs", [_dec19], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return [];
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/SocketService.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc'], function (exports) {
  var _inheritsLoose, cclegacy, _decorator, Component;
  return {
    setters: [function (module) {
      _inheritsLoose = module.inheritsLoose;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Component = module.Component;
    }],
    execute: function () {
      var _dec, _class;
      cclegacy._RF.push({}, "4ce6emTKNhF0bi0T++wG6G5", "SocketService", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var SocketService = exports('SocketService', (_dec = ccclass('SocketService'), _dec(_class = /*#__PURE__*/function (_Component) {
        _inheritsLoose(SocketService, _Component);
        function SocketService() {
          return _Component.apply(this, arguments) || this;
        }
        var _proto = SocketService.prototype;
        _proto.start = function start() {};
        _proto.update = function update(deltaTime) {};
        return SocketService;
      }(Component)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/SpawningFx.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './AnimationFX.ts', './Enums.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _createClass, cclegacy, _decorator, Node, Button, CCFloat, Vec3, Enum, tween, v3, AnimationFX, CCETweenEasing, EComponentInvokeOptions, toTweenEasingType, ETweenEasing;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _createClass = module.createClass;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Node = module.Node;
      Button = module.Button;
      CCFloat = module.CCFloat;
      Vec3 = module.Vec3;
      Enum = module.Enum;
      tween = module.tween;
      v3 = module.v3;
    }, function (module) {
      AnimationFX = module.AnimationFX;
    }, function (module) {
      CCETweenEasing = module.CCETweenEasing;
      EComponentInvokeOptions = module.EComponentInvokeOptions;
      toTweenEasingType = module.toTweenEasingType;
      ETweenEasing = module.ETweenEasing;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _dec11, _dec12, _dec13, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9, _descriptor10;
      cclegacy._RF.push({}, "9736atPel1LQJiHFmiQh7ik", "SpawningFx", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property,
        menu = _decorator.menu;
      var SpawningFX = exports('SpawningFX', (_dec = ccclass('SpawningFX'), _dec2 = menu('Effect/SpawningFX'), _dec3 = property(Node), _dec4 = property(Node), _dec5 = property([Button]), _dec6 = property({
        min: 0,
        type: CCFloat
      }), _dec7 = property(Vec3), _dec8 = property(Vec3), _dec9 = property({}), _dec10 = property({
        min: 0,
        type: CCFloat
      }), _dec11 = property({
        type: CCETweenEasing
      }), _dec12 = property({
        type: CCETweenEasing
      }), _dec13 = property({
        type: Enum(EComponentInvokeOptions)
      }), _dec(_class = _dec2(_class = (_class2 = /*#__PURE__*/function (_AnimationFX) {
        _inheritsLoose(SpawningFX, _AnimationFX);
        function SpawningFX() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _AnimationFX.call.apply(_AnimationFX, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "_target", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "disableList", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "duration", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "from", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "to", _descriptor5, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "oneTimeRunner", _descriptor6, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "delay", _descriptor7, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "showEasing", _descriptor8, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "hideEasing", _descriptor9, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "option", _descriptor10, _assertThisInitialized(_this));
          _this._tween = null;
          return _this;
        }
        var _proto = SpawningFX.prototype;
        _proto.onEnable = function onEnable() {
          this._invoker(EComponentInvokeOptions.OnEnable);
        };
        _proto.start = function start() {
          this._invoker(EComponentInvokeOptions.OnStart);
        };
        _proto._invoker = function _invoker(type) {
          type === this.option && this.show();
        };
        _proto._getData = function _getData(_data) {
          var _data$duration, _data$oneTimeRunner, _data$delay;
          return {
            duration: (_data$duration = _data.duration) != null ? _data$duration : this.duration,
            oneTimeRunner: (_data$oneTimeRunner = _data.oneTimeRunner) != null ? _data$oneTimeRunner : this.oneTimeRunner,
            delay: (_data$delay = _data.delay) != null ? _data$delay : this.delay
          };
        };
        _proto.show = function show(data) {
          var _this$_tween,
            _this2 = this;
          if (data === void 0) {
            data = this;
          }
          data = this._getData(data);
          this.target.scale = this.from;
          data.oneTimeRunner && ((_this$_tween = this._tween) == null ? void 0 : _this$_tween.stop());
          var easing = toTweenEasingType(this.showEasing);
          this.disableList.forEach(function (btn) {
            return btn.interactable = false;
          });
          return new Promise(function (rs) {
            _this2.scheduleOnce(function () {
              _this2._tween = tween(_this2.target).to(_this2.duration, {
                scale: _this2.to
              }, {
                easing: easing
              }).call(function () {
                _this2.invoke('OnDone', _this2);
                _this2.disableList.forEach(function (btn) {
                  return btn.interactable = true;
                });
                rs();
              }).start();
            }, data.delay);
          });
        };
        _proto.hide = function hide(data) {
          var _this$_tween2,
            _this3 = this;
          if (data === void 0) {
            data = this;
          }
          data = this._getData(data);
          this.target.scale = this.to;
          data.oneTimeRunner && ((_this$_tween2 = this._tween) == null ? void 0 : _this$_tween2.stop());
          var easing = toTweenEasingType(this.hideEasing);
          return new Promise(function (resolve) {
            _this3.scheduleOnce(function () {
              _this3._tween = tween(_this3.target).to(_this3.duration, {
                scale: _this3.from
              }, {
                easing: easing
              }).call(function () {
                return _this3.invoke('OnDone', _this3);
              }).call(resolve).start();
            }, data.delay);
          });
        };
        _proto._init = function _init() {
          this.target.scale = this.from;
        };
        _createClass(SpawningFX, [{
          key: "target",
          get: function get() {
            return this._target;
          },
          set: function set(x) {
            this._target = x;
            if (!!x) this.to = x.scale;
          }
        }]);
        return SpawningFX;
      }(AnimationFX), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "_target", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _applyDecoratedDescriptor(_class2.prototype, "target", [_dec4], Object.getOwnPropertyDescriptor(_class2.prototype, "target"), _class2.prototype), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "disableList", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return [];
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "duration", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return 0.5;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "from", [_dec7], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return v3();
        }
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "to", [_dec8], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return v3();
        }
      }), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, "oneTimeRunner", [_dec9], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return true;
        }
      }), _descriptor7 = _applyDecoratedDescriptor(_class2.prototype, "delay", [_dec10], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return 0;
        }
      }), _descriptor8 = _applyDecoratedDescriptor(_class2.prototype, "showEasing", [_dec11], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return ETweenEasing.backOut;
        }
      }), _descriptor9 = _applyDecoratedDescriptor(_class2.prototype, "hideEasing", [_dec12], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return ETweenEasing.backIn;
        }
      }), _descriptor10 = _applyDecoratedDescriptor(_class2.prototype, "option", [_dec13], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return EComponentInvokeOptions.None;
        }
      })), _class2)) || _class) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/SpinCardFx.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './IAnimationFX.ts'], function (exports) {
  var _inheritsLoose, _applyDecoratedDescriptor, _initializerDefineProperty, _assertThisInitialized, _asyncToGenerator, _regeneratorRuntime, cclegacy, Sprite, _decorator, NSAnimationFX;
  return {
    setters: [function (module) {
      _inheritsLoose = module.inheritsLoose;
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      Sprite = module.Sprite;
      _decorator = module._decorator;
    }, function (module) {
      NSAnimationFX = module.NSAnimationFX;
    }],
    execute: function () {
      exports('NSSpinCard', void 0);
      cclegacy._RF.push({}, "5f2728HmE5JRpvct2TQe06s", "SpinCardFx", undefined);
      var _cc$_decorator = _decorator,
        ccclass = _cc$_decorator.ccclass,
        property = _cc$_decorator.property;
      var NSSpinCard;
      (function (_NSSpinCard, _dec, _dec2, _class, _class2, _descriptor) {
        var Component = (_dec = ccclass('NSSpinCard.Component'), _dec2 = property([Sprite]), _dec(_class = (_class2 = /*#__PURE__*/function (_NSAnimationFX$Compon) {
          _inheritsLoose(Component, _NSAnimationFX$Compon);
          function Component() {
            var _this;
            for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
              args[_key] = arguments[_key];
            }
            _this = _NSAnimationFX$Compon.call.apply(_NSAnimationFX$Compon, [this].concat(args)) || this;
            _initializerDefineProperty(_this, "target", _descriptor, _assertThisInitialized(_this));
            return _this;
          }
          var _proto = Component.prototype;
          _proto._getData = function _getData(_data) {
            return {};
          };
          _proto.show = /*#__PURE__*/function () {
            var _show = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(data) {
              return _regeneratorRuntime().wrap(function _callee$(_context) {
                while (1) switch (_context.prev = _context.next) {
                  case 0:
                    data = this._getData(data);
                  case 1:
                  case "end":
                    return _context.stop();
                }
              }, _callee, this);
            }));
            function show(_x) {
              return _show.apply(this, arguments);
            }
            return show;
          }();
          _proto.hide = /*#__PURE__*/function () {
            var _hide = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {
              return _regeneratorRuntime().wrap(function _callee2$(_context2) {
                while (1) switch (_context2.prev = _context2.next) {
                  case 0:
                  case "end":
                    return _context2.stop();
                }
              }, _callee2);
            }));
            function hide() {
              return _hide.apply(this, arguments);
            }
            return hide;
          }();
          return Component;
        }(NSAnimationFX.Component), _descriptor = _applyDecoratedDescriptor(_class2.prototype, "target", [_dec2], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return [];
          }
        }), _class2)) || _class);
        _NSSpinCard.Component = Component;
      })(NSSpinCard || (NSSpinCard = exports('NSSpinCard', {})));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/SpinGameCommand.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './Connection.ts'], function (exports) {
  var _asyncToGenerator, _regeneratorRuntime, cclegacy, _connection;
  return {
    setters: [function (module) {
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
    }, function (module) {
      _connection = module.default;
    }],
    execute: function () {
      exports('default', request);
      cclegacy._RF.push({}, "35f11ApYMNHxZTzqEfqoCzF", "SpinGameCommand", undefined);
      var SGC;
      (function (_SGC) {
        var prefix = _SGC.prefix = "game.minigameHandler.";
      })(SGC || (SGC = {}));
      function request(_x, _x2, _x3) {
        return _request.apply(this, arguments);
      }
      function _request() {
        _request = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(command, payload, cb) {
          return _regeneratorRuntime().wrap(function _callee$(_context) {
            while (1) switch (_context.prev = _context.next) {
              case 0:
                return _context.abrupt("return", _connection.send(SGC.prefix + command, payload, cb));
              case 1:
              case "end":
                return _context.stop();
            }
          }, _callee);
        }));
        return _request.apply(this, arguments);
      }
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/StepButton.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, cclegacy, _decorator, CCString, Button, Node, Component;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      CCString = module.CCString;
      Button = module.Button;
      Node = module.Node;
      Component = module.Component;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _class, _class2, _descriptor, _descriptor2;
      cclegacy._RF.push({}, "9b390OShhpINoBZKUdPQh4Z", "StepButton", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var StepButton = exports('StepButton', (_dec = ccclass('StepButton'), _dec2 = property([CCString]), _dec3 = property(Button), _dec(_class = (_class2 = /*#__PURE__*/function (_Component) {
        _inheritsLoose(StepButton, _Component);
        function StepButton() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _Component.call.apply(_Component, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "step", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "button", _descriptor2, _assertThisInitialized(_this));
          return _this;
        }
        var _proto = StepButton.prototype;
        _proto.onEnable = function onEnable() {
          this.button.node.on(Node.EventType.TOUCH_END, this.onTouchEnd, this);
        };
        _proto.onTouchEnd = function onTouchEnd() {};
        _proto.onDisable = function onDisable() {
          this.button.node.off(Node.EventType.TOUCH_END, this.onTouchEnd, this);
        };
        return StepButton;
      }(Component), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "step", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return [];
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "button", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/StringUtils.ts", ['cc', './ArrayUtils.ts', './MathUtils.ts'], function (exports) {
  var cclegacy, pArray, pMathUtils;
  return {
    setters: [function (module) {
      cclegacy = module.cclegacy;
    }, function (module) {
      pArray = module.pArray;
    }, function (module) {
      pMathUtils = module.pMathUtils;
    }],
    execute: function () {
      cclegacy._RF.push({}, "96413LCHExK8KVmKbqmkmeN", "StringUtils", undefined);
      var _familyNames = ["Nguyn", "Trn", "L", "Phm", "Hong", "Phan", "V", "ng", "Bi", "", "H", "Ng", "Dng", "L", "inh"];
      var _maleMiddleNames = ["Vn", "Hu", "c", "Mnh", "Th", "Quc", "Cng", "nh", "Xun", "Tn"];
      var _femaleMiddleNames = ["Th", "Ngc", "Thu", "Thanh", "Hoi", "Kiu", "Kim", "Phng", "Bch", "H"];
      var _maleFirstNames = ["Hng", "Tun", "Anh", "Minh", "Hiu", "Khoa", "t", "Dng", "Long", "Nam", "Trung", "Kin", "Vinh", "Tin", "Hong", "Phong", "Quang", "Huy", "Cng", "Tng"];
      var _femaleFirstNames = ["Hng", "Hin", "Lan", "Mai", "Hoa", "Anh", "Phng", "Trang", "Thu", "Linh", "Nhung", "H", "My", "Hng", "Vn", "Ngc", "Dip", "Chi", "Yn", "Khnh"];
      var _StringUtils = exports('_StringUtils', /*#__PURE__*/function () {
        function _StringUtils() {}
        var _proto = _StringUtils.prototype;
        _proto.cut = function cut(str, start, end) {
          if (start === void 0) {
            start = 0;
          }
          if (end === void 0) {
            end = -1;
          }
          if (end < 0) {
            end = str.length;
          }
          return str.slice(start, end);
        };
        _proto.uuid = function uuid() {
          var _first = pMathUtils.random(1000, 9999);
          var _second = pMathUtils.random(1000, 9999);
          return _first + "_" + Date.now() + "_" + _second;
        };
        _proto.formatNumber = function formatNumber(value) {
          if (value == null || value == undefined) return '';
          return value.toString();
        };
        _proto.formatNumberKMB = function formatNumberKMB(num, positive, negative) {
          if (positive === void 0) {
            positive = "";
          }
          if (negative === void 0) {
            negative = "-";
          }
          if (num === null || num === undefined || isNaN(num)) return "0";
          if (num === 0) return "0";
          var _abs = Math.abs(num);
          var _units = ["", "K", "M", "B", "T", "Q"];
          var _unitIdx = 0;
          var _value = _abs;
          while (_value >= 1000 && _unitIdx < _units.length - 1) {
            _value /= 1000;
            _unitIdx++;
          }
          var _str = _unitIdx === 0 ? String(_abs) : _value.toFixed(2).replace(/\.?0+$/, "");
          var _sign = num > 0 ? positive : negative;
          return "" + _sign + _str + _units[_unitIdx];
        };
        _proto.formatMoneyWithDot = function formatMoneyWithDot(n, fixed) {
          if (fixed === void 0) {
            fixed = 0;
          }
          try {
            return n.toFixed(fixed).replace(/\B(?=(\d{3})+(?!\d))/g, ".");
          } catch (e) {}
        };
        _proto.formatNumberWithDot2 = function formatNumberWithDot2(n) {
          return n.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ".");
        };
        _proto.convertNumber = function convertNumber(value, radix) {
          var scaled = Math.round(value * 100 / radix);
          var integerPart = Math.floor(scaled / 100);
          var decimalPart = scaled % 100;
          if (decimalPart === 0) return integerPart.toString();
          if (decimalPart < 10) return integerPart + ",0" + decimalPart;
          if (decimalPart % 10 === 0) return integerPart + "," + decimalPart / 10;
          return integerPart + "," + decimalPart;
        };
        _proto.addSpaceHeadTail = function addSpaceHeadTail(value) {
          return " " + value + " ";
        };
        _proto.convertToBoolean = function convertToBoolean(input) {
          try {
            return JSON.parse(input.toLowerCase());
          } catch (e) {
            return undefined;
          }
        };
        _proto.encodeMsg = function encodeMsg(msg) {
          var json = JSON.stringify(msg);
          return JSON.parse(json);
        };
        _proto.generateRandomVietnameseName = function generateRandomVietnameseName() {
          var familyName = _familyNames[Math.floor(Math.random() * _familyNames.length)];
          var isMale = Math.random() > 0.5;
          var middleName = isMale ? _maleMiddleNames[Math.floor(Math.random() * _maleMiddleNames.length)] : _femaleMiddleNames[Math.floor(Math.random() * _femaleMiddleNames.length)];
          var firstName = isMale ? _maleFirstNames[Math.floor(Math.random() * _maleFirstNames.length)] : _femaleFirstNames[Math.floor(Math.random() * _femaleFirstNames.length)];
          return familyName + " " + middleName + " " + firstName;
        };
        _proto.randomName = function randomName() {
          var characters = 'abcdefghijklmnopqrstuvwxyz';
          return Array.from({
            length: 6
          }, function () {
            return characters[Math.floor(Math.random() * characters.length)];
          }).join('');
        };
        _proto.isValidEmail = function isValidEmail(email) {
          if (!email || email.trim() === '') {
            return false;
          }
          var emailRegex = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
          return emailRegex.test(email);
        };
        _proto.replace = function replace(root, _replace) {
          for (var _len = arguments.length, replaces = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {
            replaces[_key - 2] = arguments[_key];
          }
          replaces = pArray.flatter.apply(pArray, [_replace].concat(replaces));
          return replaces.reduce(function (result, _ref) {
            var find = _ref.find,
              replacer = _ref.replacer,
              time = _ref.time;
            time = time || 0;
            if (time > 0) {
              for (var i = 0; i < time; i++) result = result.replace(find, replacer);
            } else {
              result = result.replace(new RegExp(find, 'g'), replacer);
            }
            return result;
          }, String(root));
        };
        return _StringUtils;
      }());

      /**
       * @deprecated Use `pStringUtils` instead
       */
      var StringUtils = exports('StringUtils', new _StringUtils());
      var pStringUtils = exports('pStringUtils', StringUtils);
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/SupportCommand.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './Connection.ts'], function (exports) {
  var _asyncToGenerator, _regeneratorRuntime, cclegacy, _connection;
  return {
    setters: [function (module) {
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
    }, function (module) {
      _connection = module.default;
    }],
    execute: function () {
      exports('default', request);
      cclegacy._RF.push({}, "888f8MZj7VAcLfy4D7krXu/", "SupportCommand", undefined);
      var SHC;
      (function (_SHC) {
        var prefix = _SHC.prefix = "game.supportHandler.";
      })(SHC || (SHC = {}));
      function request(_x, _x2, _x3) {
        return _request.apply(this, arguments);
      }
      function _request() {
        _request = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(command, payload, cb) {
          return _regeneratorRuntime().wrap(function _callee$(_context) {
            while (1) switch (_context.prev = _context.next) {
              case 0:
                return _context.abrupt("return", _connection.send(SHC.prefix + command, payload, cb));
              case 1:
              case "end":
                return _context.stop();
            }
          }, _callee);
        }));
        return _request.apply(this, arguments);
      }
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/SyncTarget.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './env', './ComponentUtils.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _createClass, cclegacy, Node, UITransform, _decorator, size, Component, EDITOR, pComponentUtils;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _createClass = module.createClass;
    }, function (module) {
      cclegacy = module.cclegacy;
      Node = module.Node;
      UITransform = module.UITransform;
      _decorator = module._decorator;
      size = module.size;
      Component = module.Component;
    }, function (module) {
      EDITOR = module.EDITOR;
    }, function (module) {
      pComponentUtils = module.pComponentUtils;
    }],
    execute: function () {
      exports('NSSyncTarget', void 0);
      cclegacy._RF.push({}, "034d3oXm8hAS7aRkM1N8Ifc", "SyncTarget", undefined);
      var _cc$_decorator = _decorator,
        ccclass = _cc$_decorator.ccclass,
        property = _cc$_decorator.property,
        executeInEditMode = _cc$_decorator.executeInEditMode;
      var NSSyncTarget;
      (function (_NSSyncTarget, _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7) {
        var Component$1 = (_dec = ccclass('SyncTarget'), _dec2 = executeInEditMode(), _dec3 = property(Node), _dec4 = property({}), _dec5 = property({}), _dec6 = property({
          visible: function visible() {
            return this.size;
          }
        }), _dec7 = property({}), _dec8 = property({}), _dec9 = property({}), _dec10 = property({
          type: UITransform,
          visible: function visible() {
            return this.size;
          }
        }), _dec(_class = _dec2(_class = (_class2 = /*#__PURE__*/function (_cc$Component) {
          _inheritsLoose(Component, _cc$Component);
          function Component() {
            var _this;
            for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
              args[_key] = arguments[_key];
            }
            _this = _cc$Component.call.apply(_cc$Component, [this].concat(args)) || this;
            _initializerDefineProperty(_this, "target", _descriptor, _assertThisInitialized(_this));
            _initializerDefineProperty(_this, "position", _descriptor2, _assertThisInitialized(_this));
            _initializerDefineProperty(_this, "size", _descriptor3, _assertThisInitialized(_this));
            _initializerDefineProperty(_this, "sizeDif", _descriptor4, _assertThisInitialized(_this));
            _initializerDefineProperty(_this, "angle", _descriptor5, _assertThisInitialized(_this));
            _initializerDefineProperty(_this, "scale", _descriptor6, _assertThisInitialized(_this));
            _initializerDefineProperty(_this, "editor", _descriptor7, _assertThisInitialized(_this));
            return _this;
          }
          var _proto = Component.prototype;
          _proto.onLoad = function onLoad() {
            if (!this.target) this.destroy();
            if (!this.position && !this.size && !this.angle && !this.scale) this.destroy();
          };
          _proto.update = function update() {
            if (!this.editor && EDITOR) return;
            if (this.position) this.node.setWorldPosition(this.target.getWorldPosition());
            if (this.size) {
              var trans = pComponentUtils.getSafeComponent(this, UITransform);
              var _this$transform$conte = this.transform.contentSize,
                width = _this$transform$conte.width,
                height = _this$transform$conte.height;
              trans.setContentSize(size(width + this.sizeDif.width, height + this.sizeDif.height));
            }
            if (this.angle) this.node.setWorldRotation(this.target.getWorldRotation());
            if (this.scale) this.node.scale = this.target.scale;
          };
          _createClass(Component, [{
            key: "transform",
            get: function get() {
              if (!this.size || !this.target) return null;
              return pComponentUtils.getSafeComponent(this.target, UITransform);
            }
          }]);
          return Component;
        }(Component), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "target", [_dec3], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: null
        }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "position", [_dec4], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return false;
          }
        }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "size", [_dec5], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return false;
          }
        }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "sizeDif", [_dec6], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return size(0, 0);
          }
        }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "angle", [_dec7], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return false;
          }
        }), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, "scale", [_dec8], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return false;
          }
        }), _descriptor7 = _applyDecoratedDescriptor(_class2.prototype, "editor", [_dec9], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return false;
          }
        }), _applyDecoratedDescriptor(_class2.prototype, "transform", [_dec10], Object.getOwnPropertyDescriptor(_class2.prototype, "transform"), _class2.prototype)), _class2)) || _class) || _class);
        _NSSyncTarget.Component = Component$1;
      })(NSSyncTarget || (NSSyncTarget = exports('NSSyncTarget', {})));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/TableCommand.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './Connection.ts'], function (exports) {
  var _asyncToGenerator, _regeneratorRuntime, cclegacy, _connection;
  return {
    setters: [function (module) {
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
    }, function (module) {
      _connection = module.default;
    }],
    execute: function () {
      exports('default', request);
      cclegacy._RF.push({}, "11675Iy60ZEs7TjOTWtNDvv", "TableCommand", undefined);
      var THC;
      (function (_THC) {
        var prefix = _THC.prefix = "game.tableHandler.";
      })(THC || (THC = {}));
      function request(_x, _x2, _x3) {
        return _request.apply(this, arguments);
      }
      function _request() {
        _request = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(command, payload, cb) {
          return _regeneratorRuntime().wrap(function _callee$(_context) {
            while (1) switch (_context.prev = _context.next) {
              case 0:
                return _context.abrupt("return", _connection.send(THC.prefix + command, payload, cb));
              case 1:
              case "end":
                return _context.stop();
            }
          }, _callee);
        }));
        return _request.apply(this, arguments);
      }
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/TableMonitorCommand.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './Connection.ts'], function (exports) {
  var _asyncToGenerator, _regeneratorRuntime, cclegacy, _connection;
  return {
    setters: [function (module) {
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
    }, function (module) {
      _connection = module.default;
    }],
    execute: function () {
      exports('default', request);
      cclegacy._RF.push({}, "7a06aLDVzBAUarWt7s+QLBq", "TableMonitorCommand", undefined);
      var TM;
      (function (_TM) {
        var prefix = _TM.prefix = "connector.tableMonitorHandler.";
      })(TM || (TM = {}));
      function request(_x, _x2, _x3) {
        return _request.apply(this, arguments);
      }
      function _request() {
        _request = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(command, payload, cb) {
          return _regeneratorRuntime().wrap(function _callee$(_context) {
            while (1) switch (_context.prev = _context.next) {
              case 0:
                return _context.abrupt("return", _connection.send(TM.prefix + command, payload, cb));
              case 1:
              case "end":
                return _context.stop();
            }
          }, _callee);
        }));
        return _request.apply(this, arguments);
      }
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/TestButton.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './Global.ts'], function (exports) {
  var _inheritsLoose, cclegacy, _decorator, Component, debugLog;
  return {
    setters: [function (module) {
      _inheritsLoose = module.inheritsLoose;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Component = module.Component;
    }, function (module) {
      debugLog = module.debugLog;
    }],
    execute: function () {
      var _dec, _class;
      cclegacy._RF.push({}, "1fcacNWIM1JI64p9MbW5zWn", "TestButton", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var TestButton = exports('TestButton', (_dec = ccclass('TestButton'), _dec(_class = /*#__PURE__*/function (_Component) {
        _inheritsLoose(TestButton, _Component);
        function TestButton() {
          return _Component.apply(this, arguments) || this;
        }
        var _proto = TestButton.prototype;
        _proto.testClick = function testClick(event, customEventData) {
          debugLog("aaaaa");
        };
        return TestButton;
      }(Component)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/TimeTreasureCommand.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './Connection.ts'], function (exports) {
  var _asyncToGenerator, _regeneratorRuntime, cclegacy, _connection;
  return {
    setters: [function (module) {
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
    }, function (module) {
      _connection = module.default;
    }],
    execute: function () {
      exports('default', request);
      cclegacy._RF.push({}, "e96ca2gX6pPEZCMFOlw66z+", "TimeTreasureCommand", undefined);
      var TTC;
      (function (_TTC) {
        var prefix = _TTC.prefix = "game.timeTreasureHandler.";
      })(TTC || (TTC = {}));
      function request(_x, _x2, _x3) {
        return _request.apply(this, arguments);
      }
      function _request() {
        _request = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(command, payload, cb) {
          return _regeneratorRuntime().wrap(function _callee$(_context) {
            while (1) switch (_context.prev = _context.next) {
              case 0:
                return _context.abrupt("return", _connection.send(TTC.prefix + command, payload, cb));
              case 1:
              case "end":
                return _context.stop();
            }
          }, _callee);
        }));
        return _request.apply(this, arguments);
      }
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/TimeZone.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './JsonUtils.ts'], function (exports) {
  var _createClass, cclegacy, JsonUtils;
  return {
    setters: [function (module) {
      _createClass = module.createClass;
    }, function (module) {
      cclegacy = module.cclegacy;
    }, function (module) {
      JsonUtils = module.default;
    }],
    execute: function () {
      cclegacy._RF.push({}, "f83f8c111dKC5iVNFodddEo", "TimeZone", undefined);
      function _part(utcms, zone) {
        var _p$find2, _wdMap$wd;
        var fmt = new Intl.DateTimeFormat('en-GB', {
          timeZone: zone,
          year: 'numeric',
          month: 'numeric',
          day: 'numeric',
          hour: 'numeric',
          minute: 'numeric',
          second: 'numeric',
          weekday: 'short',
          hour12: false
        });
        var _p = fmt.formatToParts(utcms);
        var _num = function _num(_t) {
          var _p$find;
          return parseInt(((_p$find = _p.find(function (x) {
            return x.type === _t;
          })) == null ? void 0 : _p$find.value) || '0', 10);
        };
        var wd = ((_p$find2 = _p.find(function (x) {
          return x.type === 'weekday';
        })) == null ? void 0 : _p$find2.value) || 'Sun';
        var wdMap = {
          'Sun': 0,
          'Mon': 1,
          'Tue': 2,
          'Wed': 3,
          'Thu': 4,
          'Fri': 5,
          'Sat': 6
        };
        return {
          year: _num('year'),
          month: _num('month'),
          day: _num('day'),
          hour: _num('hour'),
          minute: _num('minute'),
          second: _num('second'),
          millisecond: 0,
          weekday: (_wdMap$wd = wdMap[wd]) != null ? _wdMap$wd : 0
        };
      }
      var _ZoneDate = /*#__PURE__*/function () {
        function _ZoneDate(utcms, zone) {
          this.utcms = utcms;
          this.zone = zone;
        }
        _ZoneDate.from = function from(utcms, zone) {
          if (typeof utcms === 'number') return new _ZoneDate(utcms, zone || Intl.DateTimeFormat().resolvedOptions().timeZone);
          var data = typeof utcms === 'string' ? JsonUtils.isValidData(utcms) ? JSON.parse(utcms) : null : utcms;
          if (!data || typeof data.utcms !== 'number' || typeof data.zone !== 'string') {
            return null;
          }
          return new _ZoneDate(data.utcms, data.zone);
        };
        _ZoneDate.fromBangkokString = function fromBangkokString(date) {
          var m = date.match(/^(\d{4})-(\d{2})-(\d{2})\s+(\d{2}):(\d{2})(?::(\d{2}))?$/);
          if (!m) throw new Error("Bad datetime: " + date);
          var _ = m[0],
            Y = m[1],
            M = m[2],
            D = m[3],
            h = m[4],
            mi = m[5],
            se = m[6];
          var utcMs = Date.UTC(+Y, +M - 1, +D, +h, +mi, se ? +se : 0) - 7 * 60 * 60 * 1000; // UTC+7  UTC
          return new _ZoneDate(utcMs, "Asia/Bangkok");
        };
        _ZoneDate.now = function now(zone) {
          if (zone === void 0) {
            zone = Intl.DateTimeFormat().resolvedOptions().timeZone;
          }
          return new _ZoneDate(Date.now(), zone);
        };
        _ZoneDate.json = function (_json) {
          function json(_x) {
            return _json.apply(this, arguments);
          }
          json.toString = function () {
            return _json.toString();
          };
          return json;
        }(function (json) {
          var data = typeof json === 'string' ? JsonUtils.isValidData(json) ? JSON.parse(json) : null : json;
          if (!data || typeof data.utcms !== 'number' || typeof data.zone !== 'string') {
            return null;
          }
          return new _ZoneDate(data.utcms, data.zone);
        });
        var _proto = _ZoneDate.prototype;
        _proto.getFullYear = function getFullYear() {
          return _part(this.utcms, this.zone).year;
        };
        _proto.getMonth = function getMonth() {
          return _part(this.utcms, this.zone).month - 1;
        };
        _proto.getDate = function getDate() {
          return _part(this.utcms, this.zone).day;
        };
        _proto.getHours = function getHours() {
          return _part(this.utcms, this.zone).hour;
        };
        _proto.getMinutes = function getMinutes() {
          return _part(this.utcms, this.zone).minute;
        };
        _proto.getSeconds = function getSeconds() {
          return _part(this.utcms, this.zone).second;
        };
        _proto.getDay = function getDay() {
          return _part(this.utcms, this.zone).weekday;
        };
        _proto.daydif = function daydif(other) {
          if (other instanceof _ZoneDate) {
            return (this.utcms - other.utcms) / (24 * 60 * 60 * 1000);
          }
          return (this.utcms - other) / (24 * 60 * 60 * 1000);
        };
        _proto.valueOf = function valueOf() {
          return this.utcms;
        };
        _proto.toDate = function toDate() {
          return new Date(this.utcms);
        };
        _proto.toISOString = function toISOString() {
          return this.toDate().toISOString();
        };
        _proto.withZone = function withZone(zone) {
          zone = zone || Intl.DateTimeFormat().resolvedOptions().timeZone;
          return new _ZoneDate(this.utcms, zone);
        };
        _createClass(_ZoneDate, [{
          key: "json",
          get: function get() {
            return JSON.stringify({
              utcms: this.utcms,
              zone: this.zone
            });
          }
        }]);
        return _ZoneDate;
      }();
      var pTimeZone = exports('pTimeZone', _ZoneDate);
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/TipDealerTutorial.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './GameTutorial.ts', './ComponentUtils.ts', './Decorators.ts', './UIGameTutorial.ts', './UIPopupActionDealer.ts', './TypesLanguageManager.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _asyncToGenerator, _regeneratorRuntime, _createClass, cclegacy, _decorator, Node, Button, GameTutorial, pComponentUtils, pDecorators, UIGameTutorial, UIPopupActionDealer, CCELang, numberToTLang;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
      _createClass = module.createClass;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Node = module.Node;
      Button = module.Button;
    }, function (module) {
      GameTutorial = module.GameTutorial;
    }, function (module) {
      pComponentUtils = module.pComponentUtils;
    }, function (module) {
      pDecorators = module.pDecorators;
    }, function (module) {
      UIGameTutorial = module.UIGameTutorial;
    }, function (module) {
      UIPopupActionDealer = module.UIPopupActionDealer;
    }, function (module) {
      CCELang = module.CCELang;
      numberToTLang = module.numberToTLang;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6;
      cclegacy._RF.push({}, "9dc2fNjeD5M56kljbPLVH7h", "TipDealerTutorial", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var TipDealerTutorial = exports('TipDealerTutorial', (_dec = ccclass("TipDealerTutorial"), _dec2 = property(Node), _dec3 = property(Button), _dec4 = property(UIPopupActionDealer), _dec5 = property({
        type: [CCELang],
        visible: function visible() {
          return this.hasChat;
        },
        override: true
      }), _dec6 = property(Node), _dec7 = property(Node), _dec(_class = (_class2 = /*#__PURE__*/function (_GameTutorial) {
        _inheritsLoose(TipDealerTutorial, _GameTutorial);
        function TipDealerTutorial() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _GameTutorial.call.apply(_GameTutorial, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "pointer", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnTip", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "tip", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "_chat", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "main", _descriptor5, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "hand", _descriptor6, _assertThisInitialized(_this));
          _this._next = false;
          _this._actions = [/*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  _this._next = false;
                  _this.pointer.active = true;
                  _this.btnTip.interactable = true;
                case 3:
                case "end":
                  return _context.stop();
              }
            }, _callee);
          })), /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {
            return _regeneratorRuntime().wrap(function _callee2$(_context2) {
              while (1) switch (_context2.prev = _context2.next) {
                case 0:
                  _this._next = false;
                  _this.pointer.active = false;
                  _this.tip.open({
                    amount: 100000,
                    main: _this.main,
                    hand: _this.hand,
                    cb: {
                      _function: function _function() {
                        _this._next = true;
                        _this._onEnter();
                      },
                      _this: _assertThisInitialized(_this)
                    }
                  });
                  _this.btnTip.interactable = false;
                case 4:
                case "end":
                  return _context2.stop();
              }
            }, _callee2);
          }))];
          return _this;
        }
        var _proto = TipDealerTutorial.prototype;
        _proto._onLoad = function _onLoad() {
          pComponentUtils.appends({
            _options: {
              _target: this.btnTip,
              _handlers: this._onClick
            },
            _type: Button.EventType.CLICK,
            _binder: this
          });
        };
        _proto._onExit = /*#__PURE__*/function () {
          var _onExit2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {
            return _regeneratorRuntime().wrap(function _callee3$(_context3) {
              while (1) switch (_context3.prev = _context3.next) {
                case 0:
                case "end":
                  return _context3.stop();
              }
            }, _callee3);
          }));
          function _onExit() {
            return _onExit2.apply(this, arguments);
          }
          return _onExit;
        }();
        _proto._onEnter = function _onEnter() {
          var _root = pDecorators.instance(UIGameTutorial);
          _root.btnNext.node.active = this._next;
        };
        _proto._onClick = function _onClick() {
          var _root = pDecorators.instance(UIGameTutorial);
          _root.actNext();
        };
        _createClass(TipDealerTutorial, [{
          key: "chat",
          get: function get() {
            return this.hasChat ? numberToTLang(this._chat[this._index]) : null;
          }
        }]);
        return TipDealerTutorial;
      }(GameTutorial), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "pointer", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "btnTip", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "tip", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "_chat", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return [];
        }
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "main", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, "hand", [_dec7], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/TMttTournament.ts", ['cc', './EnumUtils.ts'], function (exports) {
  var cclegacy, pEnumUtils;
  return {
    setters: [function (module) {
      cclegacy = module.cclegacy;
    }, function (module) {
      pEnumUtils = module.pEnumUtils;
    }],
    execute: function () {
      exports('TMttTournament', void 0);
      cclegacy._RF.push({}, "3b06aKn651EXpC+mdq/5Duf", "TMttTournament", undefined);
      var TMttTournament;
      (function (_TMttTournament) {
        var types = _TMttTournament.types = ["QUALIFIER", "SEMIFINAL", "FINAL", "MONTHLY"];
        var qType = _TMttTournament.qType = pEnumUtils.extractor('TMttTournament.Type', types);
      })(TMttTournament || (TMttTournament = exports('TMttTournament', {})));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/TogglerManager.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './ComponentUtils.ts', './EventDriver.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _createClass, _initializerDefineProperty, _assertThisInitialized, cclegacy, _decorator, Toggle, Node, CCClass, pComponentUtils, NSEventDriver;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _createClass = module.createClass;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Toggle = module.Toggle;
      Node = module.Node;
      CCClass = module.CCClass;
    }, function (module) {
      pComponentUtils = module.pComponentUtils;
    }, function (module) {
      NSEventDriver = module.NSEventDriver;
    }],
    execute: function () {
      exports('NSToggler', void 0);
      cclegacy._RF.push({}, "92324SErUFIEphbfOppr5cG", "TogglerManager", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property,
        disallowMultiple = _decorator.disallowMultiple,
        executeInEditMode = _decorator.executeInEditMode;
      var NSToggler;
      (function (_NSToggler, _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _dec7, _dec8, _dec9, _dec10, _dec11, _dec12, _class4, _class5, _descriptor5, _descriptor6, _descriptor7) {
        var Helper = (_dec = ccclass("NSToggler.Helper"), _dec2 = property({}), _dec3 = property({
          readonly: true
        }), _dec4 = property({
          type: Toggle
        }), _dec5 = property({
          type: Toggle
        }), _dec6 = property([Node]), _dec(_class = (_class2 = /*#__PURE__*/function () {
          function Helper() {
            _initializerDefineProperty(this, "id", _descriptor, this);
            _initializerDefineProperty(this, "_fixedId", _descriptor2, this);
            _initializerDefineProperty(this, "_toggle", _descriptor3, this);
            _initializerDefineProperty(this, "relationships", _descriptor4, this);
            this._validator = null;
          }
          Helper.generate = function generate(id, fixed) {
            if (fixed === void 0) {
              fixed = false;
            }
            var ret = new Helper();
            ret.id = id;
            ret._fixedId = fixed;
            return ret;
          };
          var _proto = Helper.prototype;
          _proto.init = function init(manager) {
            pComponentUtils.appends({
              _options: [{
                _target: this._toggle,
                _handlers: this._onToggle
              }],
              _type: Toggle.EventType.TOGGLE,
              _binder: this
            });
            this._validator = manager;
          };
          _proto._onToggle = function _onToggle(_toggle) {
            this.relationships.forEach(function (_node) {
              return _node.active = _toggle.isChecked;
            });
            if (!!this._validator && this._validator.enabled && this.toggle.enabled) {
              if (this.toggle.isChecked || !this._validator.anyTogglesChecked() && !this._validator.allowSwitchOff) {
                this.toggle.setIsCheckedWithoutNotify(true);
                this._validator.notifyToggleCheck(this, true);
              }
            }
            console.log("Toggle " + String(this.id) + " is now " + (_toggle.isChecked ? 'checked' : 'unchecked'));
            this.toggle.interactable = !this.toggle.isChecked;
          };
          _proto.check = function check(_boolean) {
            this._toggle.isChecked = _boolean;
          };
          _proto.refix = function refix() {
            CCClass.Attr.setClassAttr(this.constructor, 'id', 'readonly', true);
          };
          _proto.notify = function notify() {
            this._onToggle(this.toggle);
          };
          _createClass(Helper, [{
            key: "toggle",
            get: function get() {
              return this._toggle;
            },
            set: function set(value) {
              this._toggle = value;
            }
          }]);
          return Helper;
        }(), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "id", [_dec2], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return "";
          }
        }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "_fixedId", [_dec3], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return false;
          }
        }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "_toggle", [_dec4], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return null;
          }
        }), _applyDecoratedDescriptor(_class2.prototype, "toggle", [_dec5], Object.getOwnPropertyDescriptor(_class2.prototype, "toggle"), _class2.prototype), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "relationships", [_dec6], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return [];
          }
        })), _class2)) || _class);
        var Manager = (_dec7 = ccclass("NSToggler.Manager"), _dec8 = disallowMultiple(), _dec9 = executeInEditMode(), _dec10 = property({
          readonly: true
        }), _dec11 = property({
          type: [Helper],
          visible: true
        }), _dec12 = property({}), _dec7(_class4 = _dec8(_class4 = _dec9(_class4 = (_class5 = /*#__PURE__*/function (_NSEventDriver$Compon) {
          _inheritsLoose(Manager, _NSEventDriver$Compon);
          function Manager() {
            var _this;
            for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
              args[_key] = arguments[_key];
            }
            _this = _NSEventDriver$Compon.call.apply(_NSEventDriver$Compon, [this].concat(args)) || this;
            _initializerDefineProperty(_this, "_fixedId", _descriptor5, _assertThisInitialized(_this));
            _initializerDefineProperty(_this, "_togglers", _descriptor6, _assertThisInitialized(_this));
            _initializerDefineProperty(_this, "allowSwitchOff", _descriptor7, _assertThisInitialized(_this));
            return _this;
          }
          var _proto2 = Manager.prototype;
          _proto2.add = function add(event, listener) {
            var _NSEventDriver$Compon2;
            for (var _len2 = arguments.length, listeners = new Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {
              listeners[_key2 - 2] = arguments[_key2];
            }
            (_NSEventDriver$Compon2 = _NSEventDriver$Compon.prototype.add).call.apply(_NSEventDriver$Compon2, [this, event, listener].concat(listeners));
          };
          _proto2.resetup = function resetup(list) {
            this._fixedId = true;
            this._togglers = list.map(function (id) {
              return Helper.generate(id, true);
            });
            this._refix();
          };
          _proto2.onFocusInEditor = function onFocusInEditor() {
            this._refix();
          };
          _proto2.onLostFocusInEditor = function onLostFocusInEditor() {
            this._refix();
          };
          _proto2._refix = function _refix() {
            if (!this._fixedId) return;
            CCClass.Attr.setClassAttr(this.constructor, '_togglers', 'readonly', true);
            this._togglers.forEach(function (toggle) {
              return toggle.refix();
            });
          };
          _proto2.onLoad = function onLoad() {
            var _this2 = this;
            this.togglers.forEach(function (_toggler) {
              return _toggler.init(_this2);
            });
          };
          _proto2.onEnable = function onEnable() {
            this.ensureValidState();
            this.node.on(Node.EventType.CHILD_ADDED, this.ensureValidState, this);
            this.node.on(Node.EventType.CHILD_REMOVED, this.ensureValidState, this);
            var _toggler = this.togglers.find(function (_toggler) {
              return _toggler.toggle.isChecked;
            });
            _toggler == null || _toggler.notify();
          };
          _proto2.onDisable = function onDisable() {
            this.node.off(Node.EventType.CHILD_ADDED, this.ensureValidState, this);
            this.node.off(Node.EventType.CHILD_REMOVED, this.ensureValidState, this);
          };
          _proto2.get = function get(id) {
            return this.togglers.find(function (_toggler) {
              return _toggler.id === id;
            });
          };
          _proto2.check = function check(id) {
            var _toggler = this.get(id);
            _toggler.check(true);
            this.notifyToggleCheck(_toggler, true);
          };
          _proto2.activeToggles = function activeToggles() {
            return this.togglers.filter(function (_toggler) {
              return _toggler.toggle.isChecked;
            }).map(function (_toggler) {
              return _toggler.toggle;
            });
          };
          _proto2.anyTogglesChecked = function anyTogglesChecked() {
            return !!this.togglers.find(function (_toggler) {
              return _toggler.toggle.isChecked;
            });
          };
          _proto2.ensureValidState = function ensureValidState() {
            if (!this.allowSwitchOff && !this.anyTogglesChecked() && this.togglers.length !== 0) {
              var _toggler = this.togglers[0];
              _toggler.check(true);
              this.notifyToggleCheck(_toggler, true);
            }
            var _activators = this.activeToggles();
            if (_activators.length > 1) {
              var _first = _activators[0];
              for (var i = 0; i < _activators.length; ++i) {
                var _toggle = _activators[i];
                if (_toggle === _first) continue;
                _toggle.isChecked = false;
              }
            }
          };
          _proto2.notifyToggleCheck = function notifyToggleCheck(toggle, emitEvent) {
            if (emitEvent === void 0) {
              emitEvent = true;
            }
            if (!this.enabledInHierarchy) {
              return;
            }
            this.togglers.forEach(function (_toggler) {
              if (_toggler.toggle === toggle.toggle) return;
              emitEvent ? _toggler.check(false) : _toggler.toggle.setIsCheckedWithoutNotify(false);
            });
            emitEvent && this.invoke('onToggle', toggle.id);
          };
          _createClass(Manager, [{
            key: "togglers",
            get: function get() {
              return this._togglers.map(function (_toggler) {
                return _toggler && _toggler.toggle.enabled ? _toggler : null;
              }).filter(Boolean);
            }
          }]);
          return Manager;
        }(NSEventDriver.Component), (_descriptor5 = _applyDecoratedDescriptor(_class5.prototype, "_fixedId", [_dec10], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return false;
          }
        }), _descriptor6 = _applyDecoratedDescriptor(_class5.prototype, "_togglers", [_dec11], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return [];
          }
        }), _descriptor7 = _applyDecoratedDescriptor(_class5.prototype, "allowSwitchOff", [_dec12], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return false;
          }
        })), _class5)) || _class4) || _class4) || _class4);
        _NSToggler.Manager = Manager;
      })(NSToggler || (NSToggler = exports('NSToggler', {})));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/ToggleSameLabel.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _createClass, cclegacy, _decorator, Label, CCBoolean, Component;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _createClass = module.createClass;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Label = module.Label;
      CCBoolean = module.CCBoolean;
      Component = module.Component;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _class, _class2, _descriptor, _descriptor2;
      cclegacy._RF.push({}, "8483cRQ/K1FiZti9au0E34A", "ToggleSameLabel", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property,
        disallowMultiple = _decorator.disallowMultiple,
        executeInEditMode = _decorator.executeInEditMode;
      var ToggleSameLabel = exports('ToggleSameLabel', (_dec = ccclass('ToggleSameLabel'), _dec2 = executeInEditMode(true), _dec3 = property(Label), _dec4 = property(Label), _dec5 = property(CCBoolean), _dec(_class = disallowMultiple(_class = _dec2(_class = (_class2 = /*#__PURE__*/function (_Component) {
        _inheritsLoose(ToggleSameLabel, _Component);
        function ToggleSameLabel() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _Component.call.apply(_Component, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "normalLabel", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "checkedLabel", _descriptor2, _assertThisInitialized(_this));
          _this._updateLabel = void 0;
          return _this;
        }
        var _proto = ToggleSameLabel.prototype;
        _proto.start = function start() {};
        _proto.update = function update(deltaTime) {};
        _createClass(ToggleSameLabel, [{
          key: "updateLabel",
          get: function get() {
            return this._updateLabel;
          },
          set: function set(value) {
            this._updateLabel = false;
            this.checkedLabel.string = this.normalLabel.string;
            this.checkedLabel.useSystemFont = this.normalLabel.useSystemFont;
            this.checkedLabel.font = this.normalLabel.font;
            this.checkedLabel.overflow = this.normalLabel.overflow;
            this.checkedLabel.cacheMode = this.normalLabel.cacheMode;
            this.checkedLabel.fontSize = this.normalLabel.fontSize;
            this.checkedLabel.lineHeight = this.normalLabel.lineHeight;
          }
        }]);
        return ToggleSameLabel;
      }(Component), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "normalLabel", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "checkedLabel", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _applyDecoratedDescriptor(_class2.prototype, "updateLabel", [_dec5], Object.getOwnPropertyDescriptor(_class2.prototype, "updateLabel"), _class2.prototype)), _class2)) || _class) || _class) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/ToggleUpdateSize.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, cclegacy, _decorator, Toggle, Node, UITransform, Component;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Toggle = module.Toggle;
      Node = module.Node;
      UITransform = module.UITransform;
      Component = module.Component;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _class, _class2, _descriptor, _descriptor2;
      cclegacy._RF.push({}, "deb7f327EtBgJCu1SqEjxxw", "ToggleUpdateSize", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property,
        disallowMultiple = _decorator.disallowMultiple,
        executeInEditMode = _decorator.executeInEditMode;
      var ToggleUpdateSize = exports('ToggleUpdateSize', (_dec = ccclass('ToggleUpdateSize'), _dec2 = executeInEditMode(true), _dec3 = property(Toggle), _dec4 = property(Node), _dec(_class = disallowMultiple(_class = _dec2(_class = (_class2 = /*#__PURE__*/function (_Component) {
        _inheritsLoose(ToggleUpdateSize, _Component);
        function ToggleUpdateSize() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _Component.call.apply(_Component, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "toggle", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "target", _descriptor2, _assertThisInitialized(_this));
          return _this;
        }
        var _proto = ToggleUpdateSize.prototype;
        _proto.onEnable = function onEnable() {
          this.toggle.node.getComponent(UITransform).setContentSize(this.target.getComponent(UITransform).contentSize);
        };
        _proto.start = function start() {};
        _proto.update = function update(deltaTime) {};
        _proto.onFocusInEditor = function onFocusInEditor() {
          this.toggle.node.getComponent(UITransform).setContentSize(this.target.getComponent(UITransform).contentSize);
        };
        return ToggleUpdateSize;
      }(Component), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "toggle", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "target", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class) || _class) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/ToggleUtil.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, cclegacy, _decorator, Toggle, Component;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Toggle = module.Toggle;
      Component = module.Component;
    }],
    execute: function () {
      var _dec, _dec2, _class, _class2, _descriptor;
      cclegacy._RF.push({}, "7df0eED91tFd6wTTKoQeTlE", "ToggleUtil", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property,
        executeInEditMode = _decorator.executeInEditMode;
      var ToggleUtil = exports('ToggleUtil', (_dec = ccclass('ToggleUtil'), _dec2 = executeInEditMode(true), _dec(_class = _dec2(_class = (_class2 = /*#__PURE__*/function (_Component) {
        _inheritsLoose(ToggleUtil, _Component);
        function ToggleUtil() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _Component.call.apply(_Component, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "toggle", _descriptor, _assertThisInitialized(_this));
          return _this;
        }
        var _proto = ToggleUtil.prototype;
        _proto.onLoad = function onLoad() {
          if (this.toggle == null) {
            this.toggle = this.getComponent(Toggle);
          }
          if (this.toggle != null) {
            this.toggle.node.on(Toggle.EventType.TOGGLE, this.onToggle, this);
            this.onToggle(this.toggle);
          }
        };
        _proto.onToggle = function onToggle(toggle) {
          toggle.target.active = !toggle.isChecked;
          toggle.checkMark.node.active = toggle.isChecked;
        };
        return ToggleUtil;
      }(Component), _descriptor = _applyDecoratedDescriptor(_class2.prototype, "toggle", [property], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _class2)) || _class) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/toppoker.js", ['./cjs-loader.mjs'], function (exports, module) {
  var loader;
  return {
    setters: [function (module) {
      loader = module.default;
    }],
    execute: function () {
      exports('default', void 0);
      var _cjsExports;
      var __cjsMetaURL = exports('__cjsMetaURL', module.meta.url);
      loader.define(__cjsMetaURL, function (exports$1, require, module, __filename, __dirname) {
        // #region ORIGINAL CODE

        (function () {
          /**
           * Expose `Emitter`.
           */

          // module.exports = Emitter;

          /**
           * Initialize a new `Emitter`.
           *
           * @api public
           */

          function Emitter(obj) {
            if (obj) return mixin(obj);
          }

          /**
           * Mixin the emitter properties.
           *
           * @param {Object} obj
           * @return {Object}
           * @api private
           */

          function mixin(obj) {
            for (var key in Emitter.prototype) {
              obj[key] = Emitter.prototype[key];
            }
            return obj;
          }

          /**
           * Listen on the given `event` with `fn`.
           *
           * @param {String} event
           * @param {Function} fn
           * @return {Emitter}
           * @api public
           */

          Emitter.prototype.on = Emitter.prototype.addEventListener = function (event, fn) {
            this._callbacks = this._callbacks || {};
            (this._callbacks[event] = this._callbacks[event] || []).push(fn);
            return this;
          };

          /**
           * Adds an `event` listener that will be invoked a single
           * time then automatically removed.
           *
           * @param {String} event
           * @param {Function} fn
           * @return {Emitter}
           * @api public
           */

          Emitter.prototype.once = function (event, fn) {
            var self = this;
            this._callbacks = this._callbacks || {};
            function on() {
              self.off(event, on);
              fn.apply(this, arguments);
            }
            on.fn = fn;
            this.on(event, on);
            return this;
          };

          /**
           * Remove the given callback for `event` or all
           * registered callbacks.
           *
           * @param {String} event
           * @param {Function} fn
           * @return {Emitter}
           * @api public
           */

          Emitter.prototype.off = Emitter.prototype.removeListener = Emitter.prototype.removeAllListeners = Emitter.prototype.removeEventListener = function (event, fn) {
            this._callbacks = this._callbacks || {};

            // all
            if (0 == arguments.length) {
              this._callbacks = {};
              return this;
            }

            // specific event
            var callbacks = this._callbacks[event];
            if (!callbacks) return this;

            // remove all handlers
            if (1 == arguments.length) {
              delete this._callbacks[event];
              return this;
            }

            // remove specific handler
            var cb;
            for (var i = 0; i < callbacks.length; i++) {
              cb = callbacks[i];
              if (cb === fn || cb.fn === fn) {
                callbacks.splice(i, 1);
                break;
              }
            }
            return this;
          };

          /**
           * Emit `event` with the given args.
           *
           * @param {String} event
           * @param {Mixed} ...
           * @return {Emitter}
           */

          Emitter.prototype.emit = function (event) {
            this._callbacks = this._callbacks || {};
            var args = [].slice.call(arguments, 1),
              callbacks = this._callbacks[event];
            if (callbacks) {
              callbacks = callbacks.slice(0);
              for (var i = 0, len = callbacks.length; i < len; ++i) {
                callbacks[i].apply(this, args);
              }
            }
            return this;
          };
          /**
           * clear all of callbacks.
           *
           * @api public
           */

          Emitter.prototype.clear = function () {
            this._callbacks = {};
          };
          /**
           * Return array of callbacks for `event`.
           *
           * @param {String} event
           * @return {Array}
           * @api public
           */

          Emitter.prototype.listeners = function (event) {
            this._callbacks = this._callbacks || {};
            return this._callbacks[event] || [];
          };

          /**
           * Check if this emitter has `event` handlers.
           *
           * @param {String} event
           * @return {Boolean}
           * @api public
           */

          Emitter.prototype.hasListeners = function (event) {
            return !!this.listeners(event).length;
          };
          if (typeof window != "undefined") {
            window.EventEmitter = Emitter;
          }
        })();
        (function (exports, ByteArray, global) {
          var Protocol = exports;
          var PKG_HEAD_BYTES = 4;
          var MSG_FLAG_BYTES = 1;
          var MSG_ROUTE_CODE_BYTES = 2;
          var MSG_ROUTE_LEN_BYTES = 1;
          var MSG_ROUTE_CODE_MAX = 0xffff;
          var MSG_COMPRESS_ROUTE_MASK = 0x1;
          var MSG_TYPE_MASK = 0x7;
          var Package = Protocol.Package = {};
          var Message = Protocol.Message = {};
          Package.TYPE_HANDSHAKE = 1;
          Package.TYPE_HANDSHAKE_ACK = 2;
          Package.TYPE_HEARTBEAT = 3;
          Package.TYPE_DATA = 4;
          Package.TYPE_KICK = 5;
          Message.TYPE_REQUEST = 0;
          Message.TYPE_NOTIFY = 1;
          Message.TYPE_RESPONSE = 2;
          Message.TYPE_PUSH = 3;

          /**
           * pomele client encode
           * id message id;
           * route message route
           * msg message body
           * socketio current support string
           */
          Protocol.strencode = function (str) {
            var byteArray = new ByteArray(str.length * 3);
            var offset = 0;
            for (var i = 0; i < str.length; i++) {
              var charCode = str.charCodeAt(i);
              var codes = null;
              if (charCode <= 0x7f) {
                codes = [charCode];
              } else if (charCode <= 0x7ff) {
                codes = [0xc0 | charCode >> 6, 0x80 | charCode & 0x3f];
              } else {
                codes = [0xe0 | charCode >> 12, 0x80 | (charCode & 0xfc0) >> 6, 0x80 | charCode & 0x3f];
              }
              for (var j = 0; j < codes.length; j++) {
                byteArray[offset] = codes[j];
                ++offset;
              }
            }
            var _buffer = new ByteArray(offset);
            copyArray(_buffer, 0, byteArray, 0, offset);
            return _buffer;
          };

          /**
           * client decode
           * msg String data
           * return Message Object
           */
          Protocol.strdecode = function (buffer) {
            var bytes = new ByteArray(buffer);
            var array = [];
            var offset = 0;
            var charCode = 0;
            var end = bytes.length;
            while (offset < end) {
              if (bytes[offset] < 128) {
                charCode = bytes[offset];
                offset += 1;
              } else if (bytes[offset] < 224) {
                charCode = ((bytes[offset] & 0x3f) << 6) + (bytes[offset + 1] & 0x3f);
                offset += 2;
              } else {
                charCode = ((bytes[offset] & 0x0f) << 12) + ((bytes[offset + 1] & 0x3f) << 6) + (bytes[offset + 2] & 0x3f);
                offset += 3;
              }
              array.push(charCode);
            }
            return String.fromCharCode.apply(null, array);
          };

          /**
           * Package protocol encode.
           *
           * Toppoker package format:
           * +------+-------------+------------------+
           * | type | body length |       body       |
           * +------+-------------+------------------+
           *
           * Head: 4bytes
           *   0: package type,
           *      1 - handshake,
           *      2 - handshake ack,
           *      3 - heartbeat,
           *      4 - data
           *      5 - kick
           *   1 - 3: big-endian body length
           * Body: body length bytes
           *
           * @param  {Number}    type   package type
           * @param  {ByteArray} body   body content in bytes
           * @return {ByteArray}        new byte array that contains encode result
           */
          Package.encode = function (type, body) {
            var length = body ? body.length : 0;
            var buffer = new ByteArray(PKG_HEAD_BYTES + length);
            var index = 0;
            buffer[index++] = type & 0xff;
            buffer[index++] = length >> 16 & 0xff;
            buffer[index++] = length >> 8 & 0xff;
            buffer[index++] = length & 0xff;
            if (body) {
              copyArray(buffer, index, body, 0, length);
            }
            return buffer;
          };

          /**
           * Package protocol decode.
           * See encode for package format.
           *
           * @param  {ByteArray} buffer byte array containing package content
           * @return {Object}           {type: package type, buffer: body byte array}
           */
          Package.decode = function (buffer) {
            var offset = 0;
            var bytes = new ByteArray(buffer);
            var length = 0;
            var rs = [];
            while (offset < bytes.length) {
              var type = bytes[offset++];
              length = (bytes[offset++] << 16 | bytes[offset++] << 8 | bytes[offset++]) >>> 0;
              var body = length ? new ByteArray(length) : null;
              copyArray(body, 0, bytes, offset, length);
              offset += length;
              rs.push({
                'type': type,
                'body': body
              });
            }
            return rs.length === 1 ? rs[0] : rs;
          };

          /**
           * Message protocol encode.
           *
           * @param  {Number} id            message id
           * @param  {Number} type          message type
           * @param  {Number} compressRoute whether compress route
           * @param  {Number|String} route  route code or route string
           * @param  {Buffer} msg           message body bytes
           * @return {Buffer}               encode result
           */
          Message.encode = function (id, type, compressRoute, route, msg) {
            // caculate message max length
            var idBytes = msgHasId(type) ? caculateMsgIdBytes(id) : 0;
            var msgLen = MSG_FLAG_BYTES + idBytes;
            if (msgHasRoute(type)) {
              if (compressRoute) {
                if (typeof route !== 'number') {
                  throw new Error('error flag for number route!');
                }
                msgLen += MSG_ROUTE_CODE_BYTES;
              } else {
                msgLen += MSG_ROUTE_LEN_BYTES;
                if (route) {
                  route = Protocol.strencode(route);
                  if (route.length > 255) {
                    throw new Error('route maxlength is overflow');
                  }
                  msgLen += route.length;
                }
              }
            }
            if (msg) {
              msgLen += msg.length;
            }
            var buffer = new ByteArray(msgLen);
            var offset = 0;

            // add flag
            offset = encodeMsgFlag(type, compressRoute, buffer, offset);

            // add message id
            if (msgHasId(type)) {
              offset = encodeMsgId(id, buffer, offset);
            }

            // add route
            if (msgHasRoute(type)) {
              offset = encodeMsgRoute(compressRoute, route, buffer, offset);
            }

            // add body
            if (msg) {
              offset = encodeMsgBody(msg, buffer, offset);
            }
            return buffer;
          };

          /**
           * Message protocol decode.
           *
           * @param  {Buffer|Uint8Array} buffer message bytes
           * @return {Object}            message object
           */
          Message.decode = function (buffer) {
            var bytes = new ByteArray(buffer);
            var bytesLen = bytes.length || bytes.byteLength;
            var offset = 0;
            var id = 0;
            var route = null;

            // parse flag
            var flag = bytes[offset++];
            var compressRoute = flag & MSG_COMPRESS_ROUTE_MASK;
            var type = flag >> 1 & MSG_TYPE_MASK;

            // parse id
            if (msgHasId(type)) {
              var m = parseInt(bytes[offset]);
              var i = 0;
              do {
                var m = parseInt(bytes[offset]);
                id = id + (m & 0x7f) * Math.pow(2, 7 * i);
                offset++;
                i++;
              } while (m >= 128);
            }

            // parse route
            if (msgHasRoute(type)) {
              if (compressRoute) {
                route = bytes[offset++] << 8 | bytes[offset++];
              } else {
                var routeLen = bytes[offset++];
                if (routeLen) {
                  route = new ByteArray(routeLen);
                  copyArray(route, 0, bytes, offset, routeLen);
                  route = Protocol.strdecode(route);
                } else {
                  route = '';
                }
                offset += routeLen;
              }
            }

            // parse body
            var bodyLen = bytesLen - offset;
            var body = new ByteArray(bodyLen);
            copyArray(body, 0, bytes, offset, bodyLen);
            return {
              'id': id,
              'type': type,
              'compressRoute': compressRoute,
              'route': route,
              'body': body
            };
          };
          var copyArray = function copyArray(dest, doffset, src, soffset, length) {
            if ('function' === typeof src.copy) {
              // Buffer
              src.copy(dest, doffset, soffset, soffset + length);
            } else {
              // Uint8Array
              for (var index = 0; index < length; index++) {
                dest[doffset++] = src[soffset++];
              }
            }
          };
          var msgHasId = function msgHasId(type) {
            return type === Message.TYPE_REQUEST || type === Message.TYPE_RESPONSE;
          };
          var msgHasRoute = function msgHasRoute(type) {
            return type === Message.TYPE_REQUEST || type === Message.TYPE_NOTIFY || type === Message.TYPE_PUSH;
          };
          var caculateMsgIdBytes = function caculateMsgIdBytes(id) {
            var len = 0;
            do {
              len += 1;
              id >>= 7;
            } while (id > 0);
            return len;
          };
          var encodeMsgFlag = function encodeMsgFlag(type, compressRoute, buffer, offset) {
            if (type !== Message.TYPE_REQUEST && type !== Message.TYPE_NOTIFY && type !== Message.TYPE_RESPONSE && type !== Message.TYPE_PUSH) {
              throw new Error('unkonw message type: ' + type);
            }
            buffer[offset] = type << 1 | (compressRoute ? 1 : 0);
            return offset + MSG_FLAG_BYTES;
          };
          var encodeMsgId = function encodeMsgId(id, buffer, offset) {
            do {
              var tmp = id % 128;
              var next = Math.floor(id / 128);
              if (next !== 0) {
                tmp = tmp + 128;
              }
              buffer[offset++] = tmp;
              id = next;
            } while (id !== 0);
            return offset;
          };
          var encodeMsgRoute = function encodeMsgRoute(compressRoute, route, buffer, offset) {
            if (compressRoute) {
              if (route > MSG_ROUTE_CODE_MAX) {
                throw new Error('route number is overflow');
              }
              buffer[offset++] = route >> 8 & 0xff;
              buffer[offset++] = route & 0xff;
            } else {
              if (route) {
                buffer[offset++] = route.length & 0xff;
                copyArray(buffer, offset, route, 0, route.length);
                offset += route.length;
              } else {
                buffer[offset++] = 0;
              }
            }
            return offset;
          };
          var encodeMsgBody = function encodeMsgBody(msg, buffer, offset) {
            copyArray(buffer, offset, msg, 0, msg.length);
            return offset + msg.length;
          };

          // module.exports = Protocol;
          if (typeof window != "undefined") {
            window.Protocol = Protocol;
          }
        })(typeof window == "undefined" ? module.exports : {}, typeof window == "undefined" ? Buffer : Uint8Array);

        /* ProtocolBuffer client 0.1.0*/

        /**
         * toppoker-protobuf
         */

        /**
         * Protocol buffer root
         * In browser, it will be window.protbuf
         */
        (function (exports, global) {
          var Protobuf = exports;
          Protobuf.init = function (opts) {
            //On the serverside, use serverProtos to encode messages send to client
            Protobuf.encoder.init(opts.encoderProtos);

            //On the serverside, user clientProtos to decode messages receive from clients
            Protobuf.decoder.init(opts.decoderProtos);
          };
          Protobuf.encode = function (key, msg) {
            return Protobuf.encoder.encode(key, msg);
          };
          Protobuf.decode = function (key, msg) {
            return Protobuf.decoder.decode(key, msg);
          };

          // exports to support for components
          // module.exports = Protobuf;
          if (typeof window != "undefined") {
            window.protobuf = Protobuf;
          }
        })(typeof window == "undefined" ? module.exports : {});

        /**
         * constants
         */
        (function (exports, global) {
          var constants = exports.constants = {};
          constants.TYPES = {
            uInt32: 0,
            sInt32: 0,
            int32: 0,
            "double": 1,
            string: 2,
            message: 2,
            "float": 5
          };
        })('undefined' !== typeof protobuf ? protobuf : module.exports);

        /**
         * util module
         */
        (function (exports, global) {
          var Util = exports.util = {};
          Util.isSimpleType = function (type) {
            return type === 'uInt32' || type === 'sInt32' || type === 'int32' || type === 'uInt64' || type === 'sInt64' || type === 'float' || type === 'double';
          };
        })('undefined' !== typeof protobuf ? protobuf : module.exports);

        /**
         * codec module
         */
        (function (exports, global) {
          var Codec = exports.codec = {};
          var buffer = new ArrayBuffer(8);
          var float32Array = new Float32Array(buffer);
          var float64Array = new Float64Array(buffer);
          var uInt8Array = new Uint8Array(buffer);
          Codec.encodeUInt32 = function (n) {
            var n = parseInt(n);
            if (isNaN(n) || n < 0) {
              return null;
            }
            var result = [];
            do {
              var tmp = n % 128;
              var next = Math.floor(n / 128);
              if (next !== 0) {
                tmp = tmp + 128;
              }
              result.push(tmp);
              n = next;
            } while (n !== 0);
            return result;
          };
          Codec.encodeSInt32 = function (n) {
            var n = parseInt(n);
            if (isNaN(n)) {
              return null;
            }
            n = n < 0 ? Math.abs(n) * 2 - 1 : n * 2;
            return Codec.encodeUInt32(n);
          };
          Codec.decodeUInt32 = function (bytes) {
            var n = 0;
            for (var i = 0; i < bytes.length; i++) {
              var m = parseInt(bytes[i]);
              n = n + (m & 0x7f) * Math.pow(2, 7 * i);
              if (m < 128) {
                return n;
              }
            }
            return n;
          };
          Codec.decodeSInt32 = function (bytes) {
            var n = this.decodeUInt32(bytes);
            var flag = n % 2 === 1 ? -1 : 1;
            n = (n % 2 + n) / 2 * flag;
            return n;
          };
          Codec.encodeFloat = function (_float) {
            float32Array[0] = _float;
            return uInt8Array;
          };
          Codec.decodeFloat = function (bytes, offset) {
            if (!bytes || bytes.length < offset + 4) {
              return null;
            }
            for (var i = 0; i < 4; i++) {
              uInt8Array[i] = bytes[offset + i];
            }
            return float32Array[0];
          };
          Codec.encodeDouble = function (_double) {
            float64Array[0] = _double;
            return uInt8Array.subarray(0, 8);
          };
          Codec.decodeDouble = function (bytes, offset) {
            if (!bytes || bytes.length < offset + 8) {
              return null;
            }
            for (var i = 0; i < 8; i++) {
              uInt8Array[i] = bytes[offset + i];
            }
            return float64Array[0];
          };
          Codec.encodeStr = function (bytes, offset, str) {
            for (var i = 0; i < str.length; i++) {
              var code = str.charCodeAt(i);
              var codes = encode2UTF8(code);
              for (var j = 0; j < codes.length; j++) {
                bytes[offset] = codes[j];
                offset++;
              }
            }
            return offset;
          };

          /**
           * Decode string from utf8 bytes
           */
          Codec.decodeStr = function (bytes, offset, length) {
            var array = [];
            var end = offset + length;
            while (offset < end) {
              var code = 0;
              if (bytes[offset] < 128) {
                code = bytes[offset];
                offset += 1;
              } else if (bytes[offset] < 224) {
                code = ((bytes[offset] & 0x3f) << 6) + (bytes[offset + 1] & 0x3f);
                offset += 2;
              } else {
                code = ((bytes[offset] & 0x0f) << 12) + ((bytes[offset + 1] & 0x3f) << 6) + (bytes[offset + 2] & 0x3f);
                offset += 3;
              }
              array.push(code);
            }
            var str = '';
            for (var i = 0; i < array.length;) {
              str += String.fromCharCode.apply(null, array.slice(i, i + 10000));
              i += 10000;
            }
            return str;
          };

          /**
           * Return the byte length of the str use utf8
           */
          Codec.byteLength = function (str) {
            if (typeof str !== 'string') {
              return -1;
            }
            var length = 0;
            for (var i = 0; i < str.length; i++) {
              var code = str.charCodeAt(i);
              length += codeLength(code);
            }
            return length;
          };

          /**
           * Encode a unicode16 char code to utf8 bytes
           */
          function encode2UTF8(charCode) {
            if (charCode <= 0x7f) {
              return [charCode];
            } else if (charCode <= 0x7ff) {
              return [0xc0 | charCode >> 6, 0x80 | charCode & 0x3f];
            } else {
              return [0xe0 | charCode >> 12, 0x80 | (charCode & 0xfc0) >> 6, 0x80 | charCode & 0x3f];
            }
          }
          function codeLength(code) {
            if (code <= 0x7f) {
              return 1;
            } else if (code <= 0x7ff) {
              return 2;
            } else {
              return 3;
            }
          }
        })('undefined' !== typeof protobuf ? protobuf : module.exports);

        /**
         * encoder module
         */
        (function (exports, global) {
          var protobuf = exports;
          var MsgEncoder = exports.encoder = {};
          var codec = protobuf.codec;
          var constant = protobuf.constants;
          var util = protobuf.util;
          MsgEncoder.init = function (protos) {
            this.protos = protos || {};
          };
          MsgEncoder.encode = function (route, msg) {
            //Get protos from protos map use the route as key
            var protos = this.protos[route];

            //Check msg
            if (!checkMsg(msg, protos)) {
              return null;
            }

            //Set the length of the buffer 2 times bigger to prevent overflow
            var length = codec.byteLength(JSON.stringify(msg));

            //Init buffer and offset
            var buffer = new ArrayBuffer(length);
            var uInt8Array = new Uint8Array(buffer);
            var offset = 0;
            if (!!protos) {
              offset = encodeMsg(uInt8Array, offset, protos, msg);
              if (offset > 0) {
                return uInt8Array.subarray(0, offset);
              }
            }
            return null;
          };

          /**
           * Check if the msg follow the defination in the protos
           */
          function checkMsg(msg, protos) {
            if (!protos) {
              return false;
            }
            for (var name in protos) {
              var proto = protos[name];

              //All required element must exist
              switch (proto.option) {
                case 'required':
                  if (typeof msg[name] === 'undefined') {
                    console.warn('no property exist for required! name: %j, proto: %j, msg: %j', name, proto, msg);
                    return false;
                  }
                case 'optional':
                  if (typeof msg[name] !== 'undefined') {
                    var message = protos.__messages[proto.type] || MsgEncoder.protos['message ' + proto.type];
                    if (!!message && !checkMsg(msg[name], message)) {
                      console.warn('inner proto error! name: %j, proto: %j, msg: %j', name, proto, msg);
                      return false;
                    }
                  }
                  break;
                case 'repeated':
                  //Check nest message in repeated elements
                  var message = protos.__messages[proto.type] || MsgEncoder.protos['message ' + proto.type];
                  if (!!msg[name] && !!message) {
                    for (var i = 0; i < msg[name].length; i++) {
                      if (!checkMsg(msg[name][i], message)) {
                        return false;
                      }
                    }
                  }
                  break;
              }
            }
            return true;
          }
          function encodeMsg(buffer, offset, protos, msg) {
            for (var name in msg) {
              if (!!protos[name]) {
                var proto = protos[name];
                switch (proto.option) {
                  case 'required':
                  case 'optional':
                    offset = writeBytes(buffer, offset, encodeTag(proto.type, proto.tag));
                    offset = encodeProp(msg[name], proto.type, offset, buffer, protos);
                    break;
                  case 'repeated':
                    if (msg[name].length > 0) {
                      offset = encodeArray(msg[name], proto, offset, buffer, protos);
                    }
                    break;
                }
              }
            }
            return offset;
          }
          function encodeProp(value, type, offset, buffer, protos) {
            switch (type) {
              case 'uInt32':
                offset = writeBytes(buffer, offset, codec.encodeUInt32(value));
                break;
              case 'int32':
              case 'sInt32':
                offset = writeBytes(buffer, offset, codec.encodeSInt32(value));
                break;
              case 'float':
                writeBytes(buffer, offset, codec.encodeFloat(value));
                offset += 4;
                break;
              case 'double':
                writeBytes(buffer, offset, codec.encodeDouble(value));
                offset += 8;
                break;
              case 'string':
                var length = codec.byteLength(value);

                //Encode length
                offset = writeBytes(buffer, offset, codec.encodeUInt32(length));
                //write string
                codec.encodeStr(buffer, offset, value);
                offset += length;
                break;
              default:
                var message = protos.__messages[type] || MsgEncoder.protos['message ' + type];
                if (!!message) {
                  //Use a tmp buffer to build an internal msg
                  var tmpBuffer = new ArrayBuffer(codec.byteLength(JSON.stringify(value)) * 2);
                  var length = 0;
                  length = encodeMsg(tmpBuffer, length, message, value);
                  //Encode length
                  offset = writeBytes(buffer, offset, codec.encodeUInt32(length));
                  //contact the object
                  for (var i = 0; i < length; i++) {
                    buffer[offset] = tmpBuffer[i];
                    offset++;
                  }
                }
                break;
            }
            return offset;
          }

          /**
           * Encode reapeated properties, simple msg and object are decode differented
           */
          function encodeArray(array, proto, offset, buffer, protos) {
            var i = 0;
            if (util.isSimpleType(proto.type)) {
              offset = writeBytes(buffer, offset, encodeTag(proto.type, proto.tag));
              offset = writeBytes(buffer, offset, codec.encodeUInt32(array.length));
              for (i = 0; i < array.length; i++) {
                offset = encodeProp(array[i], proto.type, offset, buffer);
              }
            } else {
              for (i = 0; i < array.length; i++) {
                offset = writeBytes(buffer, offset, encodeTag(proto.type, proto.tag));
                offset = encodeProp(array[i], proto.type, offset, buffer, protos);
              }
            }
            return offset;
          }
          function writeBytes(buffer, offset, bytes) {
            for (var i = 0; i < bytes.length; i++, offset++) {
              buffer[offset] = bytes[i];
            }
            return offset;
          }
          function encodeTag(type, tag) {
            var value = constant.TYPES[type] || 2;
            return codec.encodeUInt32(tag << 3 | value);
          }
        })('undefined' !== typeof protobuf ? protobuf : module.exports);

        /**
         * decoder module
         */
        (function (exports, global) {
          var protobuf = exports;
          var MsgDecoder = exports.decoder = {};
          var codec = protobuf.codec;
          var util = protobuf.util;
          var buffer;
          var offset = 0;
          MsgDecoder.init = function (protos) {
            this.protos = protos || {};
          };
          MsgDecoder.setProtos = function (protos) {
            if (!!protos) {
              this.protos = protos;
            }
          };
          MsgDecoder.decode = function (route, buf) {
            var protos = this.protos[route];
            buffer = buf;
            offset = 0;
            if (!!protos) {
              return decodeMsg({}, protos, buffer.length);
            }
            return null;
          };
          function decodeMsg(msg, protos, length) {
            while (offset < length) {
              var head = getHead();
              var type = head.type;
              var tag = head.tag;
              var name = protos.__tags[tag];
              switch (protos[name].option) {
                case 'optional':
                case 'required':
                  msg[name] = decodeProp(protos[name].type, protos);
                  break;
                case 'repeated':
                  if (!msg[name]) {
                    msg[name] = [];
                  }
                  decodeArray(msg[name], protos[name].type, protos);
                  break;
              }
            }
            return msg;
          }
          /**
           * Get property head from protobuf
           */
          function getHead() {
            var tag = codec.decodeUInt32(getBytes());
            return {
              type: tag & 0x7,
              tag: tag >> 3
            };
          }
          function decodeProp(type, protos) {
            switch (type) {
              case 'uInt32':
                return codec.decodeUInt32(getBytes());
              case 'int32':
              case 'sInt32':
                return codec.decodeSInt32(getBytes());
              case 'float':
                var _float2 = codec.decodeFloat(buffer, offset);
                offset += 4;
                return _float2;
              case 'double':
                var _double2 = codec.decodeDouble(buffer, offset);
                offset += 8;
                return _double2;
              case 'string':
                var length = codec.decodeUInt32(getBytes());
                var str = codec.decodeStr(buffer, offset, length);
                offset += length;
                return str;
              default:
                var message = protos && (protos.__messages[type] || MsgDecoder.protos['message ' + type]);
                if (!!message) {
                  var length = codec.decodeUInt32(getBytes());
                  var msg = {};
                  decodeMsg(msg, message, offset + length);
                  return msg;
                }
                break;
            }
          }
          function decodeArray(array, type, protos) {
            if (util.isSimpleType(type)) {
              var length = codec.decodeUInt32(getBytes());
              for (var i = 0; i < length; i++) {
                array.push(decodeProp(type));
              }
            } else {
              array.push(decodeProp(type, protos));
            }
          }
          function getBytes(flag) {
            var bytes = [];
            var pos = offset;
            flag = flag || false;
            var b;
            do {
              b = buffer[pos];
              bytes.push(b);
              pos++;
            } while (b >= 128);
            if (!flag) {
              offset = pos;
            }
            return bytes;
          }
        })('undefined' !== typeof protobuf ? protobuf : module.exports);
        var Toppoker = function Toppoker() {
          var JS_WS_CLIENT_TYPE = 'js-websocket';
          var JS_WS_CLIENT_VERSION = '0.0.1';
          var Protocol = window.Protocol;
          var protobuf = window.protobuf;
          var decodeIO_protobuf = window.decodeIO_protobuf;
          var decodeIO_encoder = null;
          var decodeIO_decoder = null;
          var Package = Protocol.Package;
          var Message = Protocol.Message;
          var EventEmitter = window.EventEmitter;
          var rsa = window.rsa;
          var disconnectCb = null;
          if (typeof window != "undefined" && typeof sys != 'undefined' && sys.localStorage) {
            window.localStorage = sys.localStorage;
          }
          var RES_OK = 200;
          var RES_OLD_CLIENT = 501;
          if (typeof Object.create !== 'function') {
            Object.create = function (o) {
              function F() {}
              F.prototype = o;
              return new F();
            };
          }
          var toppoker = Object.create(EventEmitter.prototype); // object extend from object
          var socket = null;
          var reqId = 0;
          var callbacks = {};
          var handlers = {};
          //Map from request id to route
          var routeMap = {};
          var dict = {}; // route string to code
          var abbrs = {}; // code to route string
          var serverProtos = {};
          var clientProtos = {};
          var protoVersion = 0;
          var heartbeatInterval = 0;
          var heartbeatTimeout = 0;
          var nextHeartbeatTimeout = 0;
          var gapThreshold = 100; // heartbeat gap threashold
          var heartbeatId = null;
          var heartbeatTimeoutId = null;
          var handshakeCallback = null;
          var decode = null;
          var encode = null;
          var reconnect = false;
          var reconncetTimer = null;
          var reconnectUrl = null;
          var reconnectAttempts = 0;
          var reconnectionDelay = 5000;
          var DEFAULT_MAX_RECONNECT_ATTEMPTS = 10;
          var useCrypto;
          var handshakeBuffer = {
            'sys': {
              type: JS_WS_CLIENT_TYPE,
              version: JS_WS_CLIENT_VERSION,
              rsa: {}
            },
            'user': {}
          };
          var initCallback = null;
          toppoker.init = function (params, cb) {
            initCallback = cb;
            var host = params.host;
            var port = params.port;
            var type = params.type || 'ws';
            encode = params.encode || defaultEncode;
            decode = params.decode || defaultDecode;

            // var url = 'wss://' + host;
            var url = type + '://' + host;
            if (port) {
              // url +=  ':' + port;
              url += '/' + port;
            }
            handshakeBuffer.user = params.user;
            if (params.encrypt) {
              useCrypto = true;
              rsa.generate(1024, "10001");
              var data = {
                rsa_n: rsa.n.toString(16),
                rsa_e: rsa.e
              };
              handshakeBuffer.sys.rsa = data;
            }
            handshakeCallback = params.handshakeCallback;
            connect(params, url);
          };
          var defaultDecode = toppoker.decode = function (data) {
            try {
              //probuff decode
              var msg = Message.decode(data);
              if (msg.id > 0) {
                msg.route = routeMap[msg.id];
                delete routeMap[msg.id];
                if (!msg.route) {
                  return;
                }
              }
              msg.body = deCompose(msg);
            } catch (e) {
              console.error("[Toppoker] CATCH >> ERROR", e, msg);
            } finally {
              return msg;
            }
          };
          var defaultEncode = toppoker.encode = function (reqId, route, msg) {
            var type = reqId ? Message.TYPE_REQUEST : Message.TYPE_NOTIFY;

            //compress message by protobuf
            if (protobuf && clientProtos[route]) {
              msg = protobuf.encode(route, msg);
            } else if (decodeIO_encoder && decodeIO_encoder.lookup(route)) {
              var Builder = decodeIO_encoder.build(route);
              msg = new Builder(msg).encodeNB();
            } else {
              msg = Protocol.strencode(JSON.stringify(msg));
            }
            var compressRoute = 0;
            if (dict && dict[route]) {
              route = dict[route];
              compressRoute = 1;
            }
            return Message.encode(reqId, type, compressRoute, route, msg);
          };
          var connect = function connect(params, url, cb) {
            console.log('connect to ' + url);
            var params = params || {};
            var maxReconnectAttempts = params.maxReconnectAttempts || DEFAULT_MAX_RECONNECT_ATTEMPTS;
            reconnectUrl = url;
            //Add protobuf version
            if (window.localStorage && window.localStorage.getItem('protos') && protoVersion === 0) {
              var protos = JSON.parse(window.localStorage.getItem('protos'));
              protoVersion = protos.version || 0;
              serverProtos = protos.server || {};
              clientProtos = protos.client || {};
              if (!!protobuf) {
                protobuf.init({
                  encoderProtos: clientProtos,
                  decoderProtos: serverProtos
                });
              }
              if (!!decodeIO_protobuf) {
                decodeIO_encoder = decodeIO_protobuf.loadJson(clientProtos);
                decodeIO_decoder = decodeIO_protobuf.loadJson(serverProtos);
              }
            }
            //Set protoversion
            handshakeBuffer.sys.protoVersion = protoVersion;
            var onopen = function onopen(event) {
              if (!!reconnect) {
                toppoker.emit('reconnect');
              }
              reset();
              var obj = Package.encode(Package.TYPE_HANDSHAKE, Protocol.strencode(JSON.stringify(handshakeBuffer)));
              send(obj);
            };
            var onmessage = function onmessage(event) {
              processPackage(Package.decode(event.data));
              // new package arrived, update the heartbeat timeout
              if (heartbeatTimeout) {
                nextHeartbeatTimeout = Date.now() + heartbeatTimeout;
              }
            };
            var onerror = function onerror(event) {
              toppoker.emit('io-error', event);
            };
            var onclose = function onclose(event) {
              toppoker.emit('close', event);
              toppoker.emit('disconnect', event);
              if (!!params.reconnect && reconnectAttempts < maxReconnectAttempts) {
                reconnect = true;
                reconnectAttempts++;
                reconncetTimer = setTimeout(function () {
                  connect(params, reconnectUrl);
                }, reconnectionDelay);
                reconnectionDelay *= 2;
              }
              socket = null;
              disconnectCb && disconnectCb();
              disconnectCb = null;
            };
            socket = new WebSocket(url);
            socket.binaryType = 'arraybuffer';
            socket.onopen = onopen;
            socket.onmessage = onmessage;
            socket.onerror = onerror;
            socket.onclose = onclose;
          };
          toppoker.disconnect = function (cb) {
            disconnectCb = cb;
            if (socket) {
              if (socket.disconnect) socket.disconnect();
              if (socket.close) socket.close();
              socket = null;
            }
            if (heartbeatId) {
              clearTimeout(heartbeatId);
              heartbeatId = null;
            }
            if (heartbeatTimeoutId) {
              clearTimeout(heartbeatTimeoutId);
              heartbeatTimeoutId = null;
            }
          };
          var reset = function reset() {
            reconnect = false;
            reconnectionDelay = 1000 * 5;
            reconnectAttempts = 0;
            clearTimeout(reconncetTimer);
          };
          toppoker.request = function (route, msg, cb) {
            if (arguments.length === 2 && typeof msg === 'function') {
              cb = msg;
              msg = {};
            } else {
              msg = msg || {};
            }
            route = route || msg.route;
            if (!route) {
              return;
            }
            reqId++;
            sendMessage(reqId, route, msg);
            callbacks[reqId] = cb;
            routeMap[reqId] = route;
          };
          toppoker.notify = function (route, msg) {
            msg = msg || {};
            sendMessage(0, route, msg);
          };
          var sendMessage = function sendMessage(reqId, route, msg) {
            if (useCrypto) {
              msg = JSON.stringify(msg);
              var sig = rsa.signString(msg, "sha256");
              msg = JSON.parse(msg);
              msg['__crypto__'] = sig;
            }
            if (encode) {
              msg = encode(reqId, route, msg);
            }
            var packet = Package.encode(Package.TYPE_DATA, msg);
            send(packet);
          };
          var send = function send(packet) {
            var _socket;
            (_socket = socket) == null || _socket.send(packet.buffer);
          };
          var heartbeat = function heartbeat(data) {
            if (!heartbeatInterval) {
              // no heartbeat
              return;
            }
            var obj = Package.encode(Package.TYPE_HEARTBEAT);
            if (heartbeatTimeoutId) {
              clearTimeout(heartbeatTimeoutId);
              heartbeatTimeoutId = null;
            }
            if (heartbeatId) {
              // already in a heartbeat interval
              return;
            }
            heartbeatId = setTimeout(function () {
              heartbeatId = null;
              send(obj);
              nextHeartbeatTimeout = Date.now() + heartbeatTimeout;
              heartbeatTimeoutId = setTimeout(heartbeatTimeoutCb, heartbeatTimeout);
            }, heartbeatInterval);
          };
          var heartbeatTimeoutCb = function heartbeatTimeoutCb() {
            var gap = nextHeartbeatTimeout - Date.now();
            if (gap > gapThreshold) {
              heartbeatTimeoutId = setTimeout(heartbeatTimeoutCb, gap);
            } else {
              toppoker.emit('heartbeat timeout');
              toppoker.disconnect();
            }
          };
          var handshake = function handshake(data) {
            data = JSON.parse(Protocol.strdecode(data));
            if (data.code === RES_OLD_CLIENT) {
              toppoker.emit('error', 'client version not fullfill');
              return;
            }
            if (data.code !== RES_OK) {
              toppoker.emit('error', 'handshake fail');
              return;
            }
            handshakeInit(data);
            var obj = Package.encode(Package.TYPE_HANDSHAKE_ACK);
            send(obj);
            if (initCallback) {
              initCallback(socket);
            }
          };
          var onData = function onData(data) {
            var msg = data;
            if (decode) {
              msg = decode(msg);
            }
            processMessage(toppoker, msg);
          };
          var onKick = function onKick(data) {
            data = JSON.parse(Protocol.strdecode(data));
            toppoker.emit('onKick', data);
          };
          handlers[Package.TYPE_HANDSHAKE] = handshake;
          handlers[Package.TYPE_HEARTBEAT] = heartbeat;
          handlers[Package.TYPE_DATA] = onData;
          handlers[Package.TYPE_KICK] = onKick;
          var processPackage = function processPackage(msgs) {
            if (Array.isArray(msgs)) {
              for (var i = 0; i < msgs.length; i++) {
                var msg = msgs[i];
                handlers[msg.type](msg.body);
              }
            } else {
              handlers[msgs.type](msgs.body);
            }
          };
          var processMessage = function processMessage(toppoker, msg) {
            if (!msg.id) {
              // server push message
              toppoker.emit(msg.route, msg.body);
              return;
            }

            //if have a id then find the callback function with the request
            var cb = callbacks[msg.id];
            delete callbacks[msg.id];
            if (typeof cb !== 'function') {
              return;
            }
            cb(msg.body);
            return;
          };
          var deCompose = function deCompose(msg) {
            var route = msg.route;

            //Decompose route from dict
            if (msg.compressRoute) {
              if (!abbrs[route]) {
                return {};
              }
              route = msg.route = abbrs[route];
            }
            if (protobuf && serverProtos[route]) {
              return protobuf.decode(route, msg.body);
            } else if (decodeIO_decoder && decodeIO_decoder.lookup(route)) {
              return decodeIO_decoder.build(route).decode(msg.body);
            } else {
              return JSON.parse(Protocol.strdecode(msg.body));
            }
          };
          var handshakeInit = function handshakeInit(data) {
            if (data.sys && data.sys.heartbeat) {
              heartbeatInterval = data.sys.heartbeat * 1000; // heartbeat interval
              heartbeatTimeout = heartbeatInterval * 2; // max heartbeat timeout
            } else {
              heartbeatInterval = 0;
              heartbeatTimeout = 0;
            }
            initData(data);
            if (typeof handshakeCallback === 'function') {
              handshakeCallback(data.user);
            }
          };

          //Initilize data used in toppoker client
          var initData = function initData(data) {
            if (!data || !data.sys) {
              return;
            }
            dict = data.sys.dict;
            var protos = data.sys.protos;

            //Init compress dict
            if (dict) {
              dict = dict;
              abbrs = {};
              for (var route in dict) {
                abbrs[dict[route]] = route;
              }
            }

            //Init protobuf protos
            if (protos) {
              protoVersion = protos.version || 0;
              serverProtos = protos.server || {};
              clientProtos = protos.client || {};

              //Save protobuf protos to localStorage
              window.localStorage.setItem('protos', JSON.stringify(protos));
              if (!!protobuf) {
                protobuf.init({
                  encoderProtos: protos.client,
                  decoderProtos: protos.server
                });
              }
              if (!!decodeIO_protobuf) {
                decodeIO_encoder = decodeIO_protobuf.loadJson(clientProtos);
                decodeIO_decoder = decodeIO_protobuf.loadJson(serverProtos);
              }
            }
          };
          return toppoker;
        };

        //
        var toppoker = new Toppoker();
        module.exports = toppoker;

        // #endregion ORIGINAL CODE

        _cjsExports = exports('default', module.exports);
        module.exports.constants;
        module.exports.util;
        module.exports.codec;
        module.exports.encoder;
        module.exports.decoder;
      }, {});
    }
  };
});

System.register("chunks:///_virtual/toppoker.mjs_cjs=&original=.js", ['./toppoker.js', './cjs-loader.mjs'], function (exports, module) {
  var __cjsMetaURL, loader;
  return {
    setters: [function (module) {
      __cjsMetaURL = module.__cjsMetaURL;
      var _setter = {};
      _setter.__cjsMetaURL = module.__cjsMetaURL;
      _setter.default = module.default;
      exports(_setter);
    }, function (module) {
      loader = module.default;
    }],
    execute: function () {
      // I am the facade module who provides access to the CommonJS module './toppoker.js'~
      if (!__cjsMetaURL) {
        loader.throwInvalidWrapper('./toppoker.js', module.meta.url);
      }
      loader.require(__cjsMetaURL);
    }
  };
});

System.register("chunks:///_virtual/toppoker.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './protocol.ts', './emitter.ts', './protobuf.ts'], function (exports) {
  var _inheritsLoose, _createForOfIteratorHelperLoose, cclegacy, Protocol, Emitter, Protobuf;
  return {
    setters: [function (module) {
      _inheritsLoose = module.inheritsLoose;
      _createForOfIteratorHelperLoose = module.createForOfIteratorHelperLoose;
    }, function (module) {
      cclegacy = module.cclegacy;
    }, function (module) {
      Protocol = module.Protocol;
    }, function (module) {
      Emitter = module.Emitter;
    }, function (module) {
      Protobuf = module.Protobuf;
    }],
    execute: function () {
      cclegacy._RF.push({}, "2f350NKvd5NmoC2cZKW5xDr", "toppoker", undefined);
      var decodeIO_protobuf = window.decodeIO_protobuf;
      var rsa = window.rsa;
      var Toppoker = exports('Toppoker', /*#__PURE__*/function (_Emitter) {
        _inheritsLoose(Toppoker, _Emitter);
        function Toppoker() {
          var _this;
          _this = _Emitter.call(this) || this;
          _this.socket = null;
          _this.reqId = 0;
          _this.callbacks = {};
          _this.routeMap = {};
          _this.dict = {};
          _this.abbrs = {};
          _this.serverProtos = {};
          _this.clientProtos = {};
          _this.protoVersion = 0;
          _this.heartbeatInterval = 0;
          _this.heartbeatTimeout = 0;
          _this.nextHeartbeatTimeout = 0;
          _this.heartbeatId = null;
          _this.heartbeatTimeoutId = null;
          _this.gapThreshold = 100;
          _this.handshakeCallback = void 0;
          _this.encode = void 0;
          _this.decode = void 0;
          _this.reconnect = false;
          _this.reconnectTimer = null;
          _this.reconnectUrl = null;
          _this.reconnectAttempts = 0;
          _this.reconnectionDelay = 5000;
          _this.disconnectCb = null;
          _this.initCallback = void 0;
          _this.useCrypto = false;
          _this.decodeIO_encoder = null;
          _this.decodeIO_decoder = null;
          _this.handshakeBuffer = {
            sys: {
              type: Toppoker.JS_WS_CLIENT_TYPE,
              version: Toppoker.JS_WS_CLIENT_VERSION,
              rsa: {}
            },
            user: {}
          };
          return _this;
        }
        var _proto = Toppoker.prototype;
        _proto.init = function init(params, cb) {
          this.initCallback = cb;
          var host = params.host,
            port = params.port,
            _params$type = params.type,
            type = _params$type === void 0 ? 'ws' : _params$type;
          this.encode = params.encode || this.defaultEncode.bind(this);
          this.decode = params.decode || this.defaultDecode.bind(this);
          var url = type + "://" + host;
          if (port) url += "/" + port;
          this.handshakeBuffer.user = params.user || {};
          if (params.encrypt) {
            this.useCrypto = true;
            rsa.generate(1024, "10001");
            this.handshakeBuffer.sys.rsa = {
              rsa_n: rsa.n.toString(16),
              rsa_e: rsa.e
            };
          }
          this.handshakeCallback = params.handshakeCallback;
          this.connect(params, url, cb);
        };
        _proto.defaultDecode = function defaultDecode(data) {
          try {
            var _msg = Protocol.Message.decode(data);
            if (_msg.id > 0) {
              _msg.route = this.routeMap[_msg.id];
              delete this.routeMap[_msg.id];
              if (!_msg.route) return;
            }
            _msg.body = this.deCompose(_msg);
            return _msg;
          } catch (e) {
            console.error("[Toppoker] CATCH >> ERROR", e);
            return null;
          }
        };
        _proto.defaultEncode = function defaultEncode(reqId, route, msg) {
          var type = reqId ? Protocol.Message.TYPE_REQUEST : Protocol.Message.TYPE_NOTIFY;
          if (Protobuf && this.clientProtos[route]) {
            msg = Protobuf.encode(route, msg);
          } else if (this.decodeIO_encoder && this.decodeIO_encoder.lookup(route)) {
            var Builder = this.decodeIO_encoder.build(route);
            msg = new Builder(msg).encodeNB();
          } else {
            msg = Protocol.strencode(JSON.stringify(msg));
          }
          var compressRoute = 0;
          if (this.dict && this.dict[route]) {
            route = String(this.dict[route]);
            compressRoute = 1;
          }
          return Protocol.Message.encode(reqId, type, compressRoute, route, msg);
        };
        _proto.connect = function connect(params, url, cb) {
          var _this2 = this;
          console.log('connect to ' + url);
          var maxReconnectAttempts = params.maxReconnectAttempts || Toppoker.DEFAULT_MAX_RECONNECT_ATTEMPTS;
          this.reconnectUrl = url;

          // restore protos from localStorage
          if (window.localStorage && window.localStorage.getItem('protos') && this.protoVersion === 0) {
            var protos = JSON.parse(window.localStorage.getItem('protos'));
            this.protoVersion = protos.version || 0;
            this.serverProtos = protos.server || {};
            this.clientProtos = protos.client || {};
            if (Protobuf) Protobuf.init({
              encoderProtos: this.clientProtos,
              decoderProtos: this.serverProtos
            });
            if (decodeIO_protobuf) {
              this.decodeIO_encoder = decodeIO_protobuf.loadJson(this.clientProtos);
              this.decodeIO_decoder = decodeIO_protobuf.loadJson(this.serverProtos);
            }
          }
          this.handshakeBuffer.sys.protoVersion = this.protoVersion;
          this.socket = new WebSocket(url);
          this.socket.binaryType = 'arraybuffer';
          this.socket.onopen = function () {
            if (_this2.reconnect) _this2.emit('reconnect');
            _this2.reset();
            var obj = Protocol.Package.encode(Protocol.Package.TYPE_HANDSHAKE, Protocol.strencode(JSON.stringify(_this2.handshakeBuffer)));
            _this2.send(obj);
          };
          this.socket.onmessage = function (event) {
            _this2.processPackage(Protocol.Package.decode(event.data));
            if (_this2.heartbeatTimeout) _this2.nextHeartbeatTimeout = Date.now() + _this2.heartbeatTimeout;
          };
          this.socket.onerror = function (event) {
            return _this2.emit('io-error', event);
          };
          this.socket.onclose = function (event) {
            _this2.emit('close', event);
            _this2.emit('disconnect', event);
            if (params.reconnect && _this2.reconnectAttempts < maxReconnectAttempts) {
              _this2.reconnect = true;
              _this2.reconnectAttempts++;
              _this2.reconnectTimer = setTimeout(function () {
                _this2.connect(params, _this2.reconnectUrl, cb);
              }, _this2.reconnectionDelay);
              _this2.reconnectionDelay *= 2;
            }
            _this2.socket = null;
            if (_this2.disconnectCb) _this2.disconnectCb();
            _this2.disconnectCb = null;
          };
        };
        _proto.disconnect = function disconnect(cb) {
          this.disconnectCb = cb || null;
          if (this.socket) {
            this.socket.close();
            this.socket = null;
          }
          if (this.heartbeatId) clearTimeout(this.heartbeatId);
          if (this.heartbeatTimeoutId) clearTimeout(this.heartbeatTimeoutId);
        };
        _proto.reset = function reset() {
          this.reconnect = false;
          this.reconnectionDelay = 5000;
          this.reconnectAttempts = 0;
          clearTimeout(this.reconnectTimer);
        };
        _proto.request = function request(route, msg, cb) {
          if (typeof msg === 'function') {
            cb = msg;
            msg = {};
          } else {
            msg = msg || {};
          }
          if (!route) return;
          this.reqId++;
          this.sendMessage(this.reqId, route, msg);
          if (cb) this.callbacks[this.reqId] = cb;
          this.routeMap[this.reqId] = route;
        };
        _proto.notify = function notify(route, msg) {
          this.sendMessage(0, route, msg || {});
        };
        _proto.sendMessage = function sendMessage(reqId, route, msg) {
          if (this.useCrypto) {
            var raw = JSON.stringify(msg);
            var sig = rsa.signString(raw, "sha256");
            msg = JSON.parse(raw);
            msg['__crypto__'] = sig;
          }
          if (this.encode) msg = this.encode(reqId, route, msg);
          var packet = Protocol.Package.encode(Protocol.Package.TYPE_DATA, msg);
          this.send(packet);
        };
        _proto.send = function send(packet) {
          var _this$socket;
          (_this$socket = this.socket) == null || _this$socket.send(packet.buffer);
        };
        _proto.processPackage = function processPackage(msgs) {
          if (Array.isArray(msgs)) {
            for (var _iterator = _createForOfIteratorHelperLoose(msgs), _step; !(_step = _iterator()).done;) {
              var _msg2 = _step.value;
              this.handlePackage(_msg2);
            }
          } else {
            this.handlePackage(msgs);
          }
        };
        _proto.handlePackage = function handlePackage(msg) {
          switch (msg.type) {
            case Protocol.Package.TYPE_HANDSHAKE:
              this.handshake(msg.body);
              break;
            case Protocol.Package.TYPE_HEARTBEAT:
              this.heartbeat();
              break;
            case Protocol.Package.TYPE_DATA:
              this.onData(msg.body);
              break;
            case Protocol.Package.TYPE_KICK:
              this.onKick(msg.body);
              break;
          }
        };
        _proto.handshake = function handshake(data) {
          var parsed = JSON.parse(Protocol.strdecode(data));
          if (parsed.code === Toppoker.RES_OLD_CLIENT) {
            this.emit('error', 'client version not fullfill');
            return;
          }
          if (parsed.code !== Toppoker.RES_OK) {
            this.emit('error', 'handshake fail');
            return;
          }
          this.handshakeInit(parsed);
          var obj = Protocol.Package.encode(Protocol.Package.TYPE_HANDSHAKE_ACK);
          this.send(obj);
          if (this.initCallback && this.socket) this.initCallback(this.socket);
        };
        _proto.handshakeInit = function handshakeInit(data) {
          var _data$sys;
          if ((_data$sys = data.sys) != null && _data$sys.heartbeat) {
            this.heartbeatInterval = data.sys.heartbeat * 1000;
            this.heartbeatTimeout = this.heartbeatInterval * 2;
          } else {
            this.heartbeatInterval = 0;
            this.heartbeatTimeout = 0;
          }
          this.initData(data);
          if (this.handshakeCallback) this.handshakeCallback(data.user);
        };
        _proto.initData = function initData(data) {
          if (!data.sys) return;
          this.dict = data.sys.dict || {};
          this.abbrs = {};
          for (var _route in this.dict) {
            this.abbrs[this.dict[_route]] = _route;
          }
          var protos = data.sys.protos;
          if (protos) {
            this.protoVersion = protos.version || 0;
            this.serverProtos = protos.server || {};
            this.clientProtos = protos.client || {};
            window.localStorage.setItem('protos', JSON.stringify(protos));
            if (Protobuf) Protobuf.init({
              encoderProtos: protos.client,
              decoderProtos: protos.server
            });
            if (decodeIO_protobuf) {
              this.decodeIO_encoder = decodeIO_protobuf.loadJson(this.clientProtos);
              this.decodeIO_decoder = decodeIO_protobuf.loadJson(this.serverProtos);
            }
          }
        };
        _proto.deCompose = function deCompose(msg) {
          var route = msg.route;
          if (msg.compressRoute && this.abbrs[route]) {
            route = msg.route = this.abbrs[route];
          }
          if (Protobuf && this.serverProtos[route]) {
            return Protobuf.decode(route, msg.body);
          } else if (this.decodeIO_decoder && this.decodeIO_decoder.lookup(route)) {
            return this.decodeIO_decoder.build(route).decode(msg.body);
          } else {
            return JSON.parse(Protocol.strdecode(msg.body));
          }
        };
        _proto.heartbeat = function heartbeat() {
          var _this3 = this;
          if (!this.heartbeatInterval) return;
          var obj = Protocol.Package.encode(Protocol.Package.TYPE_HEARTBEAT);
          if (this.heartbeatTimeoutId) clearTimeout(this.heartbeatTimeoutId);
          if (this.heartbeatId) return;
          this.heartbeatId = setTimeout(function () {
            _this3.heartbeatId = null;
            _this3.send(obj);
            _this3.nextHeartbeatTimeout = Date.now() + _this3.heartbeatTimeout;
            _this3.heartbeatTimeoutId = setTimeout(function () {
              return _this3.heartbeatTimeoutCb();
            }, _this3.heartbeatTimeout);
          }, this.heartbeatInterval);
        };
        _proto.heartbeatTimeoutCb = function heartbeatTimeoutCb() {
          var _this4 = this;
          var gap = this.nextHeartbeatTimeout - Date.now();
          if (gap > this.gapThreshold) {
            this.heartbeatTimeoutId = setTimeout(function () {
              return _this4.heartbeatTimeoutCb();
            }, gap);
          } else {
            this.emit('heartbeat timeout');
            this.disconnect();
          }
        };
        _proto.onData = function onData(data) {
          var msg = this.decode ? this.decode(data) : data;
          if (!msg) return;
          if (!msg.id) {
            this.emit(msg.route, msg.body);
            return;
          }
          var cb = this.callbacks[msg.id];
          delete this.callbacks[msg.id];
          if (typeof cb === 'function') cb(msg.body);
        };
        _proto.onKick = function onKick(data) {
          var parsed = JSON.parse(Protocol.strdecode(data));
          this.emit('onKick', parsed);
        };
        return Toppoker;
      }(Emitter));
      Toppoker.JS_WS_CLIENT_TYPE = 'js-websocket';
      Toppoker.JS_WS_CLIENT_VERSION = '0.0.1';
      Toppoker.RES_OK = 200;
      Toppoker.RES_OLD_CLIENT = 501;
      Toppoker.DEFAULT_MAX_RECONNECT_ATTEMPTS = 10;
      var toppoker = exports('toppoker', new Toppoker());
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/TSngTournament.ts", ['cc', './EnumUtils.ts'], function (exports) {
  var cclegacy, pEnumUtils;
  return {
    setters: [function (module) {
      cclegacy = module.cclegacy;
    }, function (module) {
      pEnumUtils = module.pEnumUtils;
    }],
    execute: function () {
      exports('TSngTournament', void 0);
      cclegacy._RF.push({}, "68e0biPyetLBJa0bCspe9E7", "TSngTournament", undefined);
      var TSngTournament;
      (function (_TSngTournament) {
        var _types = ['3_PLAYERS', '5_PLAYERS', '9_PLAYERS'];
        var qType = _TSngTournament.qType = pEnumUtils.extractor('NSngTourCMD.Type', _types);
        var _levels = ['TEST', 'BEGINNER', 'INTERMEDIATE', 'ADVANCED', 'PRO'];
        var qLevel = _TSngTournament.qLevel = pEnumUtils.extractor('NSngTourCMD.Level', _levels);
        var _pTourStatus = ['WATITING', 'READY', 'IN_PROGRESS', 'ENDED'];
        var qTourStatus = _TSngTournament.qTourStatus = pEnumUtils.extractor('NSngTourCMD.TourStatus', _pTourStatus);
        var qRoomStatus = _TSngTournament.qRoomStatus = pEnumUtils.extractor('NSngTourCMD.TourStatus', _pTourStatus);
        var _pPlayerStatus = ['ACTIVE', 'ELIMINATED'];
        var qPlayerStatus = _TSngTournament.qPlayerStatus = pEnumUtils.extractor('NSngTourCMD.PlayerStatus', _pPlayerStatus);
        var _pGameSatus = ['STARTING', "COMPLETED"];
        var qGameStatus = _TSngTournament.qGameStatus = pEnumUtils.extractor('NSngTourCMD.GameStatus', _pGameSatus);
      })(TSngTournament || (TSngTournament = exports('TSngTournament', {})));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/TutorialStep.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIFlippingObject.ts', './TutorialTween.ts', './UIGamePlayTutorial.ts', './LanguageManager.ts', './UIController.ts', './Enums.ts'], function (exports) {
  var _applyDecoratedDescriptor, _initializerDefineProperty, _inheritsLoose, _assertThisInitialized, _createClass, cclegacy, _decorator, CCString, CCInteger, RichText, Node, Component, UIFlippingObject, TutorialTween, UIGamePlayTutorial, LanguageMananger, UIController, UIType;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _initializerDefineProperty = module.initializerDefineProperty;
      _inheritsLoose = module.inheritsLoose;
      _assertThisInitialized = module.assertThisInitialized;
      _createClass = module.createClass;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      CCString = module.CCString;
      CCInteger = module.CCInteger;
      RichText = module.RichText;
      Node = module.Node;
      Component = module.Component;
    }, function (module) {
      UIFlippingObject = module.default;
    }, function (module) {
      TutorialTween = module.TutorialTween;
    }, function (module) {
      UIGamePlayTutorial = module.default;
    }, function (module) {
      LanguageMananger = module.LanguageMananger;
    }, function (module) {
      UIController = module.UIController;
    }, function (module) {
      UIType = module.UIType;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _class, _class2, _descriptor, _descriptor2, _descriptor3, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _dec11, _dec12, _dec13, _dec14, _class4, _class5, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9, _descriptor10, _descriptor11, _descriptor12;
      cclegacy._RF.push({}, "d98f00G9nJEmbxAoTqY3OaN", "TutorialStep", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var CardTutorialConfig = (_dec = ccclass('CardTutorialConfig'), _dec2 = property({
        type: UIFlippingObject
      }), _dec3 = property(CCString), _dec4 = property(CCInteger), _dec(_class = (_class2 = function CardTutorialConfig() {
        _initializerDefineProperty(this, "flipCard", _descriptor, this);
        _initializerDefineProperty(this, "card", _descriptor2, this);
        _initializerDefineProperty(this, "stepOpen", _descriptor3, this);
      }, (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "flipCard", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "card", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return '';
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "stepOpen", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return 1;
        }
      })), _class2)) || _class);
      var TutorialStep = exports('TutorialStep', (_dec5 = ccclass('TutorialStep'), _dec6 = property(CCInteger), _dec7 = property({
        type: [CardTutorialConfig],
        visible: function visible() {
          return this.step === 2;
        }
      }), _dec8 = property({
        type: RichText,
        visible: function visible() {
          return this.step === 2;
        }
      }), _dec9 = property({
        type: CCString,
        visible: function visible() {
          return this.step === 2;
        }
      }), _dec10 = property({
        type: UIGamePlayTutorial,
        visible: function visible() {
          return this.step === 5;
        }
      }), _dec11 = property({
        type: Node,
        visible: function visible() {
          return this.step === 6;
        }
      }), _dec12 = property(Node), _dec13 = property(CCInteger), _dec14 = property(TutorialTween), _dec5(_class4 = (_class5 = /*#__PURE__*/function (_Component) {
        _inheritsLoose(TutorialStep, _Component);
        function TutorialStep() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _Component.call.apply(_Component, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "step", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "flipCards", _descriptor5, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbTalk", _descriptor6, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "talkKeys", _descriptor7, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "uiGamePlayTutorial", _descriptor8, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "popupActionDealer", _descriptor9, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "pointerNode", _descriptor10, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "maxSelfStep", _descriptor11, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "tutorialTweens", _descriptor12, _assertThisInitialized(_this));
          _this._currentStep = 0;
          return _this;
        }
        var _proto = TutorialStep.prototype;
        _proto.onLoad = function onLoad() {};
        _proto.onEnable = function onEnable() {
          this.openStep();
        };
        _proto.openStep = function openStep() {
          var _this2 = this;
          if (this.step === 2) {
            this.flipCards.filter(function (f) {
              return f.stepOpen === _this2._currentStep + 1;
            }).forEach(function (f) {
              f.flipCard.hide();
              f.flipCard.setDown();
              f.flipCard.invoke(f.card);
              var card = f.card;
              f.flipCard.strokeNode && (f.flipCard.strokeNode.active = card && (card.includes('J') || card.includes('T')));
            });
            this.lbTalk && (this.lbTalk.string = LanguageMananger.instance.getString(this.talkKeys[this._currentStep]));
          }
          if (this.step === 6) {
            if (this.currentStep === 1) {
              this.popupActionDealer.active = true;
            }
          }
        };
        _proto.showGift = function showGift() {
          UIController.Instance.open(UIType.GIVE_AWAY, true);
          this.pointerNode && (this.pointerNode.active = false);
        };
        _proto.onDisable = function onDisable() {
          this._currentStep = 0;
        };
        _proto.nextStep = function nextStep() {
          var _this3 = this;
          this._currentStep++;
          if (this.step !== 5) {
            if (this._currentStep >= this.maxSelfStep) {
              return new Promise(function (rs) {
                if (_this3.tutorialTweens.length > 0) {
                  Promise.all(_this3.tutorialTweens.map(function (tw) {
                    return tw.hide();
                  })).then(function (_rs) {
                    rs(true);
                  });
                } else rs(true);
              });
            }
            this.openStep();
            return new Promise(function (rs) {
              return rs(false);
            });
          } else {
            return new Promise(function (rs) {
              _this3.uiGamePlayTutorial.nextStep().then(function () {
                rs(_this3._currentStep >= _this3.maxSelfStep);
              });
            });
          }
        };
        _createClass(TutorialStep, [{
          key: "currentStep",
          get: function get() {
            return this._currentStep;
          }
        }]);
        return TutorialStep;
      }(Component), (_descriptor4 = _applyDecoratedDescriptor(_class5.prototype, "step", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return 1;
        }
      }), _descriptor5 = _applyDecoratedDescriptor(_class5.prototype, "flipCards", [_dec7], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return [];
        }
      }), _descriptor6 = _applyDecoratedDescriptor(_class5.prototype, "lbTalk", [_dec8], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor7 = _applyDecoratedDescriptor(_class5.prototype, "talkKeys", [_dec9], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return [];
        }
      }), _descriptor8 = _applyDecoratedDescriptor(_class5.prototype, "uiGamePlayTutorial", [_dec10], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor9 = _applyDecoratedDescriptor(_class5.prototype, "popupActionDealer", [_dec11], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor10 = _applyDecoratedDescriptor(_class5.prototype, "pointerNode", [_dec12], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor11 = _applyDecoratedDescriptor(_class5.prototype, "maxSelfStep", [_dec13], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return 1;
        }
      }), _descriptor12 = _applyDecoratedDescriptor(_class5.prototype, "tutorialTweens", [_dec14], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return [];
        }
      })), _class5)) || _class4));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/TutorialTween.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc'], function (exports) {
  var _inheritsLoose, cclegacy, _decorator, TweenSystem, tween, v3, Component;
  return {
    setters: [function (module) {
      _inheritsLoose = module.inheritsLoose;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      TweenSystem = module.TweenSystem;
      tween = module.tween;
      v3 = module.v3;
      Component = module.Component;
    }],
    execute: function () {
      var _dec, _class;
      cclegacy._RF.push({}, "87e1ahVn6RCdJzTL61+k2Rq", "TutorialTween", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var TutorialTween = exports('TutorialTween', (_dec = ccclass('TutorialTween'), _dec(_class = /*#__PURE__*/function (_Component) {
        _inheritsLoose(TutorialTween, _Component);
        function TutorialTween() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _Component.call.apply(_Component, [this].concat(args)) || this;
          _this.defaultPosition = void 0;
          return _this;
        }
        var _proto = TutorialTween.prototype;
        _proto.hide = function hide() {
          var _this2 = this;
          return new Promise(function (rs, rj) {
            TweenSystem.instance.ActionManager.removeAllActionsFromTarget(_this2.node);
            tween(_this2.node).to(0.5, {
              position: _this2.defaultPosition
            }, {
              easing: 'backOut'
            }).call(function () {
              return rs(null);
            }).start();
          });
        };
        _proto.onLoad = function onLoad() {
          this.defaultPosition = this.node.getPosition();
        };
        _proto.onEnable = function onEnable() {
          TweenSystem.instance.ActionManager.removeAllActionsFromTarget(this.node);
          this.node.setPosition(this.defaultPosition);
          tween(this.node).to(0.5, {
            position: v3(0, 0, 0)
          }, {
            easing: 'backIn'
          }).start();
        };
        _proto.onDisable = function onDisable() {
          this.reset();
        };
        _proto.reset = function reset() {
          TweenSystem.instance.ActionManager.removeAllActionsFromTarget(this.node);
          this.node.setPosition(this.defaultPosition);
        };
        return TutorialTween;
      }(Component)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/TypesLanguageManager.ts", ['cc'], function (exports) {
  var cclegacy, Enum;
  return {
    setters: [function (module) {
      cclegacy = module.cclegacy;
      Enum = module.Enum;
    }],
    execute: function () {
      exports({
        TLangToNumber: TLangToNumber,
        _numberToLang: _numberToLang,
        idToBadgeKey: idToBadgeKey,
        isTLang: isTLang,
        numberToBadgeKey: numberToBadgeKey,
        numberToLang: numberToLang,
        numberToTLang: numberToTLang
      });
      cclegacy._RF.push({}, "2b924kwabVCsqI2bc1vNHwO", "TypesLanguageManager", undefined);
      var GroupLangs = exports('GroupLangs', ["base", "badge", "mission"]);
      var ELangGroup = exports('ELangGroup', Enum(GroupLangs.reduce(function (a, k, i) {
        a[k] = i;
        return a;
      }, {})));
      var _badges = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34];
      var _badgesd = [].concat(_badges.map(function (v) {
        return "title_" + v;
      }), _badges.map(function (v) {
        return "description_" + v;
      }));
      function numberToBadgeKey(num) {
        return _badgesd[num];
      }
      function idToBadgeKey(id, type) {
        return type + "_" + id;
      }
      var _missions = [];
      function numberToMissionKey(num) {
        return _missions[num];
      }
      var _languages = ["txt_loading", "txt_sign_apple", "txt_sign_facebook", "txt_sign_email", "txt_sign_guest", "txt_remember_password", "txt_forgot_password", "txt_sale1", "txt_chips", "txt_setting_other1", "txt_setting_other2", "txt_setting_other3", "txt_setting_other4", "txt_setting_other5", "txt_setting_other6", "txt_setting_version", "txt_logout_alert1", "txt_delete_acount1", "txt_delete_acount2", "txt_delete_acount3", "txt_delete_cache", "txt_alert_login_facebook", "txt_dont_have_email", "txt_dont_have_notifi", "txt_ranking_note_1", "txt_ranking_note_2", "txt_ranking_note_3", "txt_ranking_note_4", "txt_ranking_highest", "txt_infor_event", "txt_infor_event_1", "txt_infor_warning_1", "txt_infor_warning_2", "txt_infor_warning_3", "txt_infor_warning_4", "txt_infor_warning_5", "txt_infor_warning_6", "txt_infor_warning_7", "txt_reward_day", "txt_issue_data1", "txt_issue_value1", "txt_issue_data2", "txt_issue_value2", "txt_issue_data3", "txt_issue_value3", "txt_issue_data4", "txt_issue_value4", "txt_issue_data5", "txt_issue_value5", "txt_issue_data6", "txt_issue_value6", "txt_issue_data7", "txt_issue_value7", "txt_feedback_data1", "txt_feedback_data2", "txt_feedback_data3", "txt_feedback_data4", "txt_guide_note", "txt_input_image", "txt_win_rate", "txt_most_win", "txt_max_chip", "txt_max_chip_send", "txt_max_chip_safe", "txt_amout_chip_safe", "txt_rule_mtt_1", "txt_rule_mtt_2", "txt_rule_mtt_3", "txt_rule_mtt_4", "txt_rule_mtt_5", "txt_rule_mtt_6", "txt_rule_mtt_7", "txt_rule_mtt_8", "txt_rule_sng_1", "txt_rule_sng_2", "txt_help_yard1", "txt_help_yard2", "txt_help_yard3", "txt_help_yard4", "txt_help_yard5", "txt_help_yard6", "txt_help_yard7", "txt_help_yard8", "txt_help_yard9", "txt_help_yard10", "txt_sit", "txt_player_now", "txt_wanring1", "txt_point", "txt_income_month", "txt_total_match", "txt_private_room", "txt_find", "txt_fillter", "txt_table", "txt_5_player", "txt_9_player", "txt_popular", "txt_premiumr", "txt_full_player", "txt_empty_room", "txt_auto_buy", "txt_buy_min", "txt_buy_max", "txt_not_use", "txt_opened", "txt_deal_speed_1", "txt_deal_speed_2", "txt_tutorial_1", "txt_tutorial_2", "txt_tutorial_3", "txt_tutorial_4", "txt_tutorial_5", "txt_tutorial_6", "txt_tutorial_7", "txt_tutorial_8", "txt_tutorial_9", "txt_free", "txt_tourn_stages0", "txt_tourn_stages1", "txt_tourn_stages2", "txt_tourn_stages3", "txt_to_day", "txt_start_latter", "txt_tomorrow", "txt_over_day", "txt_day", "txt_hours", "txt_minutes", "txt_seconds", "txt_registered", "txt_waiting_to_start", "txt_unregistered", "txt_see_more", "txt_watch_game", "txt_time", "txt_maybe_rebuy", "txt_maybe_last_addon", "txt_player", "txt_hollow1", "txt_hollow2", "txt_hollow3", "txt_hollow4", "txt_hollow5", "txt_notifi_unregistered", "txt_head_amount_player", "txt_head_amount_player_reward", "txt_head_chip_start", "txt_head_status_rebuy", "txt_head_add_on_last", "txt_head_time_tourn", "txt_head_reward_min", "txt_head_reward_max", "txt_head_player_max", "txt_head_name_tourn", "txt_head_fee_join", "txt_head_name_room", "txt_head_type_room", "txt_head_info_blind", "txt_head_amount_player2", "txt_head_speed_card", "txt_head_password", "txt_head_tichphan", "txt_head_room", "txt_head_balance", "txt_head_day", "txt_head_amount_match", "txt_head_rate_win", "txt_head_yard_normal", "txt_head_id_room_private", "txt_btn_phone_num", "txt_btn_email", "txt_btn_continue", "txt_btn_cancel", "txt_btn_delete", "txt_btn_identify", "txt_btn_confirm_authen_code", "txt_btn_confirm", "txt_btn_confirm1", "txt_btn_confirm2", "txt_btn_confirm3", "txt_btn_login", "txt_btn_logout", "txt_btn_play_1", "txt_btn_play_2", "txt_btn_play_3", "txt_btn_notifi", "txt_btn_ranker", "txt_btn_event", "txt_btn_mission", "txt_btn_more", "txt_btn_shop", "txt_btn_balo", "txt_btn_feedback", "txt_btn_friend", "txt_btn_tutorial", "txt_btn_setting", "txt_btn_game_spin", "txt_btn_game_dice", "txt_btn_game_slot", "txt_btn_buy_now", "txt_btn_on", "txt_btn_off", "txt_btn_change", "txt_btn_email_system", "txt_btn_nationwide", "txt_btn_amount_chip", "txt_btn_level", "txt_btn_achievement", "txt_btn_remind", "txt_btn_reward", "txt_btn_reward_day", "txt_btn_problem_hot", "txt_btn_rule", "txt_btn_hierarchy", "txt_btn_send_now", "txt_btn_exit_tutorial", "txt_btn_unlock", "txt_btn_unflow", "txt_btn_add_friend", "txt_btn_add_friended", "txt_btn_view_profile", "txt_btn_start_tutorial", "txt_btn_profession", "txt_btn_trophy", "txt_btn_stats", "txt_btn_save", "txt_btn_put", "txt_btn_withdraw", "txt_btn_all_tourn", "txt_btn_hot", "txt_btn_is_going_on", "txt_btn_is_over", "txt_btn_my_tourn", "txt_btn_waiting_start", "txt_btn_info_tourn", "txt_btn_info_blind", "txt_btn_back", "txt_btn_setting2", "txt_btn_back2", "txt_btn_back3", "txt_btn_agian_play", "txt_btn_change_room", "txt_btn_emoj", "txt_btn_best_card", "txt_btn_check", "txt_btn_skip_card", "txt_btn_call_bet", "txt_btn_raise_bet", "txt_btn_view_card", "txt_btn_auto_view_card", "txt_btn_auto_raise_bet", "txt_btn_spin_reward", "txt_btn_new_game", "txt_btn_change_derco_table", "txt_btn_change_derco", "txt_btn_history", "txt_btn_comfirm_buy_chip", "txt_btn_comfirm_choose_dealer", "txt_btn_comfirm_buy", "txt_btn_max", "txt_btn_min", "txt_btn_dealer", "txt_btn_title", "txt_btn_back_card", "txt_btn_send", "txt_btn_face_card", "txt_btn_invite_play", "txt_btn_all_in", "txt_btn_3_4_c", "txt_btn_1_2_c", "txt_btn_add_3_time", "txt_btn_donate", "txt_btn_donate_chip", "txt_btn_block_player", "txt_btn_kickout", "txt_btn_bet_on", "txt_btn_texting", "txt_btn_delete_friend", "txt_btn_donate_chip_friend", "txt_btn_out_tutorial", "txt_edb_input_phone_number", "txt_edb_input_gmail", "txt_edb_input_password", "txt_edb_input_password_1", "txt_edb_input_authen_code", "txt_edb_input_password_2", "txt_edb_input_find_friend", "txt_edb_input_1", "txt_edb_input_2", "txt_edb_input_find_room", "txt_edb_chat", "txt_title_choose_cat", "txt_title_alert_login_fb", "txt_title_list_reward", "txt_title_setting", "txt_title_account", "txt_title_language", "txt_title_sound_vibration", "txt_title_setting_other", "txt_title_sound", "txt_title_music", "txt_title_vibration", "txt_title_alert_logout1", "txt_title_alert_delete_acount", "txt_title_privacy_policy", "txt_title_item_email", "txt_title_item_notifi", "txt_title_reward", "txt_title_support", "txt_title_issues_chip", "txt_title_issues_account", "txt_title_login_prize", "txt_title_type_card", "txt_title_rules_game", "txt_title_bet", "txt_title_noun", "txt_title_give_exp", "txt_title_rank_rules", "txt_title_erro_game", "txt_title_comment", "txt_title_guide_newbie", "txt_title_my_friend", "txt_title_add_friend", "txt_title_flow", "txt_title_list_black", "txt_title_profile", "txt_title_new_achievement", "txt_title_new_hand", "txt_title_achievements_stats", "txt_title_change_profile", "txt_title_male", "txt_title_female", "txt_title_fee", "txt_title_fee2", "txt_title_time", "txt_title_rule_mtt", "txt_title_icre_blind", "txt_title_sign_up_success", "txt_title_rule_sng", "txt_title_room_basic", "txt_title_room_middle", "txt_title_room_high_level", "txt_title_room_high_pro", "txt_title_min_max", "txt_title_creat_private_room", "txt_title_creat_private_succsess", "txt_title_creat_private_failed", "txt_title_my_room", "txt_title_face_card", "txt_title_info_history", "txt_title_view_history", "txt_title_friend", "txt_title_card_hand", "txt_title_first_3_card", "txt_title_first_card", "txt_title_turn_card", "txt_title_river_card", "txt_title_invite_play", "txt_title_chongtinhbai", "txt_title_kit_card_1", "txt_title_kit_card_2", "txt_title_kit_card_3", "txt_title_kit_card_4", "txt_title_kit_card_5", "txt_title_kit_card_6", "txt_title_kit_card_7", "txt_title_kit_card_8", "txt_title_kit_card_9", "txt_title_kit_card_10", "txt_title_system_warning", "txt_other_bet", "txt_other_out_room", 'txt_title', 'txt_lose_connection', 'txt_default_error_msg', 'txt_notifi_not_money_buy_in', 'txt_btn_buy_chip', 'txt_btn_stand_up', 'txt_notice_game_is_playing', 'txt_notice_warning_switch_room', 'below-minimum-buyin', 'txt_result_card_1', 'txt_result_card_2', 'txt_result_card_3', 'txt_result_card_4', 'txt_result_card_5', 'txt_result_card_6', 'txt_result_card_7', 'txt_result_card_8', 'txt_result_card_9', 'txt_result_card_10', 'txt_choose_slot_index', 'txt_title_dayly_reward', 'txt_daily_reward_notifi', 'txt_standup_notifi', 'txt_title_getout_table', 'txt_id_table', 'txt_open_chest', 'txt_open', 'txt_chat_small_no_fun', 'txt_chat_call', 'txt_chat_good', 'txt_chat_check_first', 'txt_type_mode', 'error_loading_router', 'txt_standup_content', 'txt_waiting', 'txt_msg_dont_have_enough_money', 'txt_btn_buyin', 'txt_agree', "txt_left_game_interval", "txt_auto_spin", "txt_chance", "txt_open", "txt_warn_use_emoji", "txt_title_spin_win_chance", "txt_spin_win_rule", "rich_txt_spin_win_rule", "txt_lucky_card", "txt_multiply_time", "txt_auto_call", "txt_multipiler", "txt_title_history", "txt_title_friend_request", "txt_text_sent_request", "txt_text_accepted_request", "txt_standup_register", 'txt_game_id', "txt_standup_registered", "txt_standup_unregistered", "txt_standup_register_description", "txt_date", "txt_bet", "txt_win", "txt_hand_type", "txt_card", "txt_is_lucky", "user-not-exist", "rich_txt_invited", "txt_tutorial_try_1", "txt_tutorial_try_2", "txt_tutorial_try_3", "txt_tutorial_try_4", "txt_tutorial_try_5", "txt_tutorial_try_6", "txt_tutorial_try_7", "txt_tutorial_try_8", "warning_setup_password_safebox_1", "txt_cat", "txt_hedgehog", "txt_panda", "txt_rabbit", "txt_choose_capcha", "txt_stranger", "txt_invite_all", "txt_reward_mission", "txt_rewarded", "txt_number", "txt_not_enough_chip", "txt_tutorial_10", "txt_sng_leave_tour_success", "txt_send_feedback_success", "txt_send_feedback_fail", "confirm_delete_friend", "confirm_unfollow_friend", "txt_big_blind", "txt_small_blind", "txt_donate_chip", "txt_cant_tip_dealer_before_game_start", "txt_tip_dealer_failed", "text_content_open_safebox", "text_title_open_safebox", "txt_reset_password", "text_btn_delete_password", "txt_objective", "txt_decoration", "user_not_online", "player_not_on_table", "txt_please_wait_the_next_game", "txt_please_wait_other_player", "txt_cant_upload", "txt_cancel_upload", "txt_upload_error", "txt_upload_success", "text_not_enough_chip", "text_not_enough_coin", "text_not_enough_diamond", "txt_logout_alert2", "dynamic_dealer_tks_tip", 'txt_title_room_test', "txt_title_leave_sng_tournament", "dynamic_leave_sng_tournament_content", "txt_player2", "dynamic_congrat_top", "txt_sng_main_eliminated", "txt_keep_watching", "dynamic_sng_other_eliminated", "dynamic_wait_players", "dynamic_wait_game_start_after", "dynamic_notice_blind_level_incread", "txt_keep_playing", "txt_link_email", "txt_link", "txt_sng_leave_tournament_on_started", "dynamic_sng_main_got_rank", "text_buy_success", "txt_invalid_password", "txt_fail_block_other_not_friend", "txt_resend", "txt_empty_mail_warning", "txt_email_wrong_format", "txt_request_otp_success", "dynamic_cant_empty", "txt_otp_code", "txt_invalid_password_length", "txt_binding_email_success", "txt_sign_google", "txt_min_max_buyin_bar", "dynamic_add_friend_success", "dynamic_request_kick_player_success", "txt_ready_to_open", "dynamic_rich_kick_player_request_header", "txt_you", "txt_kick_player_title", "text_not_empty_feedback_content", 'txt_chest_reward_title', "dynamic_reward_chest", "dynamic_daily_reward", "dynamic_chest_reward_not_ready", "txt_no_more_chest_reward", "txt_title_alert_login_gg", "dynamic_spin_win_amount", "txt_error", "txt_login_facebook_error", "txt_platform_not_support", "txt_popup_blocked_or_closed", "txt_authentication_cancelled", "txt_authentication_failed", "txt_login_by_email_fail", "dynamic_join_private_room", "txt_is_resolved", "txt_is_unresolved", "dynamic_block_success", "txt_btn_unblock_player", "dynamic_unblock_success", "dynamic_delete_friend_success", "dynamic_unfollow_success", "txt_kick_user_title", "txt_cant_kick_if_two_players", "dynamic_ask_ensure_block_player", "dynamic_ask_ensure_request_ask_friend", "dynamic_cancel_request_friend", "txt_update_profile_success", "dynamic_kicked", "txt_btn_remove_friend", "txt_btn_cancel_request", "txt_btn_accept_friend", "dynamic_agree_add_friend_success", "txt_the_account_is_existed", "txt_account_locked", "tournament_started", "txt_comming_soon", "rich_dynamic_float_msg", "txt_mini_spin_game", "txt_time_treasure_reset", "dynamic_notice_treasure_avaiable", "txt_you_already_in_this_table", "dynamic_reject_friend_success", "dynamic_other_send_friend_request", "dynamic_other_accept_friend_request", "dynamic_rich_system_item_noti_reward_daily", "dynamic_rich_system_item_noti_level_up", "dyanmic_rich_system_item_noti_reward_level", "txt_title_level_up", "txt_title_reward_level_up", "txt_dealer_thank_2", "txt_dealer_thank_3", "txt_dealer_thank_4", "dynamic_rich_mission_progress", "dynamic_rich_your_rank", "dynamic_rich_no_rank", "dynamic_rich_your_friend_rank", "txt_chips_view", "txt_not_enough_player_to_kick", "dynamic_reward_achivement", "dynamic_no_reward_achivement", "txt_exp", "txt_join_other_game_when_playing", "txt_tip_dealer_not_sitdown", "txt_join", "txt_short_qualifier", "txt_short_semifinal", "txt_short_final", "txt_short_monthly", "txt_long_qualifier", "txt_long_semifinal", "txt_long_final", "txt_long_monthly", "txt_can_not_rebuy", "txt_can_not_addon", "txt_unregistered_mtt_tournament", "txt_cancel_unregistered", "txt_error_register_mtt_tournament", "txt_error_unregister_mtt_tournament", "txt_error_join_mtt_tournament", "txt_title_leave_mtt_tournament", "txt_warning_leave_mtt_tour_before_start", "txt_warning_leave_mtt_tour_after_start", 'dynamic_mtt_pre_start_countdown', 'txt_none', "txt_please_wait", "dynamic_rebuy_pending", "txt_fee", "txt_buy", "txt_result", "dynamic_rank", "dynamic_mtt_lose_result", "txt_goodluck", "txt_top_1", "dynamic_mtt_win_result", "txt_mtt_merging_table_wait", "dynamic_mtt_register_with_fee", "dynamic_start_after", "txt_rebuy", "txt_addon", "txt_add_chips", "dynamic_mtt_increase_blinds", "dynamic_mtt_reward_count", "dynamic_mtt_tour_started", "dynamic_mtt_tour_prestarted", "dynamic_mtt_tour_cancelled", "dynamic_mtt_tour_lose", "dynamic_mtt_tour_cancelled_and_refund", "dynamic_mtt_rebuy_noti", "dynamic_mtt_rebuy_noti_main", "dynamic_mtt_unregistered_success", "dynamic_addon_success", "dyanmic_rebuy_success", "txt_refuse_rebuy", "txt_refuse_addon", "dynamic_leave_tournament", "dynamic_mtt_merging_table", "dynamic_unregister_mtt_tour_no_money", "txt_target_platform_is_not_supported", "txt_disconnect", "blind_level_increased", "txt_tutorial_2_2", "txt_tutorial_4_2", "dynamic_mtt_ended", "txt_finish_tutorial", "txt_empty_room_pt", "txt_tutorial_ingame_1", "txt_tutorial_ingame_2", "txt_tutorial_ingame_3", "txt_tutorial_ingame_4", "txt_tutorial_ingame_5", "txt_tutorial_ingame_6", "txt_tutorial_11", "txt_tutorial_ingame_7", "txt_tutorial_ingame_8", "txt_tutorial_ingame_9", "txt_kicked_title", "dyn_complete_tutorial", "txt_reconnecting", "txt_disconnected", "txt_reconnect_success", "dyn_complete_tutorial_2", "txt_table_owner_left_immidiate", "txt_table_owner_left", "txt_table_deleted", "txt_pre_kick_notify", "dyn_mtt_room_not_open_yet", "txt_no_rooms", "txt_other_out_room_non_playing"];
      var ELanguageKey = exports('ELanguageKey', _languages.reduce(function (a, k, i) {
        a[k] = i;
        return a;
      }, {}));
      var CCELang = exports('CCELang', Enum(ELanguageKey));
      function numberToTLang(num) {
        return _languages[num];
      }
      function TLangToNumber(key) {
        return ELanguageKey[key];
      }
      function isTLang(key) {
        return _languages.includes(key);
      }
      function numberToLang(group, number) {
        return _numberToLang(group, number);
      }
      function _numberToLang(group, num) {
        switch (group) {
          case "badge":
            return numberToBadgeKey(num);
          case "mission":
            return numberToMissionKey(num);
          default:
            return numberToTLang(num);
        }
      }
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIAchievement.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts', './ResponeCode.ts', './UIItemAchievement.ts', './UINoticeAchievement.ts', './UserCommand.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _asyncToGenerator, _regeneratorRuntime, cclegacy, _decorator, ToggleContainer, ScrollView, Prefab, instantiate, UIBase, ResponseCode, UIItemAchievement, UINoticeAchievement, request;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      ToggleContainer = module.ToggleContainer;
      ScrollView = module.ScrollView;
      Prefab = module.Prefab;
      instantiate = module.instantiate;
    }, function (module) {
      UIBase = module.UIBase;
    }, function (module) {
      ResponseCode = module.ResponseCode;
    }, function (module) {
      UIItemAchievement = module.UIItemAchievement;
    }, function (module) {
      UINoticeAchievement = module.UINoticeAchievement;
    }, function (module) {
      request = module.default;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4;
      cclegacy._RF.push({}, "181e8pOqkpJ6KPPfoUzOfa9", "UIAchievement", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var UIAchievement = exports('UIAchievement', (_dec = ccclass('UIAchievement'), _dec2 = property(ToggleContainer), _dec3 = property(ToggleContainer), _dec4 = property(ScrollView), _dec5 = property(Prefab), _dec(_class = (_class2 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UIAchievement, _UIBase);
        function UIAchievement() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "achievementToggleContainer", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "statisticalToggleContainer", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "scrView", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "itemScrViewAchievement", _descriptor4, _assertThisInitialized(_this));
          _this._listAchievemnet = [];
          _this._listPokerCareer = [];
          return _this;
        }
        var _proto = UIAchievement.prototype;
        _proto._open = /*#__PURE__*/function () {
          var _open2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(badges) {
            var rs;
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  this.scrView.content.removeAllChildren();
                  this.achievementToggleContainer.toggleItems[0].isChecked = true;
                  this._listAchievemnet = [];
                  this._listPokerCareer = [];
                  if (!(badges.length === 0)) {
                    _context.next = 14;
                    break;
                  }
                  _context.next = 7;
                  return request('getAllBadges', {});
                case 7:
                  rs = _context.sent;
                  if (!(rs.code !== ResponseCode.SUCCESS)) {
                    _context.next = 11;
                    break;
                  }
                  this.warn('Get all badges response error', rs);
                  return _context.abrupt("return");
                case 11:
                  this.loadData(rs.msg.badges);
                  _context.next = 15;
                  break;
                case 14:
                  this.loadData(badges);
                case 15:
                  return _context.abrupt("return", _UIBase.prototype._open.call(this));
                case 16:
                case "end":
                  return _context.stop();
              }
            }, _callee, this);
          }));
          function _open(_x) {
            return _open2.apply(this, arguments);
          }
          return _open;
        }();
        _proto.loadData = function loadData(badges) {
          this._listAchievemnet = this._listAchievemnet.concat(badges.filter(function (badge) {
            return badge.type === 'ACHIEVEMENTS';
          }));
          this._listPokerCareer = this._listPokerCareer.concat(badges.filter(function (badge) {
            return badge.type === 'POKE_CAREER';
          }));
          this.loadAchievement(0);
        };
        _proto._onOpen = function _onOpen() {};
        _proto.loadAchievement = function loadAchievement(index) {
          var _this2 = this;
          this.scrView.content.removeAllChildren();
          var list = [];
          if (index === 0) {
            list = this._listAchievemnet;
          } else if (index === 1) {
            list = this._listPokerCareer;
          } else return;
          list.forEach(function (badge) {
            var itemNode = instantiate(_this2.itemScrViewAchievement);
            var uiItemAchievement = itemNode.getComponent(UIItemAchievement);
            uiItemAchievement.init(badge);
            _this2.scrView.content.addChild(itemNode);
          });
          this.scrView.scrollToTop();
        };
        _proto.onToggleStatisticalChange = function onToggleStatisticalChange(toggle, data) {
          var index = this.statisticalToggleContainer.toggleItems.indexOf(toggle);
        };
        _proto.onToggleAchievementChange = function onToggleAchievementChange(toggle, data) {
          var index = this.achievementToggleContainer.toggleItems.indexOf(toggle);
          this.loadAchievement(index);
          UINoticeAchievement.instance.hide();
        };
        _proto.onDisable = function onDisable() {
          UINoticeAchievement.instance && UINoticeAchievement.instance.hide();
        };
        return UIAchievement;
      }(UIBase), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "achievementToggleContainer", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "statisticalToggleContainer", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "scrView", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "itemScrViewAchievement", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIActionCard.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts', './LanguageManager.ts', './StringUtils.ts', './Constants.ts', './EventManager.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _createClass, cclegacy, _decorator, Button, Label, Node, Material, Sprite, UIBase, LanguageMananger, pStringUtils, btnStates, pEventManager;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _createClass = module.createClass;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Button = module.Button;
      Label = module.Label;
      Node = module.Node;
      Material = module.Material;
      Sprite = module.Sprite;
    }, function (module) {
      UIBase = module.UIBase;
    }, function (module) {
      LanguageMananger = module.LanguageMananger;
    }, function (module) {
      pStringUtils = module.pStringUtils;
    }, function (module) {
      btnStates = module.btnStates;
    }, function (module) {
      pEventManager = module.pEventManager;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7;
      cclegacy._RF.push({}, "bedf9QkTo1JjqnYnjwIb+NM", "UIActionCard", undefined);
      var ccclass = _decorator.ccclass,
        type = _decorator.type;
      var UIActionCard = exports('default', (_dec = ccclass('UIActionCard'), _dec2 = type(Button), _dec3 = type(Button), _dec4 = type(Button), _dec5 = type(Button), _dec6 = type(Label), _dec7 = type(Node), _dec8 = type(Material), _dec(_class = (_class2 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UIActionCard, _UIBase);
        function UIActionCard() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "btnFold", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnCall", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnRaise", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnCheck", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lblRaise", _descriptor5, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "blocker", _descriptor6, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "gray", _descriptor7, _assertThisInitialized(_this));
          _this._events = [['onClearTable', _this._reset, _assertThisInitialized(_this)], ['onLeaveTable', _this._reset, _assertThisInitialized(_this)], ['onStandUp', _this._reset, _assertThisInitialized(_this)]];
          _this._isDifCallAmount = false;
          _this._callAmount = -1;
          _this._isAllIn = false;
          return _this;
        }
        var _proto = UIActionCard.prototype;
        _proto._onLoad = function _onLoad() {
          pEventManager.on(this._events);
        };
        _proto._onStart = function _onStart() {
          this._addClickers([{
            target: this.btnFold,
            handlers: this._actFold
          }, {
            target: this.btnCall,
            handlers: this._actCall
          }, {
            target: this.btnRaise,
            handlers: this._actRaise
          }, {
            target: this.btnCheck,
            handlers: this._actCheck
          }]);
        };
        _proto.turn = function turn(status) {
          var _this$btnCall$node$ge, _this$btnFold$node$ge, _this$btnRaise$node$g, _this$btnCheck$node$g;
          this.blocker.active = !status;
          var _btnC = (_this$btnCall$node$ge = this.btnCall.node.getChildByName("bg")) == null ? void 0 : _this$btnCall$node$ge.getComponent(Sprite);
          var _btnF = (_this$btnFold$node$ge = this.btnFold.node.getChildByName("bg")) == null ? void 0 : _this$btnFold$node$ge.getComponent(Sprite);
          var _btnR = (_this$btnRaise$node$g = this.btnRaise.node.getChildByName("bg")) == null ? void 0 : _this$btnRaise$node$g.getComponent(Sprite);
          var _btnK = (_this$btnCheck$node$g = this.btnCheck.node.getChildByName("bg")) == null ? void 0 : _this$btnCheck$node$g.getComponent(Sprite);
          _btnC.customMaterial = status ? null : this.gray;
          _btnF.customMaterial = status ? null : this.gray;
          _btnR.customMaterial = status ? null : this.gray;
          _btnK.customMaterial = status ? null : this.gray;
        };
        _proto.appendCallAmount = function appendCallAmount(amount) {
          this._isDifCallAmount = this._callAmount != amount;
          var call_txt = LanguageMananger.instance.getString("txt_btn_call_bet");
          var call_amount = pStringUtils.formatNumberKMB(amount);
          this._callAmount = amount;
          this.btnCall.getComponentInChildren(Label).string = "" + call_txt + call_amount;
        };
        _proto._onClose = function _onClose() {
          this.turn(true);
        };
        _proto._onDestroy = function _onDestroy() {
          pEventManager.off(this._events);
        };
        _proto.setStatusBtn = function setStatusBtn(action, isCheck) {
          if (isCheck === void 0) {
            isCheck = false;
          }
          var state = btnStates[action];
          this.btnFold.node.active = state.fold;
          this.btnCheck.node.active = state.check;
          this.btnCall.node.active = state.call;
          this.btnRaise.node.active = state.raise;
          if (isCheck) {
            this.btnCheck.node.active = true;
            this.btnCall.node.active = false;
          }

          //if(action == 'allin' || action == 'bet' || action == 'raise') {
          //    this.btnRaise.interactable = !isPlayerHasNoChips;
          //}
        };

        _proto._actFold = function _actFold() {
          this.invoke('onFold');
        };
        _proto._actCall = function _actCall() {
          this.invoke('onCall');
        };
        _proto._actRaise = function _actRaise() {
          this.invoke('onRaise');
        };
        _proto._actCheck = function _actCheck() {
          this.invoke('onCheck');
        };
        _proto.transformTo = function transformTo(isValidRaise, isAllIn) {
          var instance = LanguageMananger.instance;

          //this._isAllIn = isAllIn;
          //if(isAllIn) {
          //    this.btnRaise.interactable = true;
          //    this.lblRaise.string = instance.getString("txt_btn_all_in");
          //} else {
          //    this.lblRaise.string = instance.getString("txt_btn_raise_bet");
          //    this.btnRaise.interactable = isValidRaise;
          //}

          this.btnRaise.interactable = isValidRaise;
          if (isValidRaise) {
            this._isAllIn = isAllIn;
            if (isAllIn) {
              this.lblRaise.string = instance.getString("txt_btn_all_in");
            }
          } else {
            this._isAllIn = false;
            this.lblRaise.string = instance.getString("txt_btn_raise_bet");
          }
        };
        _proto._reset = function _reset() {
          this.transformTo(true, false);
          this.close();
        };
        _createClass(UIActionCard, [{
          key: "isDifCallAmount",
          get: function get() {
            return this._isDifCallAmount;
          }
        }, {
          key: "isAllIn",
          get: function get() {
            return this._isAllIn;
          }
        }]);
        return UIActionCard;
      }(UIBase), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "btnFold", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "btnCall", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "btnRaise", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "btnCheck", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "lblRaise", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, "blocker", [_dec7], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor7 = _applyDecoratedDescriptor(_class2.prototype, "gray", [_dec8], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIAutoPlayer.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './EventDriver.ts', './ComponentUtils.ts', './EventManager.ts', './LanguageManager.ts', './StringUtils.ts', './Decorators.ts', './Enums.ts', './AudioManager.ts'], function (exports) {
  var _inheritsLoose, _createClass, _applyDecoratedDescriptor, _initializerDefineProperty, _assertThisInitialized, cclegacy, _decorator, Node, Toggle, Label, NSEventDriver, pComponentUtils, pEventManager, LanguageMananger, pStringUtils, pDecorators, EAudioID, NSAudio;
  return {
    setters: [function (module) {
      _inheritsLoose = module.inheritsLoose;
      _createClass = module.createClass;
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Node = module.Node;
      Toggle = module.Toggle;
      Label = module.Label;
    }, function (module) {
      NSEventDriver = module.NSEventDriver;
    }, function (module) {
      pComponentUtils = module.pComponentUtils;
    }, function (module) {
      pEventManager = module.pEventManager;
    }, function (module) {
      LanguageMananger = module.LanguageMananger;
    }, function (module) {
      pStringUtils = module.pStringUtils;
    }, function (module) {
      pDecorators = module.pDecorators;
    }, function (module) {
      EAudioID = module.EAudioID;
    }, function (module) {
      NSAudio = module.NSAudio;
    }],
    execute: function () {
      exports('NSAutoPlayer', void 0);
      cclegacy._RF.push({}, "817c3NMCvlKCYJkaFwi263i", "UIAutoPlayer", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var NSAutoPlayer;
      (function (_NSAutoPlayer, _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5) {
        var Component = (_dec = ccclass('NSAutoPlayer.Component'), _dec2 = property(Node), _dec3 = property(Toggle), _dec4 = property(Toggle), _dec5 = property(Toggle), _dec6 = property(Label), _dec(_class = (_class2 = /*#__PURE__*/function (_NSEventDriver$Compon) {
          _inheritsLoose(Component, _NSEventDriver$Compon);
          function Component() {
            var _this;
            for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
              args[_key] = arguments[_key];
            }
            _this = _NSEventDriver$Compon.call.apply(_NSEventDriver$Compon, [this].concat(args)) || this;
            _initializerDefineProperty(_this, "root", _descriptor, _assertThisInitialized(_this));
            _initializerDefineProperty(_this, "btnAutoFold", _descriptor2, _assertThisInitialized(_this));
            _initializerDefineProperty(_this, "btnAutoCheck", _descriptor3, _assertThisInitialized(_this));
            _initializerDefineProperty(_this, "btnAutoCallAny", _descriptor4, _assertThisInitialized(_this));
            _initializerDefineProperty(_this, "lblCallAmount", _descriptor5, _assertThisInitialized(_this));
            _this._events = [['onClearTable', _this.close, _assertThisInitialized(_this)], ['onLeaveTable', _this.close, _assertThisInitialized(_this)], ['onStandUp', _this.close, _assertThisInitialized(_this)]];
            return _this;
          }
          var _proto = Component.prototype;
          _proto.onLoad = function onLoad() {
            var _options = [{
              _handlers: this._onToggleFold,
              _target: this.btnAutoFold
            }, {
              _handlers: this._onToggleCheck,
              _target: this.btnAutoCheck
            }, {
              _handlers: this._onToggleCallAny,
              _target: this.btnAutoCallAny
            }];
            pComponentUtils.appends({
              _options: _options,
              _binder: this,
              _type: Toggle.EventType.TOGGLE
            });
            pEventManager.on(this._events);
          };
          _proto.onDestroy = function onDestroy() {
            pComponentUtils.removeEvents({
              _target: [this.btnAutoFold, this.btnAutoCheck, this.btnAutoCallAny],
              _type: Toggle.EventType.TOGGLE
            });
            pEventManager.off(this._events);
          };
          _proto.close = function close() {
            this.stop();
            this.invoke('onClose');
            this.root.active = false;
          };
          _proto.open = function open() {
            this.invoke('onOpen');
            this.root.active = true;
          };
          _proto.stop = function stop() {
            this.btnAutoFold.isChecked = false;
            this.btnAutoCheck.isChecked = false;
            this.btnAutoCallAny.isChecked = false;
          };
          _proto.hasAuto = function hasAuto() {
            return this.btnAutoFold.isChecked || this.btnAutoCheck.isChecked || this.btnAutoCallAny.isChecked;
          };
          _proto.updateCallAmount = function updateCallAmount(amount) {
            var instance = LanguageMananger.instance;
            if (amount <= 0) {
              this.lblCallAmount.string = instance.getString('txt_btn_auto_view_card');
            } else {
              this.lblCallAmount.string = instance.getString('txt_auto_call') + ": " + pStringUtils.formatNumberKMB(amount);
              if (this.btnAutoCheck.isChecked) this.btnAutoCheck.isChecked = false;
            }
          };
          _proto._onToggleFold = function _onToggleFold() {
            var isChecked = this.btnAutoFold.isChecked;
            var _audio = isChecked ? EAudioID.SFX_POP : EAudioID.SFX_UN_POP;
            pDecorators.instance(NSAudio.Manager).play(_audio);
            this.invoke('onToggleFold', isChecked);
          };
          _proto._onToggleCheck = function _onToggleCheck() {
            var isChecked = this.btnAutoCheck.isChecked;
            var _audio = isChecked ? EAudioID.SFX_POP : EAudioID.SFX_UN_POP;
            pDecorators.instance(NSAudio.Manager).play(_audio);
            this.invoke('onToggleCheck', isChecked);
          };
          _proto._onToggleCallAny = function _onToggleCallAny() {
            var isChecked = this.btnAutoCallAny.isChecked;
            var _audio = isChecked ? EAudioID.SFX_POP : EAudioID.SFX_UN_POP;
            pDecorators.instance(NSAudio.Manager).play(_audio);
            this.invoke('onToggleCallAny', isChecked);
          };
          _createClass(Component, [{
            key: "active",
            get: function get() {
              return this.root.active;
            },
            set: function set(x) {
              x ? this.open() : this.close();
            }
          }, {
            key: "isAutoFold",
            get: function get() {
              return this.btnAutoFold.isChecked;
            }
          }, {
            key: "isAutoCall",
            get: function get() {
              return this.btnAutoCheck.isChecked;
            }
          }, {
            key: "isAutoCallAny",
            get: function get() {
              return this.btnAutoCallAny.isChecked;
            }
          }]);
          return Component;
        }(NSEventDriver.Component), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "root", [_dec2], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return null;
          }
        }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "btnAutoFold", [_dec3], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return null;
          }
        }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "btnAutoCheck", [_dec4], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return null;
          }
        }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "btnAutoCallAny", [_dec5], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return null;
          }
        }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "lblCallAmount", [_dec6], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return null;
          }
        })), _class2)) || _class);
        _NSAutoPlayer.Component = Component;
      })(NSAutoPlayer || (NSAutoPlayer = exports('NSAutoPlayer', {})));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIAutoPlaying.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts', './EventManager.ts', './LanguageManager.ts', './StringUtils.ts', './ComponentUtils.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _createClass, cclegacy, _decorator, Toggle, Label, UIBase, pEventManager, LanguageMananger, pStringUtils, pComponentUtils;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _createClass = module.createClass;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Toggle = module.Toggle;
      Label = module.Label;
    }, function (module) {
      UIBase = module.UIBase;
    }, function (module) {
      pEventManager = module.pEventManager;
    }, function (module) {
      LanguageMananger = module.LanguageMananger;
    }, function (module) {
      pStringUtils = module.pStringUtils;
    }, function (module) {
      pComponentUtils = module.pComponentUtils;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4;
      cclegacy._RF.push({}, "32036UjcFhJZ5HuHS3xSvnQ", "UIAutoPlaying", undefined);
      var ccclass = _decorator.ccclass,
        type = _decorator.type;
      var UIAutoPlaying = exports('UIAutoPlaying', (_dec = ccclass('UIAutoPlaying'), _dec2 = type(Toggle), _dec3 = type(Toggle), _dec4 = type(Toggle), _dec5 = type(Label), _dec(_class = (_class2 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UIAutoPlaying, _UIBase);
        function UIAutoPlaying() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "btnAutoFold", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnAutoCheck", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnAutoCallAny", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lblCallAmount", _descriptor4, _assertThisInitialized(_this));
          _this._events = [['onClearTable', _this._onClearEvent, _assertThisInitialized(_this)], ['onLeaveTable', _this._onLeaveTable, _assertThisInitialized(_this)]];
          return _this;
        }
        var _proto = UIAutoPlaying.prototype;
        _proto._onStart = function _onStart() {
          pComponentUtils.appends({
            _options: [{
              _target: this.btnAutoFold,
              _handlers: this._actAutoFold
            }, {
              _target: this.btnAutoCheck,
              _handlers: this._actAutoCall
            }, {
              _target: this.btnAutoCallAny,
              _handlers: this._actAutoCallAny
            }],
            _type: Toggle.EventType.TOGGLE,
            _binder: this
          });
        };
        _proto._onLoad = function _onLoad() {
          pEventManager.on(this._events);
        };
        _proto._onDestroy = function _onDestroy() {
          pEventManager.off(this._events);
        };
        _proto._actAutoFold = function _actAutoFold() {
          this.invoke('onAutoFold', this.btnAutoFold.isChecked);
        };
        _proto._actAutoCall = function _actAutoCall() {
          this.invoke('onAutoCall', this.btnAutoCheck.isChecked);
        };
        _proto._actAutoCallAny = function _actAutoCallAny() {
          this.invoke('onAutoCallAny', this.btnAutoCallAny.isChecked);
        };
        _proto.updateCallAmount = function updateCallAmount(amount) {
          if (amount <= 0) {
            this.lblCallAmount.string = LanguageMananger.instance.getString('txt_btn_auto_view_card');
          } else {
            this.lblCallAmount.string = LanguageMananger.instance.getString('txt_auto_call') + ": " + pStringUtils.formatNumberKMB(amount);
            if (this.btnAutoCheck.isChecked) this.btnAutoCheck.isChecked = false;
          }
        };
        _proto.hasAuto = function hasAuto() {
          return this.btnAutoFold.isChecked || this.btnAutoCheck.isChecked || this.btnAutoCallAny.isChecked;
        };
        _proto.stopAuto = function stopAuto() {
          this.btnAutoFold.isChecked = false;
          this.btnAutoCheck.isChecked = false;
          this.btnAutoCallAny.isChecked = false;
        };
        _proto._onClearEvent = function _onClearEvent(data) {
          var route = data.route;
          if (route !== 'onClearTable') return;
          this.reset();
        };
        _proto._onLeaveTable = function _onLeaveTable() {
          this.reset();
        };
        _proto.reset = function reset() {
          this.stopAuto();
          this.close();
        };
        _createClass(UIAutoPlaying, [{
          key: "isAutoFold",
          get: function get() {
            return this.btnAutoFold.isChecked;
          }
        }, {
          key: "isAutoCall",
          get: function get() {
            return this.btnAutoCheck.isChecked;
          }
        }, {
          key: "isAutoCallAny",
          get: function get() {
            return this.btnAutoCallAny.isChecked;
          }
        }]);
        return UIAutoPlaying;
      }(UIBase), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "btnAutoFold", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "btnAutoCheck", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "btnAutoCallAny", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "lblCallAmount", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIAutoZSibling.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _createForOfIteratorHelperLoose, cclegacy, _decorator, CCInteger, Component;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _createForOfIteratorHelperLoose = module.createForOfIteratorHelperLoose;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      CCInteger = module.CCInteger;
      Component = module.Component;
    }],
    execute: function () {
      var _dec, _dec2, _class, _class2, _descriptor;
      cclegacy._RF.push({}, "bf39c4sgK9PBoG6te/5V5rj", "UIAutoZSibling", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var _zSibKey = '__zSibKey__';
      var UIAutoZSibling = exports('UIAutoZSibling', (_dec = ccclass('UIAutoZSibling'), _dec2 = property({
        type: CCInteger
      }), _dec(_class = (_class2 = /*#__PURE__*/function (_Component) {
        _inheritsLoose(UIAutoZSibling, _Component);
        function UIAutoZSibling() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _Component.call.apply(_Component, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "priority", _descriptor, _assertThisInitialized(_this));
          return _this;
        }
        var _proto = UIAutoZSibling.prototype;
        _proto.onEnable = function onEnable() {
          this.mechanic();
        };
        _proto.mechanic = function mechanic() {
          var parent = this.node.parent;
          for (var _iterator = _createForOfIteratorHelperLoose(parent.children), _step; !(_step = _iterator()).done;) {
            var child = _step.value;
            var comp = child.getComponent(UIAutoZSibling);
            child[_zSibKey] = !comp ? -1 : comp.priority;
          }
          parent.children.sort(function (a, b) {
            return a[_zSibKey] - b[_zSibKey];
          }).forEach(function (child, idx) {
            return child.setSiblingIndex(idx);
          });
        };
        return UIAutoZSibling;
      }(Component), _descriptor = _applyDecoratedDescriptor(_class2.prototype, "priority", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return 0;
        }
      }), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIBalance.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './StringUtils.ts', './GlobalConfig.ts', './EventManager.ts', './UIController.ts', './Enums.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _createClass, _asyncToGenerator, _regeneratorRuntime, cclegacy, _decorator, Enum, Label, tween, Component, pStringUtils, GlobalConfig, pEventManager, UIController, UIType, EShopType;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _createClass = module.createClass;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Enum = module.Enum;
      Label = module.Label;
      tween = module.tween;
      Component = module.Component;
    }, function (module) {
      pStringUtils = module.pStringUtils;
    }, function (module) {
      GlobalConfig = module.default;
    }, function (module) {
      pEventManager = module.pEventManager;
    }, function (module) {
      UIController = module.UIController;
    }, function (module) {
      UIType = module.UIType;
      EShopType = module.EShopType;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _class, _class2, _descriptor, _descriptor2;
      cclegacy._RF.push({}, "c79b4p+HlxD2bgwFD4H5YEF", "UIBalance", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var UIBalanceType = exports('UIBalanceType', /*#__PURE__*/function (UIBalanceType) {
        UIBalanceType[UIBalanceType["CHIP"] = 0] = "CHIP";
        UIBalanceType[UIBalanceType["COIN"] = 1] = "COIN";
        UIBalanceType[UIBalanceType["DIAMOND"] = 2] = "DIAMOND";
        UIBalanceType[UIBalanceType["OTHER"] = 3] = "OTHER";
        return UIBalanceType;
      }({}));
      var UIBalance = exports('UIBalance', (_dec = ccclass('UIBalance'), _dec2 = property({
        type: Enum(UIBalanceType)
      }), _dec3 = property(Label), _dec(_class = (_class2 = /*#__PURE__*/function (_Component) {
        _inheritsLoose(UIBalance, _Component);
        function UIBalance() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _Component.call.apply(_Component, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "type", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbBalance", _descriptor2, _assertThisInitialized(_this));
          _this._eventHandlers = [['onUpdateNewBalance', _this._onUpdateBalance, _assertThisInitialized(_this)]];
          _this._balance = 0;
          _this._updateTWC = null;
          return _this;
        }
        var _proto = UIBalance.prototype;
        _proto.onEnable = function onEnable() {
          pEventManager.on(this._eventHandlers);
          this.updatePlayerBalance(true);
        };
        _proto._onUpdateBalance = function _onUpdateBalance() {
          this.updatePlayerBalance(true);
        };
        _proto.updatePlayerBalance = function updatePlayerBalance(animation) {
          var _this$_updateTWC;
          if (animation === void 0) {
            animation = false;
          }
          //if (GlobalConfig.instance.doubleCheckLogin()) {
          var balance = GlobalConfig.instance.Login.player.information.balance;
          var _GlobalConfig$instanc = GlobalConfig.instance.Login.player.otherBalance,
            coinBalance = _GlobalConfig$instanc.coinBalance,
            diamondBalance = _GlobalConfig$instanc.diamondBalance;
          var value = 0;
          if (this.type === UIBalanceType.CHIP) value = balance;else if (this.type === UIBalanceType.COIN) value = coinBalance;else if (this.type === UIBalanceType.DIAMOND) value = diamondBalance;
          if (this._balance === value) {
            this.balance = value;
            return;
          }
          (_this$_updateTWC = this._updateTWC) == null || _this$_updateTWC.stop();
          if (!animation) {
            this.balance = value;
            return;
          }
          this._balance = value;
          this._updateTWC = tween(this).to(1, {
            balance: value
          }, {
            onUpdate: function onUpdate(target, ratio) {
              return target.balance *= ratio;
            }
          }).start();
          //}
        };

        _proto.onDisable = function onDisable() {
          pEventManager.off(this._eventHandlers);
        };
        _proto.addBalance = /*#__PURE__*/function () {
          var _addBalance = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  if (!(this.type === UIBalanceType.CHIP)) {
                    _context.next = 3;
                    break;
                  }
                  _context.next = 3;
                  return UIController.Instance.open(UIType.SHOP, false, true, true, EShopType.CHIP);
                case 3:
                case "end":
                  return _context.stop();
              }
            }, _callee, this);
          }));
          function addBalance() {
            return _addBalance.apply(this, arguments);
          }
          return addBalance;
        }();
        _createClass(UIBalance, [{
          key: "balance",
          get: function get() {
            return this._balance;
          },
          set: function set(value) {
            this._balance = value;
            this.lbBalance.string = pStringUtils.formatMoneyWithDot(value);
          }
        }]);
        return UIBalance;
      }(Component), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "type", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return UIBalanceType.CHIP;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "lbBalance", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIBanner.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, cclegacy, _decorator, PageView, Component;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      PageView = module.PageView;
      Component = module.Component;
    }],
    execute: function () {
      var _dec, _dec2, _class, _class2, _descriptor;
      cclegacy._RF.push({}, "23052oPIs5ECI9ucPcF+JBj", "UIBanner", undefined);
      var ccclass = _decorator.ccclass,
        type = _decorator.type;
      var UIBanner = exports('UIBanner', (_dec = ccclass('UIBanner'), _dec2 = type(PageView), _dec(_class = (_class2 = /*#__PURE__*/function (_Component) {
        _inheritsLoose(UIBanner, _Component);
        function UIBanner() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _Component.call.apply(_Component, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "bannerPage", _descriptor, _assertThisInitialized(_this));
          _this.indexPage = 0;
          _this.loopBannerCb = null;
          return _this;
        }
        var _proto = UIBanner.prototype;
        _proto.onEnable = function onEnable() {
          this._onLoppBanner();
        };
        _proto.onDisable = function onDisable() {
          this._offLoopBanner();
        };
        _proto._onLoppBanner = function _onLoppBanner() {
          var _this2 = this;
          this.loopBannerCb = function () {
            _this2.bannerPage.scrollToPage(_this2.indexPage, 0.5);
            _this2.indexPage++;
            if (_this2.indexPage > _this2.bannerPage.content.children.length - 1) {
              _this2.indexPage = 0;
            }
          };
          this.schedule(this.loopBannerCb, 2);
        };
        _proto._offLoopBanner = function _offLoopBanner() {
          if (this.loopBannerCb != null) {
            this.unschedule(this.loopBannerCb);
            this.loopBannerCb = null;
          }
        };
        return UIBanner;
      }(Component), _descriptor = _applyDecoratedDescriptor(_class2.prototype, "bannerPage", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIBase.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './Enums.ts', './UIController.ts', './Decorators.ts', './EventDriver.ts', './AudioManager.ts', './ComponentUtils.ts', './ArrayUtils.ts'], function (exports) {
  var _inheritsLoose, _createForOfIteratorHelperLoose, _createClass, _applyDecoratedDescriptor, _initializerDefineProperty, _assertThisInitialized, _asyncToGenerator, _regeneratorRuntime, cclegacy, _decorator, Enum, Node, Button, Toggle, Vec2, isValid, UIType, EAudioID, UIController, pDecorators, NSEventDriver, NSAudio, pComponentUtils, pArray;
  return {
    setters: [function (module) {
      _inheritsLoose = module.inheritsLoose;
      _createForOfIteratorHelperLoose = module.createForOfIteratorHelperLoose;
      _createClass = module.createClass;
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Enum = module.Enum;
      Node = module.Node;
      Button = module.Button;
      Toggle = module.Toggle;
      Vec2 = module.Vec2;
      isValid = module.isValid;
    }, function (module) {
      UIType = module.UIType;
      EAudioID = module.EAudioID;
    }, function (module) {
      UIController = module.UIController;
    }, function (module) {
      pDecorators = module.pDecorators;
    }, function (module) {
      NSEventDriver = module.NSEventDriver;
    }, function (module) {
      NSAudio = module.NSAudio;
    }, function (module) {
      pComponentUtils = module.pComponentUtils;
    }, function (module) {
      pArray = module.pArray;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _dec11, _dec12, _dec13, _dec14, _dec15, _dec16, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9, _descriptor10;
      cclegacy._RF.push({}, "00222ylV/RKa7yq4S7k/BgT", "UIBase", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property,
        _boolean = _decorator["boolean"],
        type = _decorator.type;
      var UIBaseGroup = exports('UIBaseGroup', {
        name: 'UIBase',
        id: 'UIBase',
        displayOrder: -100
      });
      var _ExtendGroup = {
        name: "Extend",
        id: "UIBase"
      };
      Enum(UIType);
      var UIBase = exports('UIBase', (_dec = ccclass('UIBase'), _dec2 = pDecorators.logger('UIBase'), _dec3 = property({
        type: Node,
        group: UIBaseGroup
      }), _dec4 = property({
        type: Node,
        group: UIBaseGroup
      }), _dec5 = property({
        group: UIBaseGroup
      }), _dec6 = type(UIType), _dec7 = property({
        group: UIBaseGroup
      }), _dec8 = property({
        group: UIBaseGroup
      }), _dec9 = type(Button), _dec10 = property({
        group: UIBaseGroup
      }), _dec11 = type([Button]), _dec12 = property({
        group: UIBaseGroup
      }), _dec13 = property({
        group: _ExtendGroup
      }), _dec14 = property({
        group: _ExtendGroup,
        type: EAudioID,
        visible: function visible() {
          return this.playSFXOnClose;
        }
      }), _dec15 = property({
        type: [NSEventDriver.Component],
        group: _ExtendGroup
      }), _dec16 = property({
        type: [NSEventDriver.Component],
        group: _ExtendGroup
      }), _dec(_class = _dec2(_class = (_class2 = /*#__PURE__*/function (_NSEventDriver$Compon) {
        _inheritsLoose(UIBase, _NSEventDriver$Compon);
        function UIBase() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _NSEventDriver$Compon.call.apply(_NSEventDriver$Compon, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "_root", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "uiType", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "isDestroyOnClose", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnClose", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnCloses", _descriptor5, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "turnOffOnFirst", _descriptor6, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "playSFXOnClose", _descriptor7, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "closeSFX", _descriptor8, _assertThisInitialized(_this));
          _this.backUIPopup = UIType.NONE;
          _this._activeIfTheseInactive = [];
          _initializerDefineProperty(_this, "activeIfTheseInactive", _descriptor9, _assertThisInitialized(_this));
          _this._closeIfSelfIsAcitve = [];
          _initializerDefineProperty(_this, "closeIfSelfIsAcitve", _descriptor10, _assertThisInitialized(_this));
          _this._vents = [['onClose', _this._onClose, _assertThisInitialized(_this)], ['onOpen', _this._onOpen, _assertThisInitialized(_this)]];
          _this._bindedClickSound = false;
          return _this;
        }
        var _proto = UIBase.prototype;
        _proto._getName = function _getName() {
          return "[" + UIType[this.uiType];
        };
        _proto._onLoad = function _onLoad() {};
        _proto._onStart = function _onStart() {};
        _proto._onDestroy = function _onDestroy() {};
        _proto._onOpen = function _onOpen() {
          for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
            args[_key2] = arguments[_key2];
          }
        };
        _proto._onClose = function _onClose() {
          for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
            args[_key3] = arguments[_key3];
          }
        };
        _proto.onLoad = function onLoad() {
          this.turnOffOnFirst && (this.root.active = false);
          this._activeIfTheseInactive = this.activeIfTheseInactive.map(function (ui) {
            return ui.getComponent(UIBase);
          }).filter(function (ui) {
            return !!ui;
          });
          this._closeIfSelfIsAcitve = this.closeIfSelfIsAcitve.map(function (ui) {
            return ui.getComponent(UIBase);
          }).filter(function (ui) {
            return !!ui;
          });
          this.on(this._vents);
          this._addClickers({
            handlers: this.close,
            target: [].concat(this.btnCloses, [this.btnClose])
          });
          this._onLoad();
        };
        _proto.start = function start() {
          this._onStart();
        };
        _proto.onDestroy = function onDestroy() {
          this.off(this._vents);
          this._onDestroy();
        };
        _proto.open = /*#__PURE__*/function () {
          var _open2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {
            var find,
              _len4,
              _args,
              _key4,
              _args2 = arguments;
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  find = this._activeIfTheseInactive.find(function (ui) {
                    return ui.active;
                  });
                  if (!find) {
                    _context.next = 3;
                    break;
                  }
                  return _context.abrupt("return");
                case 3:
                  this._closeIfSelfIsAcitve.forEach(function (ui) {
                    return ui.close();
                  });
                  for (_len4 = _args2.length, _args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {
                    _args[_key4] = _args2[_key4];
                  }
                  this.invoke.apply(this, ['onOpen'].concat(_args));
                  _context.next = 8;
                  return this._open.apply(this, _args);
                case 8:
                case "end":
                  return _context.stop();
              }
            }, _callee, this);
          }));
          function open() {
            return _open2.apply(this, arguments);
          }
          return open;
        }();
        _proto._open = /*#__PURE__*/function () {
          var _open3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {
            return _regeneratorRuntime().wrap(function _callee2$(_context2) {
              while (1) switch (_context2.prev = _context2.next) {
                case 0:
                  this.root.active = true;
                case 1:
                case "end":
                  return _context2.stop();
              }
            }, _callee2, this);
          }));
          function _open() {
            return _open3.apply(this, arguments);
          }
          return _open;
        }();
        _proto.close = /*#__PURE__*/function () {
          var _close2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(clean) {
            var _len5,
              _args,
              _key5,
              _args4 = arguments;
            return _regeneratorRuntime().wrap(function _callee3$(_context3) {
              while (1) switch (_context3.prev = _context3.next) {
                case 0:
                  if (clean === void 0) {
                    clean = false;
                  }
                  for (_len5 = _args4.length, _args = new Array(_len5 > 1 ? _len5 - 1 : 0), _key5 = 1; _key5 < _len5; _key5++) {
                    _args[_key5 - 1] = _args4[_key5];
                  }
                  this.invoke.apply(this, ['onClose'].concat(_args));
                  _context3.next = 5;
                  return this._close.apply(this, _args);
                case 5:
                  this.playSFXOnClose && pDecorators.instance(NSAudio.Manager).play(this.closeSFX);
                  if (this.backUIPopup != UIType.NONE) {
                    UIController.Instance.open(this.backUIPopup, true);
                    this.backUIPopup = UIType.NONE;
                  }
                  (this.isDestroyOnClose || clean === true) && UIController.Instance.removeActiveUI(this.uiType);
                case 8:
                case "end":
                  return _context3.stop();
              }
            }, _callee3, this);
          }));
          function close(_x) {
            return _close2.apply(this, arguments);
          }
          return close;
        }();
        _proto._close = /*#__PURE__*/function () {
          var _close3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {
            return _regeneratorRuntime().wrap(function _callee4$(_context4) {
              while (1) switch (_context4.prev = _context4.next) {
                case 0:
                  try {
                    this.root.active = false;
                  } catch (e) {}
                case 1:
                case "end":
                  return _context4.stop();
              }
            }, _callee4, this);
          }));
          function _close() {
            return _close3.apply(this, arguments);
          }
          return _close;
        }();
        _proto._addClicker = function _addClicker(btn, callback, target) {
          if (target === void 0) {
            target = this;
          }
          callback = pArray.flatter(callback);
          var _handlers = this._bindedClickSound ? [].concat(callback, [this.playSoundBtn]) : [].concat(callback);
          pComponentUtils.appends({
            _options: {
              _target: btn,
              _handlers: _handlers
            },
            _type: Button.EventType.CLICK,
            _binder: target
          });
        };
        _proto._addClickers = function _addClickers(_target, _binder) {
          if (_binder === void 0) {
            _binder = this;
          }
          _target = pArray.flatter(_target);
          for (var _iterator = _createForOfIteratorHelperLoose(_target), _step; !(_step = _iterator()).done;) {
            var _step$value = _step.value,
              target = _step$value.target,
              handlers = _step$value.handlers;
            target && this._addClicker(target, handlers, _binder);
          }
        };
        _proto._setClicker = function _setClicker(btn, callback, target) {
          this._removeAllClickers(btn);
          this._addClicker(btn, callback, target);
        };
        _proto._removeAllClickers = function _removeAllClickers(btn) {
          if (!btn) return;
          btn.node.targetOff(Button.EventType.CLICK);
        };
        _proto._addTogglers = function _addTogglers(_target, _binder) {
          if (_binder === void 0) {
            _binder = this;
          }
          _target = pArray.flatter(_target);
          for (var _iterator2 = _createForOfIteratorHelperLoose(_target), _step2; !(_step2 = _iterator2()).done;) {
            var _step2$value = _step2.value,
              btn = _step2$value.target,
              handler = _step2$value.handlers;
            this._addToggler(btn, handler, _binder);
          }
        };
        _proto._addToggler = function _addToggler(toggle, callback, target) {
          if (target === void 0) {
            target = this;
          }
          callback = pArray.flatter(callback);
          var _handlers = this._bindedClickSound ? [].concat(callback, [this.playSoundBtn]) : [].concat(callback);
          pComponentUtils.appends({
            _options: {
              _handlers: _handlers,
              _target: toggle
            },
            _type: Toggle.EventType.TOGGLE,
            _binder: target
          });
        };
        _proto.addToggleContainerEvent = function addToggleContainerEvent(toggleContainer, callback, target) {
          var _this2 = this;
          var _loop = function _loop(i) {
            toggleContainer.toggleItems[i].node.on(Toggle.EventType.TOGGLE, function (toggle) {
              if (toggleContainer.toggleItems[i].isChecked) {
                callback.call(target, toggle.node.getSiblingIndex());
              }
            }, _this2);
          };
          for (var i = 0; i < toggleContainer.toggleItems.length; i++) {
            _loop(i);
          }
        };
        _proto.addUIComponentEvent = function addUIComponentEvent(component, eventType, callback, target, playSound) {
          if (playSound === void 0) {
            playSound = true;
          }
          if (!component) return;
          var _ref = playSound ? [this.playSoundBtn, this] : [callback, target],
            _cb = _ref[0],
            _binder = _ref[1];
          component.node.on(eventType, _cb, _binder);
        };
        _proto.scrollDown = function scrollDown(scView, offset) {
          var currentOffset = scView.getScrollOffset();
          scView.scrollToOffset(new Vec2(currentOffset.x, currentOffset.y + offset), 0.1);
        };
        _proto.playSoundBtn = function playSoundBtn() {
          // play sound for button
          // debugLog('playSoundBtn');
        };
        _proto.setBackUI = function setBackUI(uiType) {
          this.backUIPopup = uiType;
        };
        _createClass(UIBase, [{
          key: "root",
          get: function get() {
            return this._root || this.node;
          },
          set: function set(value) {
            this._root = value;
          }
        }, {
          key: "active",
          get: function get() {
            return isValid(this.root) && this.root.active;
          }
        }]);
        return UIBase;
      }(NSEventDriver.Component), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "_root", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _applyDecoratedDescriptor(_class2.prototype, "root", [_dec4], Object.getOwnPropertyDescriptor(_class2.prototype, "root"), _class2.prototype), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "uiType", [_dec5, _dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return UIType.NONE;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "isDestroyOnClose", [_dec7, _boolean], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "btnClose", [_dec8, _dec9], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "btnCloses", [_dec10, _dec11], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return [];
        }
      }), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, "turnOffOnFirst", [_dec12], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return false;
        }
      }), _descriptor7 = _applyDecoratedDescriptor(_class2.prototype, "playSFXOnClose", [_dec13], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return true;
        }
      }), _descriptor8 = _applyDecoratedDescriptor(_class2.prototype, "closeSFX", [_dec14], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return EAudioID.SFX_CLOSE;
        }
      }), _descriptor9 = _applyDecoratedDescriptor(_class2.prototype, "activeIfTheseInactive", [_dec15], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return [];
        }
      }), _descriptor10 = _applyDecoratedDescriptor(_class2.prototype, "closeIfSelfIsAcitve", [_dec16], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return [];
        }
      })), _class2)) || _class) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIBtnLoadAvatar.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './FileUtils.ts', './ComponentUtils.ts', './GlobalConfig.ts', './ResponeCode.ts', './UINotice.ts', './NotifyToast.ts', './EventManager.ts', './EngineManager.ts', './UserCommand.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _asyncToGenerator, _regeneratorRuntime, cclegacy, _decorator, Button, Component, assetManager, SpriteFrame, pFileUtils, pComponentUtils, GlobalConfig, ResponseCode, UINotice, NotifyToast, pEventManager, pEngineManager, request;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Button = module.Button;
      Component = module.Component;
      assetManager = module.assetManager;
      SpriteFrame = module.SpriteFrame;
    }, function (module) {
      pFileUtils = module.pFileUtils;
    }, function (module) {
      pComponentUtils = module.pComponentUtils;
    }, function (module) {
      GlobalConfig = module.default;
    }, function (module) {
      ResponseCode = module.ResponseCode;
    }, function (module) {
      UINotice = module.UINotice;
    }, function (module) {
      NotifyToast = module.NotifyToast;
    }, function (module) {
      pEventManager = module.pEventManager;
    }, function (module) {
      pEngineManager = module.pEngineManager;
    }, function (module) {
      request = module.default;
    }],
    execute: function () {
      var _dec, _dec2, _class, _class2, _descriptor;
      cclegacy._RF.push({}, "396322shO9KerY72suUtrhO", "UIBtnLoadAvatar", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var UIBtnLoadAvatar = exports('UIBtnLoadAvatar', (_dec = ccclass('UIBtnLoadAvatar'), _dec2 = property(Button), _dec(_class = (_class2 = /*#__PURE__*/function (_Component) {
        _inheritsLoose(UIBtnLoadAvatar, _Component);
        function UIBtnLoadAvatar() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _Component.call.apply(_Component, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "btnLoadAvatar", _descriptor, _assertThisInitialized(_this));
          return _this;
        }
        var _proto = UIBtnLoadAvatar.prototype;
        _proto.onLoad = function onLoad() {
          pFileUtils.setupInputer();
          pComponentUtils.appends({
            _options: {
              _handlers: this._onClick,
              _target: this.btnLoadAvatar
            },
            _type: Button.EventType.CLICK,
            _binder: this
          });
        };
        _proto._onClick = /*#__PURE__*/function () {
          var _onClick2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {
            var _this2 = this;
            var loading, res, code, data, token, base_url, _file, xhr, form;
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  loading = GlobalConfig.instance.loading;
                  loading.open();
                  _context.next = 4;
                  return request('getTokenUpload', {});
                case 4:
                  res = _context.sent;
                  code = res.code, data = res.data;
                  _context.t0 = code;
                  _context.next = _context.t0 === ResponseCode.SUCCESS ? 9 : _context.t0 === ResponseCode.ERROR ? 36 : 40;
                  break;
                case 9:
                  token = data.token, base_url = data.base_url;
                  _context.prev = 10;
                  _context.next = 13;
                  return pFileUtils.selectFile();
                case 13:
                  _file = _context.sent;
                  if (_file) {
                    _context.next = 18;
                    break;
                  }
                  NotifyToast.instance.showWithKey('txt_cancel_upload', 'lobby');
                  loading.close();
                  return _context.abrupt("return");
                case 18:
                  xhr = new XMLHttpRequest();
                  xhr.open('POST', base_url + "/api/v1/uploads/single", true);
                  xhr.setRequestHeader('X-External-Token', token);
                  xhr.onreadystatechange = function () {
                    if (xhr.readyState === XMLHttpRequest.DONE) {
                      if (xhr.status >= 200 && xhr.status < 300) {
                        try {
                          var response = JSON.parse(xhr.responseText);
                          pEngineManager.log("UPLOAD AVATAR >>", response);
                          _this2._onSuccess(response);
                        } catch (error) {
                          NotifyToast.instance.show(String(error), 'lobby');
                          loading.close();
                        } finally {}
                      } else {
                        UINotice.instance.show('txt_title', 'txt_cant_upload', 'txt_btn_confirm');
                        loading.close();
                      }
                    }
                  };
                  xhr.onerror = function () {
                    NotifyToast.instance.showWithKey('txt_upload_error', 'lobby');
                    loading.close();
                  };
                  form = new FormData();
                  form.append('file', _file);
                  form.append('description', 'test');
                  xhr.send(form);
                  _context.next = 32;
                  break;
                case 29:
                  _context.prev = 29;
                  _context.t1 = _context["catch"](10);
                  NotifyToast.instance.show(String(_context.t1), 'lobby');
                case 32:
                  _context.prev = 32;
                  loading.close();
                  return _context.finish(32);
                case 35:
                  return _context.abrupt("break", 40);
                case 36:
                  UINotice.instance.show('txt_title', 'txt_cant_upload', 'txt_btn_confirm');
                  loading.close();
                  return _context.abrupt("return");
                case 40:
                case "end":
                  return _context.stop();
              }
            }, _callee, null, [[10, 29, 32, 35]]);
          }));
          function _onClick() {
            return _onClick2.apply(this, arguments);
          }
          return _onClick;
        }();
        _proto._onSuccess = /*#__PURE__*/function () {
          var _onSuccess2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(response) {
            var instance, loading, images, _img, versions, _thumbnail, absolute_path, Login, player, information, display_name, gender, data;
            return _regeneratorRuntime().wrap(function _callee2$(_context2) {
              while (1) switch (_context2.prev = _context2.next) {
                case 0:
                  instance = GlobalConfig.instance;
                  loading = instance.loading;
                  images = response.images;
                  _img = images[0];
                  loading.open();
                  if (_img) {
                    _context2.next = 8;
                    break;
                  }
                  NotifyToast.instance.showWithKey('txt_upload_error', 'lobby');
                  return _context2.abrupt("return");
                case 8:
                  versions = _img.versions;
                  _thumbnail = versions.find(function (_v) {
                    return _v.version_type === 'thumbnail';
                  });
                  if (_thumbnail) {
                    _context2.next = 13;
                    break;
                  }
                  NotifyToast.instance.showWithKey('txt_upload_error', 'lobby');
                  return _context2.abrupt("return");
                case 13:
                  absolute_path = _thumbnail.absolute_path;
                  Login = instance.Login;
                  player = Login.player;
                  information = player.information;
                  display_name = information.display_name, gender = information.gender;
                  _context2.next = 20;
                  return request('updateProfile', {
                    avatar: absolute_path,
                    displayName: display_name,
                    gender: gender,
                    phone: ''
                  });
                case 20:
                  data = _context2.sent;
                  _context2.t0 = data.code;
                  _context2.next = _context2.t0 === ResponseCode.SUCCESS ? 24 : _context2.t0 === ResponseCode.ERROR ? 26 : 29;
                  break;
                case 24:
                  assetManager.loadRemote(absolute_path, function (err, asset) {
                    if (!err) {
                      var _spr = SpriteFrame.createWithImage(asset);
                      pEventManager.invoke('onUpdateAvatar', _spr);
                    }
                    NotifyToast.instance.showWithKey('txt_upload_success', 'lobby');
                    loading.close();
                  });
                  return _context2.abrupt("break", 29);
                case 26:
                  NotifyToast.instance.showWithKey('txt_upload_error', 'lobby');
                  loading.close();
                  return _context2.abrupt("break", 29);
                case 29:
                case "end":
                  return _context2.stop();
              }
            }, _callee2);
          }));
          function _onSuccess(_x) {
            return _onSuccess2.apply(this, arguments);
          }
          return _onSuccess;
        }();
        return UIBtnLoadAvatar;
      }(Component), _descriptor = _applyDecoratedDescriptor(_class2.prototype, "btnLoadAvatar", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIButtonHelper.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './ArrayUtils.ts', './AudioManager.ts', './Enums.ts', './Decorators.ts', './ClassUtils.ts'], function (exports) {
  var _applyDecoratedDescriptor, _createClass, _initializerDefineProperty, cclegacy, _decorator, Button, Enum, Label, pArray, NSAudio, EAudioID, pDecorators, pClassUtils;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _createClass = module.createClass;
      _initializerDefineProperty = module.initializerDefineProperty;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Button = module.Button;
      Enum = module.Enum;
      Label = module.Label;
    }, function (module) {
      pArray = module.pArray;
    }, function (module) {
      NSAudio = module.NSAudio;
    }, function (module) {
      EAudioID = module.EAudioID;
    }, function (module) {
      pDecorators = module.pDecorators;
    }, function (module) {
      pClassUtils = module.pClassUtils;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4;
      cclegacy._RF.push({}, "22baa+aFwBHD76efl84MVpy", "UIButtonHelper", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var UIButtonHelper = exports('UIButtonHelper', (_dec = ccclass('UIButtonHelper'), _dec2 = property(Button), _dec3 = property(Button), _dec4 = property({
        type: Enum(EAudioID)
      }), _dec5 = property({
        min: 0,
        max: 1,
        slide: true
      }), _dec6 = property(Label), _dec(_class = (_class2 = /*#__PURE__*/function () {
        function UIButtonHelper() {
          _initializerDefineProperty(this, "_btn", _descriptor, this);
          _initializerDefineProperty(this, "id", _descriptor2, this);
          _initializerDefineProperty(this, "volume", _descriptor3, this);
          _initializerDefineProperty(this, "label", _descriptor4, this);
          this._onces = [];
          this._events = [];
        }
        var _proto = UIButtonHelper.prototype;
        _proto.init = function init(onces, events) {
          if (onces === void 0) {
            onces = [];
          }
          if (events === void 0) {
            events = [];
          }
          this.button.node.on(Button.EventType.CLICK, this._onClick, this);
          this._onces = pClassUtils.mapper(onces);
          this._events = pClassUtils.mapper(events);
          return this.button.node;
        };
        _proto.once = function once(event) {
          this._onces = pClassUtils.mapper(event);
        };
        _proto.bind = function bind(event) {
          var _this$_events;
          (_this$_events = this._events).push.apply(_this$_events, pClassUtils.mapper(event));
        };
        _proto.remove = function remove(event) {
          event = pArray.flatter(event);
          this._events = this._events.filter(function (handler) {
            return event.includes(handler);
          });
        };
        _proto._onClick = function _onClick() {
          pClassUtils.invoker(this._onces);
          pClassUtils.invoker(this._events);
          pDecorators.instance(NSAudio.Manager).play({
            id: this.id,
            volume: this.volume
          });
          this._onces = [];
        };
        _createClass(UIButtonHelper, [{
          key: "button",
          get: function get() {
            return this._btn;
          },
          set: function set(value) {
            this._btn = value;
            !!value && !this.label && (this.label = value.node.getComponentInChildren(Label));
          }
        }, {
          key: "string",
          set: function set(value) {
            if (!this.label) return;
            this.label.string = value;
          }
        }, {
          key: "active",
          set: function set(bool) {
            if (!this.button) return;
            this.button.node.active = bool;
          }
        }]);
        return UIButtonHelper;
      }(), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "_btn", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _applyDecoratedDescriptor(_class2.prototype, "button", [_dec3], Object.getOwnPropertyDescriptor(_class2.prototype, "button"), _class2.prototype), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "id", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return EAudioID.SFX_CLICK;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "volume", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return 0.5;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "label", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UICardConfig.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UICardInfo.ts', './UICardType.ts', './Decorators.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _createForOfIteratorHelperLoose, _createClass, cclegacy, _decorator, SpriteFrame, Color, Component, color, UICardInfo, NSCardType, pDecorators;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _createForOfIteratorHelperLoose = module.createForOfIteratorHelperLoose;
      _createClass = module.createClass;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      SpriteFrame = module.SpriteFrame;
      Color = module.Color;
      Component = module.Component;
      color = module.color;
    }, function (module) {
      UICardInfo = module.UICardInfo;
    }, function (module) {
      NSCardType = module.NSCardType;
    }, function (module) {
      pDecorators = module.pDecorators;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5;
      cclegacy._RF.push({}, "ae40aVVoapBSLj7DYP8AMew", "UICardConfig", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var singleton = pDecorators.singleton;
      var names = NSCardType.names,
        props = NSCardType.props;
      var UICardConfig = exports('UICardConfig', (_dec = ccclass('UICardConfig'), _dec2 = singleton(), _dec3 = property({
        type: SpriteFrame,
        group: {
          name: "Card",
          id: "1"
        }
      }), _dec4 = property({
        type: SpriteFrame,
        group: {
          name: "Card",
          id: "1"
        }
      }), _dec5 = property({
        type: [UICardInfo],
        readonly: true,
        group: {
          name: "Cards",
          id: "1"
        }
      }), _dec6 = property({
        type: [UICardInfo],
        readonly: true,
        group: {
          name: "Blurs",
          id: "1"
        }
      }), _dec7 = property({
        type: Color,
        group: {
          name: "Card",
          id: "1"
        }
      }), _dec(_class = _dec2(_class = (_class2 = /*#__PURE__*/function (_Component) {
        _inheritsLoose(UICardConfig, _Component);
        function UICardConfig() {
          var _this;
          _this = _Component.call(this) || this;
          _initializerDefineProperty(_this, "down", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "skip", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "cards", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "blurs", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lowlight", _descriptor5, _assertThisInitialized(_this));
          for (var _iterator = _createForOfIteratorHelperLoose(props), _step; !(_step = _iterator()).done;) {
            var prop = _step.value;
            for (var _iterator2 = _createForOfIteratorHelperLoose(names), _step2; !(_step2 = _iterator2()).done;) {
              var name = _step2.value;
              var card = new UICardInfo();
              card.init(name, prop, null);
              _this.cards.push(card);
              var blur = new UICardInfo();
              blur.init(name, prop, null);
              _this.blurs.push(blur);
            }
          }
          return _this;
        }
        var _proto = UICardConfig.prototype;
        _proto.onLoad = function onLoad() {};
        _proto.get = function get(data, isBlur) {
          if (isBlur === void 0) {
            isBlur = false;
          }
          return isBlur ? this.blurs.find(function (e) {
            return e.is(data);
          }) : this.cards.find(function (e) {
            return e.is(data);
          });
        };
        _proto.random = function random(isBlur) {
          if (isBlur === void 0) {
            isBlur = false;
          }
          var cards = isBlur ? this.blurs : this.cards;
          return cards[Math.floor(Math.random() * cards.length)];
        };
        _createClass(UICardConfig, null, [{
          key: "instance",
          get: function get() {
            return pDecorators.instance(UICardConfig);
          }
        }]);
        return UICardConfig;
      }(Component), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "down", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "skip", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "cards", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return [];
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "blurs", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return [];
        }
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "lowlight", [_dec7], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return color(255, 255, 255, 255);
        }
      })), _class2)) || _class) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UICardHand.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './FlippingCard.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _asyncToGenerator, _regeneratorRuntime, cclegacy, _decorator, Component, FlippingCard;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Component = module.Component;
    }, function (module) {
      FlippingCard = module.FlippingCard;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _class, _class2, _descriptor, _descriptor2;
      cclegacy._RF.push({}, "8b9a3asP0pPIIrIXpsHMPqm", "UICardHand", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var UICardHand = exports('UICardHand', (_dec = ccclass('UICardHand'), _dec2 = property([FlippingCard]), _dec3 = property({}), _dec(_class = (_class2 = /*#__PURE__*/function (_Component) {
        _inheritsLoose(UICardHand, _Component);
        function UICardHand() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _Component.call.apply(_Component, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "cards", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "player_side", _descriptor2, _assertThisInitialized(_this));
          return _this;
        }
        var _proto = UICardHand.prototype;
        _proto.show = /*#__PURE__*/function () {
          var _show = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(list) {
            var i, ret, card;
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  _context.t0 = _regeneratorRuntime().keys(list);
                case 1:
                  if ((_context.t1 = _context.t0()).done) {
                    _context.next = 9;
                    break;
                  }
                  i = _context.t1.value;
                  ret = list[i];
                  card = this.cards[i];
                  _context.next = 7;
                  return card.showCard(ret, {
                    duration: 0.5
                  });
                case 7:
                  _context.next = 1;
                  break;
                case 9:
                case "end":
                  return _context.stop();
              }
            }, _callee, this);
          }));
          function show(_x) {
            return _show.apply(this, arguments);
          }
          return show;
        }();
        _proto.hide = function hide() {};
        return UICardHand;
      }(Component), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "cards", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return [];
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "player_side", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return false;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UICardInfo.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc'], function (exports) {
  var _applyDecoratedDescriptor, _createClass, _initializerDefineProperty, cclegacy, _decorator, SpriteFrame, CCString;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _createClass = module.createClass;
      _initializerDefineProperty = module.initializerDefineProperty;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      SpriteFrame = module.SpriteFrame;
      CCString = module.CCString;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _class, _class2, _descriptor, _descriptor2, _descriptor3;
      cclegacy._RF.push({}, "7ef8eyBVx9Me5NYVE7D9alO", "UICardInfo", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var UICardInfo = exports('UICardInfo', (_dec = ccclass('UICardInfo'), _dec2 = property({
        readonly: true
      }), _dec3 = property({
        readonly: true
      }), _dec4 = property(SpriteFrame), _dec5 = property({
        type: CCString
      }), _dec(_class = (_class2 = /*#__PURE__*/function () {
        function UICardInfo() {
          _initializerDefineProperty(this, "rank", _descriptor, this);
          _initializerDefineProperty(this, "suit", _descriptor2, this);
          _initializerDefineProperty(this, "frame", _descriptor3, this);
        }
        var _proto = UICardInfo.prototype;
        _proto.is = function is(data) {
          return data == this.card;
        };
        _proto.init = function init(name, prop, frame) {
          this.rank = name;
          this.suit = prop;
          this.frame = frame;
        };
        _createClass(UICardInfo, [{
          key: "card",
          get: function get() {
            return "" + this.rank + this.suit;
          }
        }]);
        return UICardInfo;
      }(), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "rank", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return 'A';
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "suit", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return 'S';
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "frame", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _applyDecoratedDescriptor(_class2.prototype, "card", [_dec5], Object.getOwnPropertyDescriptor(_class2.prototype, "card"), _class2.prototype)), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UICardItem.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './StringUtils.ts', './EventManager.ts', './GlobalConfig.ts', './GameManager.ts', './LanguageManager.ts', './ResponeCode.ts', './AssetManager.ts', './ComponentUtils.ts', './ShopCommand.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _asyncToGenerator, _regeneratorRuntime, cclegacy, _decorator, Label, Sprite, ScrollView, Node, Component, instantiate, sys, pStringUtils, pEventManager, GlobalConfig, GameManager, LanguageMananger, ResponseCode, NSAsset, pComponentUtils, request;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Label = module.Label;
      Sprite = module.Sprite;
      ScrollView = module.ScrollView;
      Node = module.Node;
      Component = module.Component;
      instantiate = module.instantiate;
      sys = module.sys;
    }, function (module) {
      pStringUtils = module.pStringUtils;
    }, function (module) {
      pEventManager = module.pEventManager;
    }, function (module) {
      GlobalConfig = module.default;
    }, function (module) {
      GameManager = module.GameManager;
    }, function (module) {
      LanguageMananger = module.LanguageMananger;
    }, function (module) {
      ResponseCode = module.ResponseCode;
    }, function (module) {
      NSAsset = module.NSAsset;
    }, function (module) {
      pComponentUtils = module.pComponentUtils;
    }, function (module) {
      request = module.default;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9;
      cclegacy._RF.push({}, "dea1fB+5lFE/YnF54DrxLvb", "UICardItem", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var UICardItem = exports('UICardItem', (_dec = ccclass('UICardItem'), _dec2 = property(Label), _dec3 = property(Sprite), _dec4 = property({
        group: 'Button',
        type: Label
      }), _dec5 = property({
        group: 'Button',
        type: Sprite
      }), _dec6 = property({
        group: 'Button',
        type: Sprite
      }), _dec7 = property({
        group: 'Button',
        type: Sprite
      }), _dec8 = property({
        group: 'Button',
        type: Sprite
      }), _dec9 = property(ScrollView), _dec10 = property(Node), _dec(_class = (_class2 = /*#__PURE__*/function (_Component) {
        _inheritsLoose(UICardItem, _Component);
        function UICardItem() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _Component.call.apply(_Component, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "lbName", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "spCard", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbNumberPay", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "spPayIconDiamond", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "spPayIconUSD", _descriptor5, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "spPayIconChip", _descriptor6, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "spPayIconCoin", _descriptor7, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "desScrView", _descriptor8, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lineDes", _descriptor9, _assertThisInitialized(_this));
          _this._data = null;
          return _this;
        }
        var _proto = UICardItem.prototype;
        _proto.init = /*#__PURE__*/function () {
          var _init = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(data) {
            var _this2 = this;
            var icon, currency, _frame, _des;
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  this._data = data;
                  icon = data.icon, currency = data.currency;
                  _context.next = 4;
                  return NSAsset.instance().get(icon);
                case 4:
                  _frame = _context.sent;
                  this.spCard.spriteFrame = _frame;
                  pComponentUtils.actFrameScaler(this.spCard, _frame.texture);
                  this.spCard.node.active = true;
                  this.lbName.string = data.item_name;
                  this.lbNumberPay.string = pStringUtils.formatNumberKMB(Number(this._data.price));
                  _context.t0 = currency;
                  _context.next = _context.t0 === 'CHIP' ? 13 : _context.t0 === 'USD' ? 15 : _context.t0 === 'VND' ? 16 : _context.t0 === 'DIAMOND' ? 18 : _context.t0 === 'COIN' ? 20 : 22;
                  break;
                case 13:
                  this.spPayIconChip.node.active = true;
                  return _context.abrupt("break", 22);
                case 15:
                  this.spPayIconUSD.node.active = true;
                case 16:
                  this.spPayIconUSD.node.active = true;
                  return _context.abrupt("break", 22);
                case 18:
                  this.spPayIconDiamond.node.active = true;
                  return _context.abrupt("break", 22);
                case 20:
                  this.spPayIconCoin.node.active = true;
                  return _context.abrupt("break", 22);
                case 22:
                  _des = data.description.split(';');
                  this.desScrView.content.removeAllChildren();
                  _des.forEach(function (desLine) {
                    var _text = desLine.trim();
                    if (_text.length > 0) {
                      var _node = instantiate(_this2.lineDes);
                      _this2.desScrView.content.addChild(_node);
                      _node.getComponent(Label).string = _text;
                      _node.active = true;
                    }
                  });
                  this.desScrView.scrollToTop();
                case 26:
                case "end":
                  return _context.stop();
              }
            }, _callee, this);
          }));
          function init(_x) {
            return _init.apply(this, arguments);
          }
          return init;
        }();
        _proto.onButtonClick = /*#__PURE__*/function () {
          var _onButtonClick = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {
            var chip, coin, diamond, plaform, res, mess;
            return _regeneratorRuntime().wrap(function _callee2$(_context2) {
              while (1) switch (_context2.prev = _context2.next) {
                case 0:
                  if (!(this._data.currency !== 'USD' && this._data.currency !== 'VND')) {
                    _context2.next = 25;
                    break;
                  }
                  if (!(this._data.currency === 'CHIP')) {
                    _context2.next = 6;
                    break;
                  }
                  chip = GlobalConfig.instance.Login.player.information.balance;
                  if (!(chip === undefined || chip < Number(this._data.price))) {
                    _context2.next = 6;
                    break;
                  }
                  GameManager.Instance.showToastNotice(LanguageMananger.instance.getString('text_not_enough_chip'));
                  return _context2.abrupt("return");
                case 6:
                  if (!(this._data.currency === 'COIN')) {
                    _context2.next = 11;
                    break;
                  }
                  coin = GlobalConfig.instance.Login.player.otherBalance.coinBalance;
                  if (!(coin === undefined || coin < Number(this._data.price))) {
                    _context2.next = 11;
                    break;
                  }
                  GameManager.Instance.showToastNotice(LanguageMananger.instance.getString('text_not_enough_coin'));
                  return _context2.abrupt("return");
                case 11:
                  if (!(this._data.currency === 'DIAMOND')) {
                    _context2.next = 17;
                    break;
                  }
                  // console.log("On buy click { diamond:", GlobalConfig.instance.Login.player.information.diamond, ", price:", Number(this._data.price));
                  diamond = GlobalConfig.instance.Login.player.otherBalance.diamondBalance;
                  if (!(diamond === undefined || diamond < Number(this._data.price))) {
                    _context2.next = 17;
                    break;
                  }
                  GameManager.Instance.showToastNotice(LanguageMananger.instance.getString('text_not_enough_diamond'));
                  pEventManager.invoke('go_to_diamond_shop_page');
                  return _context2.abrupt("return");
                case 17:
                  plaform = sys.os === sys.OS.IOS ? 'iOS' : sys.os === sys.OS.ANDROID ? 'Android' : 'Web';
                  _context2.next = 20;
                  return request('buyItem', {
                    item_id: this._data.id,
                    platform: plaform
                  });
                case 20:
                  res = _context2.sent;
                  mess = res.message;
                  if (res.code === ResponseCode.SUCCESS) {
                    GameManager.Instance.showToastNotice(LanguageMananger.instance.getString('text_buy_success'));
                  } else {
                    mess && GameManager.Instance.showToastNotice(mess);
                  }
                  _context2.next = 25;
                  break;
                case 25:
                case "end":
                  return _context2.stop();
              }
            }, _callee2, this);
          }));
          function onButtonClick() {
            return _onButtonClick.apply(this, arguments);
          }
          return onButtonClick;
        }();
        return UICardItem;
      }(Component), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "lbName", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "spCard", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "lbNumberPay", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "spPayIconDiamond", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "spPayIconUSD", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, "spPayIconChip", [_dec7], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor7 = _applyDecoratedDescriptor(_class2.prototype, "spPayIconCoin", [_dec8], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor8 = _applyDecoratedDescriptor(_class2.prototype, "desScrView", [_dec9], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor9 = _applyDecoratedDescriptor(_class2.prototype, "lineDes", [_dec10], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UICardManager.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './FlippingCard.ts', './EventDriver.ts', './Decorators.ts', './EventManager.ts'], function (exports) {
  var _inheritsLoose, _createForOfIteratorHelperLoose, _createClass, _applyDecoratedDescriptor, _initializerDefineProperty, _assertThisInitialized, _asyncToGenerator, _regeneratorRuntime, cclegacy, _decorator, FlippingCard, NSEventDriver, pDecorators, pEventManager;
  return {
    setters: [function (module) {
      _inheritsLoose = module.inheritsLoose;
      _createForOfIteratorHelperLoose = module.createForOfIteratorHelperLoose;
      _createClass = module.createClass;
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
    }, function (module) {
      FlippingCard = module.FlippingCard;
    }, function (module) {
      NSEventDriver = module.NSEventDriver;
    }, function (module) {
      pDecorators = module.pDecorators;
    }, function (module) {
      pEventManager = module.pEventManager;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _class, _class2, _descriptor, _descriptor2, _descriptor3;
      cclegacy._RF.push({}, "728f7kHQBdC5rlKC/2EYu1S", "UICardManager", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var UICardManager = exports('UICardManager', (_dec = ccclass('UICardManager'), _dec2 = pDecorators.logger(), _dec3 = property([FlippingCard]), _dec4 = property([FlippingCard]), _dec5 = property({}), _dec6 = property({
        min: 0
      }), _dec(_class = _dec2(_class = (_class2 = /*#__PURE__*/function (_NSEventDriver$Compon) {
        _inheritsLoose(UICardManager, _NSEventDriver$Compon);
        function UICardManager() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _NSEventDriver$Compon.call.apply(_NSEventDriver$Compon, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "_cards", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "only_this", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "show_duration", _descriptor3, _assertThisInitialized(_this));
          _this._done = 0;
          _this._onCardDone = null;
          _this._eventHandlers = [['onLeaveTable', _this._onLeaveTable, _assertThisInitialized(_this)], ['onClearTable', _this._onClearTable, _assertThisInitialized(_this)], ['disconnect', _this._onLeaveTable, _assertThisInitialized(_this)]];
          _this._isAllDone = false;
          _this._showSyner = null;
          return _this;
        }
        var _proto = UICardManager.prototype;
        _proto.onLoad = function onLoad() {
          pEventManager.on(this._eventHandlers);
        };
        _proto.onDestroy = function onDestroy() {
          pEventManager.off(this._eventHandlers);
        };
        _proto._onClearTable = function _onClearTable() {
          this.reset();
        };
        _proto._onJoinTable = function _onJoinTable(msg) {
          var route = msg.route;
          if (route !== 'onJoinTable') return;
        };
        _proto.reset = function reset() {
          this._done = 0;
          this._isAllDone = false;
          this.hide();
          this.setMat(null);
        };
        _proto.highlight = function highlight(hl, isCommunity) {
          if (!(hl != null && hl.length) && !isCommunity) {
            this.cards.forEach(function (card) {
              return card.highlight('hightlight');
            });
            return;
          }
          this.cards.forEach(function (card) {
            return card.highlight(card.iss(hl) ? 'hightlight' : 'lowlight');
          });
        };
        _proto._onEndTurn = function _onEndTurn(msg) {
          if (msg.route !== 'onEndTurn') return;
        };
        _proto._onLeaveTable = function _onLeaveTable() {
          this.reset();
        };
        _proto._onTableEvent = function _onTableEvent(msg) {
          if (msg.route !== 'onTableEvent') return;
        };
        _proto.onEnable = function onEnable() {
          var _this2 = this;
          if (!this.only_this) return;
          this._onCardDone = function (_self) {
            _this2._done++;
            if (_this2._done >= _this2._cards.length) {
              _this2._done = 0;
              _this2._isAllDone = true;
              _this2.invoke('onDoneShowAll', _this2._cards.map(function (card) {
                return card.savedCard;
              }));
            }
          };
          for (var _iterator = _createForOfIteratorHelperLoose(this._cards), _step; !(_step = _iterator()).done;) {
            var ret = _step.value;
            ret.add('OnDoneScaleUp', this._onCardDone);
          }
        };
        _proto.isAllDone = function isAllDone() {
          return this._isAllDone ? (this.reset(), true) : false;
        };
        _proto.show = /*#__PURE__*/function () {
          var _show = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(list, isScaleDown, duration) {
            var _this3 = this;
            var pass;
            return _regeneratorRuntime().wrap(function _callee2$(_context2) {
              while (1) switch (_context2.prev = _context2.next) {
                case 0:
                  if (duration === void 0) {
                    duration = this.show_duration;
                  }
                  list = list || [];
                  if (this._showSyner) {
                    this._showSyner(false);
                    this._showSyner = null;
                  }
                  _context2.next = 5;
                  return new Promise( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(rs) {
                    var i, ret, card;
                    return _regeneratorRuntime().wrap(function _callee$(_context) {
                      while (1) switch (_context.prev = _context.next) {
                        case 0:
                          _this3._showSyner = rs;
                          i = 0;
                        case 2:
                          if (!(i < list.length)) {
                            _context.next = 10;
                            break;
                          }
                          ret = list[i];
                          card = _this3.cards[i];
                          _context.next = 7;
                          return card.showCard(ret, {
                            duration: duration
                          }, true, isScaleDown);
                        case 7:
                          i++;
                          _context.next = 2;
                          break;
                        case 10:
                          rs(true);
                          _this3._showSyner = null;
                        case 12:
                        case "end":
                          return _context.stop();
                      }
                    }, _callee);
                  })));
                case 5:
                  pass = _context2.sent;
                  pass && this.invoke('onDoneShow', list);
                case 7:
                case "end":
                  return _context2.stop();
              }
            }, _callee2, this);
          }));
          function show(_x, _x2, _x3) {
            return _show.apply(this, arguments);
          }
          return show;
        }();
        _proto.showBack = function showBack() {
          this.cards.forEach(function (card) {
            return card.onHand();
          });
        };
        _proto.setMat = function setMat(material) {
          this.cards.forEach(function (card) {
            return card.target.customMaterial = material;
          });
        };
        _proto.setColor = function setColor(color) {
          this.cards.forEach(function (card) {
            return card.target.color = color;
          });
        };
        _proto.showSkip = function showSkip() {
          this.cards.forEach(function (ret) {
            return ret.showSkip();
          });
        };
        _proto.hide = /*#__PURE__*/function () {
          var _hide = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {
            var _iterator2, _step2, ret;
            return _regeneratorRuntime().wrap(function _callee3$(_context3) {
              while (1) switch (_context3.prev = _context3.next) {
                case 0:
                  _iterator2 = _createForOfIteratorHelperLoose(this.cards);
                case 1:
                  if ((_step2 = _iterator2()).done) {
                    _context3.next = 8;
                    break;
                  }
                  ret = _step2.value;
                  _context3.next = 5;
                  return ret.hide();
                case 5:
                  this.invoke('onHide', ret);
                case 6:
                  _context3.next = 1;
                  break;
                case 8:
                  this.invoke('onDoneHideAll');
                case 9:
                case "end":
                  return _context3.stop();
              }
            }, _callee3, this);
          }));
          function hide() {
            return _hide.apply(this, arguments);
          }
          return hide;
        }();
        _createClass(UICardManager, [{
          key: "cards",
          get: function get() {
            if (this._cards.length <= 0) this.cards = this.getComponentsInChildren(FlippingCard);
            return this._cards;
          },
          set: function set(v) {
            this._cards = v;
          }
        }, {
          key: "card",
          get: function get() {
            return this.cards.map(function (c) {
              return c.card;
            });
          }
        }]);
        return UICardManager;
      }(NSEventDriver.Component), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "_cards", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return [];
        }
      }), _applyDecoratedDescriptor(_class2.prototype, "cards", [_dec4], Object.getOwnPropertyDescriptor(_class2.prototype, "cards"), _class2.prototype), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "only_this", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return false;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "show_duration", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return 0.3;
        }
      })), _class2)) || _class) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UICardsDealer.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './MathUtils.ts', './ComponentUtils.ts', './AsyncUtils.ts', './StringUtils.ts', './EventDriver.ts', './Decorators.ts', './UIGamePlay.ts', './EventManager.ts', './AudioManager.ts', './Enums.ts'], function (exports) {
  var _inheritsLoose, _asyncToGenerator, _regeneratorRuntime, _applyDecoratedDescriptor, _initializerDefineProperty, _assertThisInitialized, _createForOfIteratorHelperLoose, cclegacy, Node, Prefab, CCInteger, NodePool, instantiate, _decorator, v3, UITransform, Vec3, tween, pMathUtils, pComponentUtils, pAsyncUtils, pStringUtils, NSEventDriver, pDecorators, UIGamePlay, pEventManager, NSAudio, EAudioID;
  return {
    setters: [function (module) {
      _inheritsLoose = module.inheritsLoose;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _createForOfIteratorHelperLoose = module.createForOfIteratorHelperLoose;
    }, function (module) {
      cclegacy = module.cclegacy;
      Node = module.Node;
      Prefab = module.Prefab;
      CCInteger = module.CCInteger;
      NodePool = module.NodePool;
      instantiate = module.instantiate;
      _decorator = module._decorator;
      v3 = module.v3;
      UITransform = module.UITransform;
      Vec3 = module.Vec3;
      tween = module.tween;
    }, function (module) {
      pMathUtils = module.pMathUtils;
    }, function (module) {
      pComponentUtils = module.pComponentUtils;
    }, function (module) {
      pAsyncUtils = module.pAsyncUtils;
    }, function (module) {
      pStringUtils = module.pStringUtils;
    }, function (module) {
      NSEventDriver = module.NSEventDriver;
    }, function (module) {
      pDecorators = module.pDecorators;
    }, function (module) {
      UIGamePlay = module.default;
    }, function (module) {
      pEventManager = module.pEventManager;
    }, function (module) {
      NSAudio = module.NSAudio;
    }, function (module) {
      EAudioID = module.EAudioID;
    }],
    execute: function () {
      exports('NSCardsDealer', void 0);
      cclegacy._RF.push({}, "02f03lDEjtOjLsEHjKOzprQ", "UICardsDealer", undefined);
      var _cc$_decorator = _decorator,
        ccclass = _cc$_decorator.ccclass,
        property = _cc$_decorator.property;
      var NSCardsDealer;
      (function (_NSCardsDealer, _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5) {
        var Component = (_dec = ccclass('NSCardsDealer.Component'), _dec2 = pDecorators.singleton(), _dec3 = property({
          type: Node
        }), _dec4 = property({
          type: Prefab
        }), _dec5 = property({
          min: 0,
          type: CCInteger
        }), _dec6 = property({}), _dec7 = property({}), _dec(_class = _dec2(_class = (_class2 = /*#__PURE__*/function (_NSEventDriver$Compon) {
          _inheritsLoose(Component, _NSEventDriver$Compon);
          function Component() {
            var _this;
            for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
              args[_key] = arguments[_key];
            }
            _this = _NSEventDriver$Compon.call.apply(_NSEventDriver$Compon, [this].concat(args)) || this;
            _initializerDefineProperty(_this, "root", _descriptor, _assertThisInitialized(_this));
            _initializerDefineProperty(_this, "cloner", _descriptor2, _assertThisInitialized(_this));
            _initializerDefineProperty(_this, "size", _descriptor3, _assertThisInitialized(_this));
            _initializerDefineProperty(_this, "fromScaler", _descriptor4, _assertThisInitialized(_this));
            _initializerDefineProperty(_this, "toScaler", _descriptor5, _assertThisInitialized(_this));
            _this._pool = null;
            _this._events = [['onNewGame', _this._onNewGame, _assertThisInitialized(_this), 99]];
            _this._tweens = [];
            _this._cid = pStringUtils.uuid();
            _this._waiter = null;
            return _this;
          }
          var _proto = Component.prototype;
          _proto.onLoad = function onLoad() {
            var _this$_pool;
            (_this$_pool = this._pool) != null ? _this$_pool : this._pool = new NodePool();
            for (var i = 0; i < this.size; i++) {
              var card = instantiate(this.cloner);
              this._pool.put(card);
            }
            pEventManager.on(this._events);
          };
          _proto.onDestroy = function onDestroy() {
            pEventManager.off(this._events);
            this._pool.clear();
          };
          _proto.deal = /*#__PURE__*/function () {
            var _deal = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(targets, duration, delay) {
              var _this2 = this;
              var _loop, _iterator, _step;
              return _regeneratorRuntime().wrap(function _callee$(_context2) {
                while (1) switch (_context2.prev = _context2.next) {
                  case 0:
                    if (duration === void 0) {
                      duration = 0.25;
                    }
                    if (delay === void 0) {
                      delay = 0.5;
                    }
                    _context2.prev = 2;
                    _loop = /*#__PURE__*/_regeneratorRuntime().mark(function _loop() {
                      var _this2$root;
                      var target, _node, node, _transform, wtp, wsp, angle, position;
                      return _regeneratorRuntime().wrap(function _loop$(_context) {
                        while (1) switch (_context.prev = _context.next) {
                          case 0:
                            target = _step.value;
                            if (target) {
                              _context.next = 3;
                              break;
                            }
                            return _context.abrupt("return", 1);
                          case 3:
                            _node = target instanceof Node ? target : target.node;
                            node = _this2._pool.get();
                            _transform = pComponentUtils.getSafeComponent(_this2.root, UITransform);
                            (_this2$root = _this2.root) == null || _this2$root.addChild(node);
                            node.setPosition(Vec3.ZERO);
                            node.setScale(_this2.fromScaler);
                            wtp = _node.getWorldPosition();
                            wsp = node.getWorldPosition();
                            angle = pMathUtils.NSAngle.between(wtp, wsp, 'Ox', 'degree');
                            node.angle = angle;
                            position = _transform.convertToNodeSpaceAR(wtp);
                            _this2._tweens.push(tween(node).to(duration, {
                              position: position,
                              scale: _this2.toScaler
                            }).call(function () {
                              _this2.invoke('onDeal');
                              _this2._pool.put(node);
                              node.removeFromParent();
                            }).start());
                            _context.next = 17;
                            return pAsyncUtils.wait({
                              id: _this2._cid,
                              time: delay
                            });
                          case 17:
                          case "end":
                            return _context.stop();
                        }
                      }, _loop);
                    });
                    _iterator = _createForOfIteratorHelperLoose(targets);
                  case 5:
                    if ((_step = _iterator()).done) {
                      _context2.next = 11;
                      break;
                    }
                    return _context2.delegateYield(_loop(), "t0", 7);
                  case 7:
                    if (!_context2.t0) {
                      _context2.next = 9;
                      break;
                    }
                    return _context2.abrupt("continue", 9);
                  case 9:
                    _context2.next = 5;
                    break;
                  case 11:
                    _context2.next = 16;
                    break;
                  case 13:
                    _context2.prev = 13;
                    _context2.t1 = _context2["catch"](2);
                    console.warn("Error in deal: " + _context2.t1);
                  case 16:
                  case "end":
                    return _context2.stop();
                }
              }, _callee, null, [[2, 13]]);
            }));
            function deal(_x, _x2, _x3) {
              return _deal.apply(this, arguments);
            }
            return deal;
          }();
          _proto.getWaiter = function getWaiter() {
            return this._waiter;
          };
          _proto._onNewGame = function _onNewGame(players, ante) {
            var _this3 = this;
            this._waiter = new Promise( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(_rs) {
              var _gp, _items, _waiters;
              return _regeneratorRuntime().wrap(function _callee2$(_context3) {
                while (1) switch (_context3.prev = _context3.next) {
                  case 0:
                    _gp = pDecorators.instance(UIGamePlay);
                    _context3.t0 = ante > 0;
                    if (!_context3.t0) {
                      _context3.next = 5;
                      break;
                    }
                    _context3.next = 5;
                    return pAsyncUtils.wait(0.15);
                  case 5:
                    _items = players.map(function (_player) {
                      return _gp.getPlayerByUserName(_player);
                    });
                    _waiters = _items.map(function (_item) {
                      return (_item == null ? void 0 : _item.waitShowAnte()) || null;
                    });
                    _context3.next = 9;
                    return Promise.all(_waiters);
                  case 9:
                    _context3.next = 11;
                    return pAsyncUtils.wait(0.1);
                  case 11:
                    pDecorators.instance(NSAudio.Manager).play(EAudioID.SFX_PUT_CARDS);
                    _context3.next = 14;
                    return _this3.deal(_items, 0.25, 0.15);
                  case 14:
                    _context3.next = 16;
                    return _this3.deal(_items, 0.25, 0.15);
                  case 16:
                    _rs();
                  case 17:
                  case "end":
                    return _context3.stop();
                }
              }, _callee2);
            })));
          };
          _proto.setNewGame = function setNewGame(players, ante, getPlayer) {
            var _this4 = this;
            return new Promise( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(_rs) {
              var _items, _waiters;
              return _regeneratorRuntime().wrap(function _callee3$(_context4) {
                while (1) switch (_context4.prev = _context4.next) {
                  case 0:
                    _context4.t0 = ante > 0;
                    if (!_context4.t0) {
                      _context4.next = 4;
                      break;
                    }
                    _context4.next = 4;
                    return pAsyncUtils.wait(0.15);
                  case 4:
                    _items = players.map(function (_player) {
                      return getPlayer(_player);
                    });
                    _waiters = _items.map(function (_item) {
                      return (_item == null ? void 0 : _item.waitShowAnte()) || null;
                    });
                    _context4.next = 8;
                    return Promise.all(_waiters);
                  case 8:
                    _context4.next = 10;
                    return pAsyncUtils.wait(0.1);
                  case 10:
                    pDecorators.instance(NSAudio.Manager).play(EAudioID.SFX_PUT_CARDS);
                    _context4.next = 13;
                    return _this4.deal(_items, 0.25, 0.15);
                  case 13:
                    _context4.next = 15;
                    return _this4.deal(_items, 0.25, 0.15);
                  case 15:
                    _rs();
                  case 16:
                  case "end":
                    return _context4.stop();
                }
              }, _callee3);
            })));
          };
          return Component;
        }(NSEventDriver.Component), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "root", [_dec3], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return null;
          }
        }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "cloner", [_dec4], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return null;
          }
        }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "size", [_dec5], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return 20;
          }
        }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "fromScaler", [_dec6], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return v3(0, 0, 0);
          }
        }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "toScaler", [_dec7], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return v3(1, 1, 1);
          }
        })), _class2)) || _class) || _class);
        _NSCardsDealer.Component = Component;
      })(NSCardsDealer || (NSCardsDealer = exports('NSCardsDealer', {})));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UICardsPage.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIShopPage.ts', './UICardItem.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, cclegacy, _decorator, ScrollView, Prefab, instantiate, UIShopPage, UICardItem;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      ScrollView = module.ScrollView;
      Prefab = module.Prefab;
      instantiate = module.instantiate;
    }, function (module) {
      UIShopPage = module.UIShopPage;
    }, function (module) {
      UICardItem = module.UICardItem;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _class, _class2, _descriptor, _descriptor2;
      cclegacy._RF.push({}, "6109deveX9Lobsh0uC1Q1n+", "UICardsPage", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var UICardsPage = exports('UICardsPage', (_dec = ccclass('UICardsPage'), _dec2 = property(ScrollView), _dec3 = property(Prefab), _dec(_class = (_class2 = /*#__PURE__*/function (_UIShopPage) {
        _inheritsLoose(UICardsPage, _UIShopPage);
        function UICardsPage() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIShopPage.call.apply(_UIShopPage, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "scrView", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "itemPrefab", _descriptor2, _assertThisInitialized(_this));
          return _this;
        }
        var _proto = UICardsPage.prototype;
        _proto.init = function init(_data) {
          this.scrView.content.removeAllChildren();
          this._load(_data);
        };
        _proto._load = function _load(items) {
          var _this2 = this;
          this.scrView.content.removeAllChildren();
          var _data = items.map(function (_item) {
            return _item.items;
          }).flat();
          _data.forEach(function (_data) {
            var _node$getComponent;
            var _node = instantiate(_this2.itemPrefab);
            _this2.scrView.content.addChild(_node);
            (_node$getComponent = _node.getComponent(UICardItem)) == null || _node$getComponent.init(_data);
          });
        };
        return UICardsPage;
      }(UIShopPage), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "scrView", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "itemPrefab", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UICardType.ts", ['cc'], function (exports) {
  var cclegacy, Enum;
  return {
    setters: [function (module) {
      cclegacy = module.cclegacy;
      Enum = module.Enum;
    }],
    execute: function () {
      exports('NSCardType', void 0);
      cclegacy._RF.push({}, "329cfNcroxIuITaJGJSoc+4", "UICardType", undefined);
      var NSCardType;
      (function (_NSCardType) {
        var names = _NSCardType.names = ["2", "3", "4", "5", "6", "7", "8", "9", "T", "J", "Q", "K", "A"];
        var props = _NSCardType.props = ["S", "H", "D", "C"];
        var cards = _NSCardType.cards = names.reduce(function (_acc, _card) {
          return _acc.push.apply(_acc, props.map(function (_prop) {
            return "" + _card + _prop;
          })), _acc;
        }, []);
        var decks = _NSCardType.decks = names.reduce(function (acc, rank) {
          return acc.concat(props.map(function (suit) {
            return {
              rank: rank,
              suit: suit
            };
          }));
        }, []);
        var royals = _NSCardType.royals = ['T', 'J', 'Q', 'K', 'A'];
        var EDeck = _NSCardType.EDeck = cards.reduce(function (_acc, _card, _index) {
          return _acc[_card] = _index, _acc;
        }, {});
        var CCEDeck = _NSCardType.CCEDeck = Enum(EDeck);
        function from(number) {
          return cards[number];
        }
        _NSCardType.from = from;
        function extract(card) {
          var rank = card.slice(0, -1);
          var suit = card.slice(-1);
          return {
            rank: rank,
            suit: suit
          };
        }
        _NSCardType.extract = extract;
      })(NSCardType || (NSCardType = exports('NSCardType', {})));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIChatBox.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, cclegacy, _decorator, UIOpacity, Sprite, SpriteFrame, Label, UITransform, tween, Component;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      UIOpacity = module.UIOpacity;
      Sprite = module.Sprite;
      SpriteFrame = module.SpriteFrame;
      Label = module.Label;
      UITransform = module.UITransform;
      tween = module.tween;
      Component = module.Component;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4;
      cclegacy._RF.push({}, "41216KC0GJJH4w5bRr862x/", "UIChatBox", undefined);
      var property = _decorator.property,
        ccclass = _decorator.ccclass,
        requireComponent = _decorator.requireComponent;
      var _MaxLength = 140;
      var UIChatBox = exports('UIChatBox', (_dec = ccclass('UIChatBox'), _dec2 = requireComponent(UIOpacity), _dec3 = property(Sprite), _dec4 = property(SpriteFrame), _dec5 = property(SpriteFrame), _dec6 = property(Label), _dec(_class = _dec2(_class = (_class2 = /*#__PURE__*/function (_Component) {
        _inheritsLoose(UIChatBox, _Component);
        function UIChatBox() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _Component.call.apply(_Component, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "view", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "leftView", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "rightView", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "message", _descriptor4, _assertThisInitialized(_this));
          _this._tweens = [];
          return _this;
        }
        var _proto = UIChatBox.prototype;
        _proto.setChat = function setChat(msg, show_duration) {
          var _this2 = this;
          if (show_duration === void 0) {
            show_duration = 2;
          }
          this._tweens.forEach(function (t) {
            return t.stop();
          });
          this.unscheduleAllCallbacks();
          var _opacity = this.node.getComponent(UIOpacity);
          this.message.string = msg;
          this.message.overflow = Label.Overflow.NONE;
          this.message.updateRenderData(true);
          var labelUITransform = this.message.node.getComponent(UITransform);
          var nodeUITransform = this.node.getComponent(UITransform);
          nodeUITransform.contentSize.set(labelUITransform.contentSize.width + 20, nodeUITransform.contentSize.height);
          if (labelUITransform.contentSize.width > _MaxLength) {
            this.message.overflow = Label.Overflow.RESIZE_HEIGHT;
            nodeUITransform.contentSize.set(_MaxLength + 20, nodeUITransform.contentSize.height);
            this.message.node.getComponent(UITransform).contentSize.set(_MaxLength, labelUITransform.height);
          }
          this.message.updateRenderData(true);
          this.scheduleOnce(function () {
            return _this2._tweens.push(tween(_opacity).to(0.5, {
              opacity: 0
            }).call(function () {
              return _this2.node.removeFromParent();
            }).start());
          }, show_duration);
        };
        _proto.removeSelf = function removeSelf() {
          this._tweens.forEach(function (t) {
            return t.stop();
          });
          this.unscheduleAllCallbacks();
          this.node.removeFromParent();
        };
        return UIChatBox;
      }(Component), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "view", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "leftView", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "rightView", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "message", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIChatItem.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, cclegacy, _decorator, Layout, Label, CCFloat, Sprite, UITransform, Component;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Layout = module.Layout;
      Label = module.Label;
      CCFloat = module.CCFloat;
      Sprite = module.Sprite;
      UITransform = module.UITransform;
      Component = module.Component;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6;
      cclegacy._RF.push({}, "3bfb57UwHdNc4xEeeo0HmlP", "UIChatItem", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var UIChatItem = exports('UIChatItem', (_dec = ccclass('UIChatItem'), _dec2 = property(Layout), _dec3 = property(Label), _dec4 = property({
        type: CCFloat
      }), _dec5 = property(Sprite), _dec6 = property({
        type: CCFloat
      }), _dec7 = property({
        type: CCFloat
      }), _dec(_class = (_class2 = /*#__PURE__*/function (_Component) {
        _inheritsLoose(UIChatItem, _Component);
        function UIChatItem() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _Component.call.apply(_Component, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "labelBackgroundLayout", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "label", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "labelMaxLength", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "emoji", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "paddingRight", _descriptor5, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "paddingLeft", _descriptor6, _assertThisInitialized(_this));
          _this.playerData = void 0;
          return _this;
        }
        var _proto = UIChatItem.prototype;
        _proto.setData = function setData(_playerData, text) {
          this.playerData = _playerData;
          if (this.emoji) this.emoji.node.active = false;
          this.labelBackgroundLayout.node.active = true;
          this.label.string = text;
          this.label.updateRenderData(true);
          var labelUITransform = this.label.node.getComponent(UITransform);
          var backgroundUITransform = this.labelBackgroundLayout.node.getComponent(UITransform);
          var nodeUITransform = this.node.getComponent(UITransform);
          // let padding = Math.abs(this.label.node.position.x);
          if (labelUITransform.contentSize.width + this.paddingRight + this.paddingLeft > this.labelMaxLength) {
            this.label.overflow = Label.Overflow.RESIZE_HEIGHT;
            labelUITransform.contentSize.set(this.labelMaxLength + this.paddingRight + this.paddingLeft, labelUITransform.contentSize.height);
            this.label.updateRenderData(true);
          }
          backgroundUITransform.contentSize.set(labelUITransform.contentSize.width + this.paddingRight + this.paddingLeft, backgroundUITransform.contentSize.height);
          this.labelBackgroundLayout.updateLayout();
          nodeUITransform.contentSize.set(nodeUITransform.contentSize.width, labelUITransform.contentSize.height + this.labelBackgroundLayout.paddingTop + this.labelBackgroundLayout.paddingBottom);
        };
        _proto.setEmoji = function setEmoji(_playerData, sp) {
          this.playerData = _playerData;
          if (!this.emoji) return;
          this.emoji.spriteFrame = sp;
          this.labelBackgroundLayout.node.active = false;
          this.emoji.node.active = true;
        };
        _proto.onEnable = function onEnable() {};
        return UIChatItem;
      }(Component), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "labelBackgroundLayout", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "label", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "labelMaxLength", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return 0;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "emoji", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "paddingRight", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return 0;
        }
      }), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, "paddingLeft", [_dec7], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return 0;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIChatRuntime.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './EventManager.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, cclegacy, _decorator, RichText, Layout, CCInteger, TweenSystem, v3, tween, Node, UITransform, Label, Component, pEventManager;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      RichText = module.RichText;
      Layout = module.Layout;
      CCInteger = module.CCInteger;
      TweenSystem = module.TweenSystem;
      v3 = module.v3;
      tween = module.tween;
      Node = module.Node;
      UITransform = module.UITransform;
      Label = module.Label;
      Component = module.Component;
    }, function (module) {
      pEventManager = module.pEventManager;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _class, _class2, _descriptor, _descriptor2, _descriptor3;
      cclegacy._RF.push({}, "a56505nFKtEtYAKZJivzTsI", "UIChatRuntime", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var UIChatRuntime = exports('UIChatRuntime', (_dec = ccclass('UIChatRuntime'), _dec2 = property(RichText), _dec3 = property(Layout), _dec4 = property({
        type: CCInteger,
        tooltip: 'Timeout to close chat in second'
      }), _dec(_class = (_class2 = /*#__PURE__*/function (_Component) {
        _inheritsLoose(UIChatRuntime, _Component);
        function UIChatRuntime() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _Component.call.apply(_Component, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "content", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "parentLayout", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "showTimeout", _descriptor3, _assertThisInitialized(_this));
          _this.isShowing = false;
          _this._events = [['onHasChat', _this.onHasChat, _assertThisInitialized(_this)]];
          return _this;
        }
        var _proto = UIChatRuntime.prototype;
        _proto.onEnable = function onEnable() {
          pEventManager.on(this._events);
        };
        _proto.onDisable = function onDisable() {
          pEventManager.off(this._events);
        };
        _proto.onHasChat = function onHasChat(data) {
          // let text = `${data.username}: ${data.msg}`;
          // let breakIndex = this.getIndexTextNearestMaxLength(this.content.maxWidth, text, this.content.fontSize, this.content.font);
          // breakIndex = breakIndex - `${data.username}: `.length;
          data.msg = this.breakTextByMaxLength(this.content.maxWidth, data.msg, this.content.fontSize, this.content.font);
          this.content.string = "<on click=\"onClickName\" param=\"" + (data.uid || "") + "\"><color=#ffff00>" + data.fullname.trim().replace(/\n/g, '') + "</color></on>: " + data.msg.trim().replace(/\n/g, '');
          if (this.showTimeout == -1) {
            var curScale = this.node.getScale();
            curScale.x = 1;
            this.node.setScale(curScale);
            return;
          }
          var self = this;
          function closeChat() {
            self.scheduleOnce(function () {
              self.isShowing = false;
              tween(self.node).to(0.2, {
                scale: v3(0, 1, 1)
              }, {
                onUpdate: function onUpdate(target, ratio) {
                  self.parentLayout && self.parentLayout.updateLayout(true);
                }
              }).start();
            }, self.showTimeout);
          }
          if (!this.isShowing) {
            TweenSystem.instance.ActionManager.removeAllActionsFromTarget(this.node);
            this.isShowing = true;
            this.node.setScale(v3(0, 1, 1));
            tween(this.node).to(0.2, {
              scale: v3(1, 1, 1)
            }, {
              onUpdate: function onUpdate(target, ratio) {
                self.parentLayout && self.parentLayout.updateLayout(true);
              }
            }).call(function () {
              closeChat();
            }).start();
          } else {
            this.unscheduleAllCallbacks();
            closeChat();
          }
        };
        _proto.getUITextWidth = function getUITextWidth(str, fontSize, fontFamily) {
          var n = new Node();
          var uiTransform = n.addComponent(UITransform);
          var label = n.addComponent(Label);
          label.string = str;
          label.fontSize = fontSize;
          label.font = fontFamily;
          label.useSystemFont = false;
          label.overflow = Label.Overflow.NONE;
          label.cacheMode = Label.CacheMode.NONE;
          label.updateRenderData(true);
          return uiTransform.contentSize.width;
        };
        _proto.getIndexTextNearestMaxLength = function getIndexTextNearestMaxLength(maxLength, str, fontSize, fontFamily) {
          var strWidth = this.getUITextWidth(str, fontSize, fontFamily);
          if (strWidth <= maxLength) return str.length - 1;
          return this.getIndexTextNearestMaxLength(maxLength, str.substring(0, str.length / 2), fontSize, fontFamily);
        };
        _proto.breakTextByMaxLength = function breakTextByMaxLength(maxLength, str, fontSize, fontFamily) {
          var strWidth = this.getUITextWidth(str, fontSize, fontFamily);
          if (strWidth <= maxLength / 2) return str;
          return this.breakTextByMaxLength(maxLength, str.substring(0, str.length / 2), fontSize, fontFamily) + " " + this.breakTextByMaxLength(maxLength, str.substring(str.length / 2, str.length), fontSize, fontFamily);
        };
        _proto.insertNewlineAt = function insertNewlineAt(str, index) {
          if (index <= 0) return '\s' + str;
          if (index >= str.length) return str + '\s';
          return str.slice(0, index) + '\s' + str.slice(index);
        }

        // private addLineBreakWhenGreaterThanMaxLength(maxLength: number, text: string, fontSize: number, fontFamily: TTFFont | Font) {

        // }
        ;

        return UIChatRuntime;
      }(Component), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "content", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "parentLayout", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "showTimeout", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return 5;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIChestReward.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './LanguageManager.ts', './UINotice.ts', './ResponeCode.ts', './AsyncUtils.ts', './StringUtils.ts', './EventManager.ts', './NotifyToast.ts', './TimeTreasureCommand.ts', './ComponentUtils.ts', './EngineManager.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _asyncToGenerator, _regeneratorRuntime, cclegacy, _decorator, sp, Button, Sprite, Label, Node, Component, LanguageMananger, UINotice, ResponseCode, pAsyncUtils, pStringUtils, pEventManager, NotifyToast, request, pComponentUtils, pEngineManager;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      sp = module.sp;
      Button = module.Button;
      Sprite = module.Sprite;
      Label = module.Label;
      Node = module.Node;
      Component = module.Component;
    }, function (module) {
      LanguageMananger = module.LanguageMananger;
    }, function (module) {
      UINotice = module.UINotice;
    }, function (module) {
      ResponseCode = module.ResponseCode;
    }, function (module) {
      pAsyncUtils = module.pAsyncUtils;
    }, function (module) {
      pStringUtils = module.pStringUtils;
    }, function (module) {
      pEventManager = module.pEventManager;
    }, function (module) {
      NotifyToast = module.NotifyToast;
    }, function (module) {
      request = module.default;
    }, function (module) {
      pComponentUtils = module.pComponentUtils;
    }, function (module) {
      pEngineManager = module.pEngineManager;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6;
      cclegacy._RF.push({}, "d1bfdjwLKhF1pT+EawJAix3", "UIChestReward", undefined);
      var ccclass = _decorator.ccclass,
        type = _decorator.type;
      var LAnimChest = exports('LAnimChest', /*#__PURE__*/function (LAnimChest) {
        LAnimChest["IDLE"] = "chest_idle";
        LAnimChest["JUMP"] = "chest_jump";
        LAnimChest["OPEN"] = "chest_open";
        LAnimChest["READY_OPEN"] = "chest_readytoopen";
        return LAnimChest;
      }({}));
      var UIChestReward = exports('UIChestReward', (_dec = ccclass('UIChestReward'), _dec2 = type([sp.Skeleton]), _dec3 = type(Button), _dec4 = type(Sprite), _dec5 = type([Label]), _dec6 = type(Node), _dec7 = type(Button), _dec(_class = (_class2 = /*#__PURE__*/function (_Component) {
        _inheritsLoose(UIChestReward, _Component);
        function UIChestReward() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _Component.call.apply(_Component, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "anims", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnOpenChest", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "bgSpotLight", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "txtTimeCounters", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "detail", _descriptor5, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnCloseDetail", _descriptor6, _assertThisInitialized(_this));
          _this._readyOpen = false;
          _this._events = [['onSitDown', _this._onSitDown, _assertThisInitialized(_this)], ['onStandUp', _this._onStandUp, _assertThisInitialized(_this)]];
          _this._data = null;
          _this._aid = pStringUtils.uuid();
          _this._isSitDown = false;
          return _this;
        }
        var _proto = UIChestReward.prototype;
        _proto.onLoad = function onLoad() {
          pComponentUtils.appends({
            _options: [{
              _handlers: this._actReward,
              _target: this.btnOpenChest
            }, {
              _handlers: this._actCloseDetail,
              _target: this.btnCloseDetail
            }],
            _binder: this,
            _type: Button.EventType.CLICK
          });
          this.detail.active = false;
        };
        _proto.onEnable = function onEnable() {
          pEventManager.on(this._events);
        };
        _proto.onDisable = function onDisable() {
          pEventManager.off(this._events);
        };
        _proto._init = function _init() {
          this.btnOpenChest.interactable = true;
          var _this$_data = this._data,
            next_milestone = _this$_data.next_milestone,
            available_milestone = _this$_data.available_milestone,
            current_accumulated_time = _this$_data.current_accumulated_time;
          pAsyncUtils.stop(this._aid);
          if (!!available_milestone) {
            this._setTime(LanguageMananger.instance.getString("txt_open"));
            this.bgSpotLight.node.active = true;
            this._readyOpen = true;
            this._setAnimations(LAnimChest.READY_OPEN);
            return;
          }
          this.bgSpotLight.node.active = false;
          if (this._isSitDown) {
            this._actCountDown();
            return;
          }
          if (!!next_milestone) {
            this._setAnimations(LAnimChest.IDLE);
            var time_required = next_milestone.time_required;
            var _left = time_required - current_accumulated_time;
            var _minutes = Math.floor(_left / 60);
            var _seconds = _left % 60;
            this._setTime(_minutes.toString().padStart(2, "0") + ":" + _seconds.toString().padStart(2, "0"));
          }
        };
        _proto._setAnimations = function _setAnimations(_anim, _onComplete) {
          this.anims.forEach(function (_skeleton, _index) {
            var _entry = _skeleton.setAnimation(0, _anim, true);
            var _complete = function _complete() {
              _onComplete && _onComplete(_entry);
              _skeleton.setCompleteListener(null);
            };
            _index == 0 && _skeleton.setCompleteListener(_complete);
          });
        };
        _proto._setTime = function _setTime(_time) {
          this.txtTimeCounters.forEach(function (_txt) {
            return _txt.string = _time;
          });
        };
        _proto.init = /*#__PURE__*/function () {
          var _init2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {
            var _msg, code, data;
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  _context.next = 2;
                  return request('getTimeTreasureProgress', {});
                case 2:
                  _msg = _context.sent;
                  code = _msg.code;
                  if (!(code !== ResponseCode.SUCCESS)) {
                    _context.next = 7;
                    break;
                  }
                  pEngineManager.warn('Failed to get time treasure progress');
                  return _context.abrupt("return");
                case 7:
                  data = _msg.data;
                  this._data = data;
                  //this._isSitDown = true;
                  this._init();
                case 10:
                case "end":
                  return _context.stop();
              }
            }, _callee, this);
          }));
          function init() {
            return _init2.apply(this, arguments);
          }
          return init;
        }();
        _proto._onSitDown = function _onSitDown() {
          this._isSitDown = true;
          this.init();
        };
        _proto._actCountDown = /*#__PURE__*/function () {
          var _actCountDown2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {
            var _this2 = this;
            var _this$_data2, next_milestone, available_milestone, current_accumulated_time, time_required, _left;
            return _regeneratorRuntime().wrap(function _callee2$(_context2) {
              while (1) switch (_context2.prev = _context2.next) {
                case 0:
                  _this$_data2 = this._data, next_milestone = _this$_data2.next_milestone, available_milestone = _this$_data2.available_milestone, current_accumulated_time = _this$_data2.current_accumulated_time;
                  pAsyncUtils.stop(this._aid);
                  if (!available_milestone) {
                    _context2.next = 8;
                    break;
                  }
                  this._setTime(LanguageMananger.instance.getString("txt_open"));
                  this.bgSpotLight.node.active = true;
                  this._setAnimations(LAnimChest.READY_OPEN);
                  this._readyOpen = true;
                  return _context2.abrupt("return");
                case 8:
                  this.bgSpotLight.node.active = false;
                  if (!next_milestone) {
                    _context2.next = 18;
                    break;
                  }
                  this._setAnimations(LAnimChest.IDLE);
                  time_required = next_milestone.time_required;
                  _left = time_required - current_accumulated_time;
                  _context2.next = 15;
                  return pAsyncUtils.countdown({
                    id: this._aid,
                    time: _left
                  }, 1, function (_dt) {
                    var _minutes = Math.floor(_dt / 60);
                    var _seconds = _dt % 60;
                    _this2._setTime(_minutes.toString().padStart(2, "0") + ":" + _seconds.toString().padStart(2, "0"));
                  });
                case 15:
                  this._setTime(LanguageMananger.instance.getString('txt_open'));
                  this._setAnimations(LAnimChest.READY_OPEN);
                  this._readyOpen = true;
                case 18:
                case "end":
                  return _context2.stop();
              }
            }, _callee2, this);
          }));
          function _actCountDown() {
            return _actCountDown2.apply(this, arguments);
          }
          return _actCountDown;
        }();
        _proto._onStandUp = function _onStandUp() {
          pAsyncUtils.stop(this._aid);
          this._isSitDown = false;
        };
        _proto.close = function close() {
          this.node.active = false;
        };
        _proto.open = function open() {
          this.node.active = true;
        };
        _proto._actReward = /*#__PURE__*/function () {
          var _actReward2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {
            var _this3 = this;
            var _next_milestone, reward_chips, _time, _reward, _first, next_milestone, _milestone, _second;
            return _regeneratorRuntime().wrap(function _callee4$(_context4) {
              while (1) switch (_context4.prev = _context4.next) {
                case 0:
                  if (this._readyOpen) {
                    _context4.next = 6;
                    break;
                  }
                  this.detail.active = true;
                  _next_milestone = this._data.next_milestone;
                  reward_chips = _next_milestone.reward_chips;
                  if (!!_next_milestone) {
                    _time = this.txtTimeCounters[0].string;
                    _reward = pStringUtils.formatNumberKMB(reward_chips);
                    NotifyToast.instance.showWithKey({
                      key: 'dynamic_chest_reward_not_ready',
                      replacers: [{
                        find: "@time",
                        replacer: "" + _time
                      }, {
                        find: "@reward",
                        replacer: _reward
                      }]
                    });
                  } else {
                    NotifyToast.instance.showWithKey('txt_no_more_chest_reward');
                  }
                  return _context4.abrupt("return");
                case 6:
                  this.btnOpenChest.interactable = false;
                  _first = new Promise(function (_rs) {
                    return _this3._setAnimations(LAnimChest.JUMP, _rs);
                  });
                  next_milestone = this._data.next_milestone;
                  _milestone = next_milestone;
                  _second = request('claimTimeTreasureReward', {
                    milestone: _milestone.milestone
                  });
                  Promise.all([_first, _second]).then( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(_ref) {
                    var _msg, code, data, _reward_chips;
                    return _regeneratorRuntime().wrap(function _callee3$(_context3) {
                      while (1) switch (_context3.prev = _context3.next) {
                        case 0:
                          _ref[0], _msg = _ref[1];
                          code = _msg.code, data = _msg.data;
                          _context3.t0 = code;
                          _context3.next = _context3.t0 === ResponseCode.SUCCESS ? 5 : 12;
                          break;
                        case 5:
                          _reward_chips = data.reward_chips;
                          NotifyToast.instance.showWithKey({
                            key: 'dynamic_reward_chest',
                            replacers: {
                              find: "@reward",
                              replacer: pStringUtils.formatNumberKMB(_reward_chips)
                            }
                          });
                          _this3._readyOpen = false;
                          _this3.bgSpotLight.node.active = !_this3._readyOpen;
                          _this3._setAnimations(LAnimChest.IDLE);
                          _this3.init();
                          return _context3.abrupt("break", 14);
                        case 12:
                          UINotice.instance.show('txt_title', {
                            raw: _msg['msg']
                          }, "txt_btn_confirm");
                          return _context3.abrupt("break", 14);
                        case 14:
                        case "end":
                          return _context3.stop();
                      }
                    }, _callee3);
                  })));
                case 13:
                case "end":
                  return _context4.stop();
              }
            }, _callee4, this);
          }));
          function _actReward() {
            return _actReward2.apply(this, arguments);
          }
          return _actReward;
        }();
        _proto._actCloseDetail = function _actCloseDetail() {
          this.detail.active = false;
        };
        return UIChestReward;
      }(Component), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "anims", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return [];
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "btnOpenChest", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "bgSpotLight", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "txtTimeCounters", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return [];
        }
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "detail", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, "btnCloseDetail", [_dec7], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIChipPlayerSNG.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './ComponentUtils.ts', './StringUtils.ts', './NodeUtils.ts', './EventManager.ts', './Decorators.ts', './AudioManager.ts', './Enums.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _createClass, _asyncToGenerator, _regeneratorRuntime, cclegacy, _decorator, UITransform, Node, SpriteFrame, Layers, Label, rect, v3, Sprite, UIOpacity, Component, tween, pComponentUtils, pStringUtils, pNodeUtils, pEventManager, pDecorators, NSAudio, EAudioID;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _createClass = module.createClass;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      UITransform = module.UITransform;
      Node = module.Node;
      SpriteFrame = module.SpriteFrame;
      Layers = module.Layers;
      Label = module.Label;
      rect = module.rect;
      v3 = module.v3;
      Sprite = module.Sprite;
      UIOpacity = module.UIOpacity;
      Component = module.Component;
      tween = module.tween;
    }, function (module) {
      pComponentUtils = module.pComponentUtils;
    }, function (module) {
      pStringUtils = module.pStringUtils;
    }, function (module) {
      pNodeUtils = module.pNodeUtils;
    }, function (module) {
      pEventManager = module.pEventManager;
    }, function (module) {
      pDecorators = module.pDecorators;
    }, function (module) {
      NSAudio = module.NSAudio;
    }, function (module) {
      EAudioID = module.EAudioID;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _dec11, _dec12, _dec13, _dec14, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9, _descriptor10, _descriptor11, _descriptor12;
      cclegacy._RF.push({}, "7bcf6wcqGBIGqG5S0GnWgJM", "UIChipPlayerSNG", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var OPX_KEY = '__opacity';
      var UIChipPlayerSNG = exports('default', (_dec = ccclass('UIChipPlayerSNG'), _dec2 = property(UITransform), _dec3 = property(Node), _dec4 = property(Node), _dec5 = property(UITransform), _dec6 = property(SpriteFrame), _dec7 = property({}), _dec8 = property([Node]), _dec9 = property(Node), _dec10 = property({
        min: 0
      }), _dec11 = property({}), _dec12 = property({
        type: Layers.Enum
      }), _dec13 = property(Label), _dec14 = property(Label), _dec(_class = (_class2 = /*#__PURE__*/function (_Component) {
        _inheritsLoose(UIChipPlayerSNG, _Component);
        function UIChipPlayerSNG() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _Component.call.apply(_Component, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "chipPosition", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "chipPool", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "playerChip", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "startPoint", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "chip", _descriptor5, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "yVarg", _descriptor6, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "pots", _descriptor7, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "rootPot", _descriptor8, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "flyd", _descriptor9, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "delay", _descriptor10, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "layer", _descriptor11, _assertThisInitialized(_this));
          _this._rect = rect(0, 0, 0, 0);
          _this._transform = null;
          _initializerDefineProperty(_this, "_lblChipBet", _descriptor12, _assertThisInitialized(_this));
          _this._events = [['onTableEvent', _this._onTableEvent, _assertThisInitialized(_this)]];
          _this._total = 1000;
          return _this;
        }
        var _proto = UIChipPlayerSNG.prototype;
        _proto.activeChipView = function activeChipView(status) {
          this.chipPosition.node.active = status;
        };
        _proto.cleanup = function cleanup() {
          this.chipPool.removeAllChildren();
        };
        _proto.onLoad = function onLoad() {
          var _this$startPoint;
          (_this$startPoint = this.startPoint) != null ? _this$startPoint : this.startPoint = pComponentUtils.getSafeComponent(this, UITransform);
          pEventManager.on(this._events);
        };
        _proto.onDestroy = function onDestroy() {
          pEventManager.off(this._events);
        };
        _proto._onTableEvent = function _onTableEvent(event) {
          var route = event.route,
            msg = event.msg;
          if (route !== 'onTableEvent') return;
          var smallBlind = msg.smallBlind;
          this._total = smallBlind;
        };
        _proto.setChipView = function setChipView(status) {
          this.lblChipBet.node.active = status;
        };
        _proto.getChips = function getChips(total, spawnPosition) {
          if (spawnPosition === void 0) {
            spawnPosition = v3();
          }
          total = Math.min(total, 50);
          var chips = [];
          for (var i = 0; i < total; i++) {
            var chip = new Node("Chip" + i);
            chip.layer = this.layer;
            this.chipPool.addChild(chip);
            chip.setPosition(spawnPosition);
            var spr = chip.addComponent(Sprite);
            spr.spriteFrame = this.chip;
            chip[OPX_KEY] = pComponentUtils.getSafeComponent(chip, UIOpacity);
            chip[OPX_KEY].opacity = 0;
            chips.push(chip);
          }
          return chips;
        };
        _proto.bet = /*#__PURE__*/function () {
          var _bet = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(amount) {
            var pos, size, spawnPosition, total, chips, length, i, ret, pX, pY, _tween;
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  this.setChipView(true);
                  this.lblChipBet.string = pStringUtils.formatNumberKMB(amount);
                  if (!(amount <= 0)) {
                    _context.next = 4;
                    break;
                  }
                  return _context.abrupt("return");
                case 4:
                  pos = this.transform.convertToNodeSpaceAR(this.chipPosition.node.worldPosition);
                  size = this.chipPosition.contentSize;
                  this._rect = rect(pos.x, pos.y, size.width, size.height);
                  spawnPosition = this.transform.convertToNodeSpaceAR(this.startPoint.node.worldPosition);
                  total = Math.floor(amount / this._total);
                  chips = this.getChips(total, spawnPosition);
                  length = chips.length;
                  this._playAudio(length);
                  i = 0;
                case 13:
                  if (!(i < length)) {
                    _context.next = 23;
                    break;
                  }
                  ret = chips[i];
                  pX = this._rect.x;
                  pY = this._rect.y + this.yVarg * i;
                  _tween = tween(ret).delay(this.delay / chips.length * i).to(this.flyd, {
                    position: v3(pX, pY)
                  });
                  _context.next = 20;
                  return i == chips.length - 1 ? this._tween(_tween) : (_tween.start(), Promise.resolve());
                case 20:
                  i++;
                  _context.next = 13;
                  break;
                case 23:
                case "end":
                  return _context.stop();
              }
            }, _callee, this);
          }));
          function bet(_x) {
            return _bet.apply(this, arguments);
          }
          return bet;
        }();
        _proto._tween = /*#__PURE__*/function () {
          var _tween3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(_tween2) {
            return _regeneratorRuntime().wrap(function _callee2$(_context2) {
              while (1) switch (_context2.prev = _context2.next) {
                case 0:
                  return _context2.abrupt("return", new Promise(function (resolve) {
                    return _tween2.call(resolve).start();
                  }));
                case 1:
                case "end":
                  return _context2.stop();
              }
            }, _callee2);
          }));
          function _tween(_x2) {
            return _tween3.apply(this, arguments);
          }
          return _tween;
        }();
        _proto.setPosition = function setPosition(position) {
          pNodeUtils.setPosition(this.chipPosition, position);
        };
        _proto._toPot = /*#__PURE__*/function () {
          var _toPot2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(amount, target, total) {
            var _this2 = this;
            var spawnPosition, dealer, _total, chips, length, _loop, i;
            return _regeneratorRuntime().wrap(function _callee3$(_context4) {
              while (1) switch (_context4.prev = _context4.next) {
                case 0:
                  if (!(amount <= 0)) {
                    _context4.next = 2;
                    break;
                  }
                  return _context4.abrupt("return");
                case 2:
                  spawnPosition = this.transform.convertToNodeSpaceAR(this.chipPosition.node.worldPosition);
                  dealer = this.transform.convertToNodeSpaceAR(target.worldPosition);
                  _total = Math.floor(total / this._total);
                  chips = this.getChips(_total, spawnPosition);
                  length = chips.length;
                  this._playAudio(length);
                  _loop = /*#__PURE__*/_regeneratorRuntime().mark(function _loop() {
                    var ret, pX, pY;
                    return _regeneratorRuntime().wrap(function _loop$(_context3) {
                      while (1) switch (_context3.prev = _context3.next) {
                        case 0:
                          ret = chips[i];
                          pX = dealer.x;
                          pY = dealer.y + _this2.yVarg * i;
                          tween(ret).delay(_this2.delay / (chips.length * i)).to(_this2.flyd, {
                            position: v3(pX, pY)
                          }).start();
                          tween(ret[OPX_KEY]).delay(_this2.delay / chips.length * (chips.length - i)).to(_this2.delay * 4 / 5, {
                            opacity: 255
                          }).delay(_this2.delay * 2 / 5).call(function () {
                            return ret == null ? void 0 : ret.removeFromParent();
                          }).start();
                        case 5:
                        case "end":
                          return _context3.stop();
                      }
                    }, _loop);
                  });
                  i = 0;
                case 10:
                  if (!(i < length)) {
                    _context4.next = 15;
                    break;
                  }
                  return _context4.delegateYield(_loop(), "t0", 12);
                case 12:
                  i++;
                  _context4.next = 10;
                  break;
                case 15:
                case "end":
                  return _context4.stop();
              }
            }, _callee3, this);
          }));
          function _toPot(_x3, _x4, _x5) {
            return _toPot2.apply(this, arguments);
          }
          return _toPot;
        }();
        _proto._playAudio = function _playAudio(length) {
          var _audio = length > 30 ? EAudioID.SFX_DROP_MANY_CHIPS : EAudioID.SFX_DROP_CHIP;
          pDecorators.instance(NSAudio.Manager).play(_audio);
        };
        _proto.toSidePot = /*#__PURE__*/function () {
          var _toSidePot = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(amount, total, index) {
            var pot;
            return _regeneratorRuntime().wrap(function _callee4$(_context5) {
              while (1) switch (_context5.prev = _context5.next) {
                case 0:
                  pot = this.pots[index];
                  if (pot) {
                    _context5.next = 3;
                    break;
                  }
                  return _context5.abrupt("return");
                case 3:
                  this._toPot(amount, pot, total);
                case 4:
                case "end":
                  return _context5.stop();
              }
            }, _callee4, this);
          }));
          function toSidePot(_x6, _x7, _x8) {
            return _toSidePot.apply(this, arguments);
          }
          return toSidePot;
        }();
        _proto.toMainPot = /*#__PURE__*/function () {
          var _toMainPot = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(amount, total) {
            var pot;
            return _regeneratorRuntime().wrap(function _callee5$(_context6) {
              while (1) switch (_context6.prev = _context6.next) {
                case 0:
                  pot = this.pots[0];
                  if (pot) {
                    _context6.next = 3;
                    break;
                  }
                  return _context6.abrupt("return");
                case 3:
                  this._toPot(amount, pot, total);
                case 4:
                case "end":
                  return _context6.stop();
              }
            }, _callee5, this);
          }));
          function toMainPot(_x9, _x10) {
            return _toMainPot.apply(this, arguments);
          }
          return toMainPot;
        }();
        _proto.win = /*#__PURE__*/function () {
          var _win = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6(amount) {
            var _this3 = this;
            var chipBetPlayer, dealer, total, chips, length, _loop2, i;
            return _regeneratorRuntime().wrap(function _callee6$(_context8) {
              while (1) switch (_context8.prev = _context8.next) {
                case 0:
                  if (!(amount <= 0)) {
                    _context8.next = 2;
                    break;
                  }
                  return _context8.abrupt("return");
                case 2:
                  chipBetPlayer = this.transform.convertToNodeSpaceAR(this.playerChip.worldPosition);
                  dealer = this.transform.convertToNodeSpaceAR(this.rootPot.worldPosition);
                  total = Math.floor(amount / this._total);
                  chips = this.getChips(total, dealer);
                  length = chips.length;
                  this._playAudio(length);
                  _loop2 = /*#__PURE__*/_regeneratorRuntime().mark(function _loop2() {
                    var ret, _tween;
                    return _regeneratorRuntime().wrap(function _loop2$(_context7) {
                      while (1) switch (_context7.prev = _context7.next) {
                        case 0:
                          ret = chips[i];
                          _tween = tween(ret).delay(_this3.delay / chips.length * i).to(_this3.flyd, {
                            position: chipBetPlayer
                          }).start();
                          tween(ret[OPX_KEY]).delay(_this3.delay / chips.length * (chips.length - i)).to(_this3.delay * 3 / 5, {
                            opacity: 255
                          }).delay(_this3.delay * 2 / 5).call(function () {
                            return ret == null ? void 0 : ret.removeFromParent();
                          }).start();
                          _context7.next = 5;
                          return i == chips.length - 1 && _this3._tween(_tween);
                        case 5:
                        case "end":
                          return _context7.stop();
                      }
                    }, _loop2);
                  });
                  i = 0;
                case 10:
                  if (!(i < chips.length)) {
                    _context8.next = 15;
                    break;
                  }
                  return _context8.delegateYield(_loop2(), "t0", 12);
                case 12:
                  i++;
                  _context8.next = 10;
                  break;
                case 15:
                case "end":
                  return _context8.stop();
              }
            }, _callee6, this);
          }));
          function win(_x11) {
            return _win.apply(this, arguments);
          }
          return win;
        }();
        _createClass(UIChipPlayerSNG, [{
          key: "transform",
          get: function get() {
            var _this$_transform;
            return (_this$_transform = this._transform) != null ? _this$_transform : this._transform = pComponentUtils.getSafeComponent(this.chipPool, UITransform);
          }
        }, {
          key: "lblChipBet",
          get: function get() {
            var _this$_lblChipBet, _this$chipPosition;
            return (_this$_lblChipBet = this._lblChipBet) != null ? _this$_lblChipBet : this._lblChipBet = (_this$chipPosition = this.chipPosition) == null ? void 0 : _this$chipPosition.node.getComponentInChildren(Label);
          },
          set: function set(v) {
            this._lblChipBet = v;
          }
        }]);
        return UIChipPlayerSNG;
      }(Component), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "chipPosition", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "chipPool", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "playerChip", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "startPoint", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "chip", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, "yVarg", [_dec7], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return 0;
        }
      }), _descriptor7 = _applyDecoratedDescriptor(_class2.prototype, "pots", [_dec8], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return [];
        }
      }), _descriptor8 = _applyDecoratedDescriptor(_class2.prototype, "rootPot", [_dec9], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor9 = _applyDecoratedDescriptor(_class2.prototype, "flyd", [_dec10], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return 0.5;
        }
      }), _descriptor10 = _applyDecoratedDescriptor(_class2.prototype, "delay", [_dec11], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return 0.5;
        }
      }), _descriptor11 = _applyDecoratedDescriptor(_class2.prototype, "layer", [_dec12], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return Layers.Enum.UI_2D;
        }
      }), _descriptor12 = _applyDecoratedDescriptor(_class2.prototype, "_lblChipBet", [_dec13], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _applyDecoratedDescriptor(_class2.prototype, "lblChipBet", [_dec14], Object.getOwnPropertyDescriptor(_class2.prototype, "lblChipBet"), _class2.prototype)), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIChooseAvatarItem.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _createClass, cclegacy, _decorator, Toggle, Sprite, Component;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _createClass = module.createClass;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Toggle = module.Toggle;
      Sprite = module.Sprite;
      Component = module.Component;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _class, _class2, _descriptor, _descriptor2;
      cclegacy._RF.push({}, "71cef2JxxxL4ZEetXnpbmBq", "UIChooseAvatarItem", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var UIChooseAvatarItem = exports('UIChooseAvatarItem', (_dec = ccclass('UIChooseAvatarItem'), _dec2 = property(Toggle), _dec3 = property(Sprite), _dec(_class = (_class2 = /*#__PURE__*/function (_Component) {
        _inheritsLoose(UIChooseAvatarItem, _Component);
        function UIChooseAvatarItem() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _Component.call.apply(_Component, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "toggle", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "icon", _descriptor2, _assertThisInitialized(_this));
          _this._avatarId = void 0;
          _this._linkUrl = void 0;
          _this._avatarFrame = null;
          _this._onClick = null;
          return _this;
        }
        var _proto = UIChooseAvatarItem.prototype;
        _proto.setChecked = function setChecked() {
          this.toggle.isChecked = true;
        };
        _proto.init = function init(id, sp, link_url, _onClick) {
          this._avatarId = id;
          this._avatarFrame = sp;
          this.icon.spriteFrame = sp;
          this._linkUrl = link_url;
          this._onClick = _onClick;
          console.log("_avatarId", this._avatarId, "URL >>", this._linkUrl);
        };
        _proto.onClick = function onClick() {
          if (!this.toggle.isChecked) return;
          this._onClick && this._onClick(this);
        };
        _createClass(UIChooseAvatarItem, [{
          key: "avatarId",
          get: function get() {
            return this._avatarId;
          }
        }, {
          key: "linkUrl",
          get: function get() {
            return this._linkUrl;
          }
        }, {
          key: "avatarFrame",
          get: function get() {
            return this._avatarFrame;
          }
        }]);
        return UIChooseAvatarItem;
      }(Component), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "toggle", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "icon", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UICommunityCard.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './EventManager.ts', './UICardManager.ts', './AsyncUtils.ts', './EventDriver.ts'], function (exports) {
  var _inheritsLoose, _applyDecoratedDescriptor, _initializerDefineProperty, _assertThisInitialized, _asyncToGenerator, _regeneratorRuntime, cclegacy, _decorator, pEventManager, UICardManager, pAsyncUtils, NSEventDriver;
  return {
    setters: [function (module) {
      _inheritsLoose = module.inheritsLoose;
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
    }, function (module) {
      pEventManager = module.pEventManager;
    }, function (module) {
      UICardManager = module.UICardManager;
    }, function (module) {
      pAsyncUtils = module.pAsyncUtils;
    }, function (module) {
      NSEventDriver = module.NSEventDriver;
    }],
    execute: function () {
      var _dec, _dec2, _class, _class2, _descriptor;
      cclegacy._RF.push({}, "4c0ccGjMEBHd5lMvslkm+oC", "UICommunityCard", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var UICommunityCard = exports('UICommunityCard', (_dec = ccclass('UICommunityCard'), _dec2 = property(UICardManager), _dec(_class = (_class2 = /*#__PURE__*/function (_NSEventDriver$Compon) {
        _inheritsLoose(UICommunityCard, _NSEventDriver$Compon);
        function UICommunityCard() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _NSEventDriver$Compon.call.apply(_NSEventDriver$Compon, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "card", _descriptor, _assertThisInitialized(_this));
          _this._eventHandlers = [
          //['onStandUp', this._onStandUp, this],
          ['onClearTable', _this._onClearTable, _assertThisInitialized(_this)], ['onLeaveTable', _this._onLeaveTable, _assertThisInitialized(_this)]];
          _this._cardHandlers = [['onDoneShowAll', _this._onDoneShowAll, _assertThisInitialized(_this)], ['onDoneShow', _this._onDoneShow, _assertThisInitialized(_this)]];
          _this._doneRS = null;
          _this._donePM = null;
          _this._isResolving = false;
          _this._isDone = false;
          _this._lastList = null;
          return _this;
        }
        var _proto = UICommunityCard.prototype;
        _proto._onStandUp = function _onStandUp() {};
        _proto.onLoad = function onLoad() {
          pEventManager.on(this._eventHandlers);
          this.card.on(this._cardHandlers);
        };
        _proto.onDestroy = function onDestroy() {
          pEventManager.off(this._eventHandlers);
          this.card.off(this._cardHandlers);
        };
        _proto._onDoneShowAll = function _onDoneShowAll() {
          this.resolver(true);
        };
        _proto._onClearTable = function _onClearTable(event) {
          if (event.route !== 'onClearTable') return;
          this.reset();
        };
        _proto._onLeaveTable = function _onLeaveTable() {
          this.reset();
        };
        _proto._onDoneShow = function _onDoneShow() {
          this.resolver(true);
          this._isDone = true;
        };
        _proto.isDone = /*#__PURE__*/function () {
          var _isDone = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {
            var _this2 = this;
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  if (!this._isDone) {
                    _context.next = 3;
                    break;
                  }
                  this.resolver(false);
                  return _context.abrupt("return", true);
                case 3:
                  _context.next = 5;
                  return new Promise(function (rs) {
                    return _this2._doneRS = rs;
                  });
                case 5:
                  return _context.abrupt("return", _context.sent);
                case 6:
                case "end":
                  return _context.stop();
              }
            }, _callee, this);
          }));
          function isDone() {
            return _isDone.apply(this, arguments);
          }
          return isDone;
        }();
        _proto.show = /*#__PURE__*/function () {
          var _show = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(list) {
            var is;
            return _regeneratorRuntime().wrap(function _callee2$(_context2) {
              while (1) switch (_context2.prev = _context2.next) {
                case 0:
                  is = !this._lastList || this._lastList.length != list.length;
                  this._lastList = list;
                  this._lastList.length < list.length && this.invoke('onShow', this._lastList, list);
                  _context2.next = 5;
                  return this.card.show(list, false);
                case 5:
                  this.invoke('onDone');
                  return _context2.abrupt("return", is);
                case 7:
                case "end":
                  return _context2.stop();
              }
            }, _callee2, this);
          }));
          function show(_x) {
            return _show.apply(this, arguments);
          }
          return show;
        }();
        _proto.hide = /*#__PURE__*/function () {
          var _hide = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(delay) {
            return _regeneratorRuntime().wrap(function _callee3$(_context3) {
              while (1) switch (_context3.prev = _context3.next) {
                case 0:
                  if (delay === void 0) {
                    delay = 0;
                  }
                  _context3.next = 3;
                  return pAsyncUtils.wait(delay);
                case 3:
                  _context3.next = 5;
                  return this.card.hide();
                case 5:
                case "end":
                  return _context3.stop();
              }
            }, _callee3, this);
          }));
          function hide(_x2) {
            return _hide.apply(this, arguments);
          }
          return hide;
        }();
        _proto.reset = function reset() {
          this._isDone = false;
          this.card.reset();
          this.resolver(false);
          this._lastList = null;
        };
        _proto.resolver = function resolver(status) {
          if (status === void 0) {
            status = false;
          }
          this._doneRS && this._doneRS(status);
          this._doneRS = null;
        };
        return UICommunityCard;
      }(NSEventDriver.Component), _descriptor = _applyDecoratedDescriptor(_class2.prototype, "card", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIController.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './Enums.ts', './UIBase.ts', './EventManager.ts', './EventDefine.ts', './GlobalConfig.ts', './Decorators.ts', './EventDriver.ts', './ArrayUtils.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _asyncToGenerator, _regeneratorRuntime, _createForOfIteratorHelperLoose, _createClass, _initializerDefineProperty, _assertThisInitialized, cclegacy, _decorator, Enum, Prefab, CCString, assetManager, Node, find, isValid, instantiate, UIType, UIBase, pEventManager, NSEventDefine, GlobalConfig, pDecorators, NSEventDriver, pArray;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
      _createForOfIteratorHelperLoose = module.createForOfIteratorHelperLoose;
      _createClass = module.createClass;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Enum = module.Enum;
      Prefab = module.Prefab;
      CCString = module.CCString;
      assetManager = module.assetManager;
      Node = module.Node;
      find = module.find;
      isValid = module.isValid;
      instantiate = module.instantiate;
    }, function (module) {
      UIType = module.UIType;
    }, function (module) {
      UIBase = module.UIBase;
    }, function (module) {
      pEventManager = module.pEventManager;
    }, function (module) {
      NSEventDefine = module.NSEventDefine;
    }, function (module) {
      GlobalConfig = module.default;
    }, function (module) {
      pDecorators = module.pDecorators;
    }, function (module) {
      NSEventDriver = module.NSEventDriver;
    }, function (module) {
      pArray = module.pArray;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _class, _class2, _descriptor, _descriptor2, _descriptor3, _dec6, _dec7, _dec8, _dec9, _class4, _class5, _descriptor4, _descriptor5, _descriptor6, _dec10, _dec11, _dec12, _dec13, _class7, _class8, _descriptor7, _descriptor8, _dec14, _dec15, _dec16, _dec17, _dec18, _dec19, _dec20, _dec21, _dec22, _dec23, _dec24, _class10, _class11, _descriptor9, _descriptor10, _descriptor11, _descriptor12, _descriptor13, _descriptor14;
      cclegacy._RF.push({}, "e970fnAl1dCTKOIGBj+mELR", "UIController", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      Enum(UIType);
      var UIPrefabType = (_dec = ccclass('UIPrefabType'), _dec2 = property({
        type: UIType
      }), _dec3 = property({
        type: Prefab
      }), _dec4 = property({
        visible: function visible() {
          return !this.uiPrefab;
        }
      }), _dec5 = property({}), _dec(_class = (_class2 = /*#__PURE__*/function () {
        function UIPrefabType() {
          _initializerDefineProperty(this, "uiType", _descriptor, this);
          _initializerDefineProperty(this, "uiPrefab", _descriptor2, this);
          _initializerDefineProperty(this, "named", _descriptor3, this);
          this._promise = null;
          this._resolver = null;
        }
        var _proto = UIPrefabType.prototype;
        _proto.init = function init() {
          var _this2 = this;
          if (this.isLoaded) return;
          this._promise = new Promise(function (_rs) {
            return _this2._resolver = _rs;
          });
        };
        _proto.setPrefab = function setPrefab(_prefab) {
          if (!_prefab) return;
          this.uiPrefab = _prefab;
          this._resolver && this._resolver(_prefab);
          this._resolver = null;
          //this._promise = null;
        };

        _proto.getPrefab = /*#__PURE__*/function () {
          var _getPrefab = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  _context.next = 2;
                  return this._promise;
                case 2:
                  return _context.abrupt("return", this.uiPrefab);
                case 3:
                case "end":
                  return _context.stop();
              }
            }, _callee, this);
          }));
          function getPrefab() {
            return _getPrefab.apply(this, arguments);
          }
          return getPrefab;
        }();
        _createClass(UIPrefabType, [{
          key: "isLoaded",
          get: function get() {
            return !!this.uiPrefab;
          }
        }, {
          key: "extract",
          get: function get() {
            return false;
          },
          set: function set(x) {
            if (!this.uiPrefab) return;
            if (x) {
              this.named = this.uiPrefab.name;
              this.uiPrefab = null;
            }
          }
        }]);
        return UIPrefabType;
      }(), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "uiType", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return UIType.NONE;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "uiPrefab", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "named", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return '';
        }
      }), _applyDecoratedDescriptor(_class2.prototype, "extract", [_dec5], Object.getOwnPropertyDescriptor(_class2.prototype, "extract"), _class2.prototype)), _class2)) || _class);
      var UILoaderHelper = (_dec6 = ccclass('UILoaderHelper'), _dec7 = property({
        type: [CCString]
      }), _dec8 = property({}), _dec9 = property({
        type: NSEventDefine.EEvent
      }), _dec6(_class4 = (_class5 = function UILoaderHelper() {
        _initializerDefineProperty(this, "paths", _descriptor4, this);
        _initializerDefineProperty(this, "awaiter", _descriptor5, this);
        _initializerDefineProperty(this, "onDone", _descriptor6, this);
      }, (_descriptor4 = _applyDecoratedDescriptor(_class5.prototype, "paths", [_dec7], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return [];
        }
      }), _descriptor5 = _applyDecoratedDescriptor(_class5.prototype, "awaiter", [_dec8], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return false;
        }
      }), _descriptor6 = _applyDecoratedDescriptor(_class5.prototype, "onDone", [_dec9], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return 'none';
        }
      })), _class5)) || _class4);
      var _GroupLoading = {
        name: "Loader",
        id: "0"
      };
      var _GroupCore = {
        name: "Core",
        id: "0"
      };
      var _GroupEditor = {
        name: "Editor",
        id: "0"
      };
      var _GroupConfig = {
        name: "Config",
        id: "0"
      };
      var UIBundlerHelper = (_dec10 = ccclass('UIBundlerHelper'), _dec11 = pDecorators.logger('UIBundlerHelper'), _dec12 = property({}), _dec13 = property(UILoaderHelper), _dec10(_class7 = _dec11(_class7 = (_class8 = /*#__PURE__*/function (_NSEventDriver$Handle) {
        _inheritsLoose(UIBundlerHelper, _NSEventDriver$Handle);
        function UIBundlerHelper() {
          var _this3;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this3 = _NSEventDriver$Handle.call.apply(_NSEventDriver$Handle, [this].concat(args)) || this;
          _initializerDefineProperty(_this3, "path", _descriptor7, _assertThisInitialized(_this3));
          _initializerDefineProperty(_this3, "helpers", _descriptor8, _assertThisInitialized(_this3));
          _this3._bundle = null;
          return _this3;
        }
        var _proto2 = UIBundlerHelper.prototype;
        _proto2.load = function load(_onPrefabLoader) {
          var _this4 = this;
          var path = this.path,
            helpers = this.helpers;
          assetManager.loadBundle(path, /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(_err, _bundle) {
            var _iterator, _step, ret, awaiter, paths, onDone;
            return _regeneratorRuntime().wrap(function _callee2$(_context2) {
              while (1) switch (_context2.prev = _context2.next) {
                case 0:
                  _this4.invoke('onBundleLoaded', _err, path, _bundle);
                  if (!_err) {
                    _context2.next = 3;
                    break;
                  }
                  return _context2.abrupt("return");
                case 3:
                  _this4._bundle = _bundle;
                  _iterator = _createForOfIteratorHelperLoose(helpers);
                case 5:
                  if ((_step = _iterator()).done) {
                    _context2.next = 17;
                    break;
                  }
                  ret = _step.value;
                  awaiter = ret.awaiter, paths = ret.paths, onDone = ret.onDone;
                  _this4.invoke('onPrefabLoading', _bundle, path, onDone);
                  if (!awaiter) {
                    _context2.next = 14;
                    break;
                  }
                  _context2.next = 12;
                  return _onPrefabLoader(_bundle, paths, onDone);
                case 12:
                  _context2.next = 15;
                  break;
                case 14:
                  _onPrefabLoader(_bundle, paths, onDone);
                case 15:
                  _context2.next = 5;
                  break;
                case 17:
                case "end":
                  return _context2.stop();
              }
            }, _callee2);
          })));
        };
        _createClass(UIBundlerHelper, [{
          key: "bundle",
          get: function get() {
            return this._bundle;
          }
        }]);
        return UIBundlerHelper;
      }(NSEventDriver.Handler), (_descriptor7 = _applyDecoratedDescriptor(_class8.prototype, "path", [_dec12], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return '';
        }
      }), _descriptor8 = _applyDecoratedDescriptor(_class8.prototype, "helpers", [_dec13], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return [];
        }
      })), _class8)) || _class7) || _class7);
      var UIController = exports('UIController', (_dec14 = ccclass('UIController'), _dec15 = pDecorators.logger('UIController'), _dec16 = pDecorators.singleton(), _dec17 = property({
        type: Node,
        group: _GroupCore
      }), _dec18 = property({
        type: Node,
        group: _GroupCore
      }), _dec19 = property({
        type: [UIPrefabType],
        group: _GroupLoading
      }), _dec20 = property({
        type: UIBundlerHelper,
        group: _GroupLoading
      }), _dec21 = property({
        group: _GroupConfig,
        visible: true
      }), _dec22 = property({
        group: _GroupEditor
      }), _dec23 = property({
        group: _GroupEditor
      }), _dec24 = property({
        type: [UIPrefabType],
        editorOnly: true
      }), _dec14(_class10 = _dec15(_class10 = _dec16(_class10 = (_class11 = /*#__PURE__*/function (_NSEventDriver$Compon) {
        _inheritsLoose(UIController, _NSEventDriver$Compon);
        function UIController() {
          var _this5;
          for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
            args[_key2] = arguments[_key2];
          }
          _this5 = _NSEventDriver$Compon.call.apply(_NSEventDriver$Compon, [this].concat(args)) || this;
          _this5.SCREEN_CANVAS_NAME = "CanvasScreen";
          _this5.POPUP_CANVAS_NAME = "CanvasPopup";
          _initializerDefineProperty(_this5, "screenParentRoot", _descriptor9, _assertThisInitialized(_this5));
          _initializerDefineProperty(_this5, "popupParentRoot", _descriptor10, _assertThisInitialized(_this5));
          _initializerDefineProperty(_this5, "uiPrefabs", _descriptor11, _assertThisInitialized(_this5));
          _initializerDefineProperty(_this5, "bundle", _descriptor12, _assertThisInitialized(_this5));
          _initializerDefineProperty(_this5, "_enableDebug", _descriptor13, _assertThisInitialized(_this5));
          _initializerDefineProperty(_this5, "_saver", _descriptor14, _assertThisInitialized(_this5));
          _this5._activators = new Map();
          _this5._refs = new Map();
          return _this5;
        }
        UIController.open = function open(_uiType, _isPopup, _isOnTop, _isGlobalLoading) {
          if (_isPopup === void 0) {
            _isPopup = true;
          }
          if (_isOnTop === void 0) {
            _isOnTop = false;
          }
          if (_isGlobalLoading === void 0) {
            _isGlobalLoading = false;
          }
          var _this = UIController.Instance;
          if (typeof _uiType === 'number') {
            for (var _len3 = arguments.length, _args = new Array(_len3 > 4 ? _len3 - 4 : 0), _key3 = 4; _key3 < _len3; _key3++) {
              _args[_key3 - 4] = arguments[_key3];
            }
            var _x = _args ? _args : [];
            return _this.open.apply(_this, [_uiType, _isPopup, _isOnTop, _isGlobalLoading].concat(_x));
          } else {
            var uiType = _uiType.uiType,
              isOnTop = _uiType.isOnTop,
              isPopup = _uiType.isPopup,
              isGlobalLoading = _uiType.isGlobalLoading,
              args = _uiType.args;
            var _x4 = args ? args : [];
            return _this.open.apply(_this, [uiType, isPopup, isOnTop, isGlobalLoading].concat(_x4));
          }
        };
        UIController.close = function close(_type, clean) {
          if (clean === void 0) {
            clean = false;
          }
          var _this = UIController.Instance;
          for (var _len4 = arguments.length, _args = new Array(_len4 > 2 ? _len4 - 2 : 0), _key4 = 2; _key4 < _len4; _key4++) {
            _args[_key4 - 2] = arguments[_key4];
          }
          return _this.close.apply(_this, [_type, clean].concat(_args));
        };
        UIController.closes = function closes(_type) {
          var _this6 = this;
          for (var _len5 = arguments.length, _types = new Array(_len5 > 1 ? _len5 - 1 : 0), _key5 = 1; _key5 < _len5; _key5++) {
            _types[_key5 - 1] = arguments[_key5];
          }
          _types = pArray.flatter.apply(pArray, [_type].concat(_types));
          _types.forEach(function (_ref2) {
            var type = _ref2.type,
              clean = _ref2.clean,
              args = _ref2.args;
            return _this6.close.apply(_this6, [type, clean].concat(args || []));
          });
        };
        var _proto3 = UIController.prototype;
        _proto3.onLoad = function onLoad() {
          if (!GlobalConfig.instance.isGameStated) return;
          this._init();
          this._loadBundle();
        };
        _proto3._init = function _init() {
          this.uiPrefabs.forEach(function (prefab) {
            return prefab.init();
          });
        };
        _proto3._bind = function _bind(prefabs) {
          var _this7 = this;
          prefabs.forEach(function (prefab) {
            var ui = _this7.uiPrefabs.find(function (e) {
              return e.named == prefab.name;
            });
            if (!ui) return;
            ui.setPrefab(prefab);
          });
        };
        _proto3._loadBundle = function _loadBundle() {
          var _this8 = this;
          var _handler = /*#__PURE__*/function () {
            var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(bundle, paths, event) {
              var _promises;
              return _regeneratorRuntime().wrap(function _callee3$(_context3) {
                while (1) switch (_context3.prev = _context3.next) {
                  case 0:
                    _promises = paths.map(function (_path) {
                      return _this8._loadFromPath(bundle, _path);
                    });
                    _context3.prev = 1;
                    _context3.next = 4;
                    return Promise.all(_promises);
                  case 4:
                    _context3.prev = 4;
                    pEventManager.invoke(event);
                    return _context3.finish(4);
                  case 7:
                  case "end":
                    return _context3.stop();
                }
              }, _callee3, null, [[1,, 4, 7]]);
            }));
            return function _handler(_x5, _x6, _x7) {
              return _ref3.apply(this, arguments);
            };
          }();
          this.bundle.load(_handler);
        };
        _proto3._loadFromPath = function _loadFromPath(bundle, path) {
          var _this9 = this;
          return new Promise(function (_rs, _rj) {
            bundle.loadDir(path, Prefab, function (err, prefabs) {
              if (err) {
                _rj(err);
                return;
              }
              _this9._bind(prefabs);
              _rs();
            });
          });
        };
        _proto3.start = function start() {
          this.invoke('onReady');
        };
        _proto3._prepare = function _prepare(ui, isPopup, isOnTop) {
          var _this$screenParentRoo, _this$popupParentRoot, _ui$root;
          if (!ui) return false;
          (_this$screenParentRoo = this.screenParentRoot) != null ? _this$screenParentRoo : this.screenParentRoot = find(this.SCREEN_CANVAS_NAME);
          (_this$popupParentRoot = this.popupParentRoot) != null ? _this$popupParentRoot : this.popupParentRoot = find(this.POPUP_CANVAS_NAME);
          var _parent = isPopup ? this.popupParentRoot : this.screenParentRoot;
          if (!(ui != null && ui.root)) return;
          if (_parent != ((_ui$root = ui.root) == null ? void 0 : _ui$root.parent)) {
            ui.root.setParent(_parent);
          }
          isOnTop && ui.root.setSiblingIndex(ui.root.parent.children.length - 1);
          return true;
        };
        _proto3.open = /*#__PURE__*/function () {
          var _open = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(uiType, isPopup, isOnTop, igl) {
            var loading,
              _pm,
              _ui,
              _is,
              _len6,
              args,
              _key6,
              _args5 = arguments;
            return _regeneratorRuntime().wrap(function _callee4$(_context4) {
              while (1) switch (_context4.prev = _context4.next) {
                case 0:
                  if (isPopup === void 0) {
                    isPopup = true;
                  }
                  if (isOnTop === void 0) {
                    isOnTop = false;
                  }
                  if (igl === void 0) {
                    igl = false;
                  }
                  loading = GlobalConfig.instance.loading;
                  igl && loading.open();
                  _pm = this._refs.get(uiType);
                  if (!_pm) {
                    _pm = this.get(uiType);
                    this._refs.set(uiType, _pm);
                  }
                  _context4.next = 9;
                  return _pm;
                case 9:
                  _ui = _context4.sent;
                  _is = this._prepare(_ui, isPopup, isOnTop);
                  if (_is) {
                    _context4.next = 13;
                    break;
                  }
                  return _context4.abrupt("return", _ui);
                case 13:
                  for (_len6 = _args5.length, args = new Array(_len6 > 4 ? _len6 - 4 : 0), _key6 = 4; _key6 < _len6; _key6++) {
                    args[_key6 - 4] = _args5[_key6];
                  }
                  _context4.next = 16;
                  return _ui == null ? void 0 : _ui.open.apply(_ui, args);
                case 16:
                  igl && loading.close();
                  return _context4.abrupt("return", _ui);
                case 18:
                case "end":
                  return _context4.stop();
              }
            }, _callee4, this);
          }));
          function open(_x8, _x9, _x10, _x11) {
            return _open.apply(this, arguments);
          }
          return open;
        }();
        _proto3.close = function close(_type, clean) {
          if (clean === void 0) {
            clean = false;
          }
          var _ui = this._activators.get(_type);
          if (!_ui) return;
          console.log("UIController: close " + UIType[_type], _ui);
          for (var _len7 = arguments.length, _args = new Array(_len7 > 2 ? _len7 - 2 : 0), _key7 = 2; _key7 < _len7; _key7++) {
            _args[_key7 - 2] = arguments[_key7];
          }
          _ui.close.apply(_ui, [clean].concat(_args));
        };
        _proto3.get = /*#__PURE__*/function () {
          var _get = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(uiType) {
            var _ui, _item, _pref, _node, _comp;
            return _regeneratorRuntime().wrap(function _callee5$(_context5) {
              while (1) switch (_context5.prev = _context5.next) {
                case 0:
                  _ui = this._activators.get(uiType);
                  if (_ui) {
                    _context5.next = 12;
                    break;
                  }
                  _item = this.getUIPrefab(uiType);
                  if (_item) {
                    _context5.next = 5;
                    break;
                  }
                  return _context5.abrupt("return", null);
                case 5:
                  _context5.next = 7;
                  return _item.getPrefab();
                case 7:
                  _pref = _context5.sent;
                  _node = instantiate(_pref);
                  _comp = _node.getComponent(UIBase);
                  this._activators.set(uiType, _comp);
                  return _context5.abrupt("return", _comp);
                case 12:
                  return _context5.abrupt("return", _ui);
                case 13:
                case "end":
                  return _context5.stop();
              }
            }, _callee5, this);
          }));
          function get(_x12) {
            return _get.apply(this, arguments);
          }
          return get;
        }();
        _proto3.isUILoaded = function isUILoaded(_type) {
          return !!this._activators.get(_type);
        };
        _proto3.isOpened = function isOpened(_type) {
          var _this$_activators$get;
          return Boolean((_this$_activators$get = this._activators.get(_type)) == null ? void 0 : _this$_activators$get.active);
        };
        _proto3.getUIPrefab = function getUIPrefab(_type) {
          return this.uiPrefabs.find(function (_prefab) {
            return _prefab.uiType === _type;
          });
        };
        _proto3.closeAllUI = function closeAllUI(cleanup) {
          if (cleanup === void 0) {
            cleanup = false;
          }
          for (var _iterator2 = _createForOfIteratorHelperLoose(this._activators.values()), _step2; !(_step2 = _iterator2()).done;) {
            var ui = _step2.value;
            ui.close(cleanup);
          }
        };
        _proto3.removeActiveUI = function removeActiveUI(uiType) {
          var _ui = this._activators.get(uiType);
          if (!_ui) return;
          var root = _ui.root;
          isValid(root) && (root == null ? void 0 : root.destroy());
          this._activators["delete"](uiType);
          this._refs["delete"](uiType);
        };
        _proto3.loadNewScene = function loadNewScene() {
          this.screenParentRoot = null;
          this.popupParentRoot = null;
          this.closeAllUI(true);
          this._activators.clear();
        };
        _createClass(UIController, [{
          key: "isEnableDebug",
          get: function get() {
            return this._enableDebug;
          }
        }, {
          key: "validPrefabs",
          get: function get() {
            return false;
          },
          set: function set(value) {
            if (value) {
              this._saver = this.uiPrefabs.map(function (p) {
                return p;
              });
              this.uiPrefabs = [].concat(new Set(this.uiPrefabs));
            }
          }
        }, {
          key: "rollBack",
          get: function get() {
            return false;
          },
          set: function set(value) {
            if (value) {
              this.uiPrefabs = this._saver.map(function (p) {
                return p;
              });
            }
          }
        }], [{
          key: "Instance",
          get: function get() {
            return pDecorators.instance(UIController);
          }
        }]);
        return UIController;
      }(NSEventDriver.Component), (_descriptor9 = _applyDecoratedDescriptor(_class11.prototype, "screenParentRoot", [_dec17], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor10 = _applyDecoratedDescriptor(_class11.prototype, "popupParentRoot", [_dec18], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor11 = _applyDecoratedDescriptor(_class11.prototype, "uiPrefabs", [_dec19], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return [];
        }
      }), _descriptor12 = _applyDecoratedDescriptor(_class11.prototype, "bundle", [_dec20], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return new UIBundlerHelper();
        }
      }), _descriptor13 = _applyDecoratedDescriptor(_class11.prototype, "_enableDebug", [_dec21], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return false;
        }
      }), _applyDecoratedDescriptor(_class11.prototype, "validPrefabs", [_dec22], Object.getOwnPropertyDescriptor(_class11.prototype, "validPrefabs"), _class11.prototype), _applyDecoratedDescriptor(_class11.prototype, "rollBack", [_dec23], Object.getOwnPropertyDescriptor(_class11.prototype, "rollBack"), _class11.prototype), _descriptor14 = _applyDecoratedDescriptor(_class11.prototype, "_saver", [_dec24], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return [];
        }
      })), _class11)) || _class10) || _class10) || _class10));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIDefaultShopPage.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIShopPage.ts', './UINormalItem.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, cclegacy, _decorator, ScrollView, Prefab, instantiate, UIShopPage, UINormalItem;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      ScrollView = module.ScrollView;
      Prefab = module.Prefab;
      instantiate = module.instantiate;
    }, function (module) {
      UIShopPage = module.UIShopPage;
    }, function (module) {
      UINormalItem = module.UINormalItem;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4;
      cclegacy._RF.push({}, "c1e638ZiFZNBrx3nU49EsPA", "UIDefaultShopPage", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var UIDefaultShopPage = exports('UIDefaultShopPage', (_dec = ccclass('UIDefaultShopPage'), _dec2 = property(ScrollView), _dec3 = property(Prefab), _dec4 = property(Prefab), _dec5 = property(Prefab), _dec(_class = (_class2 = /*#__PURE__*/function (_UIShopPage) {
        _inheritsLoose(UIDefaultShopPage, _UIShopPage);
        function UIDefaultShopPage() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIShopPage.call.apply(_UIShopPage, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "scrView", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "itemSpecialPrefab", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "itemOneLayoutPrefab", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "itemTwoLayoutPrefab", _descriptor4, _assertThisInitialized(_this));
          return _this;
        }
        var _proto = UIDefaultShopPage.prototype;
        _proto.init = function init(_data, _type) {
          if (Array.isArray(_data)) this._load(_data);
        };
        _proto._load = function _load(items) {
          var _this2 = this;
          this.scrView.content.removeAllChildren();
          items.forEach(function (_item) {
            if (_item.items.length === 2) {
              var c_node = instantiate(_this2.itemTwoLayoutPrefab);
              _this2.scrView.content.addChild(c_node);
              c_node.getComponentsInChildren(UINormalItem).forEach(function (comp, i) {
                return comp.initData(_item.items[i]);
              });
            } else if (_item.items.length === 1) {
              var _c_node = instantiate(_this2.itemOneLayoutPrefab);
              _this2.scrView.content.addChild(_c_node);
              _c_node.getComponent(UINormalItem).initData(_item.items[0]);
            } else if (_item.items.length === 4) {
              var _loop = function _loop(i) {
                var c_node = instantiate(_this2.itemTwoLayoutPrefab);
                _this2.scrView.content.addChild(c_node);
                c_node.getComponentsInChildren(UINormalItem).forEach(function (comp, index) {
                  comp.initData(_item.items[i + index]);
                });
              };
              for (var i = 0; i < _item.items.length; i += 2) {
                _loop(i);
              }
            }
          });
        };
        return UIDefaultShopPage;
      }(UIShopPage), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "scrView", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "itemSpecialPrefab", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "itemOneLayoutPrefab", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "itemTwoLayoutPrefab", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIDynamicLabel.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './ComponentUtils.ts', './Enums.ts', './IAnimationFX.ts', './NotifyLabel.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _createClass, cclegacy, Label, Mask, _decorator, v3, UITransform, Tween, tween, Component, pComponentUtils, CCETweenEasing, ETweenEasing, NSAnimationFX, NotifyLabel;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _createClass = module.createClass;
    }, function (module) {
      cclegacy = module.cclegacy;
      Label = module.Label;
      Mask = module.Mask;
      _decorator = module._decorator;
      v3 = module.v3;
      UITransform = module.UITransform;
      Tween = module.Tween;
      tween = module.tween;
      Component = module.Component;
    }, function (module) {
      pComponentUtils = module.pComponentUtils;
    }, function (module) {
      CCETweenEasing = module.CCETweenEasing;
      ETweenEasing = module.ETweenEasing;
    }, function (module) {
      NSAnimationFX = module.NSAnimationFX;
    }, function (module) {
      NotifyLabel = module.NotifyLabel;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7;
      cclegacy._RF.push({}, "39a57I8h7pLcYVr5COHx5Zl", "UIDynamicLabel", undefined);
      var _cc$_decorator = _decorator,
        ccclass = _cc$_decorator.ccclass,
        property = _cc$_decorator.property;
      var UIDynamicLabel = exports('UIDynamicLabel', (_dec = ccclass("UIDynamicLabel"), _dec2 = property(Label), _dec3 = property(Mask), _dec4 = property({
        min: 0
      }), _dec5 = property({
        min: 0
      }), _dec6 = property({
        type: CCETweenEasing,
        visible: true
      }), _dec7 = property({
        type: CCETweenEasing,
        visible: true
      }), _dec8 = property({}), _dec(_class = (_class2 = /*#__PURE__*/function (_cc$Component) {
        _inheritsLoose(UIDynamicLabel, _cc$Component);
        function UIDynamicLabel() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _cc$Component.call.apply(_cc$Component, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "target", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "masker", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "delay", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "duration", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "_in", _descriptor5, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "_out", _descriptor6, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "differ", _descriptor7, _assertThisInitialized(_this));
          _this._ttarget = null;
          _this._tmasker = null;
          _this._tween = null;
          _this._save = v3();
          return _this;
        }
        var _proto = UIDynamicLabel.prototype;
        _proto.onLoad = function onLoad() {
          if (!this.target) this.target = this.getComponent(NotifyLabel);
          if (!this.target) {
            this.destroy();
            return;
          }
          if (!this.masker) {
            this.masker = this.node.parent.getComponent(Mask);
          }
          if (!this.masker) {
            this.destroy();
            return;
          }
          this._ttarget = pComponentUtils.getSafeComponent(this.target, UITransform);
          this._tmasker = pComponentUtils.getSafeComponent(this.masker, UITransform);
          this._save = this.target.node.position.clone();
          this.target.node.on(UITransform.EventType.SIZE_CHANGED, this._append, this);
          //this.target.node.on(NotifyLabel.EventType.STRING_CHANGED, this._append, this);
        };

        _proto._append = function _append() {
          var _this$_tween;
          (_this$_tween = this._tween) == null || _this$_tween.stop();
          this._check();
        };
        _proto.onEnable = function onEnable() {
          this._append();
        };
        _proto.onDisable = function onDisable() {
          var _this$_tween2;
          (_this$_tween2 = this._tween) == null || _this$_tween2.stop();
          Tween.stopAllByTarget(this._ttarget.node);
        };
        _proto._checker = function _checker() {
          var _dif = this._ttarget.width - this._tmasker.width;
          if (_dif <= 0) {
            var _this$_tween3;
            this.target.node.setPosition(this._save);
            (_this$_tween3 = this._tween) == null || _this$_tween3.stop();
          } else {
            var _this$_tween4;
            (_this$_tween4 = this._tween) == null || _this$_tween4.start();
          }
          return _dif;
        };
        _proto._check = function _check() {
          var _dif = this._checker();
          if (_dif <= 0) return;
          var _left = this._save.clone();
          var _right = this._save.clone();
          var anchorX = this._ttarget.anchorX;
          _left.x = _left.x - _dif * (1 - anchorX) - this.differ;
          _right.x = _right.x + _dif * anchorX + this.differ;
          var _tween = tween(this._ttarget.node).to(this.duration, {
            position: _left
          }, {
            easing: this["in"]
          }).delay(this.delay).to(this.duration, {
            position: _right
          }, {
            easing: this.out
          }).delay(this.delay);
          this._tween = tween(this._ttarget.node).repeatForever(_tween);
        };
        _createClass(UIDynamicLabel, [{
          key: "in",
          get: function get() {
            return NSAnimationFX.easingConverter(this._in);
          }
        }, {
          key: "out",
          get: function get() {
            return NSAnimationFX.easingConverter(this._out);
          }
        }]);
        return UIDynamicLabel;
      }(Component), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "target", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "masker", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "delay", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return 0;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "duration", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return 0.5;
        }
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "_in", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return ETweenEasing.backIn;
        }
      }), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, "_out", [_dec7], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return ETweenEasing.backOut;
        }
      }), _descriptor7 = _applyDecoratedDescriptor(_class2.prototype, "differ", [_dec8], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return 10;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIEmail.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts', './Enums.ts', './UIItemEmail.ts', './UIItemNotifi.ts', './UINoticeIconCounter.ts', './MainScreenController.ts', './EventManager.ts', './UIEmailIconCounter.ts'], function (exports) {
  var _applyDecoratedDescriptor, _initializerDefineProperty, _inheritsLoose, _assertThisInitialized, _asyncToGenerator, _regeneratorRuntime, cclegacy, _decorator, ToggleContainer, Node, ScrollView, Button, Prefab, instantiate, UIBase, MessageNotifi, EMessageType, UIItemEmail, UIItemNotifi, UINoticeIconCounter, MainScreenController, pEventManager, UIEmailIconCounter;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _initializerDefineProperty = module.initializerDefineProperty;
      _inheritsLoose = module.inheritsLoose;
      _assertThisInitialized = module.assertThisInitialized;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      ToggleContainer = module.ToggleContainer;
      Node = module.Node;
      ScrollView = module.ScrollView;
      Button = module.Button;
      Prefab = module.Prefab;
      instantiate = module.instantiate;
    }, function (module) {
      UIBase = module.UIBase;
    }, function (module) {
      MessageNotifi = module.MessageNotifi;
      EMessageType = module.EMessageType;
    }, function (module) {
      UIItemEmail = module.UIItemEmail;
    }, function (module) {
      UIItemNotifi = module.UIItemNotifi;
    }, function (module) {
      UINoticeIconCounter = module.UINoticeIconCounter;
    }, function (module) {
      MainScreenController = module.MainScreenController;
    }, function (module) {
      pEventManager = module.pEventManager;
    }, function (module) {
      UIEmailIconCounter = module.UIEmailIconCounter;
    }],
    execute: function () {
      var _dec, _class, _class2, _descriptor, _descriptor2, _dec2, _class4, _class5, _descriptor3, _descriptor4, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _dec11, _dec12, _dec13, _dec14, _dec15, _dec16, _dec17, _class7, _class8, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9, _descriptor10, _descriptor11, _descriptor12, _descriptor13, _descriptor14, _descriptor15, _descriptor16, _descriptor17, _descriptor18;
      cclegacy._RF.push({}, "d385fY5DB5CToLtrgMsNbM/", "UIEmail", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property,
        type = _decorator.type;
      var EmailItemData = exports('EmailItemData', (_dec = ccclass('EmailItemData'), _dec(_class = (_class2 = function EmailItemData() {
        _initializerDefineProperty(this, "title", _descriptor, this);
        _initializerDefineProperty(this, "content", _descriptor2, this);
      }, (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "title", [property], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return '';
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "content", [property], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return '';
        }
      })), _class2)) || _class));
      var NotifyItemData = exports('NotifyItemData', (_dec2 = ccclass('NotifyItemData'), _dec2(_class4 = (_class5 = function NotifyItemData() {
        _initializerDefineProperty(this, "title", _descriptor3, this);
        _initializerDefineProperty(this, "content", _descriptor4, this);
      }, (_descriptor3 = _applyDecoratedDescriptor(_class5.prototype, "title", [property], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return '';
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class5.prototype, "content", [property], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return '';
        }
      })), _class5)) || _class4));
      var UIEmail = exports('UIEmail', (_dec3 = ccclass('UIEmail'), _dec4 = type(ToggleContainer), _dec5 = type(Node), _dec6 = type(Node), _dec7 = type(Node), _dec8 = type(Node), _dec9 = type(Node), _dec10 = type(Node), _dec11 = type(ScrollView), _dec12 = type(ScrollView), _dec13 = type(Button), _dec14 = type(Button), _dec15 = type(Prefab), _dec16 = type(Prefab), _dec17 = property(Node), _dec3(_class7 = (_class8 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UIEmail, _UIBase);
        function UIEmail() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "typeTC", _descriptor5, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "emailMessageNode", _descriptor6, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "systemMessageNode", _descriptor7, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "hasEmail", _descriptor8, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "noEmail", _descriptor9, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "hasNotify", _descriptor10, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "noNotify", _descriptor11, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "scViewEmail", _descriptor12, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "scViewNotify", _descriptor13, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnScrollDownEmail", _descriptor14, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnScrollDownNotify", _descriptor15, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "uiItemEmail", _descriptor16, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "uiItemSystem", _descriptor17, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "selfLoading", _descriptor18, _assertThisInitialized(_this));
          _this.currentType = MessageNotifi.SYSTEM;
          _this.currentMessageType = 0;
          _this.currentList = [];
          _this._events = [
            // ['onHasFriendMessage', this._getList, this]
          ];
          return _this;
        }
        var _proto = UIEmail.prototype;
        _proto._onStart = function _onStart() {
          this.selfLoading.active = false;
          this._addClicker(this.btnScrollDownEmail, this.scrollDownEmail, this);
          this._addClicker(this.btnScrollDownNotify, this.scrollDownNotify, this);
        };
        _proto.onTypeChanged = function onTypeChanged(toggle) {
          var numIndex = this.typeTC.toggleItems.indexOf(toggle);
          if (this.currentMessageType != numIndex) {
            this.currentMessageType = numIndex;
            this.goToTab(numIndex);
          }
        };
        _proto.goToEmail = function goToEmail() {
          this.goToTab(EMessageType.EMAIL);
        };
        _proto.goToNoti = function goToNoti() {
          this.goToTab(EMessageType.NOTIFICATION);
        };
        _proto._onClose = function _onClose() {
          var contentNode = this.scViewEmail.node.getChildByName("view").getChildByName("content");
          contentNode.removeAllChildren();
        };
        _proto.goToTab = /*#__PURE__*/function () {
          var _goToTab = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(messageType) {
            var is, _is;
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  _context.t0 = messageType;
                  _context.next = _context.t0 === EMessageType.EMAIL ? 3 : _context.t0 === EMessageType.NOTIFICATION ? 11 : 19;
                  break;
                case 3:
                  this._getList(MessageNotifi.EMAIL);
                  this.emailMessageNode.active = true;
                  this.systemMessageNode.active = false;
                  is = this.currentList.length <= 0;
                  this.hasEmail.active = !is;
                  this.noEmail.active = is;
                  UIEmailIconCounter.instance.onWatched();
                  return _context.abrupt("break", 20);
                case 11:
                  this._getList(MessageNotifi.SYSTEM);
                  this.emailMessageNode.active = false;
                  this.systemMessageNode.active = true;
                  _is = this.currentList.length <= 0;
                  this.hasNotify.active = !_is;
                  this.noNotify.active = _is;
                  UINoticeIconCounter.instance.onWatched();
                  return _context.abrupt("break", 20);
                case 19:
                  return _context.abrupt("break", 20);
                case 20:
                case "end":
                  return _context.stop();
              }
            }, _callee, this);
          }));
          function goToTab(_x) {
            return _goToTab.apply(this, arguments);
          }
          return goToTab;
        }();
        _proto._getList = function _getList(type) {
          this.currentType = type;
          this.currentList = MainScreenController.getEmail(type);
          type === MessageNotifi.SYSTEM ? this.refectListSystemNotifi(this.currentList) : this.refectListEmailNotifi(this.currentList);
        };
        _proto.refectListSystemNotifi = function refectListSystemNotifi(list) {
          var _this2 = this;
          var contentNode = this.scViewNotify.node.getChildByName("view").getChildByName("content");
          contentNode.removeAllChildren();
          list.forEach(function (_item) {
            var _noti$getComponent;
            var _noti = instantiate(_this2.uiItemSystem);
            _noti.parent = contentNode;
            _noti.active = true;
            (_noti$getComponent = _noti.getComponent(UIItemNotifi)) == null || _noti$getComponent.init(_item);
          });
        };
        _proto.refectListEmailNotifi = function refectListEmailNotifi(list) {
          var _this3 = this;
          var contentNode = this.scViewEmail.node.getChildByName("view").getChildByName("content");
          contentNode.removeAllChildren();
          list.forEach(function (_item) {
            var _noti$getComponent2;
            var _noti = instantiate(_this3.uiItemEmail);
            _noti.parent = contentNode;
            _noti.active = true;
            (_noti$getComponent2 = _noti.getComponent(UIItemEmail)) == null || _noti$getComponent2.initItem(_item);
          });
        };
        _proto.setToggleCheck = function setToggleCheck(tab) {
          if (tab < this.typeTC.toggleItems.length && tab >= 0) {
            this.typeTC.toggleItems[tab].isChecked = true;
          }
        };
        _proto.scrollDownEmail = function scrollDownEmail() {
          // let per = this.scViewEmail.getScrollOffset();
          // this.scViewEmail.scrollToOffset(new Vec2(per.x, per.y +20), 0.1);
          this.scrollDown(this.scViewEmail, 20);
        };
        _proto.scrollDownNotify = function scrollDownNotify() {
          this.scrollDown(this.scViewNotify, 20);
        };
        _proto.onEnable = function onEnable() {
          pEventManager.on(this._events);
        };
        _proto.onDisable = function onDisable() {
          pEventManager.off(this._events);
        };
        return UIEmail;
      }(UIBase), (_descriptor5 = _applyDecoratedDescriptor(_class8.prototype, "typeTC", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor6 = _applyDecoratedDescriptor(_class8.prototype, "emailMessageNode", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor7 = _applyDecoratedDescriptor(_class8.prototype, "systemMessageNode", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor8 = _applyDecoratedDescriptor(_class8.prototype, "hasEmail", [_dec7], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor9 = _applyDecoratedDescriptor(_class8.prototype, "noEmail", [_dec8], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor10 = _applyDecoratedDescriptor(_class8.prototype, "hasNotify", [_dec9], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor11 = _applyDecoratedDescriptor(_class8.prototype, "noNotify", [_dec10], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor12 = _applyDecoratedDescriptor(_class8.prototype, "scViewEmail", [_dec11], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor13 = _applyDecoratedDescriptor(_class8.prototype, "scViewNotify", [_dec12], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor14 = _applyDecoratedDescriptor(_class8.prototype, "btnScrollDownEmail", [_dec13], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor15 = _applyDecoratedDescriptor(_class8.prototype, "btnScrollDownNotify", [_dec14], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor16 = _applyDecoratedDescriptor(_class8.prototype, "uiItemEmail", [_dec15], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor17 = _applyDecoratedDescriptor(_class8.prototype, "uiItemSystem", [_dec16], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor18 = _applyDecoratedDescriptor(_class8.prototype, "selfLoading", [_dec17], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class8)) || _class7));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIEmailIconCounter.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './EventManager.ts', './MainScreenController.ts', './Enums.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _assertThisInitialized, _initializerDefineProperty, _createClass, cclegacy, _decorator, Node, Label, Component, pEventManager, MainScreenController, MessageNotifi;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _assertThisInitialized = module.assertThisInitialized;
      _initializerDefineProperty = module.initializerDefineProperty;
      _createClass = module.createClass;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Node = module.Node;
      Label = module.Label;
      Component = module.Component;
    }, function (module) {
      pEventManager = module.pEventManager;
    }, function (module) {
      MainScreenController = module.MainScreenController;
    }, function (module) {
      MessageNotifi = module.MessageNotifi;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _class, _class2, _descriptor, _descriptor2, _class3;
      cclegacy._RF.push({}, "e6bca02uyFPD7zUbsi27GhV", "UIEmailIconCounter", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var UIEmailIconCounter = exports('UIEmailIconCounter', (_dec = ccclass('UIEmailIconCounter'), _dec2 = property(Node), _dec3 = property(Label), _dec(_class = (_class2 = (_class3 = /*#__PURE__*/function (_Component) {
        _inheritsLoose(UIEmailIconCounter, _Component);
        function UIEmailIconCounter() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _Component.call.apply(_Component, [this].concat(args)) || this;
          _this._events = [['onLoadedEmailsAndNotices', _this.onLoadedEmailsAndNotices, _assertThisInitialized(_this)], ['onHasFriendMessage', _this.updateUI, _assertThisInitialized(_this)]];
          _initializerDefineProperty(_this, "bg", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "noti", _descriptor2, _assertThisInitialized(_this));
          _this._list = [];
          return _this;
        }
        var _proto = UIEmailIconCounter.prototype;
        _proto.onLoad = function onLoad() {
          UIEmailIconCounter._I = this;
          this.onWatched();
        };
        _proto._getList = function _getList(type) {
          return MainScreenController.getEmail(type);
        };
        _proto.onEnable = function onEnable() {
          pEventManager.on(this._events);
        };
        _proto.onDisable = function onDisable() {
          pEventManager.off(this._events);
        };
        _proto.updateUI = function updateUI(type) {
          var _list = this._getList(type);
          _list.sort(function (a, b) {
            return b.log_timestamp - a.log_timestamp;
          });
          if (this._list.length != _list.length) {
            this.noti.string = "" + _list.length;
            this.bg.active = true;
          }
          this._list = _list;
        };
        _proto.onLoadedEmailsAndNotices = function onLoadedEmailsAndNotices() {
          this.updateUI(MessageNotifi.EMAIL);
        };
        _proto.onWatched = function onWatched() {
          this.bg.active = false;
        };
        _createClass(UIEmailIconCounter, null, [{
          key: "instance",
          get: function get() {
            return UIEmailIconCounter._I;
          }
        }]);
        return UIEmailIconCounter;
      }(Component), _class3._I = null, _class3), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "bg", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "noti", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIEmailRegister.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts', './Enums.ts', './AsyncUtils.ts', './UINotice.ts', './LanguageManager.ts', './StringUtils.ts', './ResponeCode.ts', './MiniLoading.ts', './EventManager.ts', './GameManager.ts', './UserCommand.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _asyncToGenerator, _regeneratorRuntime, cclegacy, _decorator, Button, EditBox, Label, UIBase, UIType, pAsyncUtils, UINotice, LanguageMananger, pStringUtils, ResponseCode, MiniLoading, pEventManager, GameManager, request;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Button = module.Button;
      EditBox = module.EditBox;
      Label = module.Label;
    }, function (module) {
      UIBase = module.UIBase;
    }, function (module) {
      UIType = module.UIType;
    }, function (module) {
      pAsyncUtils = module.pAsyncUtils;
    }, function (module) {
      UINotice = module.UINotice;
    }, function (module) {
      LanguageMananger = module.LanguageMananger;
    }, function (module) {
      pStringUtils = module.pStringUtils;
    }, function (module) {
      ResponseCode = module.ResponseCode;
    }, function (module) {
      MiniLoading = module.MiniLoading;
    }, function (module) {
      pEventManager = module.pEventManager;
    }, function (module) {
      GameManager = module.GameManager;
    }, function (module) {
      request = module.default;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _dec11, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9, _descriptor10;
      cclegacy._RF.push({}, "f2a2cZYtNVPOJncYbSyuoId", "UIEmailRegister", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property,
        type = _decorator.type;
      var UIEmailRegister = exports('UIEmailRegister', (_dec = ccclass("UIEmailRegister"), _dec2 = property({
        type: UIType,
        override: true,
        readonly: true
      }), _dec3 = type(Button), _dec4 = type(Button), _dec5 = type(EditBox), _dec6 = type(EditBox), _dec7 = type(EditBox), _dec8 = type(EditBox), _dec9 = type(Label), _dec10 = property({}), _dec11 = property(MiniLoading), _dec(_class = (_class2 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UIEmailRegister, _UIBase);
        function UIEmailRegister() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "uiType", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnGetOTP", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnConfirm", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "boxEmail", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "boxPassword", _descriptor5, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "boxConfirmPassword", _descriptor6, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "boxOtp", _descriptor7, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lblOTPCooldown", _descriptor8, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "getOtpCooldown", _descriptor9, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "loading", _descriptor10, _assertThisInitialized(_this));
          return _this;
        }
        var _proto = UIEmailRegister.prototype;
        _proto._onLoad = function _onLoad() {
          this._addClickers([{
            target: this.btnGetOTP,
            handlers: this._actGetOTP
          }, {
            target: this.btnConfirm,
            handlers: this._actConfirm
          }]);
        };
        _proto._actGetOTP = /*#__PURE__*/function () {
          var _actGetOTP2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {
            var _this2 = this;
            var _str, _email, _msg, code;
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  _str = LanguageMananger.instance.getStrings('txt_btn_confirm_authen_code', 'txt_resend');
                  _email = this.boxEmail.string.trim();
                  if (!(_email.length <= 0)) {
                    _context.next = 5;
                    break;
                  }
                  UINotice.instance.show('txt_title', 'txt_empty_mail_warning', 'txt_btn_confirm2');
                  return _context.abrupt("return");
                case 5:
                  if (pStringUtils.isValidEmail(_email)) {
                    _context.next = 8;
                    break;
                  }
                  UINotice.instance.show('txt_title', 'txt_email_wrong_format', 'txt_btn_confirm2');
                  return _context.abrupt("return");
                case 8:
                  this.btnGetOTP.interactable = false;
                  _context.next = 11;
                  return request('requestEmailVerification', {
                    email: this.boxEmail.string
                  });
                case 11:
                  _msg = _context.sent;
                  code = _msg.code;
                  _context.t0 = code;
                  _context.next = _context.t0 === ResponseCode.SUCCESS ? 16 : _context.t0 === ResponseCode.ERROR ? 18 : _context.t0 === ResponseCode.ERR_REQUEST_EMAIL_FAIL ? 18 : _context.t0 === ResponseCode.ERR_REGISTERED ? 18 : 21;
                  break;
                case 16:
                  UINotice.instance.show('txt_title', 'txt_request_otp_success', 'txt_btn_confirm2');
                  return _context.abrupt("break", 21);
                case 18:
                  UINotice.instance.show('txt_title', _msg.error, 'txt_btn_confirm2');
                  this.btnGetOTP.interactable = true;
                  return _context.abrupt("return");
                case 21:
                  _context.next = 23;
                  return pAsyncUtils.countdown(this.getOtpCooldown, 1, function (_timeleft) {
                    return _this2.lblOTPCooldown.string = _timeleft + "s " + _str.txt_resend.toLowerCase();
                  });
                case 23:
                  this.btnGetOTP.interactable = true;
                  this.lblOTPCooldown.string = _str.txt_btn_confirm_authen_code;
                case 25:
                case "end":
                  return _context.stop();
              }
            }, _callee, this);
          }));
          function _actGetOTP() {
            return _actGetOTP2.apply(this, arguments);
          }
          return _actGetOTP;
        }();
        _proto._actConfirm = /*#__PURE__*/function () {
          var _actConfirm2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {
            var email, otp_code, password, confirm_password, _str, _msg, code, _str2;
            return _regeneratorRuntime().wrap(function _callee2$(_context2) {
              while (1) switch (_context2.prev = _context2.next) {
                case 0:
                  email = this.boxEmail.string.trim();
                  otp_code = this.boxOtp.string.trim();
                  password = this.boxPassword.string.trim();
                  confirm_password = this.boxConfirmPassword.string.trim();
                  _str = LanguageMananger.instance.getStrings('txt_otp_code', 'txt_btn_email');
                  if (!(email.length <= 0)) {
                    _context2.next = 8;
                    break;
                  }
                  UINotice.instance.show('txt_title', {
                    key: 'dynamic_cant_empty',
                    replacers: {
                      find: "@field",
                      replacer: _str.txt_btn_email
                    }
                  }, 'txt_btn_confirm2');
                  return _context2.abrupt("return");
                case 8:
                  if (!(otp_code.length <= 0)) {
                    _context2.next = 11;
                    break;
                  }
                  UINotice.instance.show('txt_title', {
                    key: 'dynamic_cant_empty',
                    replacers: {
                      find: "@field",
                      replacer: _str.txt_otp_code
                    }
                  }, 'txt_btn_confirm2');
                  return _context2.abrupt("return");
                case 11:
                  if (!(password.length < 6)) {
                    _context2.next = 14;
                    break;
                  }
                  UINotice.instance.show('txt_title', 'txt_invalid_password_length', 'txt_btn_confirm2');
                  return _context2.abrupt("return");
                case 14:
                  this.loading.show();
                  _context2.next = 17;
                  return request('verifyEmailCode', {
                    email: email,
                    password: password,
                    confirm_password: confirm_password,
                    otp_code: otp_code
                  });
                case 17:
                  _msg = _context2.sent;
                  code = _msg.code;
                  _context2.t0 = code;
                  _context2.next = _context2.t0 === ResponseCode.SUCCESS ? 22 : _context2.t0 === ResponseCode.ERR_REGISTERED ? 27 : _context2.t0 === ResponseCode.ERROR ? 27 : 29;
                  break;
                case 22:
                  UINotice.instance.show('txt_title', {
                    key: 'txt_binding_email_success',
                    replacers: {
                      find: '@email',
                      replacer: email
                    }
                  }, 'txt_btn_confirm2', undefined, undefined, undefined, this.close.bind(this));
                  _str2 = GameManager.Instance.getStorage();
                  _str2.save('IS_BINDED_EMAIL', JSON.stringify(true));
                  pEventManager.invoke('onVerifyEmail');
                  return _context2.abrupt("break", 29);
                case 27:
                  UINotice.instance.show('txt_title', _msg.error, 'txt_btn_confirm2');
                  return _context2.abrupt("break", 29);
                case 29:
                  this.loading.close();
                case 30:
                case "end":
                  return _context2.stop();
              }
            }, _callee2, this);
          }));
          function _actConfirm() {
            return _actConfirm2.apply(this, arguments);
          }
          return _actConfirm;
        }();
        _proto.fill = function fill(email, password) {
          !!email && (this.boxEmail.string = email);
          !!password && (this.boxPassword.string = password);
        };
        return UIEmailRegister;
      }(UIBase), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "uiType", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return UIType.REGISTER_EMAIL;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "btnGetOTP", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "btnConfirm", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "boxEmail", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "boxPassword", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, "boxConfirmPassword", [_dec7], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor7 = _applyDecoratedDescriptor(_class2.prototype, "boxOtp", [_dec8], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor8 = _applyDecoratedDescriptor(_class2.prototype, "lblOTPCooldown", [_dec9], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor9 = _applyDecoratedDescriptor(_class2.prototype, "getOtpCooldown", [_dec10], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return 60;
        }
      }), _descriptor10 = _applyDecoratedDescriptor(_class2.prototype, "loading", [_dec11], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIEmojiChat.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, cclegacy, _decorator, Sprite, SpriteAtlas, TweenSystem, Vec3, UIOpacity, tween, Component;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Sprite = module.Sprite;
      SpriteAtlas = module.SpriteAtlas;
      TweenSystem = module.TweenSystem;
      Vec3 = module.Vec3;
      UIOpacity = module.UIOpacity;
      tween = module.tween;
      Component = module.Component;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _class, _class2, _descriptor, _descriptor2;
      cclegacy._RF.push({}, "5342afMBsNG44hbMfNHJV8R", "UIEmojiChat", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var UIEmojiChat = exports('UIEmojiChat', (_dec = ccclass('UIEmojiChat'), _dec2 = property(Sprite), _dec3 = property(SpriteAtlas), _dec(_class = (_class2 = /*#__PURE__*/function (_Component) {
        _inheritsLoose(UIEmojiChat, _Component);
        function UIEmojiChat() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _Component.call.apply(_Component, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "emoji", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "emojiAlias", _descriptor2, _assertThisInitialized(_this));
          return _this;
        }
        var _proto = UIEmojiChat.prototype;
        _proto.start = function start() {};
        _proto.update = function update(deltaTime) {};
        _proto.setEmoji = function setEmoji(emojiName, show_duration) {
          var _this2 = this;
          if (show_duration === void 0) {
            show_duration = 2;
          }
          var emojiSF = this.emojiAlias.getSpriteFrame(emojiName);
          if (!emojiSF) {
            console.warn("can not find emoji", emojiName);
            return;
          }
          this.emoji.spriteFrame = emojiSF;
          TweenSystem.instance.ActionManager.removeAllActionsByTag(100002);
          TweenSystem.instance.ActionManager.removeAllActionsFromTarget(this.node);
          this.unscheduleAllCallbacks();
          var originScale = new Vec3();
          this.node.getScale(originScale);
          this.node.setScale(0, 0, 0);
          var _opacity = this.node.getComponent(UIOpacity);
          var sefl = this;
          tween(this.node).to(0.1, {
            scale: originScale
          }, {
            easing: 'bounceInOut',
            onUpdate: function onUpdate(target, ratio) {
              sefl.node.setScale(target.scale);
            }
          }).call(function () {
            _this2.scheduleOnce(function () {
              return tween(_opacity).tag(100002).to(0.5, {
                opacity: 0
              }).call(function () {
                return _this2.node.removeFromParent();
              }).start();
            }, show_duration);
          }).start();
        };
        _proto.removeSelf = function removeSelf() {
          TweenSystem.instance.ActionManager.removeAllActionsByTag(100002);
          TweenSystem.instance.ActionManager.removeAllActionsFromTarget(this.node);
          this.unscheduleAllCallbacks();
          this.node.removeFromParent();
        };
        return UIEmojiChat;
      }(Component), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "emoji", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "emojiAlias", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIEmojis.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './ItemEmoji.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, cclegacy, _decorator, SpriteAtlas, Node, Prefab, Mask, Layers, instantiate, Component, ItemEmoji;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      SpriteAtlas = module.SpriteAtlas;
      Node = module.Node;
      Prefab = module.Prefab;
      Mask = module.Mask;
      Layers = module.Layers;
      instantiate = module.instantiate;
      Component = module.Component;
    }, function (module) {
      ItemEmoji = module.ItemEmoji;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5;
      cclegacy._RF.push({}, "e1cc8fxK5ZCdojV5d/cmXjm", "UIEmojis", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var UIEmojis = exports('UIEmojis', (_dec = ccclass('UIEmojis'), _dec2 = property(SpriteAtlas), _dec3 = property(Node), _dec4 = property(Prefab), _dec5 = property(Mask), _dec6 = property({
        type: Layers.Enum
      }), _dec(_class = (_class2 = /*#__PURE__*/function (_Component) {
        _inheritsLoose(UIEmojis, _Component);
        function UIEmojis() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _Component.call.apply(_Component, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "emojiAlias", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "container", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "itemEmojiPrefab", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "mask", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "layer", _descriptor5, _assertThisInitialized(_this));
          _this._loaded = false;
          return _this;
        }
        var _proto = UIEmojis.prototype;
        _proto.updateUI = function updateUI(onEmojiClick) {
          var _this2 = this;
          if (this._loaded) return;
          if (!this.emojiAlias || !this.container || !this.itemEmojiPrefab) return;
          this._loaded = true;
          this.container.removeAllChildren();
          var lst = this.emojiAlias.getSpriteFrames();
          lst.sort(function (a, b) {
            return a.name.localeCompare(b.name);
          });
          lst.forEach(function (_sf) {
            var _node = instantiate(_this2.itemEmojiPrefab);
            _this2.container.addChild(_node);
            _node.layer = _this2.layer;
            var _emoji = _node.getComponent(ItemEmoji);
            _emoji == null || _emoji.init(_sf, onEmojiClick);
          });
        };
        return UIEmojis;
      }(Component), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "emojiAlias", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "container", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "itemEmojiPrefab", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "mask", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "layer", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return Layers.Enum.UI_2D;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIEvent.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts', './UIItemEventPage.ts', './MainScreenController.ts', './ComponentUtils.ts', './MiniLoading.ts', './HtmlText.ts'], function (exports) {
  var _applyDecoratedDescriptor, _initializerDefineProperty, _inheritsLoose, _assertThisInitialized, _asyncToGenerator, _regeneratorRuntime, cclegacy, _decorator, SpriteFrame, ToggleContainer, Node, Label, PageView, Button, Prefab, instantiate, UIBase, UIItemEventPage, MainScreenController, pComponentUtils, MiniLoading, HtmlText;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _initializerDefineProperty = module.initializerDefineProperty;
      _inheritsLoose = module.inheritsLoose;
      _assertThisInitialized = module.assertThisInitialized;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      SpriteFrame = module.SpriteFrame;
      ToggleContainer = module.ToggleContainer;
      Node = module.Node;
      Label = module.Label;
      PageView = module.PageView;
      Button = module.Button;
      Prefab = module.Prefab;
      instantiate = module.instantiate;
    }, function (module) {
      UIBase = module.UIBase;
    }, function (module) {
      UIItemEventPage = module.UIItemEventPage;
    }, function (module) {
      MainScreenController = module.MainScreenController;
    }, function (module) {
      pComponentUtils = module.pComponentUtils;
    }, function (module) {
      MiniLoading = module.MiniLoading;
    }, function (module) {
      HtmlText = module.HtmlText;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _class, _class2, _descriptor, _descriptor2, _descriptor3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _dec11, _dec12, _dec13, _dec14, _dec15, _dec16, _dec17, _class4, _class5, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9, _descriptor10, _descriptor11, _descriptor12, _descriptor13, _descriptor14, _descriptor15;
      cclegacy._RF.push({}, "6d58ef/HUNIsrMCqAzWDC/a", "UIEvent", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property,
        type = _decorator.type;
      var EventItemData = exports('EventItemData', (_dec = ccclass('EventItemData'), _dec2 = type(SpriteFrame), _dec3 = type(SpriteFrame), _dec(_class = (_class2 = function EventItemData() {
        _initializerDefineProperty(this, "eventId", _descriptor, this);
        _initializerDefineProperty(this, "eventImgOn", _descriptor2, this);
        _initializerDefineProperty(this, "eventImgOff", _descriptor3, this);
      }, (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "eventId", [property], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return 0;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "eventImgOn", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "eventImgOff", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      var WidgetType = /*#__PURE__*/function (WidgetType) {
        WidgetType[WidgetType["EVENT"] = 0] = "EVENT";
        WidgetType[WidgetType["NOTICE"] = 1] = "NOTICE";
        return WidgetType;
      }(WidgetType || {});
      var UIEvent = exports('UIEvent', (_dec4 = ccclass('UIEvent'), _dec5 = type(ToggleContainer), _dec6 = type(Node), _dec7 = type(Node), _dec8 = type(Label), _dec9 = type(Label), _dec10 = type(PageView), _dec11 = type(Button), _dec12 = type(Button), _dec13 = type(Prefab), _dec14 = type(HtmlText), _dec15 = property({
        group: 'Data'
      }), _dec16 = type([EventItemData]), _dec17 = property(MiniLoading), _dec4(_class4 = (_class5 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UIEvent, _UIBase);
        function UIEvent() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "typeGroupTC", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "eventNode", _descriptor5, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "noticeNode", _descriptor6, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbEventTitle", _descriptor7, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbEventContent", _descriptor8, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "pgViewEvent", _descriptor9, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnPrevEvent", _descriptor10, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnNextEvent", _descriptor11, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "prefabItemEventPage", _descriptor12, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "htmlTextContent", _descriptor13, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "eventData", _descriptor14, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "loading", _descriptor15, _assertThisInitialized(_this));
          _this._currentPgViewIndex = 0;
          _this._unread = [];
          return _this;
        }
        var _proto = UIEvent.prototype;
        _proto._onLoad = /*#__PURE__*/function () {
          var _onLoad2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {
            var _this$_unread;
            var _data;
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  _context.next = 2;
                  return MainScreenController.articles;
                case 2:
                  _data = _context.sent;
                  (_this$_unread = this._unread).push.apply(_this$_unread, _data);
                  this.addToggleContainerEvent(this.typeGroupTC, this.onTypeGroupChanged, this);
                  this._addClicker(this.btnPrevEvent, this.prevEventPage, this);
                  this._addClicker(this.btnNextEvent, this._actNextPage, this);
                  pComponentUtils.binds(this.pgViewEvent, 'pageEvents', this, '_onPageChange');
                  this._actLoadData(WidgetType.EVENT, _data);
                  this._actLoadData(WidgetType.NOTICE, _data);
                case 10:
                case "end":
                  return _context.stop();
              }
            }, _callee, this);
          }));
          function _onLoad() {
            return _onLoad2.apply(this, arguments);
          }
          return _onLoad;
        }();
        _proto._onOpen = /*#__PURE__*/function () {
          var _onOpen2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {
            return _regeneratorRuntime().wrap(function _callee2$(_context2) {
              while (1) switch (_context2.prev = _context2.next) {
                case 0:
                  this.loading.show();
                  _context2.next = 3;
                  return MainScreenController.wait('onLoadedArticles');
                case 3:
                  this._currentPgViewIndex = 0;
                  this.pgViewEvent.scrollToPage(this._currentPgViewIndex, 0.1);
                  this.typeGroupTC.toggleItems[0].isChecked = true;
                  this._onPageChange(this.pgViewEvent);
                  this.loading.close();
                case 8:
                case "end":
                  return _context2.stop();
              }
            }, _callee2, this);
          }));
          function _onOpen() {
            return _onOpen2.apply(this, arguments);
          }
          return _onOpen;
        }();
        _proto._actLoadData = function _actLoadData(type, list) {
          var _this2 = this;
          if (type === WidgetType.EVENT) {
            this.pgViewEvent.removeAllPages();
            this.btnNextEvent.node.active = list.length > 1;
            this.lbEventTitle.node.active = list.length > 0;
            list.forEach(function (ev) {
              var pageItem = instantiate(_this2.prefabItemEventPage);
              _this2.pgViewEvent.addPage(pageItem);
              pageItem.getComponent(UIItemEventPage).init(ev);
              pageItem.getComponent(UIItemEventPage).setOnClick(function (data) {
                _this2.htmlTextContent.active(true);
                _this2.htmlTextContent.set(data.content);
              });
            });
            if (list.length > 0) {
              this.pgViewEvent.scrollToPage(0, 0.1);
              // this.onPageChange(this.pgViewEvent);
            }
          }
        };

        _proto.onTypeGroupChanged = function onTypeGroupChanged(numIndex) {
          this._actGoToTab(numIndex);
        };
        _proto._actGoToTab = /*#__PURE__*/function () {
          var _actGoToTab2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(widgetType) {
            return _regeneratorRuntime().wrap(function _callee3$(_context3) {
              while (1) switch (_context3.prev = _context3.next) {
                case 0:
                  this.eventNode.active = widgetType == WidgetType.EVENT;
                  this.noticeNode.active = widgetType == WidgetType.NOTICE;
                  if (!this.eventNode.active) {
                    _context3.next = 9;
                    break;
                  }
                  _context3.t0 = this;
                  _context3.t1 = this._currentPgViewIndex;
                  _context3.next = 7;
                  return MainScreenController.articles;
                case 7:
                  _context3.t2 = _context3.sent;
                  _context3.t0._actUpdateUIPage.call(_context3.t0, _context3.t1, _context3.t2);
                case 9:
                case "end":
                  return _context3.stop();
              }
            }, _callee3, this);
          }));
          function _actGoToTab(_x) {
            return _actGoToTab2.apply(this, arguments);
          }
          return _actGoToTab;
        }();
        _proto.prevEventPage = function prevEventPage() {
          var prevPageIndex = this.pgViewEvent.getCurrentPageIndex() - 1;
          if (prevPageIndex >= 0) {
            this.pgViewEvent.scrollToPage(prevPageIndex, 0.1);
          }
        };
        _proto._actNextPage = function _actNextPage() {
          var _pages = this.pgViewEvent.getPages();
          var _next = this.pgViewEvent.getCurrentPageIndex() + 1;
          if (_next < _pages.length) {
            this.pgViewEvent.scrollToPage(_next, 0.1);
          }
        };
        _proto._onPageChange = /*#__PURE__*/function () {
          var _onPageChange2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(page) {
            var _data, _index, _pages, i, _node, _comp, _unread;
            return _regeneratorRuntime().wrap(function _callee4$(_context4) {
              while (1) switch (_context4.prev = _context4.next) {
                case 0:
                  this.loading.show();
                  _context4.next = 3;
                  return MainScreenController.articles;
                case 3:
                  _data = _context4.sent;
                  _index = page.getCurrentPageIndex();
                  _pages = page.getPages();
                  this._currentPgViewIndex = _index;
                  this._actUpdateUIPage(this._currentPgViewIndex, _data);
                  for (i = 0; i < _pages.length; i++) {
                    _node = _pages[i];
                    _comp = _node.getComponent(UIItemEventPage);
                    i == _index ? _comp.onSelect() : _comp.onDeselect();
                  }
                  _unread = this._unread.find(function (ev) {
                    return ev.id === _data[_index].id;
                  });
                  _unread && this._unread.splice(this._unread.indexOf(_unread), 1);
                  this.loading.close();
                case 12:
                case "end":
                  return _context4.stop();
              }
            }, _callee4, this);
          }));
          function _onPageChange(_x2) {
            return _onPageChange2.apply(this, arguments);
          }
          return _onPageChange;
        }();
        _proto.onDisable = function onDisable() {
          this.htmlTextContent.active(false);
        };
        _proto._actUpdateUIPage = function _actUpdateUIPage(current, list) {
          if (list === void 0) {
            list = [];
          }
          var _data = list[current];
          if (!_data) {
            this.warn('No data for current page index: ', current);
            return;
          }
          var title = _data.title,
            content = _data.content;
          this.lbEventTitle.string = title;
          this.lbEventContent.string = content.substring(0, 64);
          this.btnPrevEvent.interactable = current - 1 > 0;
          this.btnNextEvent.interactable = current + 1 < this.pgViewEvent.getPages().length;
        };
        return UIEvent;
      }(UIBase), (_descriptor4 = _applyDecoratedDescriptor(_class5.prototype, "typeGroupTC", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor5 = _applyDecoratedDescriptor(_class5.prototype, "eventNode", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor6 = _applyDecoratedDescriptor(_class5.prototype, "noticeNode", [_dec7], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor7 = _applyDecoratedDescriptor(_class5.prototype, "lbEventTitle", [_dec8], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor8 = _applyDecoratedDescriptor(_class5.prototype, "lbEventContent", [_dec9], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor9 = _applyDecoratedDescriptor(_class5.prototype, "pgViewEvent", [_dec10], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor10 = _applyDecoratedDescriptor(_class5.prototype, "btnPrevEvent", [_dec11], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor11 = _applyDecoratedDescriptor(_class5.prototype, "btnNextEvent", [_dec12], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor12 = _applyDecoratedDescriptor(_class5.prototype, "prefabItemEventPage", [_dec13], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor13 = _applyDecoratedDescriptor(_class5.prototype, "htmlTextContent", [_dec14], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor14 = _applyDecoratedDescriptor(_class5.prototype, "eventData", [_dec15, _dec16], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return [];
        }
      }), _descriptor15 = _applyDecoratedDescriptor(_class5.prototype, "loading", [_dec17], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class5)) || _class4));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIFlexTable.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './Constants.ts'], function (exports) {
  var _applyDecoratedDescriptor, _createClass, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, cclegacy, _decorator, Node, Component, CCEGameZoneOptions, toGameZoneOption, GameZoneOptions;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _createClass = module.createClass;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Node = module.Node;
      Component = module.Component;
    }, function (module) {
      CCEGameZoneOptions = module.CCEGameZoneOptions;
      toGameZoneOption = module.toGameZoneOption;
      GameZoneOptions = module.GameZoneOptions;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _class, _class2, _descriptor, _descriptor2, _dec4, _dec5, _dec6, _class4, _class5, _descriptor3;
      cclegacy._RF.push({}, "2d878nDFsVAJqHe/OY84bhy", "UIFlexTable", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var UIFlexTableHelper = (_dec = ccclass('UIFlexTableHelper'), _dec2 = property({
        type: CCEGameZoneOptions,
        visible: true,
        readonly: true
      }), _dec3 = property([Node]), _dec(_class = (_class2 = /*#__PURE__*/function () {
        function UIFlexTableHelper() {
          _initializerDefineProperty(this, "_type", _descriptor, this);
          _initializerDefineProperty(this, "targets", _descriptor2, this);
        }
        var _proto = UIFlexTableHelper.prototype;
        _proto.init = function init() {
          this.set(false);
        };
        _proto.set = function set(status) {
          this.targets.forEach(function (target) {
            return target && (target.active = status);
          });
        };
        _proto.invoke = function invoke(type) {
          this.set(this.type === type);
        };
        _createClass(UIFlexTableHelper, [{
          key: "type",
          get: function get() {
            return toGameZoneOption(this._type);
          },
          set: function set(value) {
            this._type = GameZoneOptions.indexOf(value);
          }
        }]);
        return UIFlexTableHelper;
      }(), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "_type", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return 0;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "targets", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return [];
        }
      })), _class2)) || _class);
      var UIFlexTable = exports('UIFlexTable', (_dec4 = ccclass('UIFlexTable'), _dec5 = property({
        type: [UIFlexTableHelper]
      }), _dec6 = property({
        type: [UIFlexTableHelper]
      }), _dec4(_class4 = (_class5 = /*#__PURE__*/function (_Component) {
        _inheritsLoose(UIFlexTable, _Component);
        function UIFlexTable() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _Component.call.apply(_Component, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "_helpers", _descriptor3, _assertThisInitialized(_this));
          return _this;
        }
        var _proto2 = UIFlexTable.prototype;
        _proto2.onLoad = function onLoad() {
          this.helpers.forEach(function (helper) {
            return helper.init();
          });
        };
        _proto2.change = function change(type) {
          this.helpers.forEach(function (helper) {
            return helper.invoke(type);
          });
        };
        _createClass(UIFlexTable, [{
          key: "helpers",
          get: function get() {
            var _this2 = this;
            if (this._helpers.length !== GameZoneOptions.length) {
              GameZoneOptions.forEach(function (zone, index) {
                if (!_this2._helpers[index]) {
                  var helper = new UIFlexTableHelper();
                  helper.type = zone;
                  _this2._helpers.push(helper);
                }
              });
            }
            return this._helpers;
          }
        }]);
        return UIFlexTable;
      }(Component), (_descriptor3 = _applyDecoratedDescriptor(_class5.prototype, "_helpers", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return [];
        }
      }), _applyDecoratedDescriptor(_class5.prototype, "helpers", [_dec6], Object.getOwnPropertyDescriptor(_class5.prototype, "helpers"), _class5.prototype)), _class5)) || _class4));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIFlippingObject.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UICardConfig.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, cclegacy, Sprite, Node, _decorator, v3, tween, Component, UICardConfig;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      Sprite = module.Sprite;
      Node = module.Node;
      _decorator = module._decorator;
      v3 = module.v3;
      tween = module.tween;
      Component = module.Component;
    }, function (module) {
      UICardConfig = module.UICardConfig;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _class, _class2, _descriptor, _descriptor2, _descriptor3;
      cclegacy._RF.push({}, "55cc1XRGG1H+opWPg0zEI52", "UIFlippingObject", undefined);
      var _cc$_decorator = _decorator,
        property = _cc$_decorator.property,
        ccclass = _cc$_decorator.ccclass,
        menu = _cc$_decorator.menu;
      var UIFlippingObject = exports('default', (_dec = ccclass('UIFlippingObject'), _dec2 = menu('Effect/UIFlippingObject'), _dec3 = property(Sprite), _dec4 = property(Node), _dec5 = property({
        min: 0
      }), _dec(_class = _dec2(_class = (_class2 = /*#__PURE__*/function (_cc$Component) {
        _inheritsLoose(UIFlippingObject, _cc$Component);
        function UIFlippingObject() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _cc$Component.call.apply(_cc$Component, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "sprite", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "strokeNode", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "duration", _descriptor3, _assertThisInitialized(_this));
          _this._rootScale = v3();
          _this._invoked = false;
          return _this;
        }
        var _proto = UIFlippingObject.prototype;
        _proto._getZeroScale = function _getZeroScale() {
          return v3(0, this._rootScale.y, this._rootScale.z);
        };
        _proto._setDown = function _setDown() {
          this.sprite.spriteFrame = UICardConfig.instance.down;
        };
        _proto._setUp = function _setUp(id) {
          try {
            this.sprite.spriteFrame = UICardConfig.instance.get(id).frame;
          } catch (e) {
            console.warn(e);
          }
        };
        _proto.onLoad = function onLoad() {
          var node = this.sprite.node;
          this._rootScale = node.scale.clone();
        };
        _proto.start = function start() {
          this._setDown();
        };
        _proto.hide = function hide() {
          this._invoked = false;
          this.sprite.node.setScale(v3());
        };
        _proto.setDown = function setDown(duration) {
          var _this2 = this;
          if (duration === void 0) {
            duration = 0.25;
          }
          if (this._invoked) return Promise.resolve(false);
          this._setDown();
          return new Promise(function (rs) {
            return tween(_this2.sprite.node).to(duration, {
              scale: _this2._rootScale
            }, {
              easing: 'backOut'
            }).call(function () {
              return rs(true);
            }).start();
          });
        };
        _proto.viewUp = function viewUp(id) {
          this._setUp(id);
          this.sprite.node.setScale(this._rootScale);
        };
        _proto.invoke = function invoke(id, delay, duration) {
          var _this3 = this;
          if (delay === void 0) {
            delay = 0;
          }
          if (duration === void 0) {
            duration = this.duration;
          }
          if (this._invoked) return Promise.resolve(false);
          delay = Math.abs(delay);
          this._invoked = true;
          return new Promise(function (resolve) {
            return _this3.scheduleOnce(function () {
              return tween(_this3.sprite.node).call(function () {
                return _this3._setDown();
              }).to(duration / 2, {
                scale: _this3._getZeroScale()
              }).call(function () {
                return _this3._setUp(id);
              }).to(duration / 2, {
                scale: _this3._rootScale
              }).call(function () {
                return resolve(true);
              }).start();
            }, delay);
          });
        };
        return UIFlippingObject;
      }(Component), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "sprite", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "strokeNode", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "duration", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return 0.15;
        }
      })), _class2)) || _class) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIFloatingMessage.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './InfinityFx.ts', './MainScreenController.ts', './LanguageManager.ts', './StringUtils.ts', './EventManager.ts', './EngineManager.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, cclegacy, _decorator, RichText, Component, NSInfinityFx, MainScreenController, LanguageMananger, pStringUtils, pEventManager, pEngineManager;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      RichText = module.RichText;
      Component = module.Component;
    }, function (module) {
      NSInfinityFx = module.NSInfinityFx;
    }, function (module) {
      MainScreenController = module.MainScreenController;
    }, function (module) {
      LanguageMananger = module.LanguageMananger;
    }, function (module) {
      pStringUtils = module.pStringUtils;
    }, function (module) {
      pEventManager = module.pEventManager;
    }, function (module) {
      pEngineManager = module.pEngineManager;
    }],
    execute: function () {
      var _dec, _dec2, _class, _class2, _descriptor;
      cclegacy._RF.push({}, "e80cbWuQ0RJ8I9Sq6h25rKq", "UIFloatingMessage", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var UIFloatingMessage = exports('UIFloatingMessage', (_dec = ccclass("UIFloatingMessage"), _dec2 = property(NSInfinityFx.Component), _dec(_class = (_class2 = /*#__PURE__*/function (_Component) {
        _inheritsLoose(UIFloatingMessage, _Component);
        function UIFloatingMessage() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _Component.call.apply(_Component, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "inifityFx", _descriptor, _assertThisInitialized(_this));
          _this._events = [['onGamePause', _this._onGamePause, _assertThisInitialized(_this)], ['onGameResume', _this._onGameResume, _assertThisInitialized(_this)]];
          return _this;
        }
        var _proto = UIFloatingMessage.prototype;
        _proto.onLoad = function onLoad() {
          pEventManager.on(this._events);
          this.inifityFx.add('onTransition', {
            _function: this._onTransition,
            _this: this
          });
          this.inifityFx.target.map(function (_node) {
            return _node.getComponent(RichText);
          }).filter(function (_rich) {
            return !!_rich;
          }).forEach(function (_rich) {
            var _jp = MainScreenController.jp;
            var senderFullName = _jp.senderFullName,
              reward = _jp.reward;
            var _reward = pStringUtils.formatMoneyWithDot(reward);
            var _place = LanguageMananger.instance.getString('txt_mini_spin_game');
            _rich.string = LanguageMananger.instance.getString({
              key: 'rich_dynamic_float_msg',
              replacers: [{
                find: "@name",
                replacer: senderFullName
              }, {
                find: "@value",
                replacer: _reward
              }, {
                find: "@place",
                replacer: _place
              }, {
                find: "@amount",
                replacer: _reward
              }]
            });
            pEngineManager.log("REPLACED", _rich.string);
          });
        };
        _proto.onDestroy = function onDestroy() {
          pEventManager.off(this._events);
        };
        _proto._onGamePause = function _onGamePause() {
          this.inifityFx.pause();
        };
        _proto._onGameResume = function _onGameResume() {
          this.inifityFx.resume();
        };
        _proto._onTransition = function _onTransition(ui) {
          if (!ui) return;
          var _rich = ui.getComponent(RichText);
          if (!_rich) return;
          var _jp = MainScreenController.jp;
          var senderFullName = _jp.senderFullName,
            reward = _jp.reward;
          var _reward = pStringUtils.formatMoneyWithDot(reward);
          var _place = LanguageMananger.instance.getString('txt_mini_spin_game');
          _rich.string = LanguageMananger.instance.getString({
            key: 'rich_dynamic_float_msg',
            replacers: [{
              find: "@name",
              replacer: senderFullName
            }, {
              find: "@value",
              replacer: _reward
            }, {
              find: "@place",
              replacer: _place
            }, {
              find: "@amount",
              replacer: _reward
            }]
          });
        };
        return UIFloatingMessage;
      }(Component), _descriptor = _applyDecoratedDescriptor(_class2.prototype, "inifityFx", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIFriend.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts', './Enums.ts', './UIFriendItem.ts', './FriendManager.ts', './ArrayUtils.ts', './TogglerManager.ts', './EnumUtils.ts', './MiniLoading.ts'], function (exports) {
  var _applyDecoratedDescriptor, _createClass, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _asyncToGenerator, _regeneratorRuntime, cclegacy, _decorator, Enum, Node, ScrollView, Prefab, Button, EditBox, NodePool, instantiate, UIBase, getEnumLength, UIFriendItem, NSFriendManager, pArray, NSToggler, NSEnumUtils, MiniLoading;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _createClass = module.createClass;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Enum = module.Enum;
      Node = module.Node;
      ScrollView = module.ScrollView;
      Prefab = module.Prefab;
      Button = module.Button;
      EditBox = module.EditBox;
      NodePool = module.NodePool;
      instantiate = module.instantiate;
    }, function (module) {
      UIBase = module.UIBase;
    }, function (module) {
      getEnumLength = module.getEnumLength;
    }, function (module) {
      UIFriendItem = module.UIFriendItem;
    }, function (module) {
      NSFriendManager = module.NSFriendManager;
    }, function (module) {
      pArray = module.pArray;
    }, function (module) {
      NSToggler = module.NSToggler;
    }, function (module) {
      NSEnumUtils = module.NSEnumUtils;
    }, function (module) {
      MiniLoading = module.MiniLoading;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _class, _class2, _descriptor, _descriptor2, _descriptor3, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _dec11, _dec12, _dec13, _dec14, _dec15, _dec16, _class4, _class5, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9, _descriptor10, _descriptor11, _descriptor12;
      cclegacy._RF.push({}, "f2ca0Af3/1Oc5mOz3gY3ZeU", "UIFriend", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property,
        type = _decorator.type;
      var UIFriendData = (_dec = ccclass('UIFriendData'), _dec2 = property({
        type: Enum(NSFriendManager.EFriendType),
        readonly: true
      }), _dec3 = property(Node), _dec4 = property(ScrollView), _dec(_class = (_class2 = /*#__PURE__*/function () {
        function UIFriendData() {
          _initializerDefineProperty(this, "filter", _descriptor, this);
          _initializerDefineProperty(this, "node", _descriptor2, this);
          _initializerDefineProperty(this, "scroll", _descriptor3, this);
          this._pool = [];
        }
        UIFriendData.create = function create(filter) {
          var _data = new UIFriendData();
          _data.filter = filter;
          return _data;
        };
        var _proto = UIFriendData.prototype;
        _proto.init = function init(length) {
          for (var i = 0; i < length; i++) this._pool.push(new NodePool());
        };
        _proto.destroy = function destroy() {
          this._pool.forEach(function (_pool) {
            return _pool.clear();
          });
        };
        _proto.remove = function remove() {
          var _this = this;
          this.scroll.content.children.forEach(function (_child, _i) {
            var _this$_pool$_i;
            return (_this$_pool$_i = _this._pool[_i]) == null ? void 0 : _this$_pool$_i.put(_child);
          });
          this.scroll.content.removeAllChildren();
        };
        _proto.get = function get(prefab) {
          var _result = this._pool.find(function (_n) {
            return _n.size() > 0;
          });
          return !!_result ? _result.get() : instantiate(prefab);
        };
        _createClass(UIFriendData, [{
          key: "active",
          set: function set(filter) {
            this.node.active = this.filter === filter;
          }
        }]);
        return UIFriendData;
      }(), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "filter", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return NSFriendManager.EFriendType.FRIEND;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "node", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "scroll", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class);
      var UIFriend = exports('UIFriend', (_dec5 = ccclass('UIFriend'), _dec6 = type(NSToggler.Manager), _dec7 = property({
        type: NSToggler.Manager
      }), _dec8 = type([UIFriendData]), _dec9 = property({
        type: [UIFriendData],
        readonly: true
      }), _dec10 = type(Prefab), _dec11 = type(Button), _dec12 = type(EditBox), _dec13 = type(Button), _dec14 = type(Node), _dec15 = type(Button), _dec16 = type(MiniLoading), _dec5(_class4 = (_class5 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UIFriend, _UIBase);
        function UIFriend() {
          var _this2;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this2 = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          _initializerDefineProperty(_this2, "_toggler", _descriptor4, _assertThisInitialized(_this2));
          _initializerDefineProperty(_this2, "_uiFriendData", _descriptor5, _assertThisInitialized(_this2));
          _initializerDefineProperty(_this2, "friendItemPrefab", _descriptor6, _assertThisInitialized(_this2));
          _initializerDefineProperty(_this2, "btnRefreshList", _descriptor7, _assertThisInitialized(_this2));
          _initializerDefineProperty(_this2, "editSearch", _descriptor8, _assertThisInitialized(_this2));
          _initializerDefineProperty(_this2, "btnSearch", _descriptor9, _assertThisInitialized(_this2));
          _initializerDefineProperty(_this2, "noticeContentNode", _descriptor10, _assertThisInitialized(_this2));
          _this2._filter = null;
          _initializerDefineProperty(_this2, "clearSearchBtn", _descriptor11, _assertThisInitialized(_this2));
          _initializerDefineProperty(_this2, "loading", _descriptor12, _assertThisInitialized(_this2));
          _this2._maxScrollItems = 10;
          _this2._fes = [['onRequest', _this2._onFriendAction, _assertThisInitialized(_this2), 0, 'onRequest'], ['onCancelRequest', _this2._onFriendAction, _assertThisInitialized(_this2), 0, 'onCancelRequest'], ['onDelete', _this2._onFriendAction, _assertThisInitialized(_this2), 0, 'onDelete'], ['onAccept', _this2._onFriendAction, _assertThisInitialized(_this2), 0, 'onAccept'], ['onReject', _this2._onFriendAction, _assertThisInitialized(_this2), 0, 'onReject'], ['onBlock', _this2._onFriendAction, _assertThisInitialized(_this2), 0, 'onBlock'], ['onUnBlock', _this2._onFriendAction, _assertThisInitialized(_this2), 0, 'onUnBlock'], ['onFriendAccepted', _this2._onFriendAction, _assertThisInitialized(_this2), 0, 'onFriendAccepted'], ['onFriendRequest', _this2._onFriendAction, _assertThisInitialized(_this2), 0, 'onFriendRequest']];
          return _this2;
        }
        var _proto2 = UIFriend.prototype;
        _proto2._onFriendAction = /*#__PURE__*/function () {
          var _onFriendAction2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  this.loading.show();
                  _context.next = 3;
                  return this._actLoadData(this._filter);
                case 3:
                  this.loading.close();
                case 4:
                case "end":
                  return _context.stop();
              }
            }, _callee, this);
          }));
          function _onFriendAction() {
            return _onFriendAction2.apply(this, arguments);
          }
          return _onFriendAction;
        }();
        _proto2._onLoad = function _onLoad() {
          var _this3 = this;
          this.uiFriendData.forEach(function (_data) {
            return _data.init(_this3._maxScrollItems);
          });
          this._toggler.add('onToggle', {
            _function: this._onFilterChanged,
            _this: this
          });
        };
        _proto2._onDestroy = function _onDestroy() {
          this.uiFriendData.forEach(function (_data) {
            return _data.destroy();
          });
        };
        _proto2._onStart = function _onStart() {
          this._addClicker(this.btnRefreshList, this._actRefresh, this);
          this._addClicker(this.btnSearch, this._actSearch, this);
        };
        _proto2.onEnable = function onEnable() {
          NSFriendManager.instance().refresh();
          NSFriendManager.instance().on(this._fes);
        };
        _proto2.clean = function clean() {
          this.removeAllChildContent(NSFriendManager.EFriendType.FRIEND, NSFriendManager.EFriendType.BLACKLIST, NSFriendManager.EFriendType.FOLLOWING, NSFriendManager.EFriendType.RANDOM_USER, NSFriendManager.EFriendType.FRIEND_REQUEST);
        };
        _proto2.removeAllChildContent = function removeAllChildContent(filter) {
          var _this4 = this;
          for (var _len2 = arguments.length, filters = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {
            filters[_key2 - 1] = arguments[_key2];
          }
          filters = pArray.flatter.apply(pArray, [filter].concat(filters));
          filters.forEach(function (_filter) {
            var _data = _this4.uiFriendData.find(function (e) {
              return e.filter === _filter;
            });
            _data == null || _data.remove();
          });
        };
        _proto2.getItemFriend = function getItemFriend(filter) {
          var _data = this.uiFriendData.find(function (e) {
            return e.filter === filter;
          });
          if (!_data) return instantiate(this.friendItemPrefab);
          return _data.get(this.friendItemPrefab);
        };
        _proto2._actLoadData = /*#__PURE__*/function () {
          var _actLoadData2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(filter) {
            var _lst;
            return _regeneratorRuntime().wrap(function _callee2$(_context2) {
              while (1) switch (_context2.prev = _context2.next) {
                case 0:
                  if (!(filter === null)) {
                    _context2.next = 2;
                    break;
                  }
                  return _context2.abrupt("return");
                case 2:
                  _context2.next = 4;
                  return NSFriendManager.instance().getFriend(filter);
                case 4:
                  _lst = _context2.sent;
                  this._actSetup(_lst, filter);
                case 6:
                case "end":
                  return _context2.stop();
              }
            }, _callee2, this);
          }));
          function _actLoadData(_x) {
            return _actLoadData2.apply(this, arguments);
          }
          return _actLoadData;
        }();
        _proto2._actSetup = /*#__PURE__*/function () {
          var _actSetup2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(list, filter) {
            var _this5 = this;
            var _data, _scroll;
            return _regeneratorRuntime().wrap(function _callee3$(_context3) {
              while (1) switch (_context3.prev = _context3.next) {
                case 0:
                  _data = this.uiFriendData.find(function (e) {
                    return e.filter === filter;
                  });
                  if (_data) {
                    _context3.next = 3;
                    break;
                  }
                  return _context3.abrupt("return");
                case 3:
                  _scroll = _data.scroll;
                  this.removeAllChildContent(filter);
                  list.forEach(function (_data) {
                    var item = _this5.getItemFriend(filter);
                    _scroll && _scroll.content.addChild(item);
                    item.getComponent(UIFriendItem).init(_data);
                  });
                  _scroll.scrollToTop(0.15);
                  this.noticeContentNode.active = list.length === 0;
                case 8:
                case "end":
                  return _context3.stop();
              }
            }, _callee3, this);
          }));
          function _actSetup(_x2, _x3) {
            return _actSetup2.apply(this, arguments);
          }
          return _actSetup;
        }();
        _proto2._onFilterChanged = /*#__PURE__*/function () {
          var _onFilterChanged2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(type) {
            return _regeneratorRuntime().wrap(function _callee4$(_context4) {
              while (1) switch (_context4.prev = _context4.next) {
                case 0:
                  this.log("_onFilterChanged", NSFriendManager.EFriendType[type], type);
                  this.loading.show();
                  type = Number(NSFriendManager.EFriendType[type]);
                  if (!(this._filter === type)) {
                    _context4.next = 5;
                    break;
                  }
                  return _context4.abrupt("return");
                case 5:
                  this._filter = type;
                  this.cancelSearch();
                  _context4.next = 9;
                  return this._actLoadData(type);
                case 9:
                  this.uiFriendData.forEach(function (_data) {
                    return _data.active = type;
                  });
                  this.btnRefreshList.node.active = type !== NSFriendManager.EFriendType.FRIEND;
                  this.loading.close();
                case 12:
                case "end":
                  return _context4.stop();
              }
            }, _callee4, this);
          }));
          function _onFilterChanged(_x4) {
            return _onFilterChanged2.apply(this, arguments);
          }
          return _onFilterChanged;
        }();
        _proto2.showClearSearchBtn = function showClearSearchBtn() {
          this.clearSearchBtn.node.active = true;
        };
        _proto2.cancelSearch = function cancelSearch() {
          this.clearSearchBtn.node.active = false;
          this.editSearch.string = "";
          this.noticeContentNode.active && (this.noticeContentNode.active = false);
        };
        _proto2.onDisable = function onDisable() {
          NSFriendManager.instance().off(this._fes);
        };
        _proto2._onClose = function _onClose() {
          this.clean();
          this.cancelSearch();
          this._filter = null;
        };
        _proto2._actSearch = /*#__PURE__*/function () {
          var _actSearch2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5() {
            var _search, _friends;
            return _regeneratorRuntime().wrap(function _callee5$(_context5) {
              while (1) switch (_context5.prev = _context5.next) {
                case 0:
                  _search = this.editSearch.string.trim();
                  this.loading.show();
                  if (!(_search.length === 0)) {
                    _context5.next = 7;
                    break;
                  }
                  _context5.next = 5;
                  return this._actLoadData(NSFriendManager.EFriendType.RANDOM_USER);
                case 5:
                  this.loading.close();
                  return _context5.abrupt("return");
                case 7:
                  _context5.next = 9;
                  return NSFriendManager.instance().search(_search, NSFriendManager.ESearchType.SEARCH_ALL);
                case 9:
                  _friends = _context5.sent;
                  _context5.next = 12;
                  return this._actSetup(_friends, NSFriendManager.EFriendType.RANDOM_USER);
                case 12:
                  this.loading.close();
                case 13:
                case "end":
                  return _context5.stop();
              }
            }, _callee5, this);
          }));
          function _actSearch() {
            return _actSearch2.apply(this, arguments);
          }
          return _actSearch;
        }();
        _proto2._actRefresh = /*#__PURE__*/function () {
          var _actRefresh2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6() {
            return _regeneratorRuntime().wrap(function _callee6$(_context6) {
              while (1) switch (_context6.prev = _context6.next) {
                case 0:
                  this.loading.show();
                  if (!(this._filter === NSFriendManager.EFriendType.RANDOM_USER)) {
                    _context6.next = 4;
                    break;
                  }
                  _context6.next = 4;
                  return NSFriendManager.instance().getFriend(this._filter, true);
                case 4:
                  this._actLoadData(this._filter);
                  this.loading.close();
                case 6:
                case "end":
                  return _context6.stop();
              }
            }, _callee6, this);
          }));
          function _actRefresh() {
            return _actRefresh2.apply(this, arguments);
          }
          return _actRefresh;
        }();
        _createClass(UIFriend, [{
          key: "toggler",
          get: function get() {
            return this._toggler;
          },
          set: function set(v) {
            var _this$_toggler;
            this._toggler = v;
            (_this$_toggler = this._toggler) == null || _this$_toggler.resetup(NSEnumUtils.utils.array(NSFriendManager.EFriendType));
          }
        }, {
          key: "uiFriendData",
          get: function get() {
            var _length = getEnumLength(NSFriendManager.EFriendType);
            if (this._uiFriendData.length < _length) {
              this._uiFriendData = [];
              for (var i = 0; i < _length; i++) {
                this._uiFriendData.push(UIFriendData.create(i + 1));
              }
            }
            return this._uiFriendData;
          }
        }]);
        return UIFriend;
      }(UIBase), (_descriptor4 = _applyDecoratedDescriptor(_class5.prototype, "_toggler", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _applyDecoratedDescriptor(_class5.prototype, "toggler", [_dec7], Object.getOwnPropertyDescriptor(_class5.prototype, "toggler"), _class5.prototype), _descriptor5 = _applyDecoratedDescriptor(_class5.prototype, "_uiFriendData", [_dec8], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return [];
        }
      }), _applyDecoratedDescriptor(_class5.prototype, "uiFriendData", [_dec9], Object.getOwnPropertyDescriptor(_class5.prototype, "uiFriendData"), _class5.prototype), _descriptor6 = _applyDecoratedDescriptor(_class5.prototype, "friendItemPrefab", [_dec10], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor7 = _applyDecoratedDescriptor(_class5.prototype, "btnRefreshList", [_dec11], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor8 = _applyDecoratedDescriptor(_class5.prototype, "editSearch", [_dec12], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor9 = _applyDecoratedDescriptor(_class5.prototype, "btnSearch", [_dec13], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor10 = _applyDecoratedDescriptor(_class5.prototype, "noticeContentNode", [_dec14], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor11 = _applyDecoratedDescriptor(_class5.prototype, "clearSearchBtn", [_dec15], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor12 = _applyDecoratedDescriptor(_class5.prototype, "loading", [_dec16], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class5)) || _class4));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIFriendChat.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts', './UIChatItem.ts', './UIEmojis.ts', './GlobalConfig.ts', './ResponeCode.ts', './EventManager.ts', './ChatCommand.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _asyncToGenerator, _regeneratorRuntime, cclegacy, _decorator, ScrollView, Prefab, EditBox, Label, Node, instantiate, UIBase, UIChatItem, UIEmojis, GlobalConfig, ResponseCode, pEventManager, request;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      ScrollView = module.ScrollView;
      Prefab = module.Prefab;
      EditBox = module.EditBox;
      Label = module.Label;
      Node = module.Node;
      instantiate = module.instantiate;
    }, function (module) {
      UIBase = module.UIBase;
    }, function (module) {
      UIChatItem = module.UIChatItem;
    }, function (module) {
      UIEmojis = module.UIEmojis;
    }, function (module) {
      GlobalConfig = module.default;
    }, function (module) {
      ResponseCode = module.ResponseCode;
    }, function (module) {
      pEventManager = module.pEventManager;
    }, function (module) {
      request = module.default;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7;
      cclegacy._RF.push({}, "ac05auHpbBLq7JTvfL538wq", "UIFriendChat", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var UIFriendChat = exports('UIFriendChat', (_dec = ccclass('UIFriendChat'), _dec2 = property(ScrollView), _dec3 = property(Prefab), _dec4 = property(Prefab), _dec5 = property(Prefab), _dec6 = property(EditBox), _dec7 = property(Label), _dec8 = property(Node), _dec(_class = (_class2 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UIFriendChat, _UIBase);
        function UIFriendChat() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "scrChat", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "selfChatItemPrefab", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "friendChatItemPrefab", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "timelinePrefab", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "chatEditBox", _descriptor5, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbPlayerChat", _descriptor6, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "emojisView", _descriptor7, _assertThisInitialized(_this));
          _this._data = null;
          _this._events = [['onHasUserChat', _this.onHasUserChat, _assertThisInitialized(_this)], ['updateNoticePointChat', _this.updateNoticePointChat, _assertThisInitialized(_this)]];
          return _this;
        }
        var _proto = UIFriendChat.prototype;
        _proto._onStart = function _onStart() {
          var _this2 = this;
          this.node.getComponent(UIEmojis).updateUI(function (e) {
            return _this2.onSendEmoji(e);
          });
        };
        _proto.onEnable = function onEnable() {
          this.emojisView.active = false;
          pEventManager.on(this._events);
        };
        _proto.onDisable = function onDisable() {
          this.emojisView.active = false;
          pEventManager.off(this._events);
        };
        _proto.onHasUserChat = function onHasUserChat(data) {
          if (this._data.uid === data.id) {
            if (data.msg.includes('send_emoji:')) {
              this.addFriendEmoji({
                id: data.id,
                nickName: data.username,
                avatar: data.avatar.toString()
              }, data.msg.replace('send_emoji:', '').trim());
            } else {
              this.addFriendChat({
                id: data.id,
                nickName: data.username,
                avatar: data.avatar.toString()
              }, data.msg);
            }
          }
        };
        _proto.updateNoticePointChat = function updateNoticePointChat(data) {
          if (!data) return;
          if (data.id === this._data.uid) this.markAllMessageAsRead();
        };
        _proto.onSendEmoji = function onSendEmoji(e) {
          var _this3 = this;
          if (!this._data) return;
          if (e.length <= 0) return;
          var instance = GlobalConfig.instance;
          if (!instance.doubleCheckLogin()) return;
          // console.log("Send chat to player id", this._data.uid, "content: ", this.chatEditBox.string);

          var chatContent = "send_emoji:" + e;
          this.chatEditBox.string = "";
          request('sendMessage', {
            content: chatContent,
            target: this._data.uid.toString()
          }).then(function () {
            _this3.addSelfEmoji({
              id: instance.Login.player.information.id,
              avatar: instance.Login.player.information.avatar,
              nickName: instance.Login.player.information.username
            }, e);
          })["catch"](function (err) {
            _this3.warn("Send chat friend err", err);
          });
          this.emojisView.active = false;
        };
        _proto.onEmojisBtnClick = function onEmojisBtnClick() {
          this.emojisView.active = !this.emojisView.active;
        };
        _proto.markAllMessageAsRead = /*#__PURE__*/function () {
          var _markAllMessageAsRead = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {
            var rs, success;
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  if (this._data) {
                    _context.next = 2;
                    break;
                  }
                  return _context.abrupt("return", false);
                case 2:
                  _context.next = 4;
                  return request('markAllMessagesAsRead', {
                    friend_id: this._data.uid
                  });
                case 4:
                  rs = _context.sent;
                  success = rs.code === ResponseCode.ERROR ? false : rs.data;
                  if (success) pEventManager.invoke('messageOnMarkAllAsRead');
                  return _context.abrupt("return", success);
                case 8:
                case "end":
                  return _context.stop();
              }
            }, _callee, this);
          }));
          function markAllMessageAsRead() {
            return _markAllMessageAsRead.apply(this, arguments);
          }
          return markAllMessageAsRead;
        }();
        _proto._loadChatHistories = function _loadChatHistories() {
          var _this4 = this;
          this.scrChat.content.removeAllChildren();
          request('getChatHistories', {
            target_id: this._data.uid,
            page: 1,
            pageSize: 20
          }).then(function (res) {
            if (res.code === ResponseCode.SUCCESS) {
              // if (res.data.count > 5) {
              //     let timeNode = instantiate(this.timelinePrefab);
              //     let date = new Date(res.data.rows[0].sentAt);
              //     timeNode.getComponent(Label).string = `${date.getHours()}:${date.getMinutes()}:${date.getSeconds()} ${date.getDate()}/${date.getMonth()}/${date.getFullYear()}`;
              //     this.scrChat.content.addChild(timeNode);
              //     // this.scrChat.scrollToBottom(0.1);
              // }
              // let timeNode = instantiate(this.timelinePrefab);
              // let date = new Date(res.data.rows[0].sentAt);
              // timeNode.getComponent(Label).string = `${date.getHours()}:${date.getMinutes()}:${date.getSeconds()} ${date.getDate()}/${date.getMonth()}/${date.getFullYear()}`;
              // this.scrChat.content.addChild(timeNode);
              var chat_his_data = res.data.rows;
              for (var index = res.data.count - 1; index >= 0; index--) {
                var his_data = chat_his_data[index];
                if (!his_data) continue;
                if (his_data.senderId === GlobalConfig.instance.Login.player.information.id && his_data.receiverId === _this4._data.uid) {
                  if (his_data.message.includes('send_emoji:')) {
                    _this4.addSelfEmoji(his_data.sender, his_data.message.replace('send_emoji:', '').trim(), false);
                  } else {
                    _this4.addSelfChat(his_data.sender, his_data.message, false);
                  }
                } else if (his_data.receiverId === GlobalConfig.instance.Login.player.information.id && his_data.senderId === _this4._data.uid) {
                  if (his_data.message.includes('send_emoji:')) {
                    _this4.addFriendEmoji(his_data.sender, his_data.message.replace('send_emoji:', '').trim(), false);
                  } else {
                    _this4.addFriendChat(his_data.sender, his_data.message, false);
                  }
                }
              }
              _this4.scrChat.scrollToBottom(0.1);
            }
          });
        };
        _proto.init = function init(data) {
          this._data = data;
          if (!this._data) return;
          this.lbPlayerChat.string = this._data.fullName;
          this._loadChatHistories();
        };
        _proto.sendMessage = function sendMessage() {
          var _this5 = this;
          if (!this._data) return;
          var chatContent = this.chatEditBox.string.trim();
          if (chatContent.length <= 0) return;
          var instance = GlobalConfig.instance;
          if (!instance.doubleCheckLogin()) return;
          this.chatEditBox.string = "";
          request('sendMessage', {
            content: chatContent,
            target: this._data.uid.toString()
          }).then(function () {
            _this5.addSelfChat({
              id: instance.Login.player.information.id,
              avatar: instance.Login.player.information.avatar,
              nickName: instance.Login.player.information.username
            }, chatContent);
          })["catch"](function (err) {
            _this5.warn("Send chat friend err", err);
          });
        };
        _proto.addSelfChat = function addSelfChat(data, text, scrollToBottom) {
          if (scrollToBottom === void 0) {
            scrollToBottom = true;
          }
          // this.addTimeIfFirst();
          var selfChatNode = instantiate(this.selfChatItemPrefab);
          var uiChatItem = selfChatNode.getComponent(UIChatItem);
          uiChatItem.setData(data, text);
          this.scrChat.content.addChild(selfChatNode);
          if (scrollToBottom) this.scrChat.scrollToBottom(0.1);
        };
        _proto.addSelfEmoji = function addSelfEmoji(data, text, scrollToBottom) {
          if (scrollToBottom === void 0) {
            scrollToBottom = true;
          }
          // this.addTimeIfFirst();
          var selfChatNode = instantiate(this.selfChatItemPrefab);
          var uiChatItem = selfChatNode.getComponent(UIChatItem);
          var sp = this.node.getComponent(UIEmojis).emojiAlias.getSpriteFrame(text);
          if (sp) {
            uiChatItem.setEmoji(data, sp);
            this.scrChat.content.addChild(selfChatNode);
            if (scrollToBottom) this.scrChat.scrollToBottom(0.1);
          }
        };
        _proto.addFriendChat = function addFriendChat(data, text, scrollToBottom) {
          if (scrollToBottom === void 0) {
            scrollToBottom = true;
          }
          // this.addTimeIfFirst();
          var friendChatNode = instantiate(this.friendChatItemPrefab);
          var uiChatItem = friendChatNode.getComponent(UIChatItem);
          uiChatItem.setData(data, text);
          this.scrChat.content.addChild(friendChatNode);
          if (scrollToBottom) this.scrChat.scrollToBottom(0.1);
        };
        _proto.addFriendEmoji = function addFriendEmoji(data, text, scrollToBottom) {
          if (scrollToBottom === void 0) {
            scrollToBottom = true;
          }
          // this.addTimeIfFirst();
          var friendChatNode = instantiate(this.friendChatItemPrefab);
          var uiChatItem = friendChatNode.getComponent(UIChatItem);
          var sp = this.node.getComponent(UIEmojis).emojiAlias.getSpriteFrame(text);
          if (sp) {
            uiChatItem.setEmoji(data, sp);
            this.scrChat.content.addChild(friendChatNode);
            if (scrollToBottom) this.scrChat.scrollToBottom(0.1);
          }
        };
        return UIFriendChat;
      }(UIBase), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "scrChat", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "selfChatItemPrefab", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "friendChatItemPrefab", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "timelinePrefab", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "chatEditBox", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, "lbPlayerChat", [_dec7], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor7 = _applyDecoratedDescriptor(_class2.prototype, "emojisView", [_dec8], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIFriendItem.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './StringUtils.ts', './Enums.ts', './UIController.ts', './ResponeCode.ts', './EventManager.ts', './MainScreenController.ts', './GameManager.ts', './ComponentUtils.ts', './FriendManager.ts', './UserCommand.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _asyncToGenerator, _regeneratorRuntime, cclegacy, _decorator, Button, Sprite, Toggle, UITransform, Label, Node, Component, log, warn, pStringUtils, UIType, UIController, ResponseCode, pEventManager, MainScreenController, GameManager, pComponentUtils, NSFriendManager, request;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Button = module.Button;
      Sprite = module.Sprite;
      Toggle = module.Toggle;
      UITransform = module.UITransform;
      Label = module.Label;
      Node = module.Node;
      Component = module.Component;
      log = module.log;
      warn = module.warn;
    }, function (module) {
      pStringUtils = module.pStringUtils;
    }, function (module) {
      UIType = module.UIType;
    }, function (module) {
      UIController = module.UIController;
    }, function (module) {
      ResponseCode = module.ResponseCode;
    }, function (module) {
      pEventManager = module.pEventManager;
    }, function (module) {
      MainScreenController = module.MainScreenController;
    }, function (module) {
      GameManager = module.GameManager;
    }, function (module) {
      pComponentUtils = module.pComponentUtils;
    }, function (module) {
      NSFriendManager = module.NSFriendManager;
    }, function (module) {
      request = module.default;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _dec11, _dec12, _dec13, _dec14, _dec15, _dec16, _dec17, _dec18, _dec19, _dec20, _dec21, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9, _descriptor10, _descriptor11, _descriptor12, _descriptor13, _descriptor14, _descriptor15, _descriptor16, _descriptor17, _descriptor18, _descriptor19, _descriptor20;
      cclegacy._RF.push({}, "2a95bt6AMBBqIIJQIddR5li", "UIFriendItem", undefined);
      var ccclass = _decorator.ccclass,
        type = _decorator.type;
      var UIFriendItem = exports('UIFriendItem', (_dec = ccclass('UIFriendItem'), _dec2 = type(Button), _dec3 = type(Sprite), _dec4 = type(Toggle), _dec5 = type(UITransform), _dec6 = type(Label), _dec7 = type(Label), _dec8 = type(Node), _dec9 = type(Button), _dec10 = type(Node), _dec11 = type(Button), _dec12 = type(Button), _dec13 = type(Node), _dec14 = type(Button), _dec15 = type(Button), _dec16 = type(Node), _dec17 = type(Button), _dec18 = type(Button), _dec19 = type(Button), _dec20 = type(Node), _dec21 = type(Label), _dec(_class = (_class2 = /*#__PURE__*/function (_Component) {
        _inheritsLoose(UIFriendItem, _Component);
        function UIFriendItem() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _Component.call.apply(_Component, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "btn", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "imgAvatar", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "toggleStatus", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "uiNameContainer", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lblPlayerName", _descriptor5, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lblPlayerChip", _descriptor6, _assertThisInitialized(_this));
          // My Friend
          _initializerDefineProperty(_this, "myFriendButtons", _descriptor7, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnViewProfile", _descriptor8, _assertThisInitialized(_this));
          // Add Friend
          _initializerDefineProperty(_this, "addFriendButtons", _descriptor9, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnAdd", _descriptor10, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnUnfollow", _descriptor11, _assertThisInitialized(_this));
          // Follow Friend
          _initializerDefineProperty(_this, "friendRequestsButtons", _descriptor12, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnAccept", _descriptor13, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnReject", _descriptor14, _assertThisInitialized(_this));
          // Block Friend
          _initializerDefineProperty(_this, "blockFriendButtons", _descriptor15, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnBlock", _descriptor16, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnUnblock", _descriptor17, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnMessage", _descriptor18, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "noticeMessage", _descriptor19, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "noticeMessageNumber", _descriptor20, _assertThisInitialized(_this));
          _this._eventsOnMyFriend = [['updateNoticePointChat', _this.onHasUerChat, _assertThisInitialized(_this)]];
          _this._eventsDefault = [['onAddFriendSuccess', _this._onAddFriend, _assertThisInitialized(_this)], ['onUnAddFriend', _this.onUnAddFriend, _assertThisInitialized(_this)], ['onAcceptFriend', _this.onAcceptFriend, _assertThisInitialized(_this)], ['onRejectFriend', _this.onRejectFriend, _assertThisInitialized(_this)], ['onUnBlockFriend', _this.onUnBlockFriend, _assertThisInitialized(_this)], ['onBlockFriend', _this.onBlockFriend, _assertThisInitialized(_this)]];
          _this._data = null;
          return _this;
        }
        var _proto = UIFriendItem.prototype;
        _proto._onAddFriend = function _onAddFriend(id) {
          if (id && this._data.id === id) {
            this._data.is_followed = true;
            this._actRefreshUI();
          }
        };
        _proto.onUnAddFriend = function onUnAddFriend(id) {
          if (id && this._data.id === id) {
            this._data.is_followed = false;
            this._actRefreshUI();
          }
        };
        _proto.onAcceptFriend = function onAcceptFriend(id) {};
        _proto.onRejectFriend = function onRejectFriend(id) {};
        _proto.onBlockFriend = function onBlockFriend(id) {
          if (id && id === this._data.id) {
            this._data.is_blocked = true;
            this._actRefreshUI();
          }
        };
        _proto.onUnBlockFriend = function onUnBlockFriend(id) {
          if (id && this._data.id === id) {
            this._data.is_blocked = false;
            this._actRefreshUI();
          }
        };
        _proto.start = function start() {
          pComponentUtils.appends({
            _options: [{
              _handlers: this._actViewProfile,
              _target: this.btn
            }, {
              _handlers: this._actFriend.bind(this, 'onRequest'),
              _target: this.btnAdd
            }, {
              _handlers: this._actFriend.bind(this, 'onCancelRequest'),
              _target: this.btnUnfollow
            }, {
              _handlers: this._actFriend.bind(this, 'onAccept'),
              _target: this.btnAccept
            }, {
              _handlers: this._actFriend.bind(this, 'onReject'),
              _target: this.btnReject
            }, {
              _handlers: this._actFriend.bind(this, 'onBlock'),
              _target: this.btnBlock
            }, {
              _handlers: this._actFriend.bind(this, 'onUnBlock'),
              _target: this.btnUnblock
            }, {
              _handlers: this._actMessage,
              _target: this.btnMessage
            }],
            _type: Button.EventType.CLICK,
            _binder: this
          });
        };
        _proto.init = function init(data) {
          this._data = data;
          this._actRefreshUI();
        };
        _proto._playerNameHandler = function _playerNameHandler() {
          var _trans = pComponentUtils.getSafeComponent(this.lblPlayerName, UITransform);
          if (_trans.width > this.uiNameContainer.width) ;
        };
        _proto._actRefreshUI = /*#__PURE__*/function () {
          var _actRefreshUI2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {
            var _this2 = this;
            var session, numberUnreadChat, _this$_data, is_friend, is_followed, is_blocked, _following;
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  this.toggleStatus.isChecked = this._data.is_online;
                  this.lblPlayerName.string = this._data.full_name;
                  this._playerNameHandler();
                  this.lblPlayerChip.string = this._data.balance < 1e12 ? pStringUtils.formatNumberWithDot2(this._data.balance) : pStringUtils.formatNumberKMB(this._data.balance);
                  GameManager.Instance.setAvatar(this._data.avatar, this.imgAvatar);
                  this.myFriendButtons.active = false;
                  this.addFriendButtons.active = false;
                  this.friendRequestsButtons.active = false;
                  this.blockFriendButtons.active = false;
                  _context.t0 = this._data.filter;
                  _context.next = _context.t0 === NSFriendManager.EFriendType.FRIEND_REQUEST ? 12 : _context.t0 === NSFriendManager.EFriendType.FRIEND ? 14 : _context.t0 === NSFriendManager.EFriendType.BLACKLIST ? 24 : _context.t0 === NSFriendManager.EFriendType.FOLLOWING ? 28 : _context.t0 === NSFriendManager.EFriendType.RANDOM_USER ? 32 : 44;
                  break;
                case 12:
                  this.friendRequestsButtons.active = true;
                  return _context.abrupt("break", 44);
                case 14:
                  this.myFriendButtons.active = true;
                  this.btnViewProfile.node.active = false;
                  pEventManager.on(this._eventsOnMyFriend);
                  session = MainScreenController.currentChatSessions.data.find(function (_s) {
                    return _s.sender.id === parseInt(_this2._data.id) || _s.receiver.id === parseInt(_this2._data.id);
                  });
                  if (session) {
                    _context.next = 20;
                    break;
                  }
                  return _context.abrupt("return");
                case 20:
                  numberUnreadChat = session.unreadCount;
                  this.noticeMessage.active = numberUnreadChat != 0;
                  this.noticeMessageNumber.string = numberUnreadChat.toString();
                  return _context.abrupt("break", 44);
                case 24:
                  this.blockFriendButtons.active = true;
                  this.btnBlock.node.active = false;
                  this.btnUnblock.node.active = true;
                  return _context.abrupt("break", 44);
                case 28:
                  this.addFriendButtons.active = true;
                  this.btnUnfollow.node.active = true;
                  this.btnAdd.node.active = false;
                  return _context.abrupt("break", 44);
                case 32:
                  console.log(">>>>> [RANDOM_USER] >>>", this._data);
                  _this$_data = this._data, is_friend = _this$_data.is_friend, is_followed = _this$_data.is_followed, is_blocked = _this$_data.is_blocked;
                  _context.next = 36;
                  return NSFriendManager.instance().getFriend(NSFriendManager.EFriendType.FOLLOWING, true);
                case 36:
                  _following = _context.sent;
                  if (!(is_followed || !!_following.find(function (_f) {
                    return _f.id === _this2._data.id;
                  }))) {
                    _context.next = 42;
                    break;
                  }
                  this.addFriendButtons.active = true;
                  this.btnUnfollow.node.active = true;
                  this.btnAdd.node.active = false;
                  return _context.abrupt("return");
                case 42:
                  if (!is_friend) {
                    this.addFriendButtons.active = true;
                    this.btnUnfollow.node.active = false;
                    this.btnAdd.node.active = true;
                  } else {
                    this.blockFriendButtons.active = true;
                    this.btnBlock.node.active = !is_blocked;
                    this.btnUnblock.node.active = is_blocked;
                  }
                  return _context.abrupt("break", 44);
                case 44:
                case "end":
                  return _context.stop();
              }
            }, _callee, this);
          }));
          function _actRefreshUI() {
            return _actRefreshUI2.apply(this, arguments);
          }
          return _actRefreshUI;
        }();
        _proto.onHasUerChat = function onHasUerChat() {
          var id = parseInt(this._data.id);
          var d = MainScreenController.currentChatSessions.data.find(function (d) {
            return d.sender.id === id || d.receiver.id === id;
          });
          if (!d) return;
          var number = d.unreadCount;
          this.noticeMessageNumber.string = number.toString();
          this.noticeMessage.active = number > 0;
        };
        _proto._actViewProfile = /*#__PURE__*/function () {
          var _actViewProfile2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(x) {
            var uiFriendProfile;
            return _regeneratorRuntime().wrap(function _callee2$(_context2) {
              while (1) switch (_context2.prev = _context2.next) {
                case 0:
                  log("_actViewProfile >>", x);
                  _context2.next = 3;
                  return UIController.Instance.open(UIType.FRIEND_PROFILE);
                case 3:
                  uiFriendProfile = _context2.sent;
                  uiFriendProfile == null || uiFriendProfile.init(this._data);
                case 5:
                case "end":
                  return _context2.stop();
              }
            }, _callee2, this);
          }));
          function _actViewProfile(_x) {
            return _actViewProfile2.apply(this, arguments);
          }
          return _actViewProfile;
        }();
        _proto._actMessage = /*#__PURE__*/function () {
          var _actMessage2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {
            var res, ui;
            return _regeneratorRuntime().wrap(function _callee3$(_context3) {
              while (1) switch (_context3.prev = _context3.next) {
                case 0:
                  _context3.next = 2;
                  return request('getUserInfo', {
                    uid: this._data.id
                  });
                case 2:
                  res = _context3.sent;
                  _context3.t0 = res.code;
                  _context3.next = _context3.t0 === ResponseCode.SUCCESS ? 6 : _context3.t0 === ResponseCode.ERROR ? 16 : 18;
                  break;
                case 6:
                  _context3.next = 8;
                  return UIController.Instance.open(UIType.FRIEND_CHAT);
                case 8:
                  ui = _context3.sent;
                  ui.init(res.msg);
                  if (!this.noticeMessage.active) {
                    _context3.next = 15;
                    break;
                  }
                  _context3.next = 13;
                  return ui.markAllMessageAsRead();
                case 13:
                  this.noticeMessage.active = !_context3.sent;
                  if (!this.noticeMessage.active) this.noticeMessageNumber.string = '0';
                case 15:
                  return _context3.abrupt("break", 19);
                case 16:
                  warn("Get user info error", res);
                  return _context3.abrupt("break", 19);
                case 18:
                  return _context3.abrupt("break", 19);
                case 19:
                case "end":
                  return _context3.stop();
              }
            }, _callee3, this);
          }));
          function _actMessage() {
            return _actMessage2.apply(this, arguments);
          }
          return _actMessage;
        }();
        _proto._actFriend = /*#__PURE__*/function () {
          var _actFriend2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(type) {
            var _fm;
            return _regeneratorRuntime().wrap(function _callee4$(_context4) {
              while (1) switch (_context4.prev = _context4.next) {
                case 0:
                  _fm = NSFriendManager.instance();
                  log("_actFriend >>", type, this._data.id, this._data.full_name);
                  return _context4.abrupt("return", _fm.smartAction(type, this._data.id.toString(), this._data.full_name));
                case 3:
                case "end":
                  return _context4.stop();
              }
            }, _callee4, this);
          }));
          function _actFriend(_x2) {
            return _actFriend2.apply(this, arguments);
          }
          return _actFriend;
        }();
        _proto.onEnable = function onEnable() {
          pEventManager.on(this._eventsDefault);
        };
        _proto.onDisable = function onDisable() {
          pEventManager.off(this._eventsDefault);
          if (this._data.filter === NSFriendManager.EFriendType.FRIEND) {
            pEventManager.off(this._eventsOnMyFriend);
          }
        };
        return UIFriendItem;
      }(Component), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "btn", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "imgAvatar", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "toggleStatus", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "uiNameContainer", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "lblPlayerName", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, "lblPlayerChip", [_dec7], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor7 = _applyDecoratedDescriptor(_class2.prototype, "myFriendButtons", [_dec8], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor8 = _applyDecoratedDescriptor(_class2.prototype, "btnViewProfile", [_dec9], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor9 = _applyDecoratedDescriptor(_class2.prototype, "addFriendButtons", [_dec10], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor10 = _applyDecoratedDescriptor(_class2.prototype, "btnAdd", [_dec11], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor11 = _applyDecoratedDescriptor(_class2.prototype, "btnUnfollow", [_dec12], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor12 = _applyDecoratedDescriptor(_class2.prototype, "friendRequestsButtons", [_dec13], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor13 = _applyDecoratedDescriptor(_class2.prototype, "btnAccept", [_dec14], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor14 = _applyDecoratedDescriptor(_class2.prototype, "btnReject", [_dec15], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor15 = _applyDecoratedDescriptor(_class2.prototype, "blockFriendButtons", [_dec16], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor16 = _applyDecoratedDescriptor(_class2.prototype, "btnBlock", [_dec17], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor17 = _applyDecoratedDescriptor(_class2.prototype, "btnUnblock", [_dec18], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor18 = _applyDecoratedDescriptor(_class2.prototype, "btnMessage", [_dec19], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor19 = _applyDecoratedDescriptor(_class2.prototype, "noticeMessage", [_dec20], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor20 = _applyDecoratedDescriptor(_class2.prototype, "noticeMessageNumber", [_dec21], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIFriendProfile.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts', './StringUtils.ts', './UIController.ts', './Enums.ts', './ResponeCode.ts', './LanguageManager.ts', './GameManager.ts', './MathUtils.ts', './UINotice.ts', './FriendManager.ts', './MiniLoading.ts', './UserCommand.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _asyncToGenerator, _regeneratorRuntime, cclegacy, _decorator, Sprite, Label, Button, Node, UITransform, UIBase, pStringUtils, UIController, UIType, ResponseCode, LanguageMananger, GameManager, pMathUtils, UINotice, NSFriendManager, MiniLoading, request;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Sprite = module.Sprite;
      Label = module.Label;
      Button = module.Button;
      Node = module.Node;
      UITransform = module.UITransform;
    }, function (module) {
      UIBase = module.UIBase;
    }, function (module) {
      pStringUtils = module.pStringUtils;
    }, function (module) {
      UIController = module.UIController;
    }, function (module) {
      UIType = module.UIType;
    }, function (module) {
      ResponseCode = module.ResponseCode;
    }, function (module) {
      LanguageMananger = module.LanguageMananger;
    }, function (module) {
      GameManager = module.GameManager;
    }, function (module) {
      pMathUtils = module.pMathUtils;
    }, function (module) {
      UINotice = module.UINotice;
    }, function (module) {
      NSFriendManager = module.NSFriendManager;
    }, function (module) {
      MiniLoading = module.MiniLoading;
    }, function (module) {
      request = module.default;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _dec11, _dec12, _dec13, _dec14, _dec15, _dec16, _dec17, _dec18, _dec19, _dec20, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9, _descriptor10, _descriptor11, _descriptor12, _descriptor13, _descriptor14, _descriptor15, _descriptor16, _descriptor17, _descriptor18, _descriptor19;
      cclegacy._RF.push({}, "ba746JY4RZKHIgrUsAbGBcd", "UIFriendProfile", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property,
        type = _decorator.type;
      var UIFriendProfile = exports('UIFriendProfile', (_dec = ccclass('UIFriendProfile'), _dec2 = type(Sprite), _dec3 = type(Label), _dec4 = type(Label), _dec5 = type(Label), _dec6 = type(Label), _dec7 = type(Label), _dec8 = type(Label), _dec9 = type(Label), _dec10 = type(Button), _dec11 = type(Button), _dec12 = type(Button), _dec13 = type(Button), _dec14 = type(Button), _dec15 = type(Label), _dec16 = type(Label), _dec17 = property(Node), _dec18 = property(Label), _dec19 = property(Label), _dec20 = property(MiniLoading), _dec(_class = (_class2 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UIFriendProfile, _UIBase);
        function UIFriendProfile() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "imgAvatar", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lblPlayerName", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lblUID", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lblPlayerTitle", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lblPlayerLevel", _descriptor5, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lblTotalGame", _descriptor6, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lblWinRate", _descriptor7, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lblJoiningTable", _descriptor8, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnAddfriend", _descriptor9, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnJoinTable", _descriptor10, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnGiveGift", _descriptor11, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnGiveChip", _descriptor12, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnDeleteFriend", _descriptor13, _assertThisInitialized(_this));
          // @type(Label) lbBtnMessage: Label = null;
          _initializerDefineProperty(_this, "lbPlayerChip", _descriptor14, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbBtnDelete", _descriptor15, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "playerTableStatusNode", _descriptor16, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "playerNotOnlineLbNode", _descriptor17, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "playerLabelCurrentRoom", _descriptor18, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "loading", _descriptor19, _assertThisInitialized(_this));
          _this._data = null;
          _this._fes = [['onAccept', _this.close, _assertThisInitialized(_this)], ['onReject', _this.close, _assertThisInitialized(_this)], ['onDelete', _this.close, _assertThisInitialized(_this)], ['onBlock', _this.close, _assertThisInitialized(_this)], ['onUnBlock', _this.close, _assertThisInitialized(_this)], ['onFriendRequest', _this.close, _assertThisInitialized(_this)], ['onCancelRequest', _this.close, _assertThisInitialized(_this)]];
          return _this;
        }
        var _proto = UIFriendProfile.prototype;
        _proto._onOpen = function _onOpen() {
          NSFriendManager.instance().on(this._fes);
        };
        _proto._onClose = function _onClose() {
          NSFriendManager.instance().off(this._fes);
        };
        _proto._onStart = function _onStart() {
          this._addClickers([{
            handlers: this._actAddFriend,
            target: this.btnAddfriend
          }, {
            handlers: this._actJoinFriendTable,
            target: this.btnJoinTable
          }, {
            handlers: this._actGiveGift,
            target: this.btnGiveGift
          }, {
            handlers: this._actGiveChip,
            target: this.btnGiveChip
          }, {
            handlers: this._actDeleteFriend,
            target: this.btnDeleteFriend
          }]);
        };
        _proto.init = /*#__PURE__*/function () {
          var _init = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(data) {
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  this.loading.show();
                  this._data = data;
                  _context.next = 4;
                  return this._refreshUI();
                case 4:
                  this.loading.close();
                case 5:
                case "end":
                  return _context.stop();
              }
            }, _callee, this);
          }));
          function init(_x) {
            return _init.apply(this, arguments);
          }
          return init;
        }();
        _proto._refreshUI = /*#__PURE__*/function () {
          var _refreshUI2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {
            var res, spriteUITransform, spriteSize, typeRoom, roomNameType;
            return _regeneratorRuntime().wrap(function _callee2$(_context2) {
              while (1) switch (_context2.prev = _context2.next) {
                case 0:
                  this.playerTableStatusNode.active = false;
                  this.playerNotOnlineLbNode.node.active = false;
                  this.lblPlayerName.string = pStringUtils.addSpaceHeadTail(this._data.full_name);
                  _context2.next = 5;
                  return request('viewPlayerInfo', {
                    uid: this._data.id
                  });
                case 5:
                  res = _context2.sent;
                  if (!(res.code === ResponseCode.SUCCESS)) {
                    _context2.next = 20;
                    break;
                  }
                  _context2.next = 9;
                  return GameManager.Instance.setAvatar(res.data.player_info.avatar, this.imgAvatar);
                case 9:
                  spriteUITransform = this.imgAvatar.node.parent.getComponent(UITransform);
                  spriteSize = spriteUITransform.contentSize;
                  this.imgAvatar.node.getComponent(UITransform).setContentSize(pMathUtils.scaleImageInsideBound(spriteSize.width, spriteSize.height, this.imgAvatar.spriteFrame.texture.width, this.imgAvatar.spriteFrame.texture.height));
                  this.lblPlayerLevel.string = pStringUtils.addSpaceHeadTail(String(res.data.player_info.level));
                  this.lblTotalGame.string = pStringUtils.addSpaceHeadTail(res.data.player_info.total.toString());
                  this.lblWinRate.string = pStringUtils.addSpaceHeadTail(pStringUtils.formatMoneyWithDot(Number(res.data.player_info.win_rate), 2) + "%");
                  this.playerTableStatusNode.active = res.data.table_info !== undefined && res.data.table_info !== null;
                  this.playerNotOnlineLbNode.node.active = !this._data.is_online || res.data.table_info === undefined || res.data.table_info === null;
                  this.playerNotOnlineLbNode.string = LanguageMananger.instance.getString('user_not_online');
                  if (this._data.is_online) {
                    if (!res.data.table_info) {
                      this.playerNotOnlineLbNode.string = LanguageMananger.instance.getString('player_not_on_table');
                    }
                  }
                  if (res.data.table_info) {
                    typeRoom = res.data.table_info.zone;
                    roomNameType = '';
                    if (typeRoom === 'TS') {
                      roomNameType = LanguageMananger.instance.getString('txt_title_room_basic');
                    } else if (typeRoom === 'TC') {
                      roomNameType = LanguageMananger.instance.getString('txt_title_room_middle');
                    } else if (typeRoom === 'CC') {
                      roomNameType = LanguageMananger.instance.getString('txt_title_room_high_level');
                    } else ;
                    this.playerLabelCurrentRoom.string = roomNameType + ': ';
                    this.lblJoiningTable.string = pStringUtils.addSpaceHeadTail(pStringUtils.formatNumberKMB(Number(res.data.table_info.minBuyIn)) + "/" + pStringUtils.formatNumberKMB(Number(res.data.table_info.maxBuyIn)));
                  }
                case 20:
                  this.lbPlayerChip.string = pStringUtils.formatMoneyWithDot(this._data.balance);
                  this.lblUID.string = this._data.uid.toString();
                  this._refreshUIButtons();
                case 23:
                case "end":
                  return _context2.stop();
              }
            }, _callee2, this);
          }));
          function _refreshUI() {
            return _refreshUI2.apply(this, arguments);
          }
          return _refreshUI;
        }();
        _proto._refreshUIButtons = function _refreshUIButtons() {
          this.btnAddfriend.node.active = !this._data.is_friend && !this._data.is_followed && !this._data.is_blocked;
          this.btnJoinTable.interactable = this._data.is_online;
          this.btnGiveGift.node.active
          // = this.btnGiveGift.node.active
          = this._data.is_friend || this._data.is_followed;
          this.btnDeleteFriend.node.active = this._data.is_friend || this._data.is_followed || this._data.is_blocked;
          if (this._data.is_blocked) {
            this.lbBtnDelete.string = LanguageMananger.instance.getString('txt_btn_unlock');
          } else if (this._data.is_followed || this._data.is_friend) {
            if (this._data.is_followed) {
              this.lbBtnDelete.string = LanguageMananger.instance.getString('txt_btn_unflow');
            }
            if (this._data.is_friend) {
              this.lbBtnDelete.string = LanguageMananger.instance.getString('txt_btn_delete_friend');
            }
          }
        };
        _proto._actJoinFriendTable = function _actJoinFriendTable() {};
        _proto._actGiveGift = function _actGiveGift() {
          UIController.Instance.open(UIType.GIVE_AWAY);
        };
        _proto._actGiveChip = function _actGiveChip() {};
        _proto._actDeleteFriend = /*#__PURE__*/function () {
          var _actDeleteFriend2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {
            var _this2 = this;
            return _regeneratorRuntime().wrap(function _callee3$(_context3) {
              while (1) switch (_context3.prev = _context3.next) {
                case 0:
                  if (!this._data.is_friend) {
                    _context3.next = 3;
                    break;
                  }
                  UINotice.instance.show('txt_btn_delete_friend', 'confirm_delete_friend', 'txt_btn_confirm2', function () {
                    return NSFriendManager.instance().actDelete(_this2._data.id.toString(), _this2._data.full_name);
                  }, 'txt_btn_cancel');
                  return _context3.abrupt("return");
                case 3:
                  if (!this._data.is_followed) {
                    _context3.next = 6;
                    break;
                  }
                  UINotice.instance.show('txt_btn_unflow', 'confirm_unfollow_friend', 'txt_btn_confirm2', function () {
                    return NSFriendManager.instance().actCancelRequest(_this2._data.id.toString(), _this2._data.full_name);
                  }, 'txt_btn_cancel');
                  return _context3.abrupt("return");
                case 6:
                  if (this._data.is_blocked) {
                    NSFriendManager.instance().actUnBlock(this._data.id, this._data.full_name);
                  }
                case 7:
                case "end":
                  return _context3.stop();
              }
            }, _callee3, this);
          }));
          function _actDeleteFriend() {
            return _actDeleteFriend2.apply(this, arguments);
          }
          return _actDeleteFriend;
        }();
        _proto._actAddFriend = /*#__PURE__*/function () {
          var _actAddFriend2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {
            return _regeneratorRuntime().wrap(function _callee4$(_context4) {
              while (1) switch (_context4.prev = _context4.next) {
                case 0:
                  NSFriendManager.instance().actRequest(this._data.id, this._data.full_name);
                case 1:
                case "end":
                  return _context4.stop();
              }
            }, _callee4, this);
          }));
          function _actAddFriend() {
            return _actAddFriend2.apply(this, arguments);
          }
          return _actAddFriend;
        }();
        return UIFriendProfile;
      }(UIBase), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "imgAvatar", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "lblPlayerName", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "lblUID", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "lblPlayerTitle", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "lblPlayerLevel", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, "lblTotalGame", [_dec7], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor7 = _applyDecoratedDescriptor(_class2.prototype, "lblWinRate", [_dec8], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor8 = _applyDecoratedDescriptor(_class2.prototype, "lblJoiningTable", [_dec9], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor9 = _applyDecoratedDescriptor(_class2.prototype, "btnAddfriend", [_dec10], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor10 = _applyDecoratedDescriptor(_class2.prototype, "btnJoinTable", [_dec11], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor11 = _applyDecoratedDescriptor(_class2.prototype, "btnGiveGift", [_dec12], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor12 = _applyDecoratedDescriptor(_class2.prototype, "btnGiveChip", [_dec13], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor13 = _applyDecoratedDescriptor(_class2.prototype, "btnDeleteFriend", [_dec14], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor14 = _applyDecoratedDescriptor(_class2.prototype, "lbPlayerChip", [_dec15], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor15 = _applyDecoratedDescriptor(_class2.prototype, "lbBtnDelete", [_dec16], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor16 = _applyDecoratedDescriptor(_class2.prototype, "playerTableStatusNode", [_dec17], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor17 = _applyDecoratedDescriptor(_class2.prototype, "playerNotOnlineLbNode", [_dec18], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor18 = _applyDecoratedDescriptor(_class2.prototype, "playerLabelCurrentRoom", [_dec19], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor19 = _applyDecoratedDescriptor(_class2.prototype, "loading", [_dec20], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIGameAction.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './EventDriver.ts', './EventManager.ts', './ComponentUtils.ts', './LanguageManager.ts', './StringUtils.ts', './Constants.ts', './Decorators.ts', './AudioManager.ts', './Enums.ts'], function (exports) {
  var _inheritsLoose, _createClass, _applyDecoratedDescriptor, _initializerDefineProperty, _assertThisInitialized, cclegacy, _decorator, Node, Button, Label, NSEventDriver, pEventManager, pComponentUtils, LanguageMananger, pStringUtils, btnStates, pDecorators, NSAudio, EAudioID;
  return {
    setters: [function (module) {
      _inheritsLoose = module.inheritsLoose;
      _createClass = module.createClass;
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Node = module.Node;
      Button = module.Button;
      Label = module.Label;
    }, function (module) {
      NSEventDriver = module.NSEventDriver;
    }, function (module) {
      pEventManager = module.pEventManager;
    }, function (module) {
      pComponentUtils = module.pComponentUtils;
    }, function (module) {
      LanguageMananger = module.LanguageMananger;
    }, function (module) {
      pStringUtils = module.pStringUtils;
    }, function (module) {
      btnStates = module.btnStates;
    }, function (module) {
      pDecorators = module.pDecorators;
    }, function (module) {
      NSAudio = module.NSAudio;
    }, function (module) {
      EAudioID = module.EAudioID;
    }],
    execute: function () {
      exports('NSGameAction', void 0);
      cclegacy._RF.push({}, "36393yWqQdB54SlhY2NSM2p", "UIGameAction", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var NSGameAction;
      (function (_NSGameAction, _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6) {
        var Component = (_dec = ccclass('NSGameAction.Component'), _dec2 = property(Node), _dec3 = property(Button), _dec4 = property(Button), _dec5 = property(Button), _dec6 = property(Button), _dec7 = property(Label), _dec(_class = (_class2 = /*#__PURE__*/function (_NSEventDriver$Compon) {
          _inheritsLoose(Component, _NSEventDriver$Compon);
          function Component() {
            var _this;
            for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
              args[_key] = arguments[_key];
            }
            _this = _NSEventDriver$Compon.call.apply(_NSEventDriver$Compon, [this].concat(args)) || this;
            _initializerDefineProperty(_this, "root", _descriptor, _assertThisInitialized(_this));
            _initializerDefineProperty(_this, "btnFold", _descriptor2, _assertThisInitialized(_this));
            _initializerDefineProperty(_this, "btnCall", _descriptor3, _assertThisInitialized(_this));
            _initializerDefineProperty(_this, "btnRaise", _descriptor4, _assertThisInitialized(_this));
            _initializerDefineProperty(_this, "btnCheck", _descriptor5, _assertThisInitialized(_this));
            _initializerDefineProperty(_this, "lblRaise", _descriptor6, _assertThisInitialized(_this));
            _this._events = [['onClearTable', _this.close, _assertThisInitialized(_this)], ['onLeaveTable', _this.close, _assertThisInitialized(_this)], ['onStandUp', _this.close, _assertThisInitialized(_this)]];
            _this._isDifCallAmount = false;
            _this._callAmount = -1;
            _this._isAllIn = false;
            return _this;
          }
          var _proto = Component.prototype;
          _proto.close = function close() {
            this.invoke('onClose');
            this.transformTo(true, false);
            this.root.active = false;
          };
          _proto.open = function open() {
            this.invoke('onOpen');
            this.root.active = true;
          };
          _proto.onLoad = function onLoad() {
            pEventManager.on(this._events);
            var _options = [{
              _handlers: this._actCall,
              _target: this.btnCall
            }, {
              _handlers: this._actFold,
              _target: this.btnFold
            }, {
              _handlers: this._actCheck,
              _target: this.btnCheck
            }, {
              _handlers: this._actRaise,
              _target: this.btnRaise
            }];
            pComponentUtils.appends({
              _options: _options,
              _binder: this,
              _type: Button.EventType.CLICK
            });
          };
          _proto.onDestroy = function onDestroy() {
            pEventManager.off(this._events);
            pComponentUtils.removeEvents({
              _target: [this.btnCall, this.btnFold, this.btnCheck, this.btnRaise],
              _type: Button.EventType.CLICK
            });
          };
          _proto.updateCallAmount = function updateCallAmount(amount, isAllIn) {
            this._isDifCallAmount = this._callAmount != amount;
            var call_txt = LanguageMananger.instance.getString(!isAllIn ? "txt_btn_call_bet" : 'txt_btn_all_in');
            var call_amount = pStringUtils.formatNumberKMB(amount);
            this._callAmount = amount;
            this.btnCall.getComponentInChildren(Label).string = isAllIn ? "" + call_txt : "" + call_txt + call_amount;
          };
          _proto.transformTo = function transformTo(isValidRaise, isAllIn) {
            var instance = LanguageMananger.instance;
            this.btnRaise.interactable = isValidRaise;
            if (isValidRaise) {
              this._isAllIn = isAllIn;
              this.lblRaise.string = instance.getString(isAllIn ? "txt_btn_all_in" : "txt_btn_raise_bet");
            } else {
              this._isAllIn = false;
              this.lblRaise.string = instance.getString("txt_btn_raise_bet");
            }
          };
          _proto.setStatusBtn = function setStatusBtn(action, isCheck) {
            if (isCheck === void 0) {
              isCheck = false;
            }
            var state = btnStates[action];
            this.btnFold.node.active = state.fold;
            this.btnCheck.node.active = state.check;
            this.btnCall.node.active = state.call;
            this.btnRaise.node.active = state.raise;
            if (isCheck) {
              this.btnCheck.node.active = true;
              this.btnCall.node.active = false;
            }
          };
          _proto._actFold = function _actFold() {
            pDecorators.instance(NSAudio.Manager).play(EAudioID.SFX_CLICK);
            this.invoke('onFold');
          };
          _proto._actCall = function _actCall() {
            pDecorators.instance(NSAudio.Manager).play(EAudioID.SFX_CLICK);
            this.invoke('onCall');
          };
          _proto._actRaise = function _actRaise() {
            pDecorators.instance(NSAudio.Manager).play(EAudioID.SFX_CLICK);
            this.invoke('onRaise');
          };
          _proto._actCheck = function _actCheck() {
            pDecorators.instance(NSAudio.Manager).play(EAudioID.SFX_CLICK);
            this.invoke('onCheck');
          };
          _createClass(Component, [{
            key: "active",
            get: function get() {
              return this.root.active;
            },
            set: function set(x) {
              x ? this.open() : this.close();
            }
          }, {
            key: "isDifCallAmount",
            get: function get() {
              return this._isDifCallAmount;
            }
          }, {
            key: "isAllIn",
            get: function get() {
              return this._isAllIn;
            }
          }]);
          return Component;
        }(NSEventDriver.Component), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "root", [_dec2], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: null
        }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "btnFold", [_dec3], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: null
        }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "btnCall", [_dec4], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: null
        }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "btnRaise", [_dec5], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: null
        }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "btnCheck", [_dec6], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: null
        }), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, "lblRaise", [_dec7], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: null
        })), _class2)) || _class);
        _NSGameAction.Component = Component;
      })(NSGameAction || (NSGameAction = exports('NSGameAction', {})));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIGameActionManager.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './Decorators.ts', './UIGameAction.ts', './UIAutoPlayer.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, cclegacy, _decorator, Component, pDecorators, NSGameAction, NSAutoPlayer;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Component = module.Component;
    }, function (module) {
      pDecorators = module.pDecorators;
    }, function (module) {
      NSGameAction = module.NSGameAction;
    }, function (module) {
      NSAutoPlayer = module.NSAutoPlayer;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _class, _class2, _descriptor, _descriptor2;
      cclegacy._RF.push({}, "4166bTKL35A0q1EsKWRX/0b", "UIGameActionManager", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var singleton = pDecorators.singleton;
      var UIGameActionManager = exports('UIGameActionManager', (_dec = ccclass('UIIGameActionManager'), _dec2 = singleton(), _dec3 = property(NSGameAction.Component), _dec4 = property(NSAutoPlayer.Component), _dec(_class = _dec2(_class = (_class2 = /*#__PURE__*/function (_Component) {
        _inheritsLoose(UIGameActionManager, _Component);
        function UIGameActionManager() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _Component.call.apply(_Component, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "action", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "auto", _descriptor2, _assertThisInitialized(_this));
          _this._status = false;
          _this._isTurn = false;
          return _this;
        }
        var _proto = UIGameActionManager.prototype;
        _proto.active = function active(status, isTurn) {
          this._status = status;
          this._isTurn = isTurn;
        };
        _proto.update = function update() {
          if (!this._status) {
            this.action.active = false;
            this.auto.active = false;
          } else {
            this.action.active = this._isTurn;
            this.auto.active = !this._isTurn;
          }
        };
        return UIGameActionManager;
      }(Component), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "action", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "auto", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIGameAlert.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './StringUtils.ts', './IFlexCreator.ts', './AsyncUtils.ts', './LanguageManager.ts'], function (exports) {
  var _inheritsLoose, _applyDecoratedDescriptor, _createForOfIteratorHelperLoose, _initializerDefineProperty, _assertThisInitialized, _asyncToGenerator, _regeneratorRuntime, cclegacy, Node, Label, _decorator, pStringUtils, NSFlexCreator, pAsyncUtils, LanguageMananger;
  return {
    setters: [function (module) {
      _inheritsLoose = module.inheritsLoose;
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _createForOfIteratorHelperLoose = module.createForOfIteratorHelperLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      Node = module.Node;
      Label = module.Label;
      _decorator = module._decorator;
    }, function (module) {
      pStringUtils = module.pStringUtils;
    }, function (module) {
      NSFlexCreator = module.NSFlexCreator;
    }, function (module) {
      pAsyncUtils = module.pAsyncUtils;
    }, function (module) {
      LanguageMananger = module.LanguageMananger;
    }],
    execute: function () {
      exports('NSGameAlert', void 0);
      cclegacy._RF.push({}, "923a7qj2RZE1IjTLsBQ2Sz5", "UIGameAlert", undefined);
      var _cc$_decorator = _decorator,
        ccclass = _cc$_decorator.ccclass,
        property = _cc$_decorator.property,
        executeInEditMode = _cc$_decorator.executeInEditMode;
      var NSGameAlert;
      (function (_NSGameAlert, _dec, _dec2, _dec3, _class, _class2, _descriptor, _descriptor2, _dec4, _dec5, _dec6, _class4, _class5, _descriptor3) {
        var Alert = (_dec = ccclass('AlertHelper'), _dec2 = property({
          type: Node
        }), _dec3 = property({
          type: Label
        }), _dec(_class = (_class2 = /*#__PURE__*/function (_NSFlexCreator$Helper) {
          _inheritsLoose(Alert, _NSFlexCreator$Helper);
          function Alert() {
            var _this;
            for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
              args[_key] = arguments[_key];
            }
            _this = _NSFlexCreator$Helper.call.apply(_NSFlexCreator$Helper, [this].concat(args)) || this;
            _initializerDefineProperty(_this, "holder", _descriptor, _assertThisInitialized(_this));
            _initializerDefineProperty(_this, "title", _descriptor2, _assertThisInitialized(_this));
            return _this;
          }
          var _proto = Alert.prototype;
          _proto.show = function show(txt) {
            if (!txt) return;
            if (txt.length > 0) {
              this.title.string = txt;
              this.holder.active = true;
            }
          };
          _proto.hide = function hide() {
            this.holder.active = false;
          };
          Alert.create = function create(id) {
            var ret = new Alert();
            ret.id = id;
            return ret;
          };
          return Alert;
        }(NSFlexCreator.Helper), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "holder", [_dec2], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: null
        }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "title", [_dec3], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: null
        })), _class2)) || _class);
        _NSGameAlert.Alert = Alert;
        var Component = (_dec4 = ccclass('AlertComponent'), _dec5 = executeInEditMode(), _dec6 = property({
          type: [Alert],
          visible: true,
          override: true
        }), _dec4(_class4 = _dec5(_class4 = (_class5 = /*#__PURE__*/function (_NSFlexCreator$Compon) {
          _inheritsLoose(Component, _NSFlexCreator$Compon);
          function Component() {
            var _this2;
            for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
              args[_key2] = arguments[_key2];
            }
            _this2 = _NSFlexCreator$Compon.call.apply(_NSFlexCreator$Compon, [this].concat(args)) || this;
            _initializerDefineProperty(_this2, "_list", _descriptor3, _assertThisInitialized(_this2));
            _this2._sid = pStringUtils.uuid();
            return _this2;
          }
          var _proto2 = Component.prototype;
          _proto2._create = function _create(id) {
            return Alert.create(id);
          };
          _proto2.show = /*#__PURE__*/function () {
            var _show = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(id, txt, duration) {
              var alert;
              return _regeneratorRuntime().wrap(function _callee$(_context) {
                while (1) switch (_context.prev = _context.next) {
                  case 0:
                    alert = this.get(id);
                    if (alert) {
                      _context.next = 3;
                      break;
                    }
                    return _context.abrupt("return");
                  case 3:
                    alert.show(txt);
                    _context.next = 6;
                    return pAsyncUtils.wait({
                      id: this._sid,
                      time: duration
                    });
                  case 6:
                  case "end":
                    return _context.stop();
                }
              }, _callee, this);
            }));
            function show(_x, _x2, _x3) {
              return _show.apply(this, arguments);
            }
            return show;
          }();
          _proto2.hide = function hide(type) {
            if (type === void 0) {
              type = undefined;
            }
            if (!!type) {
              var _alert = this.get(type);
              if (!_alert) return;
              _alert.hide();
              return;
            }
            for (var _iterator = _createForOfIteratorHelperLoose(this._list), _step; !(_step = _iterator()).done;) {
              var ret = _step.value;
              ret.hide();
            }
            pAsyncUtils.stop(this._sid);
          };
          _proto2.showWithKey = /*#__PURE__*/function () {
            var _showWithKey = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(id, key, duration) {
              var _alert, _str;
              return _regeneratorRuntime().wrap(function _callee2$(_context2) {
                while (1) switch (_context2.prev = _context2.next) {
                  case 0:
                    _alert = this.get(id);
                    if (_alert) {
                      _context2.next = 3;
                      break;
                    }
                    return _context2.abrupt("return");
                  case 3:
                    _str = LanguageMananger.getString(key);
                    _alert.show(_str);
                    _context2.next = 7;
                    return pAsyncUtils.wait({
                      id: this._sid,
                      time: duration
                    });
                  case 7:
                  case "end":
                    return _context2.stop();
                }
              }, _callee2, this);
            }));
            function showWithKey(_x4, _x5, _x6) {
              return _showWithKey.apply(this, arguments);
            }
            return showWithKey;
          }();
          return Component;
        }(NSFlexCreator.Component), _descriptor3 = _applyDecoratedDescriptor(_class5.prototype, "_list", [_dec6], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return [];
          }
        }), _class5)) || _class4) || _class4);
        _NSGameAlert.Component = Component;
      })(NSGameAlert || (NSGameAlert = exports('NSGameAlert', {})));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIGameDealer.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './BubbleChat.ts', './EventManager.ts'], function (exports) {
  var _applyDecoratedDescriptor, _createClass, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, cclegacy, _decorator, sp, Component, BubbleChat, pEventManager;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _createClass = module.createClass;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      sp = module.sp;
      Component = module.Component;
    }, function (module) {
      BubbleChat = module.BubbleChat;
    }, function (module) {
      pEventManager = module.pEventManager;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _class, _class2, _descriptor, _descriptor2, _dec6, _dec7, _dec8, _dec9, _class4, _class5, _descriptor3, _descriptor4, _dec10, _dec11, _dec12, _dec13, _class7, _class8, _descriptor5, _descriptor6, _descriptor7;
      cclegacy._RF.push({}, "0f2a9OqzHtMP4kxOE/pNiFi", "UIGameDealer", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var SkeletonView = (_dec = ccclass('SkeletonView'), _dec2 = property({}), _dec3 = property({}), _dec4 = property({}), _dec5 = property({}), _dec(_class = (_class2 = /*#__PURE__*/function () {
        function SkeletonView() {
          _initializerDefineProperty(this, "_name", _descriptor, this);
          _initializerDefineProperty(this, "_duration", _descriptor2, this);
        }
        SkeletonView.create = function create(name, duration) {
          var ret = new SkeletonView();
          ret._name = name;
          ret._duration = duration;
          return ret;
        };
        _createClass(SkeletonView, [{
          key: "name",
          get: function get() {
            return this._name;
          }
        }, {
          key: "duration",
          get: function get() {
            return this._duration;
          }
        }]);
        return SkeletonView;
      }(), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "_name", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return '';
        }
      }), _applyDecoratedDescriptor(_class2.prototype, "name", [_dec3], Object.getOwnPropertyDescriptor(_class2.prototype, "name"), _class2.prototype), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "_duration", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return 0;
        }
      }), _applyDecoratedDescriptor(_class2.prototype, "duration", [_dec5], Object.getOwnPropertyDescriptor(_class2.prototype, "duration"), _class2.prototype)), _class2)) || _class);
      var UIDealerHelper = (_dec6 = ccclass('UIDealerHelper'), _dec7 = property(sp.Skeleton), _dec8 = property(sp.Skeleton), _dec9 = property({
        readonly: true,
        type: [SkeletonView]
      }), _dec6(_class4 = (_class5 = /*#__PURE__*/function () {
        function UIDealerHelper() {
          _initializerDefineProperty(this, "_dealer", _descriptor3, this);
          _initializerDefineProperty(this, "view", _descriptor4, this);
        }
        _createClass(UIDealerHelper, [{
          key: "dealer",
          get: function get() {
            return this._dealer;
          },
          set: function set(x) {
            this._dealer = x;
            if (!x) return;
            var _x$skeletonData$getRu = x.skeletonData.getRuntimeData(),
              animations = _x$skeletonData$getRu.animations;
            this.view = animations.map(function (anim) {
              return SkeletonView.create(anim.name, anim.duration);
            });
          }
        }]);
        return UIDealerHelper;
      }(), (_descriptor3 = _applyDecoratedDescriptor(_class5.prototype, "_dealer", [_dec7], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _applyDecoratedDescriptor(_class5.prototype, "dealer", [_dec8], Object.getOwnPropertyDescriptor(_class5.prototype, "dealer"), _class5.prototype), _descriptor4 = _applyDecoratedDescriptor(_class5.prototype, "view", [_dec9], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return [];
        }
      })), _class5)) || _class4);
      var UIGameDealer = exports('UIGameDealer', (_dec10 = ccclass('UIGameDealer'), _dec11 = property([UIDealerHelper]), _dec12 = property(BubbleChat), _dec13 = property({
        min: 0
      }), _dec10(_class7 = (_class8 = /*#__PURE__*/function (_Component) {
        _inheritsLoose(UIGameDealer, _Component);
        function UIGameDealer() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _Component.call.apply(_Component, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "dealers", _descriptor5, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "chat", _descriptor6, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "chatDuration", _descriptor7, _assertThisInitialized(_this));
          _this._events = [['onDealerTipped', _this._onTipped, _assertThisInitialized(_this)]
          //['onLeaveTable', this._onLeaveTable, this],
          //['onJoinTable', this._onJoinTable, this],
          ];

          return _this;
        }
        var _proto = UIGameDealer.prototype;
        _proto._onLeaveTable = function _onLeaveTable() {
          this.node.active = false;
        };
        _proto._onJoinTable = function _onJoinTable() {
          this.node.active = true;
        };
        _proto.onLoad = function onLoad() {
          pEventManager.on(this._events);
        };
        _proto.onDestroy = function onDestroy() {
          pEventManager.off(this._events);
        };
        _proto.deal = function deal() {};
        _proto._onTipped = function _onTipped(data) {
          var _this$chat;
          var msg = data.msg;
          var player = msg.player;
          var display_name = player.display_name;
          (_this$chat = this.chat) == null || _this$chat.chat({
            key: ['dynamic_dealer_tks_tip', 'txt_dealer_thank_2', 'txt_dealer_thank_3', 'txt_dealer_thank_4'],
            replacers: [{
              find: '@name',
              replacer: display_name
            }]
          }, this.chatDuration);
        };
        return UIGameDealer;
      }(Component), (_descriptor5 = _applyDecoratedDescriptor(_class8.prototype, "dealers", [_dec11], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return [];
        }
      }), _descriptor6 = _applyDecoratedDescriptor(_class8.prototype, "chat", [_dec12], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor7 = _applyDecoratedDescriptor(_class8.prototype, "chatDuration", [_dec13], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return 0.5;
        }
      })), _class8)) || _class7));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIGameInfo.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UICardManager.ts', './UIPlayerStatus.ts', './NodeUtils.ts', './ComponentUtils.ts', './Decorators.ts', './AsyncUtils.ts', './StringUtils.ts', './UIGamePots.ts'], function (exports) {
  var _applyDecoratedDescriptor, _createClass, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _asyncToGenerator, _regeneratorRuntime, cclegacy, _decorator, Node, Label, Color, sp, UIOpacity, tween, Component, UICardManager, UIPlayerStatus, pNodeUtils, pComponentUtils, pDecorators, pAsyncUtils, pStringUtils, NSGamePots;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _createClass = module.createClass;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Node = module.Node;
      Label = module.Label;
      Color = module.Color;
      sp = module.sp;
      UIOpacity = module.UIOpacity;
      tween = module.tween;
      Component = module.Component;
    }, function (module) {
      UICardManager = module.UICardManager;
    }, function (module) {
      UIPlayerStatus = module.UIPlayerStatus;
    }, function (module) {
      pNodeUtils = module.pNodeUtils;
    }, function (module) {
      pComponentUtils = module.pComponentUtils;
    }, function (module) {
      pDecorators = module.pDecorators;
    }, function (module) {
      pAsyncUtils = module.pAsyncUtils;
    }, function (module) {
      pStringUtils = module.pStringUtils;
    }, function (module) {
      NSGamePots = module.NSGamePots;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _class, _class2, _descriptor, _descriptor2, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _dec11, _dec12, _dec13, _class4, _class5, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7;
      cclegacy._RF.push({}, "1c86531a0FAt6dVx+c1hIMY", "UIGameInfo", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var _CLOCK_ANIM = 'anim_timecount';
      var _ChipView = (_dec = ccclass('UIGameInfo._ChipView'), _dec2 = property(Node), _dec3 = property(Node), _dec4 = property(Label), _dec(_class = (_class2 = /*#__PURE__*/function () {
        function _ChipView() {
          _initializerDefineProperty(this, "_root", _descriptor, this);
          _initializerDefineProperty(this, "label", _descriptor2, this);
        }
        var _proto = _ChipView.prototype;
        _proto.active = /*#__PURE__*/function () {
          var _active = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(status) {
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  this.root.active = status;
                case 1:
                case "end":
                  return _context.stop();
              }
            }, _callee, this);
          }));
          function active(_x) {
            return _active.apply(this, arguments);
          }
          return active;
        }();
        _proto.win = function win(to, amount) {
          var _pot = pDecorators.instance(NSGamePots.Component);
          return _pot.toPlayer({
            amount: amount,
            target: to,
            min: 1
          });
        };
        _proto.pot = function pot(amount, game, sooner) {
          if (sooner === void 0) {
            sooner = false;
          }
          var _pot = pDecorators.instance(NSGamePots.Component);
          sooner && this.active(false);
          return _pot.signToPot({
            amount: amount,
            target: this.root
          }, this.root.uuid, game, true, sooner);
        };
        _proto.bet = function bet(from, amount, total, min) {
          if (min === void 0) {
            min = 0;
          }
          this.active(total > 0);
          this.label.string = pStringUtils.formatNumberKMB(total);
          var _pot = pDecorators.instance(NSGamePots.Component);
          return _pot.to(amount, from, this.root, false, min);
        };
        _proto.ante = function ante(from, amount, game) {
          var _pot = pDecorators.instance(NSGamePots.Component);
          return _pot.signToPot({
            amount: amount,
            target: from,
            min: 1
          }, this.root.uuid, game, false, false);
        };
        _proto.getWorldPosition = function getWorldPosition() {
          if (!this.root) return null;
          return this.root.worldPosition.clone();
        };
        _proto.getPosition = function getPosition() {
          if (!this.root) return null;
          return this.root.position.clone();
        };
        _proto.setPosition = function setPosition(position) {
          pNodeUtils.setPosition(this.root, position);
        };
        _createClass(_ChipView, [{
          key: "root",
          get: function get() {
            return this._root;
          },
          set: function set(x) {
            this._root = x;
            this.label = x == null ? void 0 : x.getComponentInChildren(Label);
          }
        }]);
        return _ChipView;
      }(), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "_root", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _applyDecoratedDescriptor(_class2.prototype, "root", [_dec3], Object.getOwnPropertyDescriptor(_class2.prototype, "root"), _class2.prototype), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "label", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class);
      var UIGameInfo = exports('UIGameInfo', (_dec5 = ccclass('UIGameInfo'), _dec6 = pDecorators.logger('UIGameInfo'), _dec7 = property(UICardManager), _dec8 = property(Color), _dec9 = property(UIPlayerStatus), _dec10 = property(UIPlayerStatus), _dec11 = property(sp.Skeleton), _dec12 = property(_ChipView), _dec13 = property(_ChipView), _dec5(_class4 = _dec6(_class4 = (_class5 = /*#__PURE__*/function (_Component) {
        _inheritsLoose(UIGameInfo, _Component);
        function UIGameInfo() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _Component.call.apply(_Component, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "hand", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "foldColor", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "_status", _descriptor5, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "animClock", _descriptor6, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "_view", _descriptor7, _assertThisInitialized(_this));
          _this._animDuration = 20;
          _this._tween = null;
          return _this;
        }
        var _proto2 = UIGameInfo.prototype;
        _proto2._init = function _init() {
          var _this$hand;
          (_this$hand = this.hand) != null ? _this$hand : this.hand = this.getComponent(UICardManager);
        };
        _proto2.onLoad = function onLoad() {
          this._init();
          var _anim = this.animClock.skeletonData.getRuntimeData().findAnimation(_CLOCK_ANIM);
          if (!_anim) return;
          this._animDuration = _anim.duration;
        };
        _proto2.showHandCard = function showHandCard(list, isScaleDown, duration) {
          if (duration === void 0) {
            duration = this.hand.show_duration;
          }
          this.hand.show(list, isScaleDown, duration);
        };
        _proto2.hideHandCard = function hideHandCard() {
          this.hand.hide();
        };
        _proto2.showBackHandCard = function showBackHandCard() {
          this.hand.showBack();
        };
        _proto2.showSkippingCard = function showSkippingCard(isMain) {
          isMain ? this.hand.setColor(this.foldColor) : this.hand.showSkip();
        };
        _proto2.actBet = function actBet(from, amount, total, min) {
          if (min === void 0) {
            min = 0;
          }
          return this.view.bet(from, amount, total, min);
        };
        _proto2.actWin = function actWin(to, amount) {
          return this.view.win(to, amount);
        };
        _proto2.actPot = function actPot(bet, game, sooner) {
          if (sooner === void 0) {
            sooner = false;
          }
          return this.view.pot(bet, game, sooner);
        };
        _proto2.actAnte = function actAnte(from, game, ante) {
          if (ante <= 0) return;
          return this.view.ante(from, ante, game);
        };
        _proto2.activeChipBet = function activeChipBet(status) {
          this.view.active(status);
        };
        _proto2._resetClocker = function _resetClocker() {
          pAsyncUtils.stop('__auto_fold');
          this.animClock.node.active = false;
        }

        /**
        * @param duration - The duration in seconds for the clock speed.
        */;
        _proto2.setClockSpeed = function setClockSpeed(duration) {
          if (duration <= 0) {
            this.animClock.timeScale = 99;
            return;
          }
          var _scale = this._animDuration / duration;
          this.animClock.timeScale = _scale;
        };
        _proto2.activeClocker = function activeClocker(status) {
          try {
            this.animClock.node.active = status;
            status && this.animClock.setAnimation(0, 'anim_timecount', false);
          } catch (e) {
            this.warn("Active Clocker Error >>", e);
          }
        };
        _proto2.reset = function reset(isMain) {
          this.status.setActive(false, isMain);
          this.hideHandCard();
          this.status.reset();

          //this.chip.setChipView(false);
          this.view.active(false);
          this._resetClocker();
          this.hand.setColor(Color.WHITE);
        };
        _proto2.updatePosition = function updatePosition(hand, chip, dealer) {
          var _this$_tween,
            _this2 = this;
          var opacity = pComponentUtils.getSafeComponent(this, UIOpacity);
          (_this$_tween = this._tween) == null || _this$_tween.stop();
          var action = function action() {
            pNodeUtils.setPosition(_this2.hand, hand);
            _this2.view.setPosition(chip);
            _this2.status.updatePosition(dealer);
          };
          this._tween = tween(opacity).to(0.15, {
            opacity: 0
          }).call(action).to(0.15, {
            opacity: 255
          }).start();
        };
        _createClass(UIGameInfo, [{
          key: "status",
          get: function get() {
            var _this$_status;
            return (_this$_status = this._status) != null ? _this$_status : this._status = this.getComponentInChildren(UIPlayerStatus);
          },
          set: function set(v) {
            this._status = v;
          }
        }, {
          key: "view",
          get: function get() {
            return this._view;
          }
        }]);
        return UIGameInfo;
      }(Component), (_descriptor3 = _applyDecoratedDescriptor(_class5.prototype, "hand", [_dec7], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class5.prototype, "foldColor", [_dec8], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return new Color();
        }
      }), _descriptor5 = _applyDecoratedDescriptor(_class5.prototype, "_status", [_dec9], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _applyDecoratedDescriptor(_class5.prototype, "status", [_dec10], Object.getOwnPropertyDescriptor(_class5.prototype, "status"), _class5.prototype), _descriptor6 = _applyDecoratedDescriptor(_class5.prototype, "animClock", [_dec11], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor7 = _applyDecoratedDescriptor(_class5.prototype, "_view", [_dec12], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return new _ChipView();
        }
      }), _applyDecoratedDescriptor(_class5.prototype, "view", [_dec13], Object.getOwnPropertyDescriptor(_class5.prototype, "view"), _class5.prototype)), _class5)) || _class4) || _class4));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIGameLight.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './Decorators.ts', './EventManager.ts', './MathUtils.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _assertThisInitialized, _initializerDefineProperty, _createClass, cclegacy, _decorator, UITransform, UIOpacity, Node, tween, Component, pDecorators, pEventManager, pMathUtils;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _assertThisInitialized = module.assertThisInitialized;
      _initializerDefineProperty = module.initializerDefineProperty;
      _createClass = module.createClass;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      UITransform = module.UITransform;
      UIOpacity = module.UIOpacity;
      Node = module.Node;
      tween = module.tween;
      Component = module.Component;
    }, function (module) {
      pDecorators = module.pDecorators;
    }, function (module) {
      pEventManager = module.pEventManager;
    }, function (module) {
      pMathUtils = module.pMathUtils;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _class, _class2, _descriptor, _descriptor2, _descriptor3;
      cclegacy._RF.push({}, "fbb25HwDQBOL4kTvj7v2WWF", "UIGameLight", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property,
        executeInEditMode = _decorator.executeInEditMode;
      var singleton = pDecorators.singleton;
      var UIGameLight = exports('UIGameLight', (_dec = ccclass('UIGameLight'), _dec2 = singleton(), _dec3 = executeInEditMode(), _dec4 = property(UITransform), _dec5 = property(UIOpacity), _dec6 = property(Node), _dec7 = property(Node), _dec(_class = _dec2(_class = _dec3(_class = (_class2 = /*#__PURE__*/function (_Component) {
        _inheritsLoose(UIGameLight, _Component);
        function UIGameLight() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _Component.call.apply(_Component, [this].concat(args)) || this;
          _this._onceEventHandlers = [['onJoinTable', _this._onJoinTable, _assertThisInitialized(_this)], ['onLeaveTable', _this._onLeaveTable, _assertThisInitialized(_this)],
          //['onNewGame', this._onNewGame, this],
          ['onEndTurn', _this._onEndTurn, _assertThisInitialized(_this)]];
          _initializerDefineProperty(_this, "light", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "ray", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "_target", _descriptor3, _assertThisInitialized(_this));
          _this._tag = null;
          _this._ttf = null;
          _this._tto = null;
          return _this;
        }
        var _proto = UIGameLight.prototype;
        _proto.onLoad = function onLoad() {
          pEventManager.on(this._onceEventHandlers);
        };
        _proto.onDestroy = function onDestroy() {
          pEventManager.off(this._onceEventHandlers);
        };
        _proto._get = function _get() {
          var wtp = this.target.getWorldPosition();
          var wsp = this.light.node.getWorldPosition();

          //const vts = Vec3.subtract(v3(), wtp, wsp);

          //const mts = Math.sqrt(vts.x ** 2 + vts.y ** 2);

          //const angle = Math.atan2(vts.y, vts.x) * 180 / Math.PI;
          //const width = mts / this.node.scale.x;

          var angle = pMathUtils.NSAngle.between(wtp, wsp, 'Ox', 'degree');
          var width = pMathUtils.NSAngle.length(wtp, wsp) / this.node.scale.x;
          return {
            angle: angle,
            width: width
          };
        };
        _proto._updateLight = function _updateLight() {
          var _this$_get = this._get(),
            angle = _this$_get.angle,
            width = _this$_get.width;
          this.light.node.angle = angle;
          this.light.width = width;
        };
        _proto._updateWithDuration = function _updateWithDuration(duration) {
          var _this$_tag, _this$_ttf;
          var _this$_get2 = this._get(),
            angle = _this$_get2.angle,
            width = _this$_get2.width;
          (_this$_tag = this._tag) == null || _this$_tag.stop();
          this._tag = tween(this.light.node).to(duration, {
            angle: angle
          }).start();
          (_this$_ttf = this._ttf) == null || _this$_ttf.stop();
          this._ttf = tween(this.light).to(duration, {
            width: width
          }).start();
        };
        _proto.setTarget = function setTarget(target, duration) {
          this._actLightOn(duration);
          this._target = target.node;
          this._updateWithDuration(duration);
        };
        _proto._onEndTurn = function _onEndTurn(data) {
          var route = data.route;
          if (route !== 'onEndTurn') return;
          this._reset();
        };
        _proto._onJoinTable = function _onJoinTable(data) {
          var route = data.route;
          if (route !== 'onJoinTable') return;
          var members = data.members;
          if (members.length <= 0) {
            var _this$_tag2, _this$_ttf2;
            (_this$_tag2 = this._tag) == null || _this$_tag2.stop();
            (_this$_ttf2 = this._ttf) == null || _this$_ttf2.stop();
            this.ray.opacity = 0;
          }
        };
        _proto._reset = function _reset() {
          var _this$_tto;
          (_this$_tto = this._tto) == null || _this$_tto.stop();
          this._tto = tween(this.ray).to(0.15, {
            opacity: 0
          }).start();
        };
        _proto._onLeaveTable = function _onLeaveTable() {
          var _this$_tto2;
          (_this$_tto2 = this._tto) == null || _this$_tto2.stop();
          this.ray.opacity = 0;
        }

        //private _onNewGame() {
        //    this._actLightOn(0.15);
        //}
        ;

        _proto._actLightOn = function _actLightOn(duration) {
          var _this$_tto3;
          if (this._isLightOn) return;
          (_this$_tto3 = this._tto) == null || _this$_tto3.stop();
          this._tto = tween(this.ray).to(duration, {
            opacity: 255
          }).start();
        };
        _createClass(UIGameLight, [{
          key: "target",
          get: function get() {
            return this._target;
          },
          set: function set(value) {
            this._target = value;
            this._updateLight();
          }
        }, {
          key: "opacity",
          set: function set(value) {
            this.ray.opacity = value;
          }

          //protected _onJoinGame(data: NSEventResponse.IJoinGame) {
          //    const { route, players, currentPlayerIndex } = data;
          //    if(route !== 'onJoinGame') return;

          //    const player = players.find( p => p.index === currentPlayerIndex )
          //    if(!!player) {

          //    }
          //}
        }, {
          key: "_isLightOn",
          get: function get() {
            return this.ray.opacity > 0;
          }
        }]);
        return UIGameLight;
      }(Component), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "light", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "ray", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "_target", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _applyDecoratedDescriptor(_class2.prototype, "target", [_dec7], Object.getOwnPropertyDescriptor(_class2.prototype, "target"), _class2.prototype)), _class2)) || _class) || _class) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIGamePlay.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIItemPlayer.ts', './Enums.ts', './PlayingController.ts', './UICardType.ts', './EventManager.ts', './EventDriver.ts', './Decorators.ts', './UICommunityCard.ts', './UIItemPlayerManager.ts', './UIGameDealer.ts', './UIGameAlert.ts', './Constants.ts', './UIPopupRateCard.ts', './GlobalConfig.ts', './SkeletonSelector.ts', './AudioManager.ts', './StringUtils.ts', './UIController.ts', './ArrayUtils.ts'], function (exports) {
  var _inheritsLoose, _createForOfIteratorHelperLoose, _createClass, _applyDecoratedDescriptor, _initializerDefineProperty, _assertThisInitialized, _asyncToGenerator, _regeneratorRuntime, cclegacy, _decorator, Node, Label, UIItemPlayer, EStatusPlayer, EAudioID, ETypeModePlay, ENumberPlayerCount, PlayingController, NSCardType, pEventManager, NSEventDriver, pDecorators, UICommunityCard, NSItemPlayerManager, UIGameDealer, NSGameAlert, Duration, NSCardRate, GlobalConfig, NSSkeletonSelector, NSAudio, pStringUtils, UIController, pArray;
  return {
    setters: [function (module) {
      _inheritsLoose = module.inheritsLoose;
      _createForOfIteratorHelperLoose = module.createForOfIteratorHelperLoose;
      _createClass = module.createClass;
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Node = module.Node;
      Label = module.Label;
    }, function (module) {
      UIItemPlayer = module.UIItemPlayer;
    }, function (module) {
      EStatusPlayer = module.EStatusPlayer;
      EAudioID = module.EAudioID;
      ETypeModePlay = module.ETypeModePlay;
      ENumberPlayerCount = module.ENumberPlayerCount;
    }, function (module) {
      PlayingController = module.default;
    }, function (module) {
      NSCardType = module.NSCardType;
    }, function (module) {
      pEventManager = module.pEventManager;
    }, function (module) {
      NSEventDriver = module.NSEventDriver;
    }, function (module) {
      pDecorators = module.pDecorators;
    }, function (module) {
      UICommunityCard = module.UICommunityCard;
    }, function (module) {
      NSItemPlayerManager = module.NSItemPlayerManager;
    }, function (module) {
      UIGameDealer = module.UIGameDealer;
    }, function (module) {
      NSGameAlert = module.NSGameAlert;
    }, function (module) {
      Duration = module.Duration;
    }, function (module) {
      NSCardRate = module.NSCardRate;
    }, function (module) {
      GlobalConfig = module.default;
    }, function (module) {
      NSSkeletonSelector = module.NSSkeletonSelector;
    }, function (module) {
      NSAudio = module.NSAudio;
    }, function (module) {
      pStringUtils = module.pStringUtils;
    }, function (module) {
      UIController = module.UIController;
    }, function (module) {
      pArray = module.pArray;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _dec11, _dec12, _dec13, _dec14, _dec15, _dec16, _dec17, _dec18, _dec19, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9, _descriptor10, _descriptor11, _descriptor12, _descriptor13;
      cclegacy._RF.push({}, "e9e8ePcR6pOxrdViWz/KZds", "UIGamePlay", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var logger = pDecorators.logger,
        singleton = pDecorators.singleton;
      var _AlertList = ['normal', 'winner'];
      var _GroupDebug = {
        name: 'Table',
        id: 'Info'
      };
      var UIGamePlay = exports('default', (_dec = ccclass('UIGamePlay'), _dec2 = logger(), _dec3 = singleton(), _dec4 = property(Node), _dec5 = property(NSItemPlayerManager.Component), _dec6 = property(Node), _dec7 = property(NSItemPlayerManager.Component), _dec8 = property({
        type: UICommunityCard,
        visible: true
      }), _dec9 = property({
        type: UIGameDealer
      }), _dec10 = property({
        type: Node
      }), _dec11 = property({
        type: Node
      }), _dec12 = property({
        type: NSGameAlert.Component
      }), _dec13 = property({
        type: NSGameAlert.Component
      }), _dec14 = property(NSSkeletonSelector.Component), _dec15 = property({
        group: _GroupDebug,
        visible: true,
        type: Label
      }), _dec16 = property({
        group: _GroupDebug,
        visible: true,
        type: Label
      }), _dec17 = property({
        group: _GroupDebug,
        visible: true,
        type: Label
      }), _dec18 = property({
        group: _GroupDebug,
        visible: true,
        type: Label
      }), _dec19 = property({
        group: _GroupDebug,
        visible: true,
        type: Label
      }), _dec(_class = _dec2(_class = _dec3(_class = (_class2 = /*#__PURE__*/function (_NSEventDriver$Compon) {
        _inheritsLoose(UIGamePlay, _NSEventDriver$Compon);
        function UIGamePlay() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _NSEventDriver$Compon.call.apply(_NSEventDriver$Compon, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "ui5Players", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "ui9Players", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "_uiCommunityCard", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "dealer", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "dealerHand", _descriptor5, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "hover", _descriptor6, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "_alert", _descriptor7, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "spAllInFx", _descriptor8, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "_dbCallRq", _descriptor9, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "_dbRaiseRq", _descriptor10, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "_dbBetted", _descriptor11, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "_dbChips", _descriptor12, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "_dbMessage", _descriptor13, _assertThisInitialized(_this));
          _this._data = null;
          _this._players = [];
          _this._newActorNr = function (_a) {
            return _a;
          };
          _this._posCFG = [];
          _this._mainUIPlayers = null;
          _this._onceEventHandlers = [['onClearTable', _this._onClearTable, _assertThisInitialized(_this)], ['onJoinTable', _this._onJoinTable, _assertThisInitialized(_this)], ['onTableEvent', _this._onTableEvent, _assertThisInitialized(_this), 100], ['onLeaveTable', _this._onLeaveTable, _assertThisInitialized(_this)]];
          _this._eventHandlers = [['onNewGame', _this._onNewGame, _assertThisInitialized(_this)]];
          _this._skeletonHandlers = [['onCompleteAnAnim', _this._onAllInAnimComplete, _assertThisInitialized(_this)]];
          _this._main = null;
          _this._block = false;
          _this._list = {
            config: [],
            player: []
          };
          return _this;
        }
        var _proto = UIGamePlay.prototype;
        _proto.onLoad = function onLoad() {
          var _this$_uiCommunityCar;
          (_this$_uiCommunityCar = this._uiCommunityCard) != null ? _this$_uiCommunityCar : this._uiCommunityCard = this.getComponentInChildren(UICommunityCard);
          pEventManager.on(this._onceEventHandlers);
        };
        _proto.onEnable = function onEnable() {
          var _this2 = this;
          pEventManager.on(this._eventHandlers);
          this.spAllInFx.on(this._skeletonHandlers);
          var _is = UIController.Instance.isEnableDebug;
          this._dbMessage.node.active = this._dbChips.node.active = this._dbBetted.node.active = this._dbCallRq.node.active = this._dbRaiseRq.node.active = _is;
          _is && this.schedule(function () {
            if (!_this2.main) {
              _this2._dbCallRq.string = "NO MAIN " + EStatusPlayer[PlayingController.instance.mainState];
              return;
            }
            _this2._dbCallRq.string = "Call: " + pStringUtils.formatNumberKMB(_this2._main.callRq) + " " + _this2.main.node.position.toString();
            _this2._dbRaiseRq.string = "Raise: " + pStringUtils.formatNumberKMB(_this2._main.raiseRq);
            _this2._dbBetted.string = "Betted: " + pStringUtils.formatNumberKMB(_this2._main.betted);
            _this2._dbChips.string = "Chips: " + pStringUtils.formatNumberKMB(_this2._main.data.chips) + " " + EStatusPlayer[PlayingController.instance.mainState];
          });
        };
        _proto.setDBMessage = function setDBMessage(msg) {
          if (typeof msg === 'function') {
            this._dbMessage.string = msg(this._dbMessage.string);
          } else {
            this._dbMessage.string = msg;
          }
        };
        _proto.start = function start() {
          this.invoke('onReady');
        };
        _proto.onDisable = function onDisable() {
          pEventManager.off(this._eventHandlers);
          this.spAllInFx.off(this._skeletonHandlers);
          this.unscheduleAllCallbacks();
        };
        _proto.onDestroy = function onDestroy() {
          pEventManager.off(this._onceEventHandlers);
        };
        _proto.isMain = function isMain(data) {
          return GlobalConfig.instance.isMainPlayer(data);
        };
        _proto._onJoinTable = /*#__PURE__*/function () {
          var _onJoinTable2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(data) {
            var route, board;
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  if (!(!!this.data.mtt || !!this.data.sng)) {
                    _context.next = 2;
                    break;
                  }
                  return _context.abrupt("return");
                case 2:
                  route = data.route, board = data.board;
                  if (!(route !== 'onJoinTable')) {
                    _context.next = 5;
                    break;
                  }
                  return _context.abrupt("return");
                case 5:
                  board.length > 0 ? this.showCommunityCards(board) : this.hideCommunityCards();
                  this.hideAlert();
                case 7:
                case "end":
                  return _context.stop();
              }
            }, _callee, this);
          }));
          function _onJoinTable(_x) {
            return _onJoinTable2.apply(this, arguments);
          }
          return _onJoinTable;
        }();
        _proto._onNewGame = function _onNewGame() {
          pDecorators.instance(NSAudio.Manager).play(EAudioID.SFX_PUT_CARDS);
        };
        _proto._setMain = function _setMain(player) {
          this._main = player;
        };
        _proto._onClearTable = function _onClearTable(msg) {
          var route = msg.route,
            members = msg.members;
          var isMainSitDown = PlayingController.instance.isMainSitDown;
          if (route !== 'onClearTable') return;
          for (var _iterator = _createForOfIteratorHelperLoose(members), _step; !(_step = _iterator()).done;) {
            var player = _step.value;
            var uiPlayer = this.getPlayerByUserName(player);
            if (!uiPlayer) continue;
            uiPlayer.init(player, this._data.mode, isMainSitDown);
            uiPlayer.reset(false);
          }
          this.hideAlert('winner');
          this.uiCommunityCard.hide();
        };
        _proto.refocus = function refocus() {
          this.hideCommunityCards();
          this.alert.hide();
        };
        _proto.showAlert = /*#__PURE__*/function () {
          var _showAlert = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(TId, msg, duration) {
            var _iterator2, _step2, ret;
            return _regeneratorRuntime().wrap(function _callee2$(_context2) {
              while (1) switch (_context2.prev = _context2.next) {
                case 0:
                  if (duration === void 0) {
                    duration = Duration.winner.alert;
                  }
                  this.hover.active = true;
                  for (_iterator2 = _createForOfIteratorHelperLoose(this.players); !(_step2 = _iterator2()).done;) {
                    ret = _step2.value;
                    ret.showDark();
                  }
                  _context2.next = 5;
                  return this.alert.show(TId, msg, duration);
                case 5:
                  this.hideAlert(TId);
                  !this._block && (this.hover.active = false);
                case 7:
                case "end":
                  return _context2.stop();
              }
            }, _callee2, this);
          }));
          function showAlert(_x2, _x3, _x4) {
            return _showAlert.apply(this, arguments);
          }
          return showAlert;
        }();
        _proto.hideAlert = function hideAlert(TId) {
          if (TId === void 0) {
            TId = undefined;
          }
          !this._block && (this.hover.active = false);
          for (var _iterator3 = _createForOfIteratorHelperLoose(this.players), _step3; !(_step3 = _iterator3()).done;) {
            var ret = _step3.value;
            ret.offDark();
          }
          this.alert.hide(TId);
        };
        _proto.forceHideAlert = function forceHideAlert() {
          this.hover.active = false;
          for (var _iterator4 = _createForOfIteratorHelperLoose(this.players), _step4; !(_step4 = _iterator4()).done;) {
            var ret = _step4.value;
            ret.offDark();
          }
          this.alert.hide();
        };
        _proto.blockOffHover = function blockOffHover(show) {
          if (show === void 0) {
            show = true;
          }
          this._block = true;
          show && (this.hover.active = true);
        };
        _proto.forceOffHover = function forceOffHover() {
          this._block = false;
          this.hover.active = false;
        };
        _proto.getPlayerByIndex = function getPlayerByIndex(index) {
          return this.players.find(function (p) {
            return p.data && p.data.index === index;
          });
        };
        _proto.getPlayerByID = function getPlayerByID(id) {
          id = typeof id === 'number' || typeof id === 'string' ? id : id.id;
          return this.players.find(function (player) {
            return player.data && player.data.id == id;
          });
        };
        _proto._onLeaveTable = function _onLeaveTable() {
          this.endMatch();
          this.hideAlert();
          this.unscheduleAllCallbacks();
          //this.resetPosIndexItemPlayer();
          pDecorators.instance(NSAudio.Manager).play(EAudioID.SFX_OUT_ROOM);
        };
        _proto._onEndTurn = function _onEndTurn(msg) {
          if (msg.route !== 'onEndTurn') return;
        };
        _proto._onTableInProgress = function _onTableInProgress(msg) {
          var players = msg.players,
            currentPlayer = msg.currentPlayer;
          this.lightDirector(players, currentPlayer);
        };
        _proto.lightDirector = function lightDirector(players, currentPlayer) {
          for (var _iterator5 = _createForOfIteratorHelperLoose(this.players), _step5; !(_step5 = _iterator5()).done;) {
            var player = _step5.value;
            if (player.isEmptySit()) continue;
            player.activeWinner(false);
            var _current = players.find(function (e) {
              return e.index === currentPlayer;
            });
            if (player.is(_current)) {
              this.showTimeCountTurn(player, true);
              player.onTurn(true);
            } else {
              player.onTurn(false);
            }
          }
        };
        _proto._onJoinGame = /*#__PURE__*/function () {
          var _onJoinGame2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(msg) {
            var route, players, currentPlayerIndex;
            return _regeneratorRuntime().wrap(function _callee3$(_context3) {
              while (1) switch (_context3.prev = _context3.next) {
                case 0:
                  route = msg.route, players = msg.players, currentPlayerIndex = msg.currentPlayerIndex;
                  if (!(route !== 'onJoinGame')) {
                    _context3.next = 3;
                    break;
                  }
                  return _context3.abrupt("return");
                case 3:
                  _context3.t0 = PlayingController.instance.mainState;
                  _context3.next = _context3.t0 === EStatusPlayer.WAITING ? 6 : 8;
                  break;
                case 6:
                  this.lightDirector(players, currentPlayerIndex);
                  return _context3.abrupt("break", 8);
                case 8:
                case "end":
                  return _context3.stop();
              }
            }, _callee3, this);
          }));
          function _onJoinGame(_x5) {
            return _onJoinGame2.apply(this, arguments);
          }
          return _onJoinGame;
        }();
        _proto._onTableEndGame = function _onTableEndGame(data) {
          this.players.forEach(function (e) {
            return e.setTxtStatus('hide');
          });
          var gameWinners = data.gameWinners;
          var _audio = gameWinners.length > 0 && GlobalConfig.instance.hasMainById(gameWinners) ? EAudioID.SFX_MAIN_WIN : EAudioID.SFX_OTHER_WIN;
          pDecorators.instance(NSAudio.Manager).play(_audio);
        };
        _proto._onTableEvent = function _onTableEvent(msg) {
          if (msg.route !== 'onTableEvent') return;
          var data = msg.msg;
          switch (data.state) {
            case 'IN_PROGRESS':
              {
                this._onTableInProgress(data);
                break;
              }
            case 'END_GAME':
              {
                this._onTableEndGame(data);
                //this.comunityCard.hide(3);      //Ens
                break;
              }
          }
        };
        _proto.init = function init(data) {
          this._data = data;
          this.alert.hide();
          var numberPlayers = data.count,
            typeModePlay = data.mode,
            listPlayer = data.list;
          switch (typeModePlay) {
            case ETypeModePlay.MTT:
            case ETypeModePlay.YARD:
            case ETypeModePlay.PLAY_NOW:
              this._newActorNr = function (_a) {
                return _a;
              };
              break;
            case ETypeModePlay.SNG:
              this._newActorNr = function (_a) {
                return _a - 1;
              };
              break;
          }
          this.actChangeTable(numberPlayers, typeModePlay, listPlayer);
        };
        _proto.actChangeTable = function actChangeTable(length, mode, list) {
          var _this3 = this;
          var _is = length === ENumberPlayerCount.FIVE_PLAYERS;
          this.UI5Players.active = _is;
          this.UI9Players.active = !_is;
          this._mainUIPlayers = _is ? this.ui5Players : this.ui9Players;
          this.players = this._mainUIPlayers.items;
          this._list.config = Array.from({
            length: length
          }, function (_, i) {
            return i;
          });
          list && typeof (list == null ? void 0 : list.find) === 'function' && this.players.forEach(function (element, index) {
            element.reset();
            var _player = list.find(function (value) {
              return _this3._newActorNr(value.actorNr) == index;
            });
            element.init(_player, _this3._data.mode, false);
          });
        };
        _proto.showAnimChangePos = /*#__PURE__*/function () {
          var _showAnimChangePos = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(force) {
            var isMainSitDown, actorNr, clockwise;
            return _regeneratorRuntime().wrap(function _callee4$(_context4) {
              while (1) switch (_context4.prev = _context4.next) {
                case 0:
                  if (force === void 0) {
                    force = false;
                  }
                  isMainSitDown = PlayingController.instance.isMainSitDown;
                  if (!(force || this.hasMain && !isMainSitDown)) {
                    _context4.next = 8;
                    break;
                  }
                  actorNr = this._newActorNr ? this._newActorNr(this.main.data.actorNr) : this.main.data.actorNr;
                  this.log("SHOW ANIM CHANGE POS >>>", actorNr, this._posCFG, this._list);
                  clockwise = actorNr < this._posCFG.length / 2;
                  _context4.next = 8;
                  return this._mainUIPlayers.actRotate(this._posCFG, clockwise, 0.25);
                case 8:
                case "end":
                  return _context4.stop();
              }
            }, _callee4, this);
          }));
          function showAnimChangePos(_x6) {
            return _showAnimChangePos.apply(this, arguments);
          }
          return showAnimChangePos;
        }();
        _proto._mapDisplayPositions = function _mapDisplayPositions(currentPosMain, maxPlayer) {
          var _orders = Array.from({
            length: maxPlayer
          }, function (_, i) {
            return i;
          });
          return pArray.shift(_orders, currentPosMain);
        };
        _proto.stopRotation = function stopRotation() {
          this._players.forEach(function (_p) {
            return _p.stopRotate();
          });
        };
        _proto.actRotation = function actRotation(type, players, waitings, _maxPlayer) {
          switch (type) {
            case 'watch':
              {
                return this.updateUI(players.concat(waitings), this._list.config, waitings, 'actorNr');
              }
            case 'main':
              {
                var _this$_data;
                var maxPlayer = _maxPlayer || ((_this$_data = this._data) == null ? void 0 : _this$_data.count);
                if (players.length > 0) {
                  var _players$find$actorNr, _players$find;
                  players.sort(function (a, b) {
                    return a.actorNr - b.actorNr;
                  });
                  var id = GlobalConfig.instance.Login.player.information.id;
                  var _cur = (_players$find$actorNr = (_players$find = players.find(function (value) {
                    return value.id === id;
                  })) == null ? void 0 : _players$find.actorNr) != null ? _players$find$actorNr : -1;
                  var _fn = this._newActorNr(_cur);
                  this._list.player = this._mapDisplayPositions(_fn, maxPlayer);
                }
                return this.updateUI(players, this._list.player, waitings, 'actorNr');
              }
            case 'other':
              {
                this.log("ACT ROTATION >>>", players, "\n", this._list.player);
                return this.updateUI(players, this._list.player, waitings, 'actorNr');
              }
            case 'waiting':
              {
                return this.updateUI(players, this._list.config, waitings, 'actorNr');
              }
          }
        };
        _proto.updateUI = function updateUI(players, posWithMain, waitings, seat) {
          var _this4 = this;
          this._posCFG = posWithMain;
          var _players = new Map(players.map(function (_player) {
            return [_this4._newActorNr(_player[seat]), _player];
          }));
          var _waitings = new Set(waitings);
          var isMainSitDown = GlobalConfig.instance.hasMainById(players);
          !isMainSitDown && this._setMain(null);
          for (var i = 0; i < this.players.length; i++) {
            var player = this.players[i];
            var _player = _players.get(i);
            if (_player) {
              player.init(_player, this._data.mode, isMainSitDown);
              _waitings.has(_player) && player.setTxtStatus('waiting');
              var isMain = player.isMain;
              isMain && this._setMain(player);
            } else {
              player.init(null, this._data.mode, isMainSitDown);
            }
          }
          return this.showAnimChangePos();
        };
        _proto.resetPosIndexItemPlayer = /*#__PURE__*/function () {
          var _resetPosIndexItemPlayer = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5() {
            var _this$main;
            return _regeneratorRuntime().wrap(function _callee5$(_context5) {
              while (1) switch (_context5.prev = _context5.next) {
                case 0:
                  if (this._data) {
                    _context5.next = 2;
                    break;
                  }
                  return _context5.abrupt("return");
                case 2:
                  this._posCFG = Array.from({
                    length: this._data.count
                  }, function (_, i) {
                    return i;
                  });
                  (_this$main = this.main) == null || _this$main.reset(true);
                  _context5.next = 6;
                  return this._mainUIPlayers.actRotate(this._posCFG, false, 0.25);
                case 6:
                case "end":
                  return _context5.stop();
              }
            }, _callee5, this);
          }));
          function resetPosIndexItemPlayer() {
            return _resetPosIndexItemPlayer.apply(this, arguments);
          }
          return resetPosIndexItemPlayer;
        }();
        _proto.getPlayerByUserName = function getPlayerByUserName(username) {
          if (!username) return null;
          username = typeof username === 'string' ? username : username.playerName;
          var player = this.players.find(function (e) {
            return e.hasUserName(username);
          });
          return player;
        };
        _proto.sendChatByPlayer = function sendChatByPlayer(user_name, msg) {
          var player = this.getPlayerByUserName(user_name);
          player == null || player.actChat(msg);
        };
        _proto.sendEmojiByPlayer = function sendEmojiByPlayer(user_name, emoji) {
          var player = this.getPlayerByUserName(user_name);
          player == null || player.actChatEmoji(emoji);
        };
        _proto._onAllInAnimComplete = function _onAllInAnimComplete() {
          if (this.spAllInFx.isRunning) return;
          this.spAllInFx.active = false;
        };
        _proto.checkMainSitDown = /*#__PURE__*/function () {
          var _checkMainSitDown = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6() {
            var _cfg, _midx;
            return _regeneratorRuntime().wrap(function _callee6$(_context6) {
              while (1) switch (_context6.prev = _context6.next) {
                case 0:
                  if (this.hasMain) {
                    _context6.next = 2;
                    break;
                  }
                  return _context6.abrupt("return");
                case 2:
                  _cfg = this.posCFG;
                  _midx = this.main.index;
                  console.log("[JGC] _GP CHECK MAIN POST >>", "\nCFG: ", _cfg, "\nMIDX: ", _midx, "\nCMID: ", _cfg[_midx], "\nHALF: ", Math.floor(_cfg.length / 2));
                  if (!(_cfg[Math.floor(_cfg.length / 2)] === _midx)) {
                    _context6.next = 7;
                    break;
                  }
                  return _context6.abrupt("return");
                case 7:
                  _context6.next = 9;
                  return this.showAnimChangePos(true);
                case 9:
                case "end":
                  return _context6.stop();
              }
            }, _callee6, this);
          }));
          function checkMainSitDown() {
            return _checkMainSitDown.apply(this, arguments);
          }
          return checkMainSitDown;
        }();
        _proto.showAllIn = function showAllIn() {
          this.spAllInFx.active = true;
          this.spAllInFx.playSelected();
          pDecorators.instance(NSAudio.Manager).play(EAudioID.SFX_ALL_IN);
        };
        _proto.showStatusMyDealer = function showStatusMyDealer(player, active) {
          this.players.forEach(function (e) {
            return e.uiGameInfo.status.activeIsDealer(false);
          });
          player = player instanceof UIItemPlayer ? player : this.getPlayerByIndex(player);
          if (!player) return;
          player.uiGameInfo.status.activeIsDealer(active);
        };
        _proto.showTimeCountTurn = function showTimeCountTurn(indexSlot, active, timeleft) {
          if (typeof indexSlot == 'number') {
            this.players[indexSlot].activeClock(active, timeleft);
            this.players.forEach(function (e, i) {
              return i != indexSlot && e.activeClock(false);
            });
          } else {
            this.players.forEach(function (p) {
              return p.activeClock(p.data && p.data === indexSlot.data, timeleft);
            });
          }
        };
        _proto.showCommunityCards = /*#__PURE__*/function () {
          var _showCommunityCards = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee7(list) {
            var isDisplayed;
            return _regeneratorRuntime().wrap(function _callee7$(_context7) {
              while (1) switch (_context7.prev = _context7.next) {
                case 0:
                  _context7.next = 2;
                  return this._uiCommunityCard.show(list);
                case 2:
                  isDisplayed = _context7.sent;
                  if (!(!this.main || !isDisplayed)) {
                    _context7.next = 5;
                    break;
                  }
                  return _context7.abrupt("return");
                case 5:
                  pDecorators.instance(NSCardRate.Calculator).breakdown(this.main.hand, list.map(function (card) {
                    return NSCardType.extract(card);
                  }));
                case 6:
                case "end":
                  return _context7.stop();
              }
            }, _callee7, this);
          }));
          function showCommunityCards(_x7) {
            return _showCommunityCards.apply(this, arguments);
          }
          return showCommunityCards;
        }();
        _proto.hideCommunityCards = /*#__PURE__*/function () {
          var _hideCommunityCards = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee8() {
            return _regeneratorRuntime().wrap(function _callee8$(_context8) {
              while (1) switch (_context8.prev = _context8.next) {
                case 0:
                  _context8.next = 2;
                  return this._uiCommunityCard.hide();
                case 2:
                case "end":
                  return _context8.stop();
              }
            }, _callee8, this);
          }));
          function hideCommunityCards() {
            return _hideCommunityCards.apply(this, arguments);
          }
          return hideCommunityCards;
        }();
        _proto.endMatch = function endMatch() {
          this.players.forEach(function (e) {
            return e.reset();
          });
        };
        _createClass(UIGamePlay, [{
          key: "UI5Players",
          get: function get() {
            var _this$ui5Players;
            return ((_this$ui5Players = this.ui5Players) == null ? void 0 : _this$ui5Players.node) || null;
          }
        }, {
          key: "UI9Players",
          get: function get() {
            var _this$ui9Players;
            return ((_this$ui9Players = this.ui9Players) == null ? void 0 : _this$ui9Players.node) || null;
          }
        }, {
          key: "uiCommunityCard",
          get: function get() {
            return this._uiCommunityCard;
          }
        }, {
          key: "alert",
          get: function get() {
            return this._alert;
          },
          set: function set(x) {
            this._alert = x;
            x == null || x.resetup(_AlertList);
          }
        }, {
          key: "data",
          get: function get() {
            return this._data;
          }
        }, {
          key: "players",
          get: function get() {
            return this._players;
          },
          set: function set(x) {
            this._players = x;
          }
        }, {
          key: "posCFG",
          get: function get() {
            return this._posCFG;
          }
        }, {
          key: "main",
          get: function get() {
            return this._main;
          }
        }, {
          key: "hasMain",
          get: function get() {
            return !!this._main && !!this._main.data;
          }
        }]);
        return UIGamePlay;
      }(NSEventDriver.Component), (_applyDecoratedDescriptor(_class2.prototype, "UI5Players", [_dec4], Object.getOwnPropertyDescriptor(_class2.prototype, "UI5Players"), _class2.prototype), _descriptor = _applyDecoratedDescriptor(_class2.prototype, "ui5Players", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _applyDecoratedDescriptor(_class2.prototype, "UI9Players", [_dec6], Object.getOwnPropertyDescriptor(_class2.prototype, "UI9Players"), _class2.prototype), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "ui9Players", [_dec7], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "_uiCommunityCard", [_dec8], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "dealer", [_dec9], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "dealerHand", [_dec10], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, "hover", [_dec11], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor7 = _applyDecoratedDescriptor(_class2.prototype, "_alert", [_dec12], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _applyDecoratedDescriptor(_class2.prototype, "alert", [_dec13], Object.getOwnPropertyDescriptor(_class2.prototype, "alert"), _class2.prototype), _descriptor8 = _applyDecoratedDescriptor(_class2.prototype, "spAllInFx", [_dec14], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor9 = _applyDecoratedDescriptor(_class2.prototype, "_dbCallRq", [_dec15], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor10 = _applyDecoratedDescriptor(_class2.prototype, "_dbRaiseRq", [_dec16], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor11 = _applyDecoratedDescriptor(_class2.prototype, "_dbBetted", [_dec17], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor12 = _applyDecoratedDescriptor(_class2.prototype, "_dbChips", [_dec18], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor13 = _applyDecoratedDescriptor(_class2.prototype, "_dbMessage", [_dec19], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class) || _class) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIGamePlayTutorial.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './Constants.ts', './GlobalConfig.ts', './SkeletonSelector.ts', './AudioManager.ts', './EventDriver.ts', './Enums.ts', './Decorators.ts', './StringUtils.ts', './UIGameAlert.ts', './UICommunityCard.ts', './UIGameDealer.ts', './UIItemPlayer.ts', './UIItemPlayerManager.ts', './LanguageManager.ts', './UITutorialScene.ts', './AsyncUtils.ts', './UICardsDealer.ts', './GameManager.ts'], function (exports) {
  var _inheritsLoose, _createForOfIteratorHelperLoose, _asyncToGenerator, _regeneratorRuntime, _createClass, _applyDecoratedDescriptor, _initializerDefineProperty, _assertThisInitialized, cclegacy, _decorator, Node, Label, Button, Slider, RichText, v2, js, Duration, GlobalConfig, NSSkeletonSelector, NSAudio, NSEventDriver, EAudioID, ENumberPlayerCount, ETypeModePlay, EDealSpeed, pDecorators, pStringUtils, NSGameAlert, UICommunityCard, UIGameDealer, UIItemPlayer, NSItemPlayerManager, LanguageMananger, UITutorialScene, pAsyncUtils, NSCardsDealer, GameManager;
  return {
    setters: [function (module) {
      _inheritsLoose = module.inheritsLoose;
      _createForOfIteratorHelperLoose = module.createForOfIteratorHelperLoose;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
      _createClass = module.createClass;
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Node = module.Node;
      Label = module.Label;
      Button = module.Button;
      Slider = module.Slider;
      RichText = module.RichText;
      v2 = module.v2;
      js = module.js;
    }, function (module) {
      Duration = module.Duration;
    }, function (module) {
      GlobalConfig = module.default;
    }, function (module) {
      NSSkeletonSelector = module.NSSkeletonSelector;
    }, function (module) {
      NSAudio = module.NSAudio;
    }, function (module) {
      NSEventDriver = module.NSEventDriver;
    }, function (module) {
      EAudioID = module.EAudioID;
      ENumberPlayerCount = module.ENumberPlayerCount;
      ETypeModePlay = module.ETypeModePlay;
      EDealSpeed = module.EDealSpeed;
    }, function (module) {
      pDecorators = module.pDecorators;
    }, function (module) {
      pStringUtils = module.pStringUtils;
    }, function (module) {
      NSGameAlert = module.NSGameAlert;
    }, function (module) {
      UICommunityCard = module.UICommunityCard;
    }, function (module) {
      UIGameDealer = module.UIGameDealer;
    }, function (module) {
      UIItemPlayer = module.UIItemPlayer;
    }, function (module) {
      NSItemPlayerManager = module.NSItemPlayerManager;
    }, function (module) {
      LanguageMananger = module.LanguageMananger;
    }, function (module) {
      UITutorialScene = module.UITutorialScene;
    }, function (module) {
      pAsyncUtils = module.pAsyncUtils;
    }, function (module) {
      NSCardsDealer = module.NSCardsDealer;
    }, function (module) {
      GameManager = module.GameManager;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _dec11, _dec12, _dec13, _dec14, _dec15, _dec16, _dec17, _dec18, _dec19, _dec20, _dec21, _dec22, _dec23, _dec24, _dec25, _dec26, _dec27, _dec28, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9, _descriptor10, _descriptor11, _descriptor12, _descriptor13, _descriptor14, _descriptor15, _descriptor16, _descriptor17, _descriptor18, _descriptor19, _descriptor20, _descriptor21;
      cclegacy._RF.push({}, "c1517/5scNHX7b3qqeOeC7g", "UIGamePlayTutorial", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property,
        type = _decorator.type;
      var logger = pDecorators.logger,
        singleton = pDecorators.singleton;
      var _AlertList = ['normal', 'winner'];
      var cards = ['JH', '8S', 'KD', 'TS', 'TH'];
      var UIGamePlayTutorial = exports('default', (_dec = ccclass('UIGamePlayTutorial'), _dec2 = logger(), _dec3 = singleton(), _dec4 = property(Node), _dec5 = property(NSItemPlayerManager.Component), _dec6 = type(Node), _dec7 = type(Node), _dec8 = property({
        type: UICommunityCard,
        visible: true
      }), _dec9 = property({
        group: {
          name: 'Dealer',
          id: 'Info'
        }
      }), _dec10 = type(Label), _dec11 = property({
        group: {
          name: 'Dealer',
          id: 'Info'
        }
      }), _dec12 = type(Label), _dec13 = property({
        type: UIGameDealer
      }), _dec14 = property({
        type: Node
      }), _dec15 = property({
        type: NSGameAlert.Component
      }), _dec16 = property({
        type: NSGameAlert.Component
      }), _dec17 = property(NSSkeletonSelector.Component), _dec18 = property(Label), _dec19 = property(Node), _dec20 = property(Button), _dec21 = property(Button), _dec22 = property(Node), _dec23 = property(Slider), _dec24 = property(Label), _dec25 = property(RichText), _dec26 = property(UITutorialScene), _dec27 = property(NSCardsDealer.Component), _dec28 = property(Node), _dec(_class = _dec2(_class = _dec3(_class = (_class2 = /*#__PURE__*/function (_NSEventDriver$Compon) {
        _inheritsLoose(UIGamePlayTutorial, _NSEventDriver$Compon);
        function UIGamePlayTutorial() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _NSEventDriver$Compon.call.apply(_NSEventDriver$Compon, [this].concat(args)) || this;
          _this.currentPlayer = null;
          _initializerDefineProperty(_this, "ui5Players", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "nodeMainPot", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "nodeSidePot", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "_uiCommunityCard", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbPot", _descriptor5, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbSidePot", _descriptor6, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "dealer", _descriptor7, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "hover", _descriptor8, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "_alert", _descriptor9, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "spAllInFx", _descriptor10, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "txtBtnCheck", _descriptor11, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "uiGameAction", _descriptor12, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnCheck", _descriptor13, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnAddBet", _descriptor14, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "popupAddBet", _descriptor15, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "slider", _descriptor16, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "labelRaiseNum", _descriptor17, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "txtMentorTalk", _descriptor18, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "uiTutorialScene", _descriptor19, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "cardsDealer", _descriptor20, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "animGrowup", _descriptor21, _assertThisInitialized(_this));
          _this._delayPlayerSeconds = 1;
          _this._data = {
            count: ENumberPlayerCount.FIVE_PLAYERS,
            mode: ETypeModePlay.YARD,
            speed: EDealSpeed.DEAL_SPEED_1,
            list: [],
            data: {
              zone: 'TS',
              id: "",
              bigBlind: 1000,
              displayTid: 1,
              gameMode: 'fast',
              isPrivate: true,
              maxBuyIn: 100,
              minBuyIn: 20,
              maxPlayers: 5,
              members: 3,
              minPlayers: 2,
              players: 3,
              smallBlind: 0
            },
            is_new: true
          };
          _this._players = [];
          _this._posCFG = [];
          _this._skeletonHandlers = [['onCompleteAnAnim', _this._onAllInAnimComplete, _assertThisInitialized(_this)]];
          _this._currentStep = 0;
          // onCheckClick()
          // {
          //     this.nextStep();
          // }
          // onClickAddBet()
          // {
          //     this.nextStep();
          // }
          _this._minBet = 0;
          _this._currentRaise = 0;
          _this._isAllin = false;
          _this._main = null;
          return _this;
        }
        var _proto = UIGamePlayTutorial.prototype;
        _proto._onLoad = function _onLoad() {
          var _this$_uiCommunityCar;
          (_this$_uiCommunityCar = this._uiCommunityCard) != null ? _this$_uiCommunityCar : this._uiCommunityCard = this.getComponentInChildren(UICommunityCard);
        };
        _proto.onEnable = function onEnable() {
          this.spAllInFx.on(this._skeletonHandlers);
          var mainPlayer = GlobalConfig.instance.Login.player.information;
          this._data.list = [{
            actorNr: 0,
            allIn: false,
            avatar: "1",
            cards: ['AH', 'KS'],
            chips: 10000000,
            exp: mainPlayer.exp,
            folded: false,
            id: mainPlayer.id + 2,
            index: 1,
            isState: true,
            level: mainPlayer.level,
            playerName: LanguageMananger.instance.getString('txt_player') + " A",
            talked: false,
            type: '',
            vippoint: mainPlayer.vippoint
          }, {
            actorNr: 1,
            allIn: false,
            avatar: "2",
            cards: ['4S', '5S'],
            chips: 10000000,
            exp: mainPlayer.exp,
            folded: false,
            id: mainPlayer.id + 1,
            index: 1,
            isState: true,
            level: mainPlayer.level,
            playerName: LanguageMananger.instance.getString('txt_player') + " B",
            talked: false,
            type: '',
            vippoint: mainPlayer.vippoint
          }, {
            actorNr: 2,
            allIn: false,
            avatar: mainPlayer.avatar,
            cards: ['TD', 'TC'],
            chips: 10000000,
            exp: mainPlayer.exp,
            folded: false,
            id: mainPlayer.id,
            index: 2,
            isState: true,
            level: mainPlayer.level,
            playerName: mainPlayer.display_name,
            talked: false,
            type: '',
            vippoint: mainPlayer.vippoint
          }];
          this._onClearTable(this._data.list);
          this.setupSlotsPlayer(this._data);
          this.btnCheck.interactable = false;
          this.btnAddBet.interactable = false;
          this.uiGameAction.active = true;
          this._onNewGame(this._data.list);
          // this.playStep(this._currentStep);
        };

        _proto.nextStep = /*#__PURE__*/function () {
          var _nextStep = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  this._currentStep++;
                  _context.next = 3;
                  return this.playStep(this._currentStep);
                case 3:
                case "end":
                  return _context.stop();
              }
            }, _callee, this);
          }));
          function nextStep() {
            return _nextStep.apply(this, arguments);
          }
          return nextStep;
        }();
        _proto.playStep = /*#__PURE__*/function () {
          var _playStep = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(step) {
            var mainnBetted, receive;
            return _regeneratorRuntime().wrap(function _callee2$(_context2) {
              while (1) switch (_context2.prev = _context2.next) {
                case 0:
                  _context2.t0 = step;
                  _context2.next = _context2.t0 === 1 ? 3 : _context2.t0 === 2 ? 15 : _context2.t0 === 3 ? 37 : _context2.t0 === 4 ? 52 : _context2.t0 === 5 ? 63 : _context2.t0 === 6 ? 80 : _context2.t0 === 7 ? 90 : _context2.t0 === 8 ? 102 : _context2.t0 === 9 ? 108 : _context2.t0 === 10 ? 111 : 150;
                  break;
                case 3:
                  this.players.forEach(function (e) {
                    e.data && e.data.actorNr === 2 ? e.showFaceCardPlayer(e.data.cards) : e.showBackCardPlayer();
                  });
                  // this._main = this.players.find((p) => p.data && p.data.actorNr === 2);

                  this.selectPlayerByIndex(0);
                  // await pAsyncUtils.wait(this._delayPlayerSeconds)
                  this.actionBet(this.currentPlayer, 100000);
                  this._minBet = 100000;
                  this.selectPlayerByIndex(1);
                  // await pAsyncUtils.wait(this._delayPlayerSeconds)
                  this.actionBet(this.currentPlayer, 200000);
                  this._minBet = 200000;
                  this.selectPlayerByIndex(2);
                  this.txtBtnCheck.string = LanguageMananger.instance.getString('txt_btn_call_bet') + " " + pStringUtils.formatNumberKMB(this._minBet);
                  this.btnCheck.interactable = true;
                  this.uiTutorialScene.btnNextStep.interactable = false;
                  // this.uiGameAction.active = true;
                  return _context2.abrupt("break", 150);
                case 15:
                  // this.checkFold(this.data.listPlayer);
                  this.btnCheck.interactable = false;
                  this.uiTutorialScene.btnNextStep.interactable = true;
                  _context2.next = 19;
                  return this.actionCall(this.currentPlayer, 200000);
                case 19:
                  // this.uiGameAction.active = false;
                  this.txtBtnCheck.string = LanguageMananger.instance.getString('txt_btn_check');
                  this.selectPlayerByIndex(0);
                  _context2.next = 23;
                  return pAsyncUtils.wait(this._delayPlayerSeconds);
                case 23:
                  _context2.next = 25;
                  return this.actionCall(this.currentPlayer, 100000);
                case 25:
                  this.selectPlayerByIndex(1);
                  _context2.next = 28;
                  return pAsyncUtils.wait(this._delayPlayerSeconds);
                case 28:
                  _context2.next = 30;
                  return this.actionCheck(this.currentPlayer);
                case 30:
                  _context2.next = 32;
                  return pAsyncUtils.wait(1);
                case 32:
                  this.txtMentorTalk.string = LanguageMananger.instance.getString('txt_tutorial_try_1');
                  _context2.next = 35;
                  return this.showCommunityCards([cards[0], cards[1], cards[2]]);
                case 35:
                  this.updatePotDealer();
                  return _context2.abrupt("break", 150);
                case 37:
                  this.selectPlayerByIndex(0);
                  _context2.next = 40;
                  return pAsyncUtils.wait(this._delayPlayerSeconds);
                case 40:
                  _context2.next = 42;
                  return this.actionCheck(this.currentPlayer);
                case 42:
                  this.selectPlayerByIndex(1);
                  _context2.next = 45;
                  return pAsyncUtils.wait(this._delayPlayerSeconds);
                case 45:
                  _context2.next = 47;
                  return this.actionCheck(this.currentPlayer);
                case 47:
                  this.selectPlayerByIndex(2);
                  this.btnCheck.interactable = true;
                  this.uiTutorialScene.btnNextStep.interactable = false;
                  // this.uiGameAction.active = true;
                  this.txtMentorTalk.string = LanguageMananger.instance.getString('txt_tutorial_try_2');
                  return _context2.abrupt("break", 150);
                case 52:
                  this.btnCheck.interactable = false;
                  this.uiTutorialScene.btnNextStep.interactable = true;
                  _context2.next = 56;
                  return this.actionCheck(this.currentPlayer);
                case 56:
                  _context2.next = 58;
                  return pAsyncUtils.wait(1);
                case 58:
                  // this.uiGameAction.active = false;
                  this.txtMentorTalk.string = LanguageMananger.instance.getString('txt_tutorial_try_3');
                  _context2.next = 61;
                  return this.showCommunityCards([cards[0], cards[1], cards[2], cards[3]]);
                case 61:
                  this.updatePotDealer();
                  return _context2.abrupt("break", 150);
                case 63:
                  this.selectPlayerByIndex(0);
                  _context2.next = 66;
                  return pAsyncUtils.wait(this._delayPlayerSeconds);
                case 66:
                  _context2.next = 68;
                  return this.actionBet(this.currentPlayer, 2000000);
                case 68:
                  this._minBet = 2000000;
                  this.selectPlayerByIndex(1);
                  _context2.next = 72;
                  return pAsyncUtils.wait(this._delayPlayerSeconds);
                case 72:
                  _context2.next = 74;
                  return this.actionFold(this.currentPlayer);
                case 74:
                  this.selectPlayerByIndex(2);
                  this.txtBtnCheck.string = LanguageMananger.instance.getString('txt_btn_call_bet') + " " + pStringUtils.formatNumberKMB(this._minBet);
                  this.btnCheck.interactable = true;
                  this.uiTutorialScene.btnNextStep.interactable = false;
                  this.txtMentorTalk.string = LanguageMananger.instance.getString('txt_tutorial_try_4');
                  // this.uiGameAction.active = true;
                  return _context2.abrupt("break", 150);
                case 80:
                  this.txtMentorTalk.string = LanguageMananger.instance.getString('txt_tutorial_try_5');
                  this.btnCheck.interactable = false;
                  this.uiTutorialScene.btnNextStep.interactable = true;
                  _context2.next = 85;
                  return this.actionCall(this.currentPlayer, 2000000);
                case 85:
                  _context2.next = 87;
                  return this.showCommunityCards(cards);
                case 87:
                  this.txtBtnCheck.string = LanguageMananger.instance.getString('txt_btn_check');
                  this.updatePotDealer();
                  return _context2.abrupt("break", 150);
                case 90:
                  this.selectPlayerByIndex(0);
                  _context2.next = 93;
                  return pAsyncUtils.wait(this._delayPlayerSeconds);
                case 93:
                  _context2.next = 95;
                  return this.actionBet(this.currentPlayer, 3000000);
                case 95:
                  this._minBet = 3000000;
                  this.txtMentorTalk.string = LanguageMananger.instance.getString('txt_tutorial_try_6');
                  this.selectPlayerByIndex(2);
                  this.txtBtnCheck.string = LanguageMananger.instance.getString('txt_btn_call_bet') + " " + pStringUtils.formatNumberKMB(this._minBet);
                  this.btnAddBet.interactable = true;
                  this.uiTutorialScene.btnNextStep.interactable = false;
                  // this.uiGameAction.active = true;
                  return _context2.abrupt("break", 150);
                case 102:
                  // this.uiGameAction.active = false;
                  this.labelRaiseNum.string = pStringUtils.formatNumberKMB(this._minBet);
                  this.popupAddBet.active = true;
                  this.animGrowup.active = true;
                  // console.log(this._currentStep);
                  this.btnAddBet.interactable = false;
                  this.uiTutorialScene.pointerNode.active = false;
                  // click add bet;
                  return _context2.abrupt("break", 150);
                case 108:
                  this.btnAddBet.interactable = true;
                  this.slider.enabled = false;
                  return _context2.abrupt("break", 150);
                case 111:
                  this.popupAddBet.active = false;
                  this.btnAddBet.interactable = false;
                  this.uiTutorialScene.btnNextStep.interactable = true;
                  //click bet;
                  if (!(this.slider.progress === 1)) {
                    _context2.next = 119;
                    break;
                  }
                  _context2.next = 117;
                  return this.actAllIn(this.currentPlayer);
                case 117:
                  _context2.next = 120;
                  break;
                case 119:
                  this.actionBet(this.currentPlayer, this._currentRaise);
                case 120:
                  mainnBetted = this.currentPlayer.betted;
                  this.selectPlayerByIndex(0);
                  _context2.next = 124;
                  return pAsyncUtils.wait(this._delayPlayerSeconds);
                case 124:
                  if (!(this.slider.progress === 1)) {
                    _context2.next = 129;
                    break;
                  }
                  _context2.next = 127;
                  return this.actAllIn(this.currentPlayer);
                case 127:
                  _context2.next = 130;
                  break;
                case 129:
                  this.actionBet(this.currentPlayer, mainnBetted - this.currentPlayer.betted);
                case 130:
                  _context2.next = 132;
                  return pAsyncUtils.wait(1);
                case 132:
                  this.txtMentorTalk.string = LanguageMananger.instance.getString('txt_tutorial_try_7');
                  this.updatePotDealer();
                  // console.log("End game");
                  this.uiCommunityCard.card.highlight([cards[3], cards[4]], true);
                  this.players.forEach(function (p) {
                    if (p.data && !p.data.folded) {
                      p.showFaceCardPlayer(p.data.cards);
                    }
                  });
                  receive = this.players[0].betted + this.players[1].betted + this.players[2].betted;
                  this.selectPlayerByIndex(2);
                  this.main.uiGameInfo.hand.highlight(this.currentPlayer.data.cards, false);
                  _context2.next = 141;
                  return pAsyncUtils.wait(2);
                case 141:
                  this.onWinByUserName(this.main.data.id, receive);
                  this.deselectAllPlayer();
                  _context2.next = 145;
                  return this.showAlert('winner', js.formatStr(LanguageMananger.instance.getString('txt_tutorial_try_8'), pStringUtils.formatNumberKMB(receive)));
                case 145:
                  this.uiGameAction.active = false;
                  this.uiTutorialScene.showAt(this.uiTutorialScene.btnNextStep.node, v2(0, 90));
                  this.main.updateData('chips', receive);
                  this.main.activeWinner(false);
                  return _context2.abrupt("break", 150);
                case 150:
                case "end":
                  return _context2.stop();
              }
            }, _callee2, this);
          }));
          function playStep(_x) {
            return _playStep.apply(this, arguments);
          }
          return playStep;
        }();
        _proto.deselectAllPlayer = function deselectAllPlayer() {
          // this._onClearTable(this._data.listPlayer);
          this.players.forEach(function (player) {
            if (!player.isEmptySit()) {
              player.activeClock(false);
              player.onTurn(false);
              player.setTxtStatus('hide');
            }
          });
        };
        _proto.onSliderRaiseChange = function onSliderRaiseChange() {
          if (this.popupAddBet.active && this.isMain(this.currentPlayer.data.data)) {
            this._currentRaise = this._minBet + (this.currentPlayer.data.chips - this.currentPlayer.betted) * this.slider.progress;
            this.labelRaiseNum.string = pStringUtils.formatNumberKMB(this._currentRaise);
            if (this.slider.progress === 1) {
              this.labelRaiseNum.string = LanguageMananger.instance.getString('txt_btn_all_in');
              this.btnAddBet.interactable = true;
              this.animGrowup.active = false;
              this.uiTutorialScene.nextStep();
            }
          }
        };
        _proto.actionFold = function actionFold(player) {
          if (!player || !player.data) return;
          player.data.fold();
          this.checkFold(player);
        };
        _proto.actionCall = /*#__PURE__*/function () {
          var _actionCall = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(player, currentBet) {
            return _regeneratorRuntime().wrap(function _callee3$(_context3) {
              while (1) switch (_context3.prev = _context3.next) {
                case 0:
                  if (!(!player || !player.data)) {
                    _context3.next = 2;
                    break;
                  }
                  return _context3.abrupt("return");
                case 2:
                  player.setTxtStatus('call');
                  //player.data.chips -= currentBet;
                  player.updateData('chips', player.data.chips - currentBet);
                  _context3.next = 6;
                  return player.updateAmountChipBet(player.betted + currentBet);
                case 6:
                  this.updatePlayer(player);
                case 7:
                case "end":
                  return _context3.stop();
              }
            }, _callee3, this);
          }));
          function actionCall(_x2, _x3) {
            return _actionCall.apply(this, arguments);
          }
          return actionCall;
        }();
        _proto.actionBet = /*#__PURE__*/function () {
          var _actionBet = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(player, _valueBet) {
            var valueBet;
            return _regeneratorRuntime().wrap(function _callee4$(_context4) {
              while (1) switch (_context4.prev = _context4.next) {
                case 0:
                  if (!(!player || !player.data)) {
                    _context4.next = 2;
                    break;
                  }
                  return _context4.abrupt("return");
                case 2:
                  valueBet = Math.min(_valueBet, player.data.chips); // this.log("ACTION BET >>> ", valueBet, player.data.chips)
                  if (!(valueBet >= player.data.chips)) {
                    _context4.next = 8;
                    break;
                  }
                  _context4.next = 6;
                  return this.actionAllin(player, valueBet);
                case 6:
                  _context4.next = 13;
                  break;
                case 8:
                  player.setTxtStatus('bet');
                  //player.data.chips -= valueBet;
                  player.updateData('chips', player.data.chips - valueBet);
                  _context4.next = 12;
                  return player.updateAmountChipBet(player.betted + valueBet);
                case 12:
                  this.updatePlayer(player);
                case 13:
                case "end":
                  return _context4.stop();
              }
            }, _callee4, this);
          }));
          function actionBet(_x4, _x5) {
            return _actionBet.apply(this, arguments);
          }
          return actionBet;
        }();
        _proto.actAllIn = /*#__PURE__*/function () {
          var _actAllIn = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(player) {
            return _regeneratorRuntime().wrap(function _callee5$(_context5) {
              while (1) switch (_context5.prev = _context5.next) {
                case 0:
                  if (!(!player || !player.data)) {
                    _context5.next = 2;
                    break;
                  }
                  return _context5.abrupt("return");
                case 2:
                  _context5.next = 4;
                  return this.actionAllin(player, player.data.chips);
                case 4:
                case "end":
                  return _context5.stop();
              }
            }, _callee5, this);
          }));
          function actAllIn(_x6) {
            return _actAllIn.apply(this, arguments);
          }
          return actAllIn;
        }();
        _proto.actionAllin = /*#__PURE__*/function () {
          var _actionAllin = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6(player, valueBet) {
            return _regeneratorRuntime().wrap(function _callee6$(_context6) {
              while (1) switch (_context6.prev = _context6.next) {
                case 0:
                  if (!(!player || !player.data)) {
                    _context6.next = 2;
                    break;
                  }
                  return _context6.abrupt("return");
                case 2:
                  if (!(valueBet < player.data.chips)) {
                    _context6.next = 6;
                    break;
                  }
                  _context6.next = 5;
                  return this.actionBet(player, valueBet);
                case 5:
                  return _context6.abrupt("return");
                case 6:
                  player.setTxtStatus('allin');
                  //player.data.chips -= valueBet;
                  player.updateData('chips', player.data.chips - valueBet);
                  _context6.next = 10;
                  return player.updateAmountChipBet(player.betted + valueBet);
                case 10:
                  this.updatePlayer(player);
                  this.showAllIn();
                case 12:
                case "end":
                  return _context6.stop();
              }
            }, _callee6, this);
          }));
          function actionAllin(_x7, _x8) {
            return _actionAllin.apply(this, arguments);
          }
          return actionAllin;
        }();
        _proto.updatePlayer = function updatePlayer(player) {
          player ? player.setData(player.data.data) : player.initTutorial(player.data.data);
        };
        _proto.actionCheck = /*#__PURE__*/function () {
          var _actionCheck = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee7(player) {
            return _regeneratorRuntime().wrap(function _callee7$(_context7) {
              while (1) switch (_context7.prev = _context7.next) {
                case 0:
                  if (!(!player || !player.data)) {
                    _context7.next = 2;
                    break;
                  }
                  return _context7.abrupt("return");
                case 2:
                  player.setTxtStatus('check');
                  this.updatePlayer(player);
                // await this.actionBet(player, 0);
                case 4:
                case "end":
                  return _context7.stop();
              }
            }, _callee7, this);
          }));
          function actionCheck(_x9) {
            return _actionCheck.apply(this, arguments);
          }
          return actionCheck;
        }();
        _proto.switchToNextPlayer = function switchToNextPlayer() {
          var acNum = this.currentPlayer.data.actorNr + 1;
          if (acNum > 2) acNum = 0;
          this.selectPlayerByIndex(acNum);
        };
        _proto.selectPlayerByIndex = function selectPlayerByIndex(index) {
          // let list: NSEventResponse.IPlayer[] = ;

          this.currentPlayer = this.players.find(function (p) {
            return p.data && p.data.actorNr === index;
          });
          if (!this.currentPlayer || this.currentPlayer.data.folded) {
            this.switchToNextPlayer();
            return;
          }
          // this.checkFold(this.currentPlayer);
          // if () {
          //     this.switchToNextPlayer();
          //     return;
          // }
          // console.log("Current player:", this.currentPlayer.data.playerName);
          var listData = this.players.filter(function (p) {
            return p.data !== undefined && p.data !== null && p.data.folded === false;
          }).map(function (p) {
            return p.data;
          }).map(function (p) {
            return p.data;
          });
          this.updateUIPlayers(listData);
          this._lightDirector(listData, this.currentPlayer.data.actorNr);
        };
        _proto.onDisable = function onDisable() {
          this.lbPot.string = '0';
          this._currentStep = 0;
          this.spAllInFx.off(this._skeletonHandlers);
          // this.hideCommunityCards();
          this.endMatch();
        };
        _proto.isMain = function isMain(data) {
          return data.actorNr === 2;
        };
        _proto._onNewGame = /*#__PURE__*/function () {
          var _onNewGame2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee8(players) {
            var _this2 = this;
            var items;
            return _regeneratorRuntime().wrap(function _callee8$(_context8) {
              while (1) switch (_context8.prev = _context8.next) {
                case 0:
                  items = players.map(function (player) {
                    return _this2.getPlayerByID(player);
                  });
                  pDecorators.instance(NSAudio.Manager).play(EAudioID.SFX_PUT_CARDS);
                  _context8.next = 4;
                  return this.cardsDealer.deal(items, 0.25, 0.15);
                case 4:
                  _context8.next = 6;
                  return this.cardsDealer.deal(items, 0.25, 0.15);
                case 6:
                  this.players.forEach(function (e) {
                    e.showBackCardPlayer();
                  });
                  this._main = this.players.find(function (p) {
                    return p.data && p.data.actorNr === 2;
                  });
                case 8:
                case "end":
                  return _context8.stop();
              }
            }, _callee8, this);
          }));
          function _onNewGame(_x10) {
            return _onNewGame2.apply(this, arguments);
          }
          return _onNewGame;
        }();
        _proto._onClearTable = function _onClearTable(members) {
          for (var _iterator = _createForOfIteratorHelperLoose(members), _step; !(_step = _iterator()).done;) {
            var player = _step.value;
            var uiPlayer = this.getPlayerByID(player.id);
            if (!uiPlayer) continue;
            uiPlayer.initTutorial(player);
            uiPlayer.resetTutorial(true);
          }
          this.endMatch();
        };
        _proto.refocus = function refocus() {
          this.hideCommunityCards();
          this.alert.hide();
        };
        _proto.showAlert = /*#__PURE__*/function () {
          var _showAlert = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee9(TId, msg) {
            var _iterator2, _step2, ret;
            return _regeneratorRuntime().wrap(function _callee9$(_context9) {
              while (1) switch (_context9.prev = _context9.next) {
                case 0:
                  this.hover.active = true;
                  for (_iterator2 = _createForOfIteratorHelperLoose(this.players); !(_step2 = _iterator2()).done;) {
                    ret = _step2.value;
                    ret.showDark();
                  }
                  _context9.next = 4;
                  return this.alert.show(TId, msg, Duration.winner.alert);
                case 4:
                  this.hideAlert();
                case 5:
                case "end":
                  return _context9.stop();
              }
            }, _callee9, this);
          }));
          function showAlert(_x11, _x12) {
            return _showAlert.apply(this, arguments);
          }
          return showAlert;
        }();
        _proto.hideAlert = function hideAlert() {
          this.hover.active = false;
          for (var _iterator3 = _createForOfIteratorHelperLoose(this.players), _step3; !(_step3 = _iterator3()).done;) {
            var ret = _step3.value;
            ret.offDark();
          }
          this.alert.hide();
        };
        _proto.getPlayerByIndex = function getPlayerByIndex(index) {
          return this.players.find(function (p) {
            return p.data && p.data.index === index;
          });
        };
        _proto.getPlayerByID = function getPlayerByID(id) {
          id = typeof id === 'number' || typeof id === 'string' ? id : id.id;
          return this.players.find(function (player) {
            return player.data && player.data.id == id;
          });
        };
        _proto._lightDirector = function _lightDirector(players, currentPlayer) {
          for (var _iterator4 = _createForOfIteratorHelperLoose(this.players), _step4; !(_step4 = _iterator4()).done;) {
            var player = _step4.value;
            if (player.isEmptySit()) continue;
            //player.activeWinner(false);

            if (player.data.actorNr === currentPlayer) {
              this.showTimeCountTurn(player, true);
              player.onTurn(true);
            } else {
              player.onTurn(false);
            }
          }
        };
        _proto.checkFold = function checkFold(player) {
          if (!player || !player.data) return;
          if (player.isFolded) {
            //if (this.game.bets[player.index] != 0) item.uiGameInfo.onPot(this.game);
            player.setTxtStatus('fold');
            player.activeClock(false);
          }
        };
        _proto.setupSlotsPlayer = function setupSlotsPlayer(data) {
          var _this3 = this;
          var listPlayer = data.list;
          this.UI5Players.active = true;
          this.players = this.ui5Players.items;
          listPlayer.forEach( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee10(player, i) {
            return _regeneratorRuntime().wrap(function _callee10$(_context10) {
              while (1) switch (_context10.prev = _context10.next) {
                case 0:
                  _this3.players[i].setTxtStatus('hide');
                  _context10.t0 = _this3.players[i].uiPlayerInfo;
                  _context10.next = 4;
                  return GameManager.Instance.getAvatar(player.avatar);
                case 4:
                  _context10.t1 = _context10.sent;
                  _context10.t0.setAvatar.call(_context10.t0, _context10.t1);
                case 6:
                case "end":
                  return _context10.stop();
              }
            }, _callee10);
          })));
          this.updatePlayers(listPlayer);
        };
        _proto.updatePlayers = function updatePlayers(players) {
          this.players.forEach(function (element, index) {
            element.resetTutorial();
            var player = players.find(function (value) {
              return value.actorNr === index;
            });
            if (!player) return;
            element.initTutorial(player);
            element.setData(player);
          });
        };
        _proto.updateUIPlayers = function updateUIPlayers(players) {
          var _this4 = this;
          var _players = new Map(players.map(function (p) {
            return [p.actorNr, p];
          }));
          _players.forEach(function (_player, k) {
            var player = _this4.players[k];
            if (_player) {
              player.setData(_player);
            } else {
              player.initTutorial(null);
            }
          });
        };
        _proto.getPlayerByUserName = function getPlayerByUserName(username) {
          if (!username) return null;
          username = typeof username === 'string' ? username : username.playerName;
          var player = this.players.find(function (e) {
            return e.hasUserName(username);
          });
          return player;
        };
        _proto.onWinByUserName = function onWinByUserName(id, amount) {
          var player = this.getPlayerByID(id);
          var data = player.data.data;
          player.initTutorial(data);
          player.updateData('chips', amount);
          player == null || player.uiGameInfo.actWin(player, amount);
          player.activeWinner(true);
        };
        _proto._onAllInAnimComplete = function _onAllInAnimComplete() {
          if (this.spAllInFx.isRunning) return;
          this.spAllInFx.active = false;
        };
        _proto.showAllIn = function showAllIn() {
          this.spAllInFx.active = true;
          this.spAllInFx.playSelected();
          pDecorators.instance(NSAudio.Manager).play(EAudioID.SFX_ALL_IN);
        };
        _proto.showStatusMyDealer = function showStatusMyDealer(player, active) {
          if (!player || player instanceof UIItemPlayer && !player.data) return;
          this.players.forEach(function (e) {
            return e.uiGameInfo.status.activeIsDealer(false);
          });
          player = player instanceof UIItemPlayer ? player : this.getPlayerByIndex(player);
          if (!player) return;
          player.uiGameInfo.status.activeIsDealer(active);
        };
        _proto.showTimeCountTurn = function showTimeCountTurn(indexSlot, active, timeleft) {
          if (typeof indexSlot == 'number') {
            this.players[indexSlot].activeClock(active, timeleft);
            this.players.forEach(function (e, i) {
              return i != indexSlot && e.activeClock(false);
            });
          } else {
            this.players.forEach(function (p) {
              return p.activeClock(p.data && p.data === indexSlot.data, timeleft);
            });
          }
        };
        _proto.showCommunityCards = /*#__PURE__*/function () {
          var _showCommunityCards = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee11(list) {
            return _regeneratorRuntime().wrap(function _callee11$(_context11) {
              while (1) switch (_context11.prev = _context11.next) {
                case 0:
                  _context11.next = 2;
                  return this._uiCommunityCard.show(list);
                case 2:
                case "end":
                  return _context11.stop();
              }
            }, _callee11, this);
          }));
          function showCommunityCards(_x15) {
            return _showCommunityCards.apply(this, arguments);
          }
          return showCommunityCards;
        }();
        _proto.hideCommunityCards = /*#__PURE__*/function () {
          var _hideCommunityCards = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee12() {
            return _regeneratorRuntime().wrap(function _callee12$(_context12) {
              while (1) switch (_context12.prev = _context12.next) {
                case 0:
                  _context12.next = 2;
                  return this._uiCommunityCard.hide();
                case 2:
                case "end":
                  return _context12.stop();
              }
            }, _callee12, this);
          }));
          function hideCommunityCards() {
            return _hideCommunityCards.apply(this, arguments);
          }
          return hideCommunityCards;
        }();
        _proto.updatePotDealer = function updatePotDealer() {
          this.nodeMainPot.active = true;
          var total = 0;
          this.players.forEach(function (p) {
            total += p.betted;
            p.uiGameInfo.activeChipBet(false);
            p.setTxtStatus('hide');
          });
          this.lbPot.string = pStringUtils.formatNumberKMB(total);
        };
        _proto.endMatch = function endMatch() {
          this.players.forEach(function (e) {
            e.resetTutorial();
            e.resetBetted();
          });
          this.nodeMainPot.active = false;
          this.nodeSidePot.active = false;

          //await this.hideCommunityCards();
        };

        _createClass(UIGamePlayTutorial, [{
          key: "UI5Players",
          get: function get() {
            var _this$ui5Players;
            return ((_this$ui5Players = this.ui5Players) == null ? void 0 : _this$ui5Players.node) || null;
          }
        }, {
          key: "uiCommunityCard",
          get: function get() {
            return this._uiCommunityCard;
          }
        }, {
          key: "alert",
          get: function get() {
            return this._alert;
          },
          set: function set(x) {
            this._alert = x;
            x == null || x.resetup(_AlertList);
          }
        }, {
          key: "data",
          get: function get() {
            return this._data;
          }
        }, {
          key: "players",
          get: function get() {
            return this._players;
          },
          set: function set(x) {
            this._players = x;
          }
        }, {
          key: "currentStep",
          get: function get() {
            return this._currentStep;
          }
        }, {
          key: "main",
          get: function get() {
            return this._main;
          }
        }, {
          key: "hasMain",
          get: function get() {
            return !!this._main && !!this._main.data;
          }
        }]);
        return UIGamePlayTutorial;
      }(NSEventDriver.Component), (_applyDecoratedDescriptor(_class2.prototype, "UI5Players", [_dec4], Object.getOwnPropertyDescriptor(_class2.prototype, "UI5Players"), _class2.prototype), _descriptor = _applyDecoratedDescriptor(_class2.prototype, "ui5Players", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "nodeMainPot", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "nodeSidePot", [_dec7], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "_uiCommunityCard", [_dec8], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "lbPot", [_dec9, _dec10], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, "lbSidePot", [_dec11, _dec12], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor7 = _applyDecoratedDescriptor(_class2.prototype, "dealer", [_dec13], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor8 = _applyDecoratedDescriptor(_class2.prototype, "hover", [_dec14], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor9 = _applyDecoratedDescriptor(_class2.prototype, "_alert", [_dec15], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _applyDecoratedDescriptor(_class2.prototype, "alert", [_dec16], Object.getOwnPropertyDescriptor(_class2.prototype, "alert"), _class2.prototype), _descriptor10 = _applyDecoratedDescriptor(_class2.prototype, "spAllInFx", [_dec17], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor11 = _applyDecoratedDescriptor(_class2.prototype, "txtBtnCheck", [_dec18], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor12 = _applyDecoratedDescriptor(_class2.prototype, "uiGameAction", [_dec19], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor13 = _applyDecoratedDescriptor(_class2.prototype, "btnCheck", [_dec20], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor14 = _applyDecoratedDescriptor(_class2.prototype, "btnAddBet", [_dec21], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor15 = _applyDecoratedDescriptor(_class2.prototype, "popupAddBet", [_dec22], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor16 = _applyDecoratedDescriptor(_class2.prototype, "slider", [_dec23], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor17 = _applyDecoratedDescriptor(_class2.prototype, "labelRaiseNum", [_dec24], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor18 = _applyDecoratedDescriptor(_class2.prototype, "txtMentorTalk", [_dec25], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor19 = _applyDecoratedDescriptor(_class2.prototype, "uiTutorialScene", [_dec26], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor20 = _applyDecoratedDescriptor(_class2.prototype, "cardsDealer", [_dec27], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor21 = _applyDecoratedDescriptor(_class2.prototype, "animGrowup", [_dec28], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class) || _class) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIGamePots.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './StringUtils.ts', './MathUtils.ts', './NodeUtils.ts', './AsyncUtils.ts', './EventManager.ts', './Decorators.ts', './Constants.ts', './Pooler.ts', './EngineManager.ts', './ArrayUtils.ts', './Actioner.ts', './Enums.ts', './AudioManager.ts'], function (exports) {
  var _applyDecoratedDescriptor, _createClass, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _asyncToGenerator, _regeneratorRuntime, cclegacy, Node, Label, SpriteFrame, Layers, _decorator, isValid, Sprite, UIOpacity, v3, Component, pStringUtils, pMathUtils, pNodeUtils, pAsyncUtils, pEventManager, pDecorators, Config, Pooler, pEngineManager, pArray, Actioner, EAudioID, NSAudio;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _createClass = module.createClass;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      Node = module.Node;
      Label = module.Label;
      SpriteFrame = module.SpriteFrame;
      Layers = module.Layers;
      _decorator = module._decorator;
      isValid = module.isValid;
      Sprite = module.Sprite;
      UIOpacity = module.UIOpacity;
      v3 = module.v3;
      Component = module.Component;
    }, function (module) {
      pStringUtils = module.pStringUtils;
    }, function (module) {
      pMathUtils = module.pMathUtils;
    }, function (module) {
      pNodeUtils = module.pNodeUtils;
    }, function (module) {
      pAsyncUtils = module.pAsyncUtils;
    }, function (module) {
      pEventManager = module.pEventManager;
    }, function (module) {
      pDecorators = module.pDecorators;
    }, function (module) {
      Config = module.Config;
    }, function (module) {
      Pooler = module.default;
    }, function (module) {
      pEngineManager = module.pEngineManager;
    }, function (module) {
      pArray = module.pArray;
    }, function (module) {
      Actioner = module.default;
    }, function (module) {
      EAudioID = module.EAudioID;
    }, function (module) {
      NSAudio = module.NSAudio;
    }],
    execute: function () {
      exports('NSGamePots', void 0);
      cclegacy._RF.push({}, "841fbf5aBRLoIaP/QeVeMH4", "UIGamePots", undefined);
      var _cc$_decorator = _decorator,
        ccclass = _cc$_decorator.ccclass,
        property = _cc$_decorator.property;
      var singleton = pDecorators.singleton,
        logger = pDecorators.logger;
      var NSGamePots;
      (function (_NSGamePots, _dec, _dec2, _dec3, _dec4, _class, _class2, _descriptor, _descriptor2, _descriptor3, _dec5, _dec6, _dec7, _class4, _class5, _descriptor4, _descriptor5, _dec8, _dec9, _dec10, _dec11, _dec12, _dec13, _dec14, _dec15, _dec16, _dec17, _dec18, _dec19, _dec20, _dec21, _dec22, _class7, _class8, _descriptor6, _descriptor7, _descriptor8, _descriptor9, _descriptor10, _descriptor11, _descriptor12, _descriptor13, _descriptor14, _descriptor15, _descriptor16, _descriptor17) {
        var Helper = (_dec = ccclass('NSGamePots.Helper'), _dec2 = property(Node), _dec3 = property(Label), _dec4 = property(Node), _dec(_class = (_class2 = /*#__PURE__*/function () {
          function Helper() {
            _initializerDefineProperty(this, "root", _descriptor, this);
            _initializerDefineProperty(this, "view", _descriptor2, this);
            _initializerDefineProperty(this, "bg", _descriptor3, this);
            this._betted = 0;
            this._actioner = null;
            this._position = v3(0, 0, 0);
          }
          var _proto = Helper.prototype;
          _proto.set = function set(amount) {
            this.root.active = amount > 0;
            this.bg.active = true;
            this.view.node.active = true;
            this.view.string = pStringUtils.formatNumberKMB(amount);
            this._betted = amount;
          };
          _proto.get = function get() {
            return this.root;
          };
          _proto.scale = function scale(amount) {
            this.root.scale = amount;
          };
          _proto.reset = function reset() {
            var _this$_actioner;
            this.root.active = false;
            this.view.string = "";
            this._betted = 0;
            this.view.node.active = true;
            this.bg.active = true;
            (_this$_actioner = this._actioner) == null || _this$_actioner.stop();
            this.root.setPosition(this._position);
          };
          _proto.to = function to(target, duration) {
            var _this$_actioner2;
            if (duration === void 0) {
              duration = 0;
            }
            (_this$_actioner2 = this._actioner) == null || _this$_actioner2.stop();
            this.view.node.active = false;
            this.bg.active = false;
            this._actioner = Actioner(this.root).to(duration, target, 'backOut').call({
              _function: this.reset,
              _this: this
            });
            this._actioner.start();
          };
          _proto.init = function init() {
            this._position = this.root.position.clone();
          };
          _createClass(Helper, [{
            key: "betted",
            get: function get() {
              return this._betted;
            }
          }]);
          return Helper;
        }(), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "root", [_dec2], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return null;
          }
        }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "view", [_dec3], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return null;
          }
        }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "bg", [_dec4], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return null;
          }
        })), _class2)) || _class);
        _NSGamePots.Helper = Helper;
        var Manager = (_dec5 = ccclass('NSGamePots.Manager'), _dec6 = property(Node), _dec7 = property([Helper]), _dec5(_class4 = (_class5 = /*#__PURE__*/function () {
          function Manager() {
            _initializerDefineProperty(this, "root", _descriptor4, this);
            _initializerDefineProperty(this, "pool", _descriptor5, this);
            this._save = [];
            this._index = void 0;
          }
          var _proto2 = Manager.prototype;
          _proto2.gets = function gets(length) {
            if (length <= 0) {
              this.root.active = false;
              return [];
            }
            this.root.active = true;
            var _list = [];
            for (var i = 0; i < length; i++) {
              var _pool = this.pool[i];
              var _node = _pool.get();
              _list.push(_node);
            }
            return _list;
          };
          _proto2.get = function get(index) {
            this.root.active = true;
            var _index = this._save.indexOf(index);
            if (_index == -1) {
              this._save.push(index);
              _index = this._save.length - 1;
            }
            return this.pool[_index];
          };
          _proto2.pop = function pop() {
            this.root.active = true;
            var _pool = this.pool[this._index];
            return _pool ? (this._index++, _pool) : null;
          };
          _proto2.reset = function reset() {
            this.pool.forEach(function (helper) {
              return helper.reset();
            });
            this.root.active = false;
            this._index = 0;
          };
          _proto2.init = function init() {
            this.pool.forEach(function (helper) {
              return helper.init();
            });
          };
          _proto2.to = function to(target, duration) {
            if (duration === void 0) {
              duration = 0;
            }
            this.pool.forEach(function (helper) {
              return helper.to(target, duration);
            });
            return this.pool.reduce(function (sum, ret) {
              return sum + ret.betted;
            }, 0);
          };
          return Manager;
        }(), (_descriptor4 = _applyDecoratedDescriptor(_class5.prototype, "root", [_dec6], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return null;
          }
        }), _descriptor5 = _applyDecoratedDescriptor(_class5.prototype, "pool", [_dec7], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return [];
          }
        })), _class5)) || _class4);
        _NSGamePots.Manager = Manager;
        var _PotGroup = {
          name: "Pot",
          id: "0"
        };
        var _ChipGroup = {
          name: "Chip",
          id: "0"
        };
        var Component$1 = (_dec8 = ccclass('NSGamePots.Component'), _dec9 = singleton({
          pooler: true,
          initer: 'onLoad',
          destroyer: 'onDestroy',
          name: "NSGamePots.Component"
        }), _dec10 = logger({
          name: "NSGamePots"
        }), _dec11 = property({
          type: Manager,
          group: _PotGroup
        }), _dec12 = property({
          type: Manager,
          group: _PotGroup
        }), _dec13 = property({
          type: Node,
          group: _PotGroup
        }), _dec14 = property({
          type: Label,
          group: _PotGroup
        }), _dec15 = property({
          type: Node,
          group: _PotGroup
        }), _dec16 = property({
          min: 0,
          group: _PotGroup
        }), _dec17 = property(Node), _dec18 = property({
          type: SpriteFrame,
          group: _ChipGroup
        }), _dec19 = property({
          type: Layers.Enum,
          group: _ChipGroup
        }), _dec20 = property({
          group: _ChipGroup
        }), _dec21 = property({
          type: Node,
          group: _ChipGroup
        }), _dec22 = property({
          min: 0,
          group: _ChipGroup
        }), _dec8(_class7 = _dec9(_class7 = _dec10(_class7 = (_class8 = /*#__PURE__*/function (_cc$Component) {
          _inheritsLoose(Component, _cc$Component);
          function Component() {
            var _this;
            for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
              args[_key] = arguments[_key];
            }
            _this = _cc$Component.call.apply(_cc$Component, [this].concat(args)) || this;
            _initializerDefineProperty(_this, "left", _descriptor6, _assertThisInitialized(_this));
            _initializerDefineProperty(_this, "right", _descriptor7, _assertThisInitialized(_this));
            _initializerDefineProperty(_this, "root", _descriptor8, _assertThisInitialized(_this));
            _initializerDefineProperty(_this, "rootLabel", _descriptor9, _assertThisInitialized(_this));
            _initializerDefineProperty(_this, "rootBg", _descriptor10, _assertThisInitialized(_this));
            _initializerDefineProperty(_this, "mergeDuration", _descriptor11, _assertThisInitialized(_this));
            _initializerDefineProperty(_this, "dealer", _descriptor12, _assertThisInitialized(_this));
            _this._save = {};
            _this._pToPot = null;
            _this._pMerge = null;
            _initializerDefineProperty(_this, "view", _descriptor13, _assertThisInitialized(_this));
            _initializerDefineProperty(_this, "layer", _descriptor14, _assertThisInitialized(_this));
            _initializerDefineProperty(_this, "diff", _descriptor15, _assertThisInitialized(_this));
            _initializerDefineProperty(_this, "pool", _descriptor16, _assertThisInitialized(_this));
            _initializerDefineProperty(_this, "duration", _descriptor17, _assertThisInitialized(_this));
            _this._pool = null;
            _this._step = 1000;
            _this._events = [['onTableEvent', _this._onTableEvent, _assertThisInitialized(_this)], ['onLeaveTable', _this.reset, _assertThisInitialized(_this)],
            //['onNewRound', this._onNewRound, this],
            ['onEndTurn', _this._onEndTurn, _assertThisInitialized(_this)], ['onClearTable', _this.reset, _assertThisInitialized(_this)]];
            _this._pTo = [];
            return _this;
          }
          var _proto3 = Component.prototype;
          _proto3.fromDealer = function fromDealer(amount, to) {
            this.to(amount, this.dealer, to, false, 3);
          };
          _proto3.signToPot = /*#__PURE__*/function () {
            var _signToPot = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(amount, id, game, isSpreading, sooner) {
              var roundBets, _max, _clone, _totals, _is;
              return _regeneratorRuntime().wrap(function _callee$(_context) {
                while (1) switch (_context.prev = _context.next) {
                  case 0:
                    if (isSpreading === void 0) {
                      isSpreading = true;
                    }
                    if (sooner === void 0) {
                      sooner = false;
                    }
                    roundBets = game.roundBets;
                    _max = roundBets.length;
                    if (!amount.amount) amount.amount = 0;
                    if (sooner) {
                      _clone = {
                        amount: 0,
                        target: amount.target,
                        min: amount.min || 0
                      };
                      this._save[id] = _clone;
                    } else {
                      this._save[id] = amount;
                    }
                    _totals = Object.values(this._save);
                    _is = _totals.length >= _max && _totals.every(function (_save) {
                      return !!_save;
                    });
                    if (!_is) {
                      _context.next = 13;
                      break;
                    }
                    this.log("\n-----------------\n_#BET_ >> Sign To Pot >>>", "\n Save: ", this._save, "\n");
                    _context.next = 12;
                    return this.toPot(_totals, game, isSpreading);
                  case 12:
                    this._save = {};
                  case 13:
                  case "end":
                    return _context.stop();
                }
              }, _callee, this);
            }));
            function signToPot(_x, _x2, _x3, _x4, _x5) {
              return _signToPot.apply(this, arguments);
            }
            return signToPot;
          }();
          _proto3.toPot = /*#__PURE__*/function () {
            var _toPot = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(amounts, game, isSpreading) {
              var _this2 = this;
              var pot, sidepots, roundBets, pots, _finals, _list;
              return _regeneratorRuntime().wrap(function _callee2$(_context2) {
                while (1) switch (_context2.prev = _context2.next) {
                  case 0:
                    if (isSpreading === void 0) {
                      isSpreading = true;
                    }
                    //await this._resolving();

                    amounts = pArray.flatter(amounts).filter(function (amount) {
                      return amount.amount > 0;
                    });
                    pot = game.pot, sidepots = game.sidepots, roundBets = game.roundBets;
                    pots = pot > 0 && sidepots.length <= 0 ? [pot] : sidepots.map(function (_pot) {
                      return _pot.amount;
                    });
                    _finals = [];
                    pots.forEach(function (pot, index) {
                      var _is = pMathUtils.isOdd(index);
                      var _get = _is ? _this2.left.get(index) : _this2.right.get(index);
                      _get == null || _get.set(pot);
                      var _pot = pot / roundBets.length;
                      amounts.forEach(function (_amount) {
                        if (_amount.amount >= _pot) {
                          _finals.push({
                            amount: _pot,
                            from: _amount.target,
                            to: _get.get(),
                            min: _amount.min || 0
                          });
                          _amount.amount -= _pot;
                        } else {
                          _finals.push({
                            amount: _amount.amount,
                            from: _amount.target,
                            to: _get.get(),
                            min: _amount.min || 0
                          });
                          _amount.amount = 0;
                        }
                      });
                    });
                    _list = _finals.map(function (_final) {
                      return _this2.to(_final.amount, _final.from, _final.to, isSpreading, _final.min, _this2.duration * 3);
                    });
                    this._pToPot = Promise.all(_list);
                    this._playAudio(_list.length);
                    return _context2.abrupt("return", this._pToPot);
                  case 10:
                  case "end":
                    return _context2.stop();
                }
              }, _callee2, this);
            }));
            function toPot(_x6, _x7, _x8) {
              return _toPot.apply(this, arguments);
            }
            return toPot;
          }();
          _proto3.toPlayer = /*#__PURE__*/function () {
            var _toPlayer = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(amount) {
              var _this3 = this;
              var _len2,
                amounts,
                _key2,
                _ps,
                _args3 = arguments;
              return _regeneratorRuntime().wrap(function _callee3$(_context3) {
                while (1) switch (_context3.prev = _context3.next) {
                  case 0:
                    for (_len2 = _args3.length, amounts = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {
                      amounts[_key2 - 1] = _args3[_key2];
                    }
                    amounts = pArray.flatter.apply(pArray, [amount].concat(amounts)).filter(function (amount) {
                      return amount.amount > 0;
                    });
                    _context3.next = 4;
                    return this._pMerge;
                  case 4:
                    this.root.active = false;
                    this.rootLabel.string = "";
                    _ps = amounts.map(function (_amount) {
                      return _this3.to(_amount.amount, _this3.root, _amount.target, false);
                    });
                    return _context3.abrupt("return", Promise.all(_ps));
                  case 8:
                  case "end":
                    return _context3.stop();
                }
              }, _callee3, this);
            }));
            function toPlayer(_x9) {
              return _toPlayer.apply(this, arguments);
            }
            return toPlayer;
          }();
          _proto3.merge = function merge(game) {
            var _this4 = this;
            var pot = game.pot,
              sidepots = game.sidepots;
            var pots = pot > 0 && sidepots.length <= 0 ? [pot] : sidepots.map(function (_pot) {
              return _pot.amount;
            });
            this._pMerge = new Promise( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(_rs) {
              return _regeneratorRuntime().wrap(function _callee4$(_context4) {
                while (1) switch (_context4.prev = _context4.next) {
                  case 0:
                    _context4.next = 2;
                    return _this4._pToPot;
                  case 2:
                    _this4.rootLabel.node.active = false;
                    _this4.rootBg.active = false;
                    _this4.left.to(_this4.root, _this4.mergeDuration);
                    _this4.right.to(_this4.root, _this4.mergeDuration);
                    _this4.root.active = true;
                    _context4.next = 9;
                    return pAsyncUtils.wait(_this4.mergeDuration);
                  case 9:
                    _this4.rootLabel.node.active = true;
                    _this4.rootBg.active = true;
                    _this4.rootLabel.string = pStringUtils.formatNumberKMB(pots.reduce(function (sum, pot) {
                      return sum + pot;
                    }, 0));
                    _rs();
                  case 13:
                  case "end":
                    return _context4.stop();
                }
              }, _callee4);
            })));
            return this._pMerge;
          };
          _proto3.reset = function reset() {
            this.left.reset();
            this.right.reset();
            this.root.active = false;
            this.rootLabel.string = "";
            this._pool.pull( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(_opx) {
              return _regeneratorRuntime().wrap(function _callee5$(_context5) {
                while (1) switch (_context5.prev = _context5.next) {
                  case 0:
                    return _context5.abrupt("return", _opx.node.removeFromParent());
                  case 1:
                  case "end":
                    return _context5.stop();
                }
              }, _callee5);
            })), function (_opx) {
              return isValid(_opx);
            });
          };
          _proto3.init = function init() {
            var _this5 = this;
            this.left.init();
            this.right.init();
            this._pool = Pooler({
              isDynamic: true,
              amount: 0,
              creator: function creator(_index) {
                var _node = new Node("Chips" + _index);
                _node.layer = _this5.layer;
                var _spr = _node.addComponent(Sprite);
                _spr.spriteFrame = _this5.view;
                var _opx = _node.addComponent(UIOpacity);
                //this.pool.addChild(_node);
                return _opx;
              },
              index: false
            });
          };
          _proto3.setStep = function setStep(step) {
            if (isNaN(step) || typeof step === 'undefined') {
              this._step = 1000;
              return;
            }
            this._step = Math.abs(step);
          };
          _proto3._onTableEvent = function _onTableEvent(event) {
            var route = event.route,
              msg = event.msg;
            if (route !== 'onTableEvent') return;
            var smallBlind = msg.smallBlind;
            this._step = smallBlind;
          };
          _proto3._onEndTurn = function _onEndTurn(data) {
            var route = data.route;
            if (route !== 'onEndTurn') return;
            var msg = data.msg;
            var game = msg.game;
            this.merge(game);
          };
          _proto3.onLoad = function onLoad() {
            this.init();
            this.reset();
            pEventManager.on(this._events);
          };
          _proto3.onDestroy = function onDestroy() {
            pEventManager.off(this._events);
          };
          _proto3._gets = function _gets(total, spawn, opx, stack) {
            var _this6 = this;
            if (opx === void 0) {
              opx = 255;
            }
            if (stack === void 0) {
              stack = false;
            }
            total = Math.min(total, Config.MAX_CHIPS);
            var _dif = v3();
            var _chips = this._pool.gets(total);
            _chips.forEach(function (_chip) {
              var node = _chip.node;
              _this6.pool.addChild(node);
              pNodeUtils.setPosition(node, spawn, _dif);
              !stack && (_dif = pMathUtils.add('Vec3', _dif, _this6.diff, _dif));
              pEngineManager.log(" >>>> Get >>", _dif.toString());
              _chip.opacity = opx;
            });
            return _chips;
          };
          _proto3._resolving = /*#__PURE__*/function () {
            var _resolving2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6() {
              return _regeneratorRuntime().wrap(function _callee6$(_context6) {
                while (1) switch (_context6.prev = _context6.next) {
                  case 0:
                    this._pTo = this._pTo.filter(function (_p) {
                      return !!_p;
                    });
                    _context6.next = 3;
                    return Promise.all(this._pTo);
                  case 3:
                    this._pTo = [];
                  case 4:
                  case "end":
                    return _context6.stop();
                }
              }, _callee6, this);
            }));
            function _resolving() {
              return _resolving2.apply(this, arguments);
            }
            return _resolving;
          }();
          _proto3.to = function to(chips, from, target, isSpreading, min, duration) {
            if (isSpreading === void 0) {
              isSpreading = false;
            }
            if (min === void 0) {
              min = 0;
            }
            if (duration === void 0) {
              duration = this.duration;
            }
            var _total = Math.ceil(chips / this._step);
            this.log("__TO TOTAL", _total, chips, this._step);
            var _amount = Math.max(_total, min);
            if (_amount <= 0) {
              return Promise.resolve();
            }
            var _pTo = isSpreading ? this._toSpreading(_total, from, target, duration) : this._toStacking(_total, from, target, duration);
            this._pTo.push(_pTo);
            return _pTo;
          };
          _proto3._toSpreading = function _toSpreading(_total, from, target, duration) {
            var _this7 = this;
            var _chips = this._gets(_total, from);
            this.log("__TO DURATION", duration);
            var _step = 0.025;
            var _promise = null;
            var length = _chips.length;
            _chips.forEach(function (_opx, _index) {
              var _actioner = Actioner(_opx.node).delay((length - _index - 1) * _step).to(duration, target, 'smooth');
              if (_index === 0) {
                _promise = new Promise(function (_rs) {
                  return _actioner.call(_rs);
                });
              }
              _actioner.call(function () {
                return _this7._pool.add(_opx, function (_prop) {
                  return _prop.node.removeFromParent();
                });
              }).start();
            });
            return _promise;
          };
          _proto3._toStacking = function _toStacking(_total, from, target, duration) {
            var _this8 = this;
            var _chips = this._gets(_total, from);
            this.log("__TO DURATION", duration);
            var _dif = v3();
            return new Promise(function (_rs) {
              _chips.forEach(function (_opx, _index) {
                var _target = pNodeUtils.getLocalPosition(_opx, target, _dif);
                _dif = pMathUtils.add('Vec3', _dif, _this8.diff, _dif);
                Actioner(_opx.node).delay(0.15).to(duration * 3, _target, 'sineIn').delay(0.1).to(duration, target, 'smooth').call(function () {
                  _this8._pool.add(_opx, function (_prop) {
                    return _prop.node.removeFromParent();
                  });
                  _rs();
                }).start();
              });
            });
          };
          _proto3._playAudio = function _playAudio(length) {
            var _audio = length > 30 ? EAudioID.SFX_DROP_MANY_CHIPS : EAudioID.SFX_DROP_CHIP;
            pDecorators.instance(NSAudio.Manager).play(_audio);
          };
          return Component;
        }(Component), (_descriptor6 = _applyDecoratedDescriptor(_class8.prototype, "left", [_dec11], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: null
        }), _descriptor7 = _applyDecoratedDescriptor(_class8.prototype, "right", [_dec12], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: null
        }), _descriptor8 = _applyDecoratedDescriptor(_class8.prototype, "root", [_dec13], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return null;
          }
        }), _descriptor9 = _applyDecoratedDescriptor(_class8.prototype, "rootLabel", [_dec14], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return null;
          }
        }), _descriptor10 = _applyDecoratedDescriptor(_class8.prototype, "rootBg", [_dec15], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return null;
          }
        }), _descriptor11 = _applyDecoratedDescriptor(_class8.prototype, "mergeDuration", [_dec16], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return 0.25;
          }
        }), _descriptor12 = _applyDecoratedDescriptor(_class8.prototype, "dealer", [_dec17], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return null;
          }
        }), _descriptor13 = _applyDecoratedDescriptor(_class8.prototype, "view", [_dec18], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return null;
          }
        }), _descriptor14 = _applyDecoratedDescriptor(_class8.prototype, "layer", [_dec19], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return Layers.Enum.UI_2D;
          }
        }), _descriptor15 = _applyDecoratedDescriptor(_class8.prototype, "diff", [_dec20], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return v3(0, 2.5, 0);
          }
        }), _descriptor16 = _applyDecoratedDescriptor(_class8.prototype, "pool", [_dec21], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return null;
          }
        }), _descriptor17 = _applyDecoratedDescriptor(_class8.prototype, "duration", [_dec22], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return 0.25;
          }
        })), _class8)) || _class7) || _class7) || _class7);
        _NSGamePots.Component = Component$1;
      })(NSGamePots || (NSGamePots = exports('NSGamePots', {})));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIGameTutorial.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts', './Enums.ts', './GameTutorial.ts', './LanguageManager.ts', './Decorators.ts', './UserCommand.ts', './ResponeCode.ts', './GlobalConfig.ts', './UINotice.ts', './StringUtils.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _asyncToGenerator, _regeneratorRuntime, cclegacy, _decorator, Button, Node, RichText, UIBase, UIType, GameTutorial, LanguageMananger, pDecorators, request, ResponseCode, GlobalConfig, UINotice, pStringUtils;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Button = module.Button;
      Node = module.Node;
      RichText = module.RichText;
    }, function (module) {
      UIBase = module.UIBase;
    }, function (module) {
      UIType = module.UIType;
    }, function (module) {
      GameTutorial = module.GameTutorial;
    }, function (module) {
      LanguageMananger = module.LanguageMananger;
    }, function (module) {
      pDecorators = module.pDecorators;
    }, function (module) {
      request = module.default;
    }, function (module) {
      ResponseCode = module.ResponseCode;
    }, function (module) {
      GlobalConfig = module.default;
    }, function (module) {
      UINotice = module.UINotice;
    }, function (module) {
      pStringUtils = module.pStringUtils;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6;
      cclegacy._RF.push({}, "2062aWrlnxFkb7K9MdfA/6R", "UIGameTutorial", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var singleton = pDecorators.singleton;
      var UIGameTutorial = exports('UIGameTutorial', (_dec = ccclass("UIGameTutorial"), _dec2 = singleton({
        initer: '_onLoad',
        destroyer: '_onDestroy'
      }), _dec3 = property({
        override: true,
        type: UIType,
        readonly: true
      }), _dec4 = property({
        type: [GameTutorial]
      }), _dec5 = property({
        type: Button
      }), _dec6 = property({
        type: [Node]
      }), _dec7 = property({
        type: RichText
      }), _dec8 = property(Button), _dec(_class = _dec2(_class = (_class2 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UIGameTutorial, _UIBase);
        function UIGameTutorial() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "uiType", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "steps", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnNext", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "nexts", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "chat", _descriptor5, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "complete", _descriptor6, _assertThisInitialized(_this));
          _this._index = -1;
          return _this;
        }
        var _proto = UIGameTutorial.prototype;
        _proto._onLoad = function _onLoad() {
          this._addClicker(this.btnNext, this.actNext);
          this._addClicker(this.complete, this.actComplete);
          this.complete.node.active = false;
        };
        _proto.onEnable = function onEnable() {
          this.steps.forEach(function (_s) {
            return _s.reset();
          });
          this.actNext();
        };
        _proto.actNext = function actNext() {
          this.btnNext.node.active = false;
          var _curr = this.steps[this._index];
          var _is = Boolean(!_curr || _curr.isEnd);
          if (_is) {
            var _this$steps$this$_ind;
            (_this$steps$this$_ind = this.steps[this._index]) == null || _this$steps$this$_ind.exit();
            this._index++;
            _curr = this.steps[this._index];
          }
          if (!_curr) {
            this.end();
            return;
          }
          _curr.enter({
            _function: this._activeNext,
            _this: this
          });
          this.chat.string = LanguageMananger.getString(_curr.chat);
        };
        _proto.end = function end() {
          this.complete.node.active = true;
          this.btnNext.node.removeFromParent();
          this.btnCloses.forEach(function (_b) {
            return _b.node.active = false;
          });
        };
        _proto._activeNext = function _activeNext(active) {
          if (active === void 0) {
            active = true;
          }
          this.btnNext.node.active = active;
          this.nexts.forEach(function (_n) {
            return _n.active = active;
          });
        };
        _proto.actComplete = /*#__PURE__*/function () {
          var _actComplete = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {
            var _data, msg, balance, player_id, instance, _reward;
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  _context.next = 2;
                  return request('completeTutorial', {});
                case 2:
                  _data = _context.sent;
                  if (_data.code === ResponseCode.SUCCESS) {
                    msg = _data.msg;
                    balance = msg.balance, player_id = msg.player_id;
                    instance = GlobalConfig.instance;
                    _reward = balance - instance.getBalance();
                    instance.isMainPlayer(player_id) && instance.setBalance(balance);
                    GlobalConfig.instance.actCompleteTutorial();
                    _reward > 0 ? UINotice.show('txt_title', {
                      key: 'dyn_complete_tutorial',
                      replacers: {
                        find: '@reward',
                        replacer: pStringUtils.formatNumberKMB(_reward)
                      }
                    }, 'txt_btn_confirm2') : UINotice.show('txt_title', {
                      key: 'dyn_complete_tutorial_2'
                    }, 'txt_btn_confirm2');
                  }
                  this.close();
                case 5:
                case "end":
                  return _context.stop();
              }
            }, _callee, this);
          }));
          function actComplete() {
            return _actComplete.apply(this, arguments);
          }
          return actComplete;
        }();
        return UIGameTutorial;
      }(UIBase), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "uiType", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return UIType.TUTORIAL_SCENE;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "steps", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return [];
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "btnNext", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "nexts", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return [];
        }
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "chat", [_dec7], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, "complete", [_dec8], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIGiftFriendItem.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, cclegacy, _decorator, Sprite, Toggle, Label, Component;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Sprite = module.Sprite;
      Toggle = module.Toggle;
      Label = module.Label;
      Component = module.Component;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _class, _class2, _descriptor, _descriptor2, _descriptor3;
      cclegacy._RF.push({}, "5cd54zC/nJGmqa7rcEM8BTe", "UIGiftFriendItem", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var UIGiftFriendItem = exports('UIGiftFriendItem', (_dec = ccclass('UIGiftFriendItem'), _dec2 = property(Sprite), _dec3 = property(Toggle), _dec4 = property(Label), _dec(_class = (_class2 = /*#__PURE__*/function (_Component) {
        _inheritsLoose(UIGiftFriendItem, _Component);
        function UIGiftFriendItem() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _Component.call.apply(_Component, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "spAvatar", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "activeToggle", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbName", _descriptor3, _assertThisInitialized(_this));
          _this._data = null;
          return _this;
        }
        var _proto = UIGiftFriendItem.prototype;
        _proto.init = function init(fr) {
          this._data = fr;
          this.lbName.string = fr.full_name;
          this.activeToggle.isChecked = fr.is_online;
        };
        _proto.onButtonClick = function onButtonClick() {};
        return UIGiftFriendItem;
      }(Component), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "spAvatar", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "activeToggle", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "lbName", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIGiftToFriends.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts', './IGameCommand.ts', './ResponeCode.ts', './UIGiftFriendItem.ts', './UIController.ts', './Enums.ts', './MathUtils.ts', './StringUtils.ts', './UserCommand.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, cclegacy, _decorator, Label, Sprite, RichText, EditBox, ScrollView, Prefab, Node, assetManager, SpriteFrame, Texture2D, UITransform, instantiate, UIBase, NSGameCMD, ResponseCode, UIGiftFriendItem, UIController, UIType, pMathUtils, pStringUtils, request;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Label = module.Label;
      Sprite = module.Sprite;
      RichText = module.RichText;
      EditBox = module.EditBox;
      ScrollView = module.ScrollView;
      Prefab = module.Prefab;
      Node = module.Node;
      assetManager = module.assetManager;
      SpriteFrame = module.SpriteFrame;
      Texture2D = module.Texture2D;
      UITransform = module.UITransform;
      instantiate = module.instantiate;
    }, function (module) {
      UIBase = module.UIBase;
    }, function (module) {
      NSGameCMD = module.NSGameCMD;
    }, function (module) {
      ResponseCode = module.ResponseCode;
    }, function (module) {
      UIGiftFriendItem = module.UIGiftFriendItem;
    }, function (module) {
      UIController = module.UIController;
    }, function (module) {
      UIType = module.UIType;
    }, function (module) {
      pMathUtils = module.pMathUtils;
    }, function (module) {
      pStringUtils = module.pStringUtils;
    }, function (module) {
      request = module.default;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8;
      cclegacy._RF.push({}, "c6d3b9o+E5MRqOXm4eT7fkg", "UIGiftToFriends", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var UIGiftToFriends = exports('UIGiftToFriends', (_dec = ccclass('UIGiftToFriends'), _dec2 = property(Label), _dec3 = property(Sprite), _dec4 = property(Label), _dec5 = property(RichText), _dec6 = property(EditBox), _dec7 = property(ScrollView), _dec8 = property(Prefab), _dec9 = property(Node), _dec(_class = (_class2 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UIGiftToFriends, _UIBase);
        function UIGiftToFriends() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "lbGiftName", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "spGiftIcon", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbPrice", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbOutOfDate", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "searchEditBox", _descriptor5, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "friendScrView", _descriptor6, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "itemFriendPrefab", _descriptor7, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "noFriendNode", _descriptor8, _assertThisInitialized(_this));
          _this._listFriends = [];
          _this._data = void 0;
          return _this;
        }
        var _proto = UIGiftToFriends.prototype;
        _proto.init = function init(v) {
          var _this2 = this;
          this._data = v;
          this.lbGiftName.string = this._data.item_name;
          if (this._data.icon && this._data.icon.includes('http')) {
            assetManager.loadRemote(this._data.icon, function (err, imageAsset) {
              if (err) {
                console.error('Load image failed:', err);
                return;
              }
              if (imageAsset.width === 0 || imageAsset.height === 0) {
                console.warn('Invalid image data:', _this2._data.icon);
                return;
              }
              var spriteFrame = new SpriteFrame();
              spriteFrame.texture = new Texture2D();
              spriteFrame.texture.image = imageAsset;
              var spriteUITransform = _this2.spGiftIcon.getComponent(UITransform);
              spriteUITransform.setContentSize(pMathUtils.scaleImageInsideBound(115, 115, imageAsset.width, imageAsset.height));
              _this2.spGiftIcon.spriteFrame = spriteFrame;
              _this2.spGiftIcon.node.active = true;
            });
          }
          this.lbPrice.string = pStringUtils.formatNumberKMB(Number(this._data.price));
          // this.lbItemCount.string = pStringUtils.formatMoneyWithDot(this._currentItemCount);
        };

        _proto._onOpen = function _onOpen() {
          var _this3 = this;
          request('getFriends', {
            limit: 10,
            page: 1,
            type: NSGameCMD.UserHandler.GetFriends.EType.FRIEND
          }).then(function (res) {
            if (res.code === ResponseCode.SUCCESS) {
              _this3._listFriends = [];
              _this3._listFriends = _this3._listFriends.concat(res.msg.friends);
              _this3.noFriendNode.active = _this3._listFriends.length == 0;
              _this3.loadUIFriends(_this3._listFriends);
            }
          });
        };
        _proto.loadUIFriends = function loadUIFriends(data) {
          var _this4 = this;
          this.friendScrView.content.removeAllChildren();
          data.forEach(function (fr) {
            var frNode = instantiate(_this4.itemFriendPrefab);
            _this4.friendScrView.content.addChild(frNode);
            var comp = frNode.getComponent(UIGiftFriendItem);
            comp.init(fr);
          });
        };
        _proto.giftAll = function giftAll() {};
        _proto.search = function search() {
          var _this5 = this;
          if (this.searchEditBox.string.trim().length === 0) {
            this.loadUIFriends(this._listFriends);
            return;
          }
          var content = this.searchEditBox.string.trim();
          request('searchFriends', {
            keyword: content,
            limit: 10,
            page: 1,
            type: NSGameCMD.UserHandler.SearchFriends.EType.FRIEND
          }).then(function (res) {
            if (res.code === ResponseCode.SUCCESS) {
              _this5.loadUIFriends(res.msg.friends);
            }
          });
        };
        _proto.gotoFriend = function gotoFriend() {
          UIController.Instance.open(UIType.FRIEND, true);
        };
        return UIGiftToFriends;
      }(UIBase), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "lbGiftName", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "spGiftIcon", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "lbPrice", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "lbOutOfDate", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "searchEditBox", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, "friendScrView", [_dec7], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor7 = _applyDecoratedDescriptor(_class2.prototype, "itemFriendPrefab", [_dec8], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor8 = _applyDecoratedDescriptor(_class2.prototype, "noFriendNode", [_dec9], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIGiveAwayItem.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, cclegacy, _decorator, Sprite, Label, Component;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Sprite = module.Sprite;
      Label = module.Label;
      Component = module.Component;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _class, _class2, _descriptor, _descriptor2;
      cclegacy._RF.push({}, "c0cd9lNgAVEa56tzUsP6ezS", "UIGiveAwayItem", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var UIGiveAwayItem = exports('UIGiveAwayItem', (_dec = ccclass('UIGiveAwayItem'), _dec2 = property(Sprite), _dec3 = property(Label), _dec(_class = (_class2 = /*#__PURE__*/function (_Component) {
        _inheritsLoose(UIGiveAwayItem, _Component);
        function UIGiveAwayItem() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _Component.call.apply(_Component, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "icon", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "value", _descriptor2, _assertThisInitialized(_this));
          _this._data = null;
          return _this;
        }
        var _proto = UIGiveAwayItem.prototype;
        _proto.init = function init(data) {
          this._data = data;
          this.refreshUI();
        };
        _proto.refreshUI = function refreshUI() {
          this.value.string = this._data.giftValue;
        };
        return UIGiveAwayItem;
      }(Component), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "icon", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "value", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIHistoryChat.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIHistoryChatItem.ts', './UIHistoryChatManager.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, cclegacy, _decorator, Prefab, Node, ScrollView, instantiate, Component, UIHistoryChatItem, UIHistoryChatManager;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Prefab = module.Prefab;
      Node = module.Node;
      ScrollView = module.ScrollView;
      instantiate = module.instantiate;
      Component = module.Component;
    }, function (module) {
      UIHistoryChatItem = module.UIHistoryChatItem;
    }, function (module) {
      UIHistoryChatManager = module.default;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _class, _class2, _descriptor, _descriptor2;
      cclegacy._RF.push({}, "4eb0fljs0lHG7y9hvxFjCJd", "UIHistoryChat", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var UIHistoryChat = exports('UIHistoryChat', (_dec = ccclass('UIHistoryChat'), _dec2 = property(Prefab), _dec3 = property(Node), _dec(_class = (_class2 = /*#__PURE__*/function (_Component) {
        _inheritsLoose(UIHistoryChat, _Component);
        function UIHistoryChat() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _Component.call.apply(_Component, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "template", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "pool", _descriptor2, _assertThisInitialized(_this));
          return _this;
        }
        var _proto = UIHistoryChat.prototype;
        _proto.onLoad = function onLoad() {
          UIHistoryChatManager.instance.bind(this);
        };
        _proto.onEnable = function onEnable() {
          this.save();
          var scrView = this.pool.parent.parent.getComponent(ScrollView);
          if (scrView) scrView.scrollToBottom(0.1);
        };
        _proto.save = function save() {
          var messages = UIHistoryChatManager.instance.messages;
          if (this.pool) {
            for (var i = this.pool.children.length; i < messages.length; i++) {
              var ret = messages[i];
              var node = instantiate(this.template);
              var item = node.getComponent(UIHistoryChatItem);
              this.pool.addChild(node);
              item.init(ret);
            }
          }
        };
        _proto.reset = function reset() {
          this.pool.removeAllChildren();
        };
        return UIHistoryChat;
      }(Component), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "template", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "pool", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIHistoryChatItem.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './GlobalConfig.ts', './GameManager.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, cclegacy, _decorator, Sprite, Label, Node, Layout, Widget, UITransform, Component, GlobalConfig, GameManager;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Sprite = module.Sprite;
      Label = module.Label;
      Node = module.Node;
      Layout = module.Layout;
      Widget = module.Widget;
      UITransform = module.UITransform;
      Component = module.Component;
    }, function (module) {
      GlobalConfig = module.default;
    }, function (module) {
      GameManager = module.GameManager;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _class, _class2, _descriptor, _descriptor2, _descriptor3;
      cclegacy._RF.push({}, "ef529j6gPJPz5Jlhw0p1l7h", "UIHistoryChatItem", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var UIHistoryChatItem = exports('UIHistoryChatItem', (_dec = ccclass('UIHistoryChatItem'), _dec2 = property(Sprite), _dec3 = property(Label), _dec4 = property(Node), _dec(_class = (_class2 = /*#__PURE__*/function (_Component) {
        _inheritsLoose(UIHistoryChatItem, _Component);
        function UIHistoryChatItem() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _Component.call.apply(_Component, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "avatar", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "chat", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "layoutBgTextNode", _descriptor3, _assertThisInitialized(_this));
          _this._data = {
            username: '',
            msg: '',
            avatar: '1',
            full_name: ''
          };
          return _this;
        }
        var _proto = UIHistoryChatItem.prototype;
        _proto.init = function init(data) {
          this._data = data;
          this.chat.string = data.msg;
          GameManager.Instance.setAvatar(data.avatar, this.avatar);
          this.updateLabelChat(this.chat);
          var layoutBgText = this.layoutBgTextNode.getComponent(Layout);
          var isMain = GlobalConfig.instance.isMainByUserName(data.username);
          if (isMain) {
            this.avatar.node.setSiblingIndex(-1);
            var widget = this.node.getComponent(Widget);
            widget.isAlignLeft = false;
            widget.isAlignRight = true;
            widget.right = 30;
            widget.updateAlignment();
          }
          if (!layoutBgText) {
            console.warn("No have bg text layout comp");
            return;
          }
          layoutBgText.updateLayout(true);
          var uitransform = this.node.getComponent(UITransform);
          var layoutTextUITransform = layoutBgText.node.getComponent(UITransform);
          uitransform.contentSize.set(uitransform.width, layoutTextUITransform.contentSize.height + 20);

          // if (data.username === )
        };

        _proto.updateLabelChat = function updateLabelChat(label) {
          label.overflow = Label.Overflow.NONE;
          label.updateRenderData(true);
          var maxLength = 280;
          var labelUITransform = label.node.getComponent(UITransform);
          var nodeUITransform = label.node.parent.getComponent(UITransform);
          nodeUITransform.contentSize.set(labelUITransform.contentSize.width + 20, nodeUITransform.contentSize.height);
          if (labelUITransform.contentSize.width > maxLength) {
            label.overflow = Label.Overflow.RESIZE_HEIGHT;
            nodeUITransform.contentSize.set(maxLength + 20, nodeUITransform.contentSize.height);
            label.node.getComponent(UITransform).contentSize.set(maxLength, labelUITransform.height);
          }
          label.updateRenderData(true);
        };
        return UIHistoryChatItem;
      }(Component), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "avatar", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "chat", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "layoutBgTextNode", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIHistoryChatManager.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc'], function (exports) {
  var _createForOfIteratorHelperLoose, _createClass, cclegacy;
  return {
    setters: [function (module) {
      _createForOfIteratorHelperLoose = module.createForOfIteratorHelperLoose;
      _createClass = module.createClass;
    }, function (module) {
      cclegacy = module.cclegacy;
    }],
    execute: function () {
      cclegacy._RF.push({}, "ce8f452Mg9BToPbhTZs4q79", "UIHistoryChatManager", undefined);
      var UIHistoryChatManager = exports('default', /*#__PURE__*/function () {
        function UIHistoryChatManager() {
          this._msg = [];
          this._comps = [];
        }
        var _proto = UIHistoryChatManager.prototype;
        _proto.save = function save(msg) {
          this._msg.push(msg);
          for (var _iterator = _createForOfIteratorHelperLoose(this._comps), _step; !(_step = _iterator()).done;) {
            var ret = _step.value;
            ret == null || ret.save();
          }
        };
        _proto.reset = function reset() {
          this._msg = [];
          for (var _iterator2 = _createForOfIteratorHelperLoose(this._comps), _step2; !(_step2 = _iterator2()).done;) {
            var ret = _step2.value;
            ret == null || ret.reset();
          }
          this._comps = [];
        };
        _proto.bind = function bind(comp) {
          this._comps.push(comp);
        };
        _createClass(UIHistoryChatManager, [{
          key: "messages",
          get: function get() {
            return this._msg;
          }
        }], [{
          key: "instance",
          get: function get() {
            if (!this._instance) {
              var ret = new UIHistoryChatManager();
              this._instance = ret;
            }
            return this._instance;
          }
        }]);
        return UIHistoryChatManager;
      }());
      UIHistoryChatManager._instance = null;
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIHistoryFeedbackItem.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './LanguageManager.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, cclegacy, _decorator, Label, Component, LanguageMananger;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Label = module.Label;
      Component = module.Component;
    }, function (module) {
      LanguageMananger = module.LanguageMananger;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _class, _class2, _descriptor, _descriptor2, _descriptor3;
      cclegacy._RF.push({}, "027e4UOI/xMY53g2h3QiBmu", "UIHistoryFeedbackItem", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var UIHistoryFeedbackItem = exports('UIHistoryFeedbackItem', (_dec = ccclass('UIHistoryFeedbackItem'), _dec2 = property(Label), _dec3 = property(Label), _dec4 = property(Label), _dec(_class = (_class2 = /*#__PURE__*/function (_Component) {
        _inheritsLoose(UIHistoryFeedbackItem, _Component);
        function UIHistoryFeedbackItem() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _Component.call.apply(_Component, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "lbFeedbackContent", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbResolvedState", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbFeedbackTime", _descriptor3, _assertThisInitialized(_this));
          return _this;
        }
        var _proto = UIHistoryFeedbackItem.prototype;
        _proto.init = function init(data) {
          this.lbFeedbackContent.string = data.content;
          var _date = new Date(data.date.replace(' ', 'T'));
          this.lbFeedbackTime.string = _date.getDate() + "-" + (_date.getMonth() + 1) + "-" + _date.getFullYear();
          this.lbResolvedState.string = data.isResolve ? LanguageMananger.getString('txt_is_resolved') : LanguageMananger.getString('txt_is_unresolved');
        };
        return UIHistoryFeedbackItem;
      }(Component), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "lbFeedbackContent", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "lbResolvedState", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "lbFeedbackTime", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIHistoryPlayer.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIPlayer.ts', './Enums.ts', './YardPlayerData.ts'], function (exports) {
  var _inheritsLoose, _extends, cclegacy, _decorator, UIPlayer, ETypeModePlay, YardPlayerData;
  return {
    setters: [function (module) {
      _inheritsLoose = module.inheritsLoose;
      _extends = module.extends;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
    }, function (module) {
      UIPlayer = module.UIPlayer;
    }, function (module) {
      ETypeModePlay = module.ETypeModePlay;
    }, function (module) {
      YardPlayerData = module.YardPlayerData;
    }],
    execute: function () {
      var _dec, _class;
      cclegacy._RF.push({}, "0949cy4r1dJzbNBgVITl1Cw", "UIHistoryPlayer", undefined);
      var ccclass = _decorator.ccclass;
      var UIHistoryPlayer = exports('UIHistoryPlayer', (_dec = ccclass("UIHistoryPlayer"), _dec(_class = /*#__PURE__*/function (_UIPlayer) {
        _inheritsLoose(UIHistoryPlayer, _UIPlayer);
        function UIHistoryPlayer() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIPlayer.call.apply(_UIPlayer, [this].concat(args)) || this;
          _this._dataCreator = function (player, mode) {
            switch (mode) {
              case ETypeModePlay.MTT:
                {
                  break;
                }
              case ETypeModePlay.SNG:
                {
                  break;
                }
              case ETypeModePlay.YARD:
                {
                  return YardPlayerData.create(player);
                }
              case ETypeModePlay.PLAY_NOW:
                {
                  break;
                }
            }
          };
          return _this;
        }
        var _proto = UIHistoryPlayer.prototype;
        //protected _data: NSEventResponse.IPlayer = null!;
        //get data(): NSEventResponse.IPlayer { return this._data }
        //protected set data(data) {
        //    const state = !!data ? 'ui' : 'sit';
        //    this.toggler.jump(state);
        //    this._data = data;
        //    this.uiPlayerInfo.info = data;
        //}
        _proto._onChangeStatus = function _onChangeStatus(type) {
          var is = type === 'fold';
          this.uiPlayerInfo.setSkippingView(is);
          is && this.uiGameInfo.showSkippingCard(true);
        };
        _proto.showFaceCardPlayer = function showFaceCardPlayer(cards) {
          this.uiGameInfo.showHandCard(cards, true, 0);
        };
        _proto.activeWinner = function activeWinner(is) {
          this.uiGameInfo.status.activeWinner(is, false, {
            delay: 0,
            scaler: 0,
            fadeOut: 0
          });
        };
        _proto._onInit = function _onInit(data) {
          var _this$data;
          var state = !!data ? 'ui' : 'sit';
          this.toggler.jump(state);
          this._data.init(data);
          this.uiPlayerInfo.init(_extends({}, this.data, {
            vippoint: (_this$data = this.data) == null || (_this$data = _this$data.data) == null ? void 0 : _this$data.vippoint
          }));
        };
        return UIHistoryPlayer;
      }(UIPlayer)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIInvitedToPlay.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './MovingFx.ts', './UIBase.ts', './Enums.ts', './ResponeCode.ts', './EventManager.ts', './LanguageManager.ts', './AsyncUtils.ts', './Decorators.ts', './PlayingController.ts', './StringUtils.ts', './GameManager.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _createClass, _asyncToGenerator, _regeneratorRuntime, cclegacy, _decorator, Enum, Button, RichText, Sprite, assetManager, SpriteFrame, NSMovingFx, UIBase, UIType, ResponseCode, pEventManager, LanguageMananger, pAsyncUtils, pDecorators, PlayingController, pStringUtils, GameManager;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _createClass = module.createClass;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Enum = module.Enum;
      Button = module.Button;
      RichText = module.RichText;
      Sprite = module.Sprite;
      assetManager = module.assetManager;
      SpriteFrame = module.SpriteFrame;
    }, function (module) {
      NSMovingFx = module.NSMovingFx;
    }, function (module) {
      UIBase = module.UIBase;
    }, function (module) {
      UIType = module.UIType;
    }, function (module) {
      ResponseCode = module.ResponseCode;
    }, function (module) {
      pEventManager = module.pEventManager;
    }, function (module) {
      LanguageMananger = module.LanguageMananger;
    }, function (module) {
      pAsyncUtils = module.pAsyncUtils;
    }, function (module) {
      pDecorators = module.pDecorators;
    }, function (module) {
      PlayingController = module.default;
    }, function (module) {
      pStringUtils = module.pStringUtils;
    }, function (module) {
      GameManager = module.GameManager;
    }],
    execute: function () {
      exports('NSInvitedToPlay', void 0);
      cclegacy._RF.push({}, "f37297+ckRACLb7KfHEmqit", "UIInvitedToPlay", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var NSInvitedToPlay;
      (function (_NSInvitedToPlay, _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6) {
        var Component = (_dec = ccclass("NSInvitedToPlay.Component"), _dec2 = pDecorators.singleton(), _dec3 = property({
          type: Enum(UIType),
          override: true,
          readonly: true
        }), _dec4 = property({
          type: NSMovingFx.Component,
          visible: true
        }), _dec5 = property({
          type: Button
        }), _dec6 = property({
          type: Button
        }), _dec7 = property({
          type: RichText
        }), _dec8 = property({
          type: Sprite,
          visible: true
        }), _dec(_class = _dec2(_class = (_class2 = /*#__PURE__*/function (_UIBase) {
          _inheritsLoose(Component, _UIBase);
          function Component() {
            var _this;
            for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
              args[_key] = arguments[_key];
            }
            _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
            _initializerDefineProperty(_this, "uiType", _descriptor, _assertThisInitialized(_this));
            _initializerDefineProperty(_this, "_mover", _descriptor2, _assertThisInitialized(_this));
            _initializerDefineProperty(_this, "ok", _descriptor3, _assertThisInitialized(_this));
            _initializerDefineProperty(_this, "cancel", _descriptor4, _assertThisInitialized(_this));
            _initializerDefineProperty(_this, "txt", _descriptor5, _assertThisInitialized(_this));
            _initializerDefineProperty(_this, "_avatar", _descriptor6, _assertThisInitialized(_this));
            _this._table = null;
            _this._wid = pStringUtils.uuid();
            return _this;
          }
          var _proto = Component.prototype;
          _proto._onLoad = function _onLoad() {
            this._addClickers([{
              handlers: this._onOk,
              target: this.ok
            }, {
              handlers: this._onCancel,
              target: this.cancel
            }]);
            this.root.active = false;
            this.close();
          };
          _proto.apply = /*#__PURE__*/function () {
            var _apply = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(name, table) {
              var bigBlind, smallBlind, str;
              return _regeneratorRuntime().wrap(function _callee$(_context) {
                while (1) switch (_context.prev = _context.next) {
                  case 0:
                    this._table = table;
                    bigBlind = table.bigBlind, smallBlind = table.smallBlind;
                    str = LanguageMananger.instance.getString('rich_txt_invited').replace("@name", name).replace("@sb", pStringUtils.formatNumberKMB(smallBlind)).replace("@bb", pStringUtils.formatNumberKMB(bigBlind));
                    this.txt.string = str;
                    this.ok.interactable = true;
                    this.cancel.interactable = true;
                    _context.next = 8;
                    return this.open();
                  case 8:
                  case "end":
                    return _context.stop();
                }
              }, _callee, this);
            }));
            function apply(_x, _x2) {
              return _apply.apply(this, arguments);
            }
            return apply;
          }();
          _proto._open = /*#__PURE__*/function () {
            var _open2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {
              return _regeneratorRuntime().wrap(function _callee2$(_context2) {
                while (1) switch (_context2.prev = _context2.next) {
                  case 0:
                    this.root.active = true;
                    _context2.next = 3;
                    return this._mover.show({
                      id: 'on'
                    });
                  case 3:
                    _context2.next = 5;
                    return pAsyncUtils.wait({
                      id: this._wid,
                      time: 5
                    });
                  case 5:
                    this.close();
                  case 6:
                  case "end":
                    return _context2.stop();
                }
              }, _callee2, this);
            }));
            function _open() {
              return _open2.apply(this, arguments);
            }
            return _open;
          }();
          _proto._close = /*#__PURE__*/function () {
            var _close2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {
              return _regeneratorRuntime().wrap(function _callee3$(_context3) {
                while (1) switch (_context3.prev = _context3.next) {
                  case 0:
                    _context3.next = 2;
                    return this._mover.show({
                      id: 'off'
                    });
                  case 2:
                    this.root.active = false;
                    pAsyncUtils.stop({
                      id: this._wid
                    });
                  case 4:
                  case "end":
                    return _context3.stop();
                }
              }, _callee3, this);
            }));
            function _close() {
              return _close2.apply(this, arguments);
            }
            return _close;
          }();
          _proto._onOk = /*#__PURE__*/function () {
            var _onOk2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {
              return _regeneratorRuntime().wrap(function _callee4$(_context4) {
                while (1) switch (_context4.prev = _context4.next) {
                  case 0:
                    this._mover.show({
                      id: 'off'
                    });
                    GameManager.Instance.joinTableViaInvite(this._table);
                  case 2:
                  case "end":
                    return _context4.stop();
                }
              }, _callee4, this);
            }));
            function _onOk() {
              return _onOk2.apply(this, arguments);
            }
            return _onOk;
          }();
          _proto._onCancel = function _onCancel() {
            this._mover.show({
              id: 'off'
            });
          };
          _createClass(Component, [{
            key: "avatar",
            set: function set(x) {
              if (!x) return;
              this._avatar.spriteFrame = x;
            }
          }]);
          return Component;
        }(UIBase), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "uiType", [_dec3], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return UIType.INVITED_TO_PLAY;
          }
        }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "_mover", [_dec4], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return null;
          }
        }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "ok", [_dec5], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return null;
          }
        }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "cancel", [_dec6], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return null;
          }
        }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "txt", [_dec7], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return null;
          }
        }), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, "_avatar", [_dec8], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return null;
          }
        })), _class2)) || _class) || _class);
        var _Manager = /*#__PURE__*/function () {
          function _Manager() {
            this._events = [['onInvitePlay', this._onInvited, this]];
          }
          _Manager.start = function start() {
            var ret = new _Manager();
            ret._init();
          };
          var _proto2 = _Manager.prototype;
          _proto2._init = function _init() {
            pEventManager.on(this._events);
          };
          _proto2._onInvited = /*#__PURE__*/function () {
            var _onInvited2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(data) {
              var type, code, msg, tid, sender, table, avatar, full_name, _comp;
              return _regeneratorRuntime().wrap(function _callee5$(_context5) {
                while (1) switch (_context5.prev = _context5.next) {
                  case 0:
                    type = data.type, code = data.code, msg = data.msg;
                    if (!(type != 'onInvitePlay')) {
                      _context5.next = 3;
                      break;
                    }
                    return _context5.abrupt("return");
                  case 3:
                    if (!(code != ResponseCode.SUCCESS)) {
                      _context5.next = 5;
                      break;
                    }
                    return _context5.abrupt("return");
                  case 5:
                    tid = PlayingController.instance.tid;
                    sender = msg.sender, table = msg.table;
                    avatar = sender.avatar, full_name = sender.full_name;
                    if (!(tid === table.id)) {
                      _context5.next = 10;
                      break;
                    }
                    return _context5.abrupt("return");
                  case 10:
                    _context5.next = 13;
                    return pDecorators.wait(Component);
                  case 13:
                    _comp = _context5.sent;
                    assetManager.loadRemote(avatar, function (err, asset) {
                      return _comp.avatar = !!err ? null : SpriteFrame.createWithImage(asset);
                    });
                    _comp.apply(full_name, table);
                  case 16:
                  case "end":
                    return _context5.stop();
                }
              }, _callee5);
            }));
            function _onInvited(_x3) {
              return _onInvited2.apply(this, arguments);
            }
            return _onInvited;
          }();
          return _Manager;
        }();
        _Manager.start();
      })(NSInvitedToPlay || (NSInvitedToPlay = exports('NSInvitedToPlay', {})));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIItemAchievement.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UINoticeAchievement.ts', './LanguageManager.ts', './GameManager.ts', './ResponeCode.ts', './ComponentUtils.ts', './TypesLanguageManager.ts', './NotifyToast.ts', './StringUtils.ts', './UserCommand.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _createClass, _asyncToGenerator, _regeneratorRuntime, cclegacy, _decorator, Button, Sprite, UIRenderer, Node, Label, ProgressBar, Material, Component, UINoticeAchievement, LanguageMananger, GameManager, ResponseCode, pComponentUtils, idToBadgeKey, NotifyToast, pStringUtils, request;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _createClass = module.createClass;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Button = module.Button;
      Sprite = module.Sprite;
      UIRenderer = module.UIRenderer;
      Node = module.Node;
      Label = module.Label;
      ProgressBar = module.ProgressBar;
      Material = module.Material;
      Component = module.Component;
    }, function (module) {
      UINoticeAchievement = module.UINoticeAchievement;
    }, function (module) {
      LanguageMananger = module.LanguageMananger;
    }, function (module) {
      GameManager = module.GameManager;
    }, function (module) {
      ResponseCode = module.ResponseCode;
    }, function (module) {
      pComponentUtils = module.pComponentUtils;
    }, function (module) {
      idToBadgeKey = module.idToBadgeKey;
    }, function (module) {
      NotifyToast = module.NotifyToast;
    }, function (module) {
      pStringUtils = module.pStringUtils;
    }, function (module) {
      request = module.default;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _dec11, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9;
      cclegacy._RF.push({}, "e05ca2zGwZN/J4UmF81KwtY", "UIItemAchievement", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var _NormalGroup = {
        id: "1",
        name: "Normal"
      };
      var _EditorGroup = {
        id: "1",
        name: "Editor"
      };
      var UIItemAchievement = exports('UIItemAchievement', (_dec = ccclass('UIItemAchievement'), _dec2 = property({
        type: Button,
        group: _NormalGroup
      }), _dec3 = property({
        type: Sprite,
        group: _NormalGroup
      }), _dec4 = property({
        type: [UIRenderer],
        group: _NormalGroup
      }), _dec5 = property({
        type: Node,
        group: _EditorGroup,
        visible: true
      }), _dec6 = property({
        type: Label,
        group: _NormalGroup
      }), _dec7 = property({
        type: Label,
        group: _NormalGroup
      }), _dec8 = property({
        type: Node,
        group: _NormalGroup
      }), _dec9 = property({
        type: ProgressBar,
        group: _NormalGroup
      }), _dec10 = property({
        type: Material,
        group: _NormalGroup
      }), _dec11 = property({
        type: Material,
        group: _NormalGroup
      }), _dec(_class = (_class2 = /*#__PURE__*/function (_Component) {
        _inheritsLoose(UIItemAchievement, _Component);
        function UIItemAchievement() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _Component.call.apply(_Component, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "viewBtn", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "achievementIcon", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "views", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "unactiveButtonLabel", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "activeButtonLabel", _descriptor5, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "activeButtonNode", _descriptor6, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "progressBar", _descriptor7, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "darkmat", _descriptor8, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "normat", _descriptor9, _assertThisInitialized(_this));
          _this._data = void 0;
          return _this;
        }
        var _proto = UIItemAchievement.prototype;
        _proto.onLoad = function onLoad() {
          pComponentUtils.appends({
            _options: [{
              _target: this.viewBtn,
              _handlers: this._onView
            }],
            _type: Button.EventType.CLICK,
            _binder: this
          });
        };
        _proto._actAppendView = function _actAppendView(mat) {
          this.views.forEach(function (_view) {
            return _view.customMaterial = mat;
          });
        };
        _proto.init = /*#__PURE__*/function () {
          var _init = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(badge) {
            var playerReward, isCompleted;
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  this._data = badge;
                  if (badge.icon_url) {
                    GameManager.Instance.setImageFromUrl(badge.icon_url, this.achievementIcon, true);
                  }
                  this.unactiveButtonLabel.string = badge.name;
                  this._actAppendView(this.darkmat);
                  playerReward = badge.player_reward;
                  isCompleted = playerReward && Boolean(playerReward.is_completed);
                  this.progressBar.progress = playerReward ? playerReward.completion_percent / 100 : 0;
                  this.activeButtonNode.active = !badge.is_claimed && isCompleted;
                  (badge.is_claimed || isCompleted) && this._actAppendView(this.normat);
                case 9:
                case "end":
                  return _context.stop();
              }
            }, _callee, this);
          }));
          function init(_x) {
            return _init.apply(this, arguments);
          }
          return init;
        }();
        _proto._onView = function _onView() {
          if (!this._data) return;
          var reward = '';
          this._data.rewards && this._data.rewards.forEach(function (rw, index) {
            if (rw.reward_type === 'CHIPS') {
              reward += (index > 0 ? ", " : "") + "Chips " + rw.reward_value;
            } else if (rw.reward_type === 'EXP') {
              reward += (index > 0 ? ", " : "") + "EXP " + rw.reward_value;
            } else if (rw.reward_type === 'VIP') {
              reward += (index > 0 ? ", " : "") + "VIP " + rw.reward_value;
            } else if (rw.reward_type === 'AVATAR') {
              reward += (index > 0 ? ", " : "") + "Avatar " + rw.reward_value;
            } else if (rw.reward_type === 'DECORATION') {
              reward += "" + (index > 0 ? ", " : "") + LanguageMananger.instance.getString('txt_decoration') + " " + rw.reward_value;
            } else if (rw.reward_type === 'TITLE') {
              reward += (index > 0 ? ", " : "") + "Title " + rw.reward_value;
            }
          });
          UINoticeAchievement.instance && UINoticeAchievement.instance.show(this._data.name, this._data.description, reward.length > 0 ? LanguageMananger.instance.getString('txt_title_reward') + ": " + reward : null);
        };
        _proto.onButtonClick = /*#__PURE__*/function () {
          var _onButtonClick = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {
            var _res, msg, badge, reward, value, _title, _description, _badges, _str;
            return _regeneratorRuntime().wrap(function _callee2$(_context2) {
              while (1) switch (_context2.prev = _context2.next) {
                case 0:
                  if (this.activeButtonNode.active) {
                    _context2.next = 3;
                    break;
                  }
                  this._onView();
                  return _context2.abrupt("return");
                case 3:
                  _context2.next = 5;
                  return request('claimBadgeReward', {
                    badge_id: this._data.badge_id
                  });
                case 5:
                  _res = _context2.sent;
                  if (!(_res.code === ResponseCode.SUCCESS)) {
                    _context2.next = 19;
                    break;
                  }
                  this.unactiveButtonLabel.string = LanguageMananger.instance.getString('txt_rewarded');
                  this._data.is_claimed = true;
                  this.init(this._data);
                  msg = _res.msg;
                  badge = msg.badge, reward = msg.reward;
                  value = reward.value;
                  _title = idToBadgeKey(badge.id, 'title');
                  _description = idToBadgeKey(badge.id, 'description');
                  _badges = LanguageMananger.gets('badge', _title, _description);
                  _str = LanguageMananger.get('base', {
                    key: value > 0 ? 'dynamic_reward_achivement' : "dynamic_no_reward_achivement",
                    replacers: [{
                      find: "@name",
                      replacer: _badges[_title]
                    }, {
                      find: "@description",
                      replacer: _badges[_description]
                    }, {
                      find: "@amount",
                      replacer: pStringUtils.formatNumberKMB(value)
                    }]
                  });
                  NotifyToast.instance.show(_str, 'global', undefined, true);
                  return _context2.abrupt("return");
                case 19:
                case "end":
                  return _context2.stop();
              }
            }, _callee2, this);
          }));
          function onButtonClick() {
            return _onButtonClick.apply(this, arguments);
          }
          return onButtonClick;
        }();
        _createClass(UIItemAchievement, [{
          key: "_nodeAppendView",
          get: function get() {
            return null;
          },
          set: function set(x) {
            if (x) {
              this.views = x.getComponentsInChildren(UIRenderer);
            }
          }
        }]);
        return UIItemAchievement;
      }(Component), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "viewBtn", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "achievementIcon", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "views", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return [];
        }
      }), _applyDecoratedDescriptor(_class2.prototype, "_nodeAppendView", [_dec5], Object.getOwnPropertyDescriptor(_class2.prototype, "_nodeAppendView"), _class2.prototype), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "unactiveButtonLabel", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "activeButtonLabel", [_dec7], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, "activeButtonNode", [_dec8], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor7 = _applyDecoratedDescriptor(_class2.prototype, "progressBar", [_dec9], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor8 = _applyDecoratedDescriptor(_class2.prototype, "darkmat", [_dec10], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor9 = _applyDecoratedDescriptor(_class2.prototype, "normat", [_dec11], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIItemCard.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './Enums.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, cclegacy, _decorator, EventTarget, Sprite, SpriteFrame, Node, Component, ECardName;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      EventTarget = module.EventTarget;
      Sprite = module.Sprite;
      SpriteFrame = module.SpriteFrame;
      Node = module.Node;
      Component = module.Component;
    }, function (module) {
      ECardName = module.ECardName;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6;
      cclegacy._RF.push({}, "1a17ciF5LZDQIqNL56rm27m", "UIItemCard", undefined);
      var ccclass = _decorator.ccclass,
        type = _decorator.type;
      var eventTarget = exports('eventTarget', new EventTarget());
      var UIItemCard = exports('UIItemCard', (_dec = ccclass('UIItemCard'), _dec2 = type(Sprite), _dec3 = type(SpriteFrame), _dec4 = type(SpriteFrame), _dec5 = type(SpriteFrame), _dec6 = type(Node), _dec7 = type([SpriteFrame]), _dec(_class = (_class2 = /*#__PURE__*/function (_Component) {
        _inheritsLoose(UIItemCard, _Component);
        function UIItemCard() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _Component.call.apply(_Component, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "imageCard", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "imageDown", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "imageUp", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "imageSkip", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "imageStoke", _descriptor5, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "listCard", _descriptor6, _assertThisInitialized(_this));
          return _this;
        }
        var _proto = UIItemCard.prototype;
        _proto.showFaceCard = function showFaceCard(nameCard) {
          this.imageCard.spriteFrame = this.listCard["" + ECardName[nameCard]];
        };
        _proto.showBackCard = function showBackCard() {
          this.imageCard.spriteFrame = this.imageDown;
        };
        _proto.setFrameUp = function setFrameUp() {
          this.imageCard.spriteFrame = this.imageUp;
        };
        _proto.setFrameDown = function setFrameDown() {
          this.imageCard.spriteFrame = this.imageDown;
        };
        _proto.setFrameSkip = function setFrameSkip() {
          this.imageCard.spriteFrame = this.imageSkip;
        };
        return UIItemCard;
      }(Component), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "imageCard", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "imageDown", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "imageUp", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "imageSkip", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "imageStoke", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, "listCard", [_dec7], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return [];
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIItemCardFace.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, cclegacy, _decorator, Node, Button, UIBase;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Node = module.Node;
      Button = module.Button;
    }, function (module) {
      UIBase = module.UIBase;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _class, _class2, _descriptor, _descriptor2;
      cclegacy._RF.push({}, "2db7bkoE1lCn7tlt6RXils1", "UIItemCardFace", undefined);
      var ccclass = _decorator.ccclass,
        type = _decorator.type;
      var UIItemCardFace = exports('UIItemCardFace', (_dec = ccclass('UIItemCardFace'), _dec2 = type(Node), _dec3 = type(Button), _dec(_class = (_class2 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UIItemCardFace, _UIBase);
        function UIItemCardFace() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "popupInforCard", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnItem", _descriptor2, _assertThisInitialized(_this));
          return _this;
        }
        var _proto = UIItemCardFace.prototype;
        _proto._onStart = function _onStart() {
          this._addClicker(this.btnItem, this.onClickItem, this);
        };
        _proto.onClickItem = function onClickItem() {
          this.popupInforCard.active = true;
        };
        return UIItemCardFace;
      }(UIBase), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "popupInforCard", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "btnItem", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIItemDealerIngame.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts', './Enums.ts', './UIController.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, cclegacy, _decorator, Button, UIBase, UIType, UIController;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Button = module.Button;
    }, function (module) {
      UIBase = module.UIBase;
    }, function (module) {
      UIType = module.UIType;
    }, function (module) {
      UIController = module.UIController;
    }],
    execute: function () {
      var _dec, _dec2, _class, _class2, _descriptor;
      cclegacy._RF.push({}, "6476eABPM1LcbHSOqWNXsVA", "UIItemDealerIngame", undefined);
      var ccclass = _decorator.ccclass,
        type = _decorator.type;
      var UIItemDealerIngame = exports('UIItemDealerIngame', (_dec = ccclass('UIItemDealerIngame'), _dec2 = type(Button), _dec(_class = (_class2 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UIItemDealerIngame, _UIBase);
        function UIItemDealerIngame() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "btnClickItem", _descriptor, _assertThisInitialized(_this));
          _this.dataItem = null;
          return _this;
        }
        var _proto = UIItemDealerIngame.prototype;
        _proto._onStart = function _onStart() {
          this._addClickers([{
            target: this.btnClickItem,
            handlers: this.onClickItem
          }]);
        };
        _proto.initItem = function initItem(data) {
          this.dataItem = data;
        };
        _proto.onClickItem = function onClickItem() {
          UIController.Instance.open(UIType.ACTION_DEALER);
        };
        return UIItemDealerIngame;
      }(UIBase), _descriptor = _applyDecoratedDescriptor(_class2.prototype, "btnClickItem", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIItemDetailHistory.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './StringUtils.ts', './Decorators.ts', './UICardConfig.ts', './LanguageManager.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, cclegacy, _decorator, Label, Node, Sprite, Component, pStringUtils, pDecorators, UICardConfig, LanguageMananger;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Label = module.Label;
      Node = module.Node;
      Sprite = module.Sprite;
      Component = module.Component;
    }, function (module) {
      pStringUtils = module.pStringUtils;
    }, function (module) {
      pDecorators = module.pDecorators;
    }, function (module) {
      UICardConfig = module.UICardConfig;
    }, function (module) {
      LanguageMananger = module.LanguageMananger;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9;
      cclegacy._RF.push({}, "0ab19Wv+1lE26lnMJrO7Re+", "UIItemDetailHistory", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var UIItemDetailHistory = exports('UIItemDetailHistory', (_dec = ccclass("UIItemDetailHistory"), _dec2 = property(Label), _dec3 = property(Label), _dec4 = property(Node), _dec5 = property([Sprite]), _dec6 = property(Label), _dec7 = property(Label), _dec8 = property(Label), _dec9 = property(Label), _dec10 = property(Label), _dec(_class = (_class2 = /*#__PURE__*/function (_Component) {
        _inheritsLoose(UIItemDetailHistory, _Component);
        function UIItemDetailHistory() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _Component.call.apply(_Component, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "lblName", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lblBet", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "crown", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "sprHands", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lblBB", _descriptor5, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lblDealAction", _descriptor6, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lblFlopAction", _descriptor7, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lblTurnAction", _descriptor8, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lblRiverAction", _descriptor9, _assertThisInitialized(_this));
          return _this;
        }
        var _proto = UIItemDetailHistory.prototype;
        _proto.init = function init(_actions, _player) {
          var hand = _player.hand,
            playerName = _player.playerName,
            winAmount = _player.winAmount,
            isBB = _player.isBB,
            isSB = _player.isSB;
          var instance = LanguageMananger.instance;
          this.lblName.string = playerName;
          var _total = _actions.reduce(function (acc, action) {
            return !!action.amount ? acc + action.amount : acc;
          }, 0);
          var _gain = winAmount > 0 ? winAmount : -_total;
          this.crown.active = winAmount > 0;
          this.lblBet.string = pStringUtils.formatNumberKMB(_gain, "+", "-");
          var _uc = pDecorators.instance(UICardConfig);
          for (var i = 0; i < hand.cards.length; i++) {
            var _card = hand.cards[i];
            var _spr = this.sprHands[i];
            if (!_card || !_spr) continue;
            _spr.spriteFrame = _uc.get(_card).frame;
          }
          this.lblBB.node.active = isSB || isBB;
          this.lblBB.node.active && (this.lblBB.string = isBB ? instance.getString('txt_big_blind') : instance.getString('txt_small_blind'));
          this._handle(_actions, "Deal", this.lblDealAction);
          this._handle(_actions, "Flop", this.lblFlopAction);
          this._handle(_actions, "Turn", this.lblTurnAction);
          this._handle(_actions, "River", this.lblRiverAction);
        };
        _proto._handle = function _handle(_actions, _filter, _lbl) {
          var _deals = _actions.filter(function (action) {
            return action.round === _filter;
          });
          if (_deals.length === 0) {
            _lbl.string = "";
            return;
          }
          var instance = LanguageMananger.instance;
          var _instance$getStrings = instance.getStrings('txt_btn_check', 'txt_btn_skip_card'),
            txt_btn_check = _instance$getStrings.txt_btn_check,
            txt_btn_skip_card = _instance$getStrings.txt_btn_skip_card;
          if (_deals.length === 1) {
            var _action = _deals[0];
            var amount = Number(_action.amount);
            if (amount > 0) {
              _lbl.string = txt_btn_check + " " + pStringUtils.formatNumberKMB(amount);
            } else {
              switch (_action.action) {
                case "check":
                  {
                    _lbl.string = txt_btn_check;
                    break;
                  }
                case "fold":
                  {
                    _lbl.string = txt_btn_skip_card;
                    break;
                  }
                default:
                  {
                    _lbl.string = "";
                    break;
                  }
              }
            }
            return;
          }
          if (_deals.some(function (action) {
            return action.action === 'fold';
          })) {
            _lbl.string = txt_btn_skip_card;
            return;
          }
          var _total = _deals.reduce(function (acc, action) {
            return acc + Number(action.amount);
          }, 0);
          _lbl.string = _total > 0 ? txt_btn_check + " " + pStringUtils.formatNumberKMB(_total) : "";
        };
        return UIItemDetailHistory;
      }(Component), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "lblName", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "lblBet", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "crown", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "sprHands", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return [];
        }
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "lblBB", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, "lblDealAction", [_dec7], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor7 = _applyDecoratedDescriptor(_class2.prototype, "lblFlopAction", [_dec8], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor8 = _applyDecoratedDescriptor(_class2.prototype, "lblTurnAction", [_dec9], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor9 = _applyDecoratedDescriptor(_class2.prototype, "lblRiverAction", [_dec10], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIItemEmail.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './LanguageManager.ts', './DateUtils.ts', './StringUtils.ts', './Enums.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, cclegacy, _decorator, Label, Sprite, Component, LanguageMananger, pDateUtils, pStringUtils, EmailType;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Label = module.Label;
      Sprite = module.Sprite;
      Component = module.Component;
    }, function (module) {
      LanguageMananger = module.LanguageMananger;
    }, function (module) {
      pDateUtils = module.pDateUtils;
    }, function (module) {
      pStringUtils = module.pStringUtils;
    }, function (module) {
      EmailType = module.EmailType;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6;
      cclegacy._RF.push({}, "01a3eSYnoZDRYext5nppMfZ", "UIItemEmail", undefined);
      var ccclass = _decorator.ccclass,
        type = _decorator.type;
      var UIItemEmail = exports('UIItemEmail', (_dec = ccclass('UIItemEmail'), _dec2 = type(Label), _dec3 = type(Label), _dec4 = type(Label), _dec5 = type(Label), _dec6 = type(Label), _dec7 = type(Sprite), _dec(_class = (_class2 = /*#__PURE__*/function (_Component) {
        _inheritsLoose(UIItemEmail, _Component);
        function UIItemEmail() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _Component.call.apply(_Component, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "txtTitle", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "txtContent1", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "chipAmount", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "txtContent2", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "txtTime", _descriptor5, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "icon", _descriptor6, _assertThisInitialized(_this));
          return _this;
        }
        var _proto = UIItemEmail.prototype;
        _proto.initItem = function initItem(data) {
          if (data.board === EmailType.FRIEND_REQUEST) {
            this.txtTitle.string = "" + LanguageMananger.instance.getString("txt_title_friend_request");
            var _pDateUtils$getDDMMYY = pDateUtils.getDDMMYY(data.log_timestamp),
              _day = _pDateUtils$getDDMMYY.day,
              _month = _pDateUtils$getDDMMYY.month,
              _year = _pDateUtils$getDDMMYY.year;
            this.chipAmount.node.active = false;
            this.txtContent1.string = data.sender_info.display_name || data.sender_info.nick_name || "Unknow";
            this.txtContent2.string = " " + LanguageMananger.instance.getString('txt_text_sent_request');
            var _formatday = _day < 10 ? "0" + _day : _day;
            var _formatMonth = _month < 10 ? "0" + _month : _month;
            this.txtTime.string = _formatday + "-" + _formatMonth + "-" + _year;
            this.txtTime.node.active = true;
            this.icon.node.active = false;
            return;
          }
          if (data.board === EmailType.FRIEND_ACCEPTED) {
            this.txtTitle.string = "" + LanguageMananger.instance.getString("txt_title");
            var _pDateUtils$getDDMMYY2 = pDateUtils.getDDMMYY(data.log_timestamp),
              _day2 = _pDateUtils$getDDMMYY2.day,
              _month2 = _pDateUtils$getDDMMYY2.month,
              _year2 = _pDateUtils$getDDMMYY2.year;
            this.chipAmount.node.active = false;
            this.txtContent1.string = data.sender_info.display_name || data.sender_info.nick_name || "Unknow";
            this.txtContent2.string = " " + LanguageMananger.instance.getString('txt_text_accepted_request');
            var _formatday2 = _day2 < 10 ? "0" + _day2 : _day2;
            var _formatMonth2 = _month2 < 10 ? "0" + _month2 : _month2;
            this.txtTime.string = _formatday2 + "-" + _formatMonth2 + "-" + _year2;
            this.txtTime.node.active = true;
            this.icon.node.active = false;
            return;
          }
          this.txtTitle.string = "" + LanguageMananger.instance.getString("txt_title_reward");
          var _pDateUtils$getDDMMYY3 = pDateUtils.getDDMMYY(data.log_timestamp),
            day = _pDateUtils$getDDMMYY3.day,
            month = _pDateUtils$getDDMMYY3.month,
            year = _pDateUtils$getDDMMYY3.year;
          this.txtContent1.string = LanguageMananger.instance.getString("txt_daily_reward_notifi") + " ";
          this.chipAmount.string = " " + pStringUtils.formatNumberWithDot2(data.amount) + " ";
          this.txtContent2.string = " Chips";
          var formatday = day < 10 ? "0" + day : day;
          var formatMonth = month < 10 ? "0" + month : month;
          this.icon.node.active = true;
          this.txtTime.string = formatday + "-" + formatMonth + "-" + year;
        };
        return UIItemEmail;
      }(Component), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "txtTitle", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "txtContent1", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "chipAmount", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "txtContent2", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "txtTime", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, "icon", [_dec7], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIItemEventPage.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './GameManager.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _createClass, cclegacy, _decorator, Sprite, Node, Component, GameManager;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _createClass = module.createClass;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Sprite = module.Sprite;
      Node = module.Node;
      Component = module.Component;
    }, function (module) {
      GameManager = module.GameManager;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _class, _class2, _descriptor, _descriptor2, _descriptor3;
      cclegacy._RF.push({}, "bb3983OgBJIzJllAnCo3TgO", "UIItemEventPage", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var UIItemEventPage = exports('UIItemEventPage', (_dec = ccclass('UIItemEventPage'), _dec2 = property(Sprite), _dec3 = property(Sprite), _dec4 = property(Node), _dec(_class = (_class2 = /*#__PURE__*/function (_Component) {
        _inheritsLoose(UIItemEventPage, _Component);
        function UIItemEventPage() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _Component.call.apply(_Component, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "thumbnailOn", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "thumbnailOff", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "unreadPointNode", _descriptor3, _assertThisInitialized(_this));
          _this._data = void 0;
          _this._onClick = void 0;
          return _this;
        }
        var _proto = UIItemEventPage.prototype;
        _proto.setOnClick = function setOnClick(cb) {
          this._onClick = cb;
        };
        _proto.onLoad = function onLoad() {
          this.onDeselect();
        };
        _proto.init = function init(data) {
          this._data = data;
          this._refreshUI();
        };
        _proto._refreshUI = function _refreshUI() {
          var _this2 = this;
          if (GameManager.Instance.articleData.isLoaded) {
            var spfData = GameManager.Instance.articleData.data.find(function (e) {
              return e.id === _this2._data.id;
            });
            if (spfData) {
              this.thumbnailOn.spriteFrame = spfData.spf;
              this.thumbnailOff.spriteFrame = spfData.spf;
            }
          } else {
            GameManager.Instance.articleData.onLoaded = function (rs) {
              var spfData = rs.find(function (e) {
                return e.id === _this2._data.id;
              });
              if (spfData) {
                _this2.thumbnailOn.spriteFrame = spfData.spf;
                _this2.thumbnailOff.spriteFrame = spfData.spf;
              }
            };
          }
        };
        _proto.onClick = function onClick() {
          this._onClick && this._onClick(this._data);
        };
        _proto.onSelect = function onSelect() {
          this.thumbnailOn.node.active = true;
          this.thumbnailOff.node.active = false;
          this.unreadPointNode.active = false;
        };
        _proto.onDeselect = function onDeselect() {
          this.thumbnailOn.node.active = false;
          this.thumbnailOff.node.active = true;
        };
        _createClass(UIItemEventPage, [{
          key: "data",
          get: function get() {
            return this._data;
          }
        }]);
        return UIItemEventPage;
      }(Component), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "thumbnailOn", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "thumbnailOff", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "unreadPointNode", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIItemHistory.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts', './UIController.ts', './Enums.ts', './UIItemPlayerManager.ts', './Decorators.ts', './UICardConfig.ts', './UIFlexTable.ts', './LanguageManager.ts', './StringUtils.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _asyncToGenerator, _regeneratorRuntime, cclegacy, _decorator, Button, Sprite, Label, UIBase, UIController, ENumberPlayerCount, UIType, NSItemPlayerManager, pDecorators, UICardConfig, UIFlexTable, LanguageMananger, pStringUtils;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Button = module.Button;
      Sprite = module.Sprite;
      Label = module.Label;
    }, function (module) {
      UIBase = module.UIBase;
    }, function (module) {
      UIController = module.UIController;
    }, function (module) {
      ENumberPlayerCount = module.ENumberPlayerCount;
      UIType = module.UIType;
    }, function (module) {
      NSItemPlayerManager = module.NSItemPlayerManager;
    }, function (module) {
      pDecorators = module.pDecorators;
    }, function (module) {
      UICardConfig = module.UICardConfig;
    }, function (module) {
      UIFlexTable = module.UIFlexTable;
    }, function (module) {
      LanguageMananger = module.LanguageMananger;
    }, function (module) {
      pStringUtils = module.pStringUtils;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6;
      cclegacy._RF.push({}, "17eabvs0IdBYb39AVdmXrZ+", "UIItemHistory", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var UIItemHistory = exports('UIItemHistory', (_dec = ccclass('UIItemHistory'), _dec2 = property(Button), _dec3 = property(NSItemPlayerManager.Component), _dec4 = property(NSItemPlayerManager.Component), _dec5 = property([Sprite]), _dec6 = property(UIFlexTable), _dec7 = property(Label), _dec(_class = (_class2 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UIItemHistory, _UIBase);
        function UIItemHistory() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "btnClickItem", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "ui5Players", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "ui9Players", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "board", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "table", _descriptor5, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "infor", _descriptor6, _assertThisInitialized(_this));
          _this._uiPlayers = null;
          _this._players = [];
          _this._game = null;
          return _this;
        }
        var _proto = UIItemHistory.prototype;
        _proto._onStart = function _onStart() {
          this._addClickers({
            target: this.btnClickItem,
            handlers: this._actClickItem
          });
        };
        _proto._actClickItem = /*#__PURE__*/function () {
          var _actClickItem2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {
            var ui;
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  _context.next = 2;
                  return UIController.Instance.open(UIType.DETAIL_HISTORY);
                case 2:
                  ui = _context.sent;
                  if (ui) {
                    _context.next = 5;
                    break;
                  }
                  return _context.abrupt("return");
                case 5:
                  ui.init(this._game);
                case 6:
                case "end":
                  return _context.stop();
              }
            }, _callee, this);
          }));
          function _actClickItem() {
            return _actClickItem2.apply(this, arguments);
          }
          return _actClickItem;
        }();
        _proto.init = function init(game, table) {
          this._game = game;
          var data = game.data,
            board = game.board,
            posCFG = game.posCFG,
            players = game.players;
          var count = data.count,
            zone = data.zone,
            id = data.id,
            sb = data.sb,
            bb = data.bb;
          this.ui5Players.node.active = this.ui9Players.node.active = false;
          switch (count) {
            case ENumberPlayerCount.FIVE_PLAYERS:
              {
                this._uiPlayers = this.ui5Players;
                break;
              }
            case ENumberPlayerCount.NINE_PLAYERS:
              {
                this._uiPlayers = this.ui9Players;
                break;
              }
          }
          this._uiPlayers.node.active = true;
          this._players = this._uiPlayers.items;
          var _uc = pDecorators.instance(UICardConfig);
          this.board.forEach(function (_board) {
            return _board.node.active = false;
          });
          this.table.change(zone);
          this.infor.string = LanguageMananger.instance.getString("txt_id_table") + ": " + id + " Small/Big Blind: " + pStringUtils.formatNumberKMB(sb) + "/" + pStringUtils.formatNumberKMB(bb);
          for (var i = 0; i < board.length; i++) {
            var view = this.board[i];
            var card = board[i];
            if (!view) continue;
            view.spriteFrame = _uc.get(card).frame;
            view.node.active = true;
          }
          this._updateUIPlayers(players, posCFG, table.mode);
        };
        _proto._updateUIPlayers = function _updateUIPlayers(players, posWithMain, mode) {
          var _players = new Map(players.map(function (p) {
            return [p.actorNr, p];
          }));
          for (var i = 0; i < this._players.length; i++) {
            var player = this._players[i];
            var _player = _players.get(i);
            player.init(_player, mode, true);
            if (!!_player) {
              player.setTxtStatus(_player.folded ? 'fold' : 'hide');
              player.showFaceCardPlayer(_player.cards);
              player.activeWinner(Number(_player.winAmount) > 0);
            }
          }
          this._uiPlayers.actRotate(posWithMain, false, 0);
        };
        return UIItemHistory;
      }(UIBase), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "btnClickItem", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "ui5Players", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "ui9Players", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "board", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return [];
        }
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "table", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, "infor", [_dec7], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIItemLevelsBlind.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './LanguageManager.ts', './StringUtils.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, cclegacy, _decorator, Node, Label, Component, LanguageMananger, pStringUtils;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Node = module.Node;
      Label = module.Label;
      Component = module.Component;
    }, function (module) {
      LanguageMananger = module.LanguageMananger;
    }, function (module) {
      pStringUtils = module.pStringUtils;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6;
      cclegacy._RF.push({}, "18ccdN/w5BBNKCw5fSJP8PS", "UIItemLevelsBlind", undefined);
      var ccclass = _decorator.ccclass,
        type = _decorator.type;
      var UIItemLevelsBlind = exports('UIItemLevelsBlind', (_dec = ccclass('UIItemLevelsBlind'), _dec2 = type(Node), _dec3 = type(Node), _dec4 = type(Label), _dec5 = type(Label), _dec6 = type(Label), _dec7 = type(Label), _dec(_class = (_class2 = /*#__PURE__*/function (_Component) {
        _inheritsLoose(UIItemLevelsBlind, _Component);
        function UIItemLevelsBlind() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _Component.call.apply(_Component, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "iconRebuy", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "iconAddOn", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbLevelBlind", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbBlindValue", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbAnteValue", _descriptor5, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbIcreBlind", _descriptor6, _assertThisInitialized(_this));
          return _this;
        }
        var _proto = UIItemLevelsBlind.prototype;
        _proto.init = function init(data, rebuy, addon) {
          var ante = data.ante,
            big_blind = data.big_blind,
            duration_minutes = data.duration_minutes,
            level = data.level,
            small_blind = data.small_blind;
          this.iconRebuy.active = rebuy.allowed && level >= rebuy.start_level && level <= rebuy.end_level;
          this.iconAddOn.active = addon.allowed && level === addon.level;
          this.lbLevelBlind.string = "" + level;
          this.lbBlindValue.string = pStringUtils.formatNumberKMB(small_blind) + " / " + pStringUtils.formatNumberKMB(big_blind);
          this.lbAnteValue.string = "" + pStringUtils.formatNumberKMB(ante);
          this.lbIcreBlind.string = duration_minutes + " " + LanguageMananger.instance.getString("txt_minutes");
        };
        return UIItemLevelsBlind;
      }(Component), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "iconRebuy", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "iconAddOn", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "lbLevelBlind", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "lbBlindValue", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "lbAnteValue", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, "lbIcreBlind", [_dec7], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIItemMineTournMTT.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, cclegacy, _decorator, Button, UIBase;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Button = module.Button;
    }, function (module) {
      UIBase = module.UIBase;
    }],
    execute: function () {
      var _dec, _dec2, _class, _class2, _descriptor;
      cclegacy._RF.push({}, "5f4a7+iNFdKDKhtP27MTFfE", "UIItemMineTournMTT", undefined);
      var ccclass = _decorator.ccclass,
        type = _decorator.type;
      var UIItemMineTournMTT = exports('UIItemMineTournMTT', (_dec = ccclass('UIItemMineTournMTT'), _dec2 = type(Button), _dec(_class = (_class2 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UIItemMineTournMTT, _UIBase);
        function UIItemMineTournMTT() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "btnClickItem", _descriptor, _assertThisInitialized(_this));
          return _this;
        }
        var _proto = UIItemMineTournMTT.prototype;
        _proto._onStart = function _onStart() {
          this._addClicker(this.btnClickItem, this._onClickItem, this);
          this._addClickers([{
            handlers: this._onClickItem,
            target: this.btnClickItem
          }]);
        };
        _proto.initItem = function initItem() {};
        _proto._onClickItem = function _onClickItem() {
          //UIController.Instance.openUI(UIType.INFO_TOURN_MTT);
        };
        return UIItemMineTournMTT;
      }(UIBase), _descriptor = _applyDecoratedDescriptor(_class2.prototype, "btnClickItem", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIItemNotifi.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './LanguageManager.ts', './DateUtils.ts', './StringUtils.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, cclegacy, _decorator, Label, RichText, Component, LanguageMananger, pDateUtils, pStringUtils;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Label = module.Label;
      RichText = module.RichText;
      Component = module.Component;
    }, function (module) {
      LanguageMananger = module.LanguageMananger;
    }, function (module) {
      pDateUtils = module.pDateUtils;
    }, function (module) {
      pStringUtils = module.pStringUtils;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _class, _class2, _descriptor, _descriptor2, _descriptor3;
      cclegacy._RF.push({}, "a70e9zHmddFypBe9v6JPX9b", "UIItemNotifi", undefined);
      var ccclass = _decorator.ccclass,
        type = _decorator.type;
      var UIItemNotifi = exports('UIItemNotifi', (_dec = ccclass('UIItemNotifi'), _dec2 = type(Label), _dec3 = type(RichText), _dec4 = type(Label), _dec(_class = (_class2 = /*#__PURE__*/function (_Component) {
        _inheritsLoose(UIItemNotifi, _Component);
        function UIItemNotifi() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _Component.call.apply(_Component, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "txtTitle", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "rtxContent", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "txtTime", _descriptor3, _assertThisInitialized(_this));
          return _this;
        }
        var _proto = UIItemNotifi.prototype;
        _proto.init = function init(data) {
          if (!data) return false;
          var board = data.board,
            log_timestamp = data.log_timestamp,
            amount = data.amount;
          var _pDateUtils$getDDMMYY = pDateUtils.getDDMMYY(log_timestamp),
            day = _pDateUtils$getDDMMYY.day,
            month = _pDateUtils$getDDMMYY.month,
            year = _pDateUtils$getDDMMYY.year;
          switch (board) {
            case 'DAILY_LOGIN':
              {
                this.txtTitle.string = LanguageMananger.getString("txt_title_dayly_reward");
                this.rtxContent.string = LanguageMananger.getString({
                  key: 'dynamic_rich_system_item_noti_reward_daily',
                  replacers: {
                    find: "@amount",
                    replacer: pStringUtils.formatNumberWithDot2(amount)
                  }
                });
                break;
              }
            case 'LEVEL_UP':
              {
                this.txtTitle.string = LanguageMananger.getString("txt_title_level_up");
                this.rtxContent.string = LanguageMananger.getString({
                  key: 'dynamic_rich_system_item_noti_level_up',
                  replacers: {
                    find: "@level",
                    replacer: "" + amount
                  }
                });
                break;
              }
            case "LEVEL_REWARD":
              {
                this.txtTitle.string = LanguageMananger.getString("txt_title_reward_level_up");
                this.rtxContent.string = LanguageMananger.getString({
                  key: "dyanmic_rich_system_item_noti_reward_level",
                  replacers: {
                    find: "@amount",
                    replacer: "" + amount
                  }
                });
                break;
              }
          }
          var formatday = day < 10 ? "0" + day : day;
          this.txtTime.string = formatday + "-" + month + "-" + year;
          return true;
        };
        return UIItemNotifi;
      }(Component), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "txtTitle", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "rtxContent", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "txtTime", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIItemPlayer.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './Enums.ts', './UIController.ts', './PlayingController.ts', './UIChatBox.ts', './GlobalConfig.ts', './EventManager.ts', './AsyncUtils.ts', './Decorators.ts', './UIGamePlay.ts', './UIGameLight.ts', './UIEmojiChat.ts', './AudioManager.ts', './StringUtils.ts', './UIPlayer.ts', './YardPlayerData.ts', './SNGPlayerData.ts', './DBStorage.ts', './ComponentUtils.ts', './UICardsDealer.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _createClass, _extends, _asyncToGenerator, _regeneratorRuntime, cclegacy, _decorator, Button, Node, Prefab, UIOpacity, Vec3, NodeEventType, instantiate, ETypeModePlay, EAudioID, EStatusPlayer, UIType, UIController, PlayingController, UIChatBox, GlobalConfig, pEventManager, pAsyncUtils, pDecorators, UIGamePlay, UIGameLight, UIEmojiChat, NSAudio, pStringUtils, UIPlayer, YardPlayerData, SNGPlayerData, DBStorage, pComponentUtils, NSCardsDealer;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _createClass = module.createClass;
      _extends = module.extends;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Button = module.Button;
      Node = module.Node;
      Prefab = module.Prefab;
      UIOpacity = module.UIOpacity;
      Vec3 = module.Vec3;
      NodeEventType = module.NodeEventType;
      instantiate = module.instantiate;
    }, function (module) {
      ETypeModePlay = module.ETypeModePlay;
      EAudioID = module.EAudioID;
      EStatusPlayer = module.EStatusPlayer;
      UIType = module.UIType;
    }, function (module) {
      UIController = module.UIController;
    }, function (module) {
      PlayingController = module.default;
    }, function (module) {
      UIChatBox = module.UIChatBox;
    }, function (module) {
      GlobalConfig = module.default;
    }, function (module) {
      pEventManager = module.pEventManager;
    }, function (module) {
      pAsyncUtils = module.pAsyncUtils;
    }, function (module) {
      pDecorators = module.pDecorators;
    }, function (module) {
      UIGamePlay = module.default;
    }, function (module) {
      UIGameLight = module.UIGameLight;
    }, function (module) {
      UIEmojiChat = module.UIEmojiChat;
    }, function (module) {
      NSAudio = module.NSAudio;
    }, function (module) {
      pStringUtils = module.pStringUtils;
    }, function (module) {
      UIPlayer = module.UIPlayer;
    }, function (module) {
      YardPlayerData = module.YardPlayerData;
    }, function (module) {
      SNGPlayerData = module.SNGPlayerData;
    }, function (module) {
      DBStorage = module.DBStorage;
    }, function (module) {
      pComponentUtils = module.pComponentUtils;
    }, function (module) {
      NSCardsDealer = module.NSCardsDealer;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7;
      cclegacy._RF.push({}, "10f32r3c3hBQ75y8NAnUbJV", "UIItemPlayer", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var chat_group = {
        id: 'Infor',
        name: "Chat"
      };
      var btn_group = {
        id: "Infor",
        name: 'Button'
      };
      var UIItemPlayer = exports('UIItemPlayer', (_dec = ccclass('UIItemPlayer'), _dec2 = property({
        type: Button,
        group: btn_group
      }), _dec3 = property({
        type: Button,
        group: btn_group
      }), _dec4 = property({
        type: Button,
        group: btn_group
      }), _dec5 = property({
        type: Node,
        group: chat_group
      }), _dec6 = property({
        type: Prefab,
        group: chat_group
      }), _dec7 = property({
        type: Prefab,
        group: chat_group
      }), _dec8 = property(UIOpacity), _dec(_class = (_class2 = /*#__PURE__*/function (_UIPlayer) {
        _inheritsLoose(UIItemPlayer, _UIPlayer);
        function UIItemPlayer() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIPlayer.call.apply(_UIPlayer, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "btnClickItem", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnInvitePlayer", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnChooseSlot", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "chatPool", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "chatBox", _descriptor5, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "chatEmoji", _descriptor6, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "dark", _descriptor7, _assertThisInitialized(_this));
          _this.raiseRq = 0;
          _this._callRq = 0;
          _this._events = [['onSitDown', _this._onSitDown, _assertThisInitialized(_this)],
          //['onStandUp', this._onStandUp, this],
          ['onNewRound', _this._onNewRound, _assertThisInitialized(_this)], ['onNewGame', _this._onNewGame, _assertThisInitialized(_this)], ['onEndTurn', _this._onEndTurn, _assertThisInitialized(_this)], ['onLeaveTable', _this._onLeaveTable, _assertThisInitialized(_this)], ['onUpdateMyself', _this._onUpdateMyself, _assertThisInitialized(_this)]];
          _this.defaultChatNodeScale = new Vec3(1, 1, 1);
          _this._expRewardAmount = NaN;
          _this._pShowAnte = Promise.resolve();
          _this._isNew = false;
          _this._actions = null;
          _this._round = 'Deal';
          _this._isPlaying = false;
          _this._isTurn = false;
          _this._dataCreator = function (player, mode) {
            switch (mode) {
              case ETypeModePlay.MTT:
                {
                  return YardPlayerData.create(player);
                }
              case ETypeModePlay.SNG:
                {
                  return SNGPlayerData.create(player);
                }
              case ETypeModePlay.YARD:
                {
                  return YardPlayerData.create(player);
                }
              case ETypeModePlay.PLAY_NOW:
                {
                  break;
                }
            }
          };
          _this._blocked = false;
          _this._betted = 0;
          _this._lastBetted = 0;
          _this._inviter = null;
          _this._cid = pStringUtils.uuid();
          return _this;
        }
        var _proto = UIItemPlayer.prototype;
        _proto._onChangeStatus = function _onChangeStatus(type) {
          this.uiPlayerInfo.setSkippingView(type === 'fold' || type === 'waiting');
          type == 'fold' && this.uiGameInfo.showSkippingCard(this.isMain);
          type == 'waiting' && this.onTurn(false);
        };
        _proto.setData = function setData(data) {
          this._data.init(data);
          this.uiPlayerInfo.init(this._data);
        };
        _proto.showRewardExp = function showRewardExp() {
          this.isMain && this.log("showRewardExp", this._expRewardAmount);
          if (isNaN(this._expRewardAmount)) return;
          this.uiGameInfo.status.gainExp(this._expRewardAmount);
          this._expRewardAmount = NaN;
        };
        _proto._onUpdateMyself = function _onUpdateMyself(data) {
          if (!this.isMain) return;
          if ('msg' in data && 'code' in data) {
            var msg = data.msg,
              code = data.code;
            switch (code) {
              case 1016:
                {
                  if ('exp' in msg) {
                    var exp = data.msg.exp;
                    this._expRewardAmount = exp.expAdded;
                  }
                  break;
                }
              case 1010:
                {
                  var _exp = msg.exp;
                  this._expRewardAmount = _exp;
                  //this.uiGameInfo.status.gainExp(exp);
                  break;
                }
            }
          }
        };
        _proto._onSitDown = function _onSitDown() {
          var state = this.isEmptySit() ? 'invite' : 'ui';
          this.toggler.jump(state);
          pDecorators.instance(NSAudio.Manager).play(EAudioID.SFX_SIT_DOWN);
        };
        _proto._onNewGame = /*#__PURE__*/function () {
          var _onNewGame2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(p, ante, game) {
            var _this2 = this;
            var _promise;
            return _regeneratorRuntime().wrap(function _callee2$(_context2) {
              while (1) switch (_context2.prev = _context2.next) {
                case 0:
                  if (this.isEmpty) {
                    _context2.next = 8;
                    break;
                  }
                  if (!(ante > 0)) {
                    _context2.next = 7;
                    break;
                  }
                  _promise = new Promise( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(_rs) {
                    return _regeneratorRuntime().wrap(function _callee$(_context) {
                      while (1) switch (_context.prev = _context.next) {
                        case 0:
                          _context.next = 2;
                          return _this2.uiGameInfo.actBet(_this2, ante, ante, 1);
                        case 2:
                          _this2.uiGameInfo.view.active(false);
                          _context.next = 5;
                          return _this2.uiGameInfo.actPot(ante, game, false);
                        case 5:
                          _rs();
                        case 6:
                        case "end":
                          return _context.stop();
                      }
                    }, _callee);
                  })));
                  this._pShowAnte = _promise;
                  _context2.next = 7;
                  return this._pShowAnte;
                case 7:
                  !this.isMain && this.showBackCardPlayer();
                case 8:
                case "end":
                  return _context2.stop();
              }
            }, _callee2, this);
          }));
          function _onNewGame(_x, _x2, _x3) {
            return _onNewGame2.apply(this, arguments);
          }
          return _onNewGame;
        }();
        _proto._onNewRound = /*#__PURE__*/function () {
          var _onNewRound2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(round, game) {
            var _this3 = this;
            var _gp, _act;
            return _regeneratorRuntime().wrap(function _callee3$(_context3) {
              while (1) switch (_context3.prev = _context3.next) {
                case 0:
                  _context3.next = 3;
                  return this._pShowAnte;
                case 3:
                  _gp = pDecorators.instance(UIGamePlay);
                  _act = function _act() {
                    _gp.uiCommunityCard.remove('onDone', _act);
                    _this3.setTxtStatus('hide');
                  };
                  _gp.uiCommunityCard.add('onDone', _act);
                  this.callRq = 0;
                  this.raiseRq = 0;
                  if (!this.isEmptySit()) {
                    _context3.next = 10;
                    break;
                  }
                  return _context3.abrupt("return");
                case 10:
                  this.uiGameInfo.actPot(this._betted, game, false);
                  this.isFolded && this.uiGameInfo.view.active(false);
                case 12:
                case "end":
                  return _context3.stop();
              }
            }, _callee3, this);
          }));
          function _onNewRound(_x5, _x6) {
            return _onNewRound2.apply(this, arguments);
          }
          return _onNewRound;
        }();
        _proto.save = function save(_action, round) {
          if (!_action) return;
          var action = _action.action,
            amount = _action.amount,
            playerName = _action.playerName;
          var is = !this.data || this.data.username != playerName;
          if (is) return;
          this._round = round;
          this._actions[round].push(_action);
          this._isNew = true;
          if (this.data.chips <= 0) _action.action = 'allin';
          this.setTxtStatus(action == 'call' && amount <= 0 ? 'check' : action);
        };
        _proto.onTurn = function onTurn(isTurn, duraion) {
          if (duraion === void 0) {
            duraion = 0.25;
          }
          pDecorators.instance(NSAudio.Manager).stop(EAudioID.SFX_CLOCK);
          pAsyncUtils.stop({
            id: this._cid
          });
          this._isTurn = isTurn;
          this._isPlaying = true;
          if (isTurn) {
            pDecorators.instance(UIGameLight).setTarget(this, duraion);
            this._status = 'hide';
            this.setTxtStatus('hide');
            this.isMain && pDecorators.instance(NSAudio.Manager).play(EAudioID.SFX_ON_TURN);
          }
          this.uiPlayerInfo.showDark(this.status == 'waiting' ? true : !isTurn);
        };
        _proto.updateData = function updateData(key, data) {
          if (!this.data) return;
          this.data.update(key, data);
          this.uiPlayerInfo.init(this._data);
        };
        _proto.updatesData = function updatesData(opt) {
          var _this$data;
          if (!this.data) return;
          for (var _len2 = arguments.length, opts = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {
            opts[_key2 - 1] = arguments[_key2];
          }
          (_this$data = this.data).updates.apply(_this$data, [opt].concat(opts));
          this.uiPlayerInfo.init(this._data);
        };
        _proto.onLoad = function onLoad() {
          var _this4 = this;
          this.node.on(NodeEventType.CHILD_REMOVED, function () {
            return _this4.data.init(null);
          }, this);
          this.dark.node.active = false;
          this.chatPool.getScale(this.defaultChatNodeScale);
          this._initActions();
        };
        _proto._initActions = function _initActions() {
          this._actions = {
            Deal: new Array(),
            Flop: new Array(),
            Turn: new Array(),
            River: new Array()
          };
        };
        _proto.onEnable = function onEnable() {
          pEventManager.on(this._events);
        };
        _proto.start = function start() {
          pComponentUtils.appends({
            _options: [{
              _handlers: this._actView,
              _target: this.btnClickItem
            }, {
              _handlers: this._actInvite,
              _target: this.btnInvitePlayer
            }, {
              _handlers: this._actSitDown,
              _target: this.btnChooseSlot
            }],
            _type: Button.EventType.CLICK,
            _binder: this
          });
        };
        _proto.onDisable = function onDisable() {
          pEventManager.off(this._events);
        };
        _proto._onInit = function _onInit(data, isMainSitDown, mode) {
          switch (mode) {
            case ETypeModePlay.MTT:
              {
                this.uiGameInfo.setClockSpeed(10);
                if (!data) {
                  this.node.active = false;
                  return;
                }
                break;
              }
            case ETypeModePlay.SNG:
              {
                //V MTT n SNG are 6s timer
                this.uiGameInfo.setClockSpeed(6);
                if (!data) {
                  this.node.active = false;
                  return;
                }
                break;
              }
            case ETypeModePlay.PLAY_NOW:
            case ETypeModePlay.YARD:
              {
                //V YARD n PLAY_NOW are 20s timer
                this.uiGameInfo.setClockSpeed(20);
                break;
              }
          }
          this.node.active = true;
          var state = !!data ? 'ui' : isMainSitDown ? 'invite' : 'sit';
          if (!data) {
            this._reset();
            this.state = EStatusPlayer.WATCH;
          }
          this.toggler.jump(state);
          this.uiPlayerInfo.init(this._data);

          //this.setData(data);
        };

        _proto.initTutorial = function initTutorial(data) {
          this._data = YardPlayerData.create(data);
          this.toggler.jump('ui');
          this.uiPlayerInfo.init(this._data);
        };
        _proto.showDark = function showDark() {
          this.dark.node.active = this.isEmptySit();
        };
        _proto.offDark = function offDark() {
          if (this._blocked) return;
          this.dark.node.active = false;
        };
        _proto.waitShowAnte = function waitShowAnte() {
          return this._pShowAnte;
        };
        _proto.blockOffDark = function blockOffDark(show) {
          if (show === void 0) {
            show = true;
          }
          this._blocked = true;
          show && this.showDark();
        };
        _proto.forceOffDark = function forceOffDark() {
          this._blocked = false;
          this.offDark();
        };
        _proto.showBackCardPlayer = /*#__PURE__*/function () {
          var _showBackCardPlayer = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {
            return _regeneratorRuntime().wrap(function _callee4$(_context4) {
              while (1) switch (_context4.prev = _context4.next) {
                case 0:
                  _context4.next = 2;
                  return pDecorators.instance(NSCardsDealer.Component).getWaiter();
                case 2:
                  this.uiGameInfo.showBackHandCard();
                case 3:
                case "end":
                  return _context4.stop();
              }
            }, _callee4, this);
          }));
          function showBackCardPlayer() {
            return _showBackCardPlayer.apply(this, arguments);
          }
          return showBackCardPlayer;
        }();
        _proto.showFaceCardPlayer = /*#__PURE__*/function () {
          var _showFaceCardPlayer = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(cards) {
            return _regeneratorRuntime().wrap(function _callee5$(_context5) {
              while (1) switch (_context5.prev = _context5.next) {
                case 0:
                  _context5.next = 2;
                  return pDecorators.instance(NSCardsDealer.Component).getWaiter();
                case 2:
                  this.uiGameInfo.showHandCard(cards, !this.isMain);
                case 3:
                case "end":
                  return _context5.stop();
              }
            }, _callee5, this);
          }));
          function showFaceCardPlayer(_x7) {
            return _showFaceCardPlayer.apply(this, arguments);
          }
          return showFaceCardPlayer;
        }();
        _proto._onEndTurn = function _onEndTurn(data) {
          var route = data.route;
          if (route !== 'onEndTurn') return;
          this.uiPlayerInfo.reset();
        };
        _proto.hasUserName = function hasUserName(user_name) {
          if (!this._data) return false;
          return this._data.username == user_name;
        };
        _proto.actChat = function actChat(msg) {
          this.chatPool.removeAllChildren();
          var node = instantiate(this.chatBox);
          var chat = node.getComponent(UIChatBox);
          this.chatPool.addChild(node);
          chat.setChat(msg);
        };
        _proto.actChatEmoji = function actChatEmoji(emojiName) {
          this.chatPool.removeAllChildren();
          var _node = instantiate(this.chatEmoji);
          var _chat = _node.getComponent(UIEmojiChat);
          this.chatPool.addChild(_node);
          _chat.setEmoji(emojiName);
        };
        _proto.resetBetted = function resetBetted() {
          this._betted = 0;
          this._lastBetted = 0;
        };
        _proto.updateAmountChipBet = /*#__PURE__*/function () {
          var _updateAmountChipBet = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6(amount) {
            var is, _dif;
            return _regeneratorRuntime().wrap(function _callee6$(_context6) {
              while (1) switch (_context6.prev = _context6.next) {
                case 0:
                  is = this.betted == 0 && this.lastBetted == 0 || this.betted != amount && this._lastBetted != this._betted || this._isNew;
                  if (is) {
                    _context6.next = 3;
                    break;
                  }
                  return _context6.abrupt("return", Promise.resolve());
                case 3:
                  this._lastBetted = this._betted;
                  this._betted = amount;
                  this._isNew = false;
                  _dif = Math.max(this._betted - this._lastBetted, 0);
                  _context6.next = 9;
                  return this._pShowAnte;
                case 9:
                  return _context6.abrupt("return", this.uiGameInfo.actBet(this, _dif, amount));
                case 10:
                case "end":
                  return _context6.stop();
              }
            }, _callee6, this);
          }));
          function updateAmountChipBet(_x8) {
            return _updateAmountChipBet.apply(this, arguments);
          }
          return updateAmountChipBet;
        }();
        _proto.activeWinner = function activeWinner(status) {
          var is = this.isMain;
          this.uiGameInfo.status.activeWinner(status, is);
        };
        _proto._actView = function _actView() {
          PlayingController.instance.showProfilePlayer(this.data);
        };
        _proto._actInvite = /*#__PURE__*/function () {
          var _actInvite2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee7() {
            var UI;
            return _regeneratorRuntime().wrap(function _callee7$(_context7) {
              while (1) switch (_context7.prev = _context7.next) {
                case 0:
                  _context7.next = 2;
                  return this._inviter;
                case 2:
                  UI = _context7.sent;
                  if (!(UI && UI.active)) {
                    _context7.next = 5;
                    break;
                  }
                  return _context7.abrupt("return");
                case 5:
                  this._inviter = UIController.Instance.open(UIType.INVITE_PLAYER);
                case 6:
                case "end":
                  return _context7.stop();
              }
            }, _callee7, this);
          }));
          function _actInvite() {
            return _actInvite2.apply(this, arguments);
          }
          return _actInvite;
        }();
        _proto._actSitDown = /*#__PURE__*/function () {
          var _actSitDown2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee8() {
            var instance, _pDecorators$instance, data, extendData, typeModePlay, maxBuyIn, _db, _auto_buy, _buyIn;
            return _regeneratorRuntime().wrap(function _callee8$(_context8) {
              while (1) switch (_context8.prev = _context8.next) {
                case 0:
                  instance = PlayingController.instance;
                  _pDecorators$instance = pDecorators.instance(UIGamePlay), data = _pDecorators$instance.data;
                  extendData = data.data, typeModePlay = data.mode;
                  maxBuyIn = extendData.maxBuyIn;
                  if (!(typeModePlay != ETypeModePlay.YARD)) {
                    _context8.next = 6;
                    break;
                  }
                  return _context8.abrupt("return");
                case 6:
                  _db = pDecorators.instance(DBStorage);
                  _auto_buy = _db.load('AUTO_BUY_IN', false);
                  _buyIn = GlobalConfig.instance.getBalance(Math.floor(maxBuyIn / 2));
                  instance.actBuyIn(this.indexSlot, extendData, _auto_buy, _buyIn);
                case 10:
                case "end":
                  return _context8.stop();
              }
            }, _callee8, this);
          }));
          function _actSitDown() {
            return _actSitDown2.apply(this, arguments);
          }
          return _actSitDown;
        }();
        _proto.getLastRoundAction = function getLastRoundAction(_checker, round) {
          var actions = this._actions[round];
          if (!actions) return undefined;
          var ret = actions.find(function (a) {
            return _checker(a.action, a.amount);
          });
          return ret;
        };
        _proto.reset = function reset(clearData) {
          if (clearData === void 0) {
            clearData = false;
          }
          this._reset();
          this._initActions();
          this._round = 'Deal';
          if (clearData) {
            var _pDecorators$instance2 = pDecorators.instance(UIGamePlay),
              data = _pDecorators$instance2.data;
            this.init(null, data.mode, PlayingController.instance.isMainSitDown);
          }
        };
        _proto.resetTutorial = function resetTutorial(clearData) {
          if (clearData === void 0) {
            clearData = false;
          }
          this._reset();
          this._initActions();
          this._round = 'Deal';
          clearData && this.initTutorial(null);
        };
        _proto._reset = function _reset() {
          var _isMain = this.isMain;
          this._isPlaying = false;
          this._isTurn = false;
          this._status = 'hide';
          this.setTxtStatus('hide');
          this.uiGameInfo.reset(_isMain);
          this.uiPlayerInfo.reset();
          this.callRq = 0;
          this.raiseRq = 0;
        };
        _proto._onLeaveTable = function _onLeaveTable() {
          this.unscheduleAllCallbacks();
          this.reset(true);
        };
        _proto.activeClock = /*#__PURE__*/function () {
          var _activeClock = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee9(status, timeleft) {
            var _time, _au, _audio, _dur;
            return _regeneratorRuntime().wrap(function _callee9$(_context9) {
              while (1) switch (_context9.prev = _context9.next) {
                case 0:
                  this.uiGameInfo.activeClocker(status);
                  pAsyncUtils.stop({
                    id: this._cid
                  });
                  if (!(!this.isMain || !status)) {
                    _context9.next = 4;
                    break;
                  }
                  return _context9.abrupt("return");
                case 4:
                  _time = 19.5;
                  timeleft = !!timeleft ? _time - (Date.now() - timeleft) / 1000 : _time;
                  _au = pDecorators.instance(NSAudio.Manager).get(this.isMain ? EAudioID.SFX_CLOCK : EAudioID.SFX_TIME_UP);
                  _audio = _au.audio;
                  _dur = (_audio == null ? void 0 : _audio.getDuration()) || 0;
                  _context9.next = 11;
                  return pAsyncUtils.wait({
                    time: timeleft - _dur,
                    id: this._cid
                  });
                case 11:
                  _au.play(_audio);
                case 12:
                case "end":
                  return _context9.stop();
              }
            }, _callee9, this);
          }));
          function activeClock(_x9, _x10) {
            return _activeClock.apply(this, arguments);
          }
          return activeClock;
        }();
        _proto.is = function is(data) {
          if (!this.data || !data) return false;
          return this.data.id == data.id;
        };
        _createClass(UIItemPlayer, [{
          key: "hand",
          get: function get() {
            if (!this.data) return [];
            return this.uiGameInfo.hand.card;
          }
        }, {
          key: "clonedPlayerData",
          get: function get() {
            return _extends({}, this.data);
          }
        }, {
          key: "normalizeData",
          get: function get() {
            var _this$data2;
            return {
              raiseRq: this.raiseRq,
              callRq: this.callRq,
              betted: this.betted,
              lastBetted: this.lastBetted,
              name: (_this$data2 = this.data) == null ? void 0 : _this$data2.username,
              isMain: this.isMain
            };
          }
        }, {
          key: "callRq",
          get: function get() {
            return this._callRq;
          },
          set: function set(x) {
            if (this.isEmptySit()) return;
            this._callRq = Math.min(this.data.chips, x);
          }
        }, {
          key: "index",
          get: function get() {
            return this.data ? this.data.index : -1;
          }
        }, {
          key: "isTurn",
          get: function get() {
            return this._isTurn;
          }
        }, {
          key: "isPlaying",
          get: function get() {
            return this._isPlaying;
          }
        }, {
          key: "betted",
          get: function get() {
            return this._betted;
          }
        }, {
          key: "lastBetted",
          get: function get() {
            return this._lastBetted;
          }
        }, {
          key: "isFolded",
          get: function get() {
            if (!this.data) return false;
            return this.data.folded;
          }
        }]);
        return UIItemPlayer;
      }(UIPlayer), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "btnClickItem", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "btnInvitePlayer", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "btnChooseSlot", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "chatPool", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "chatBox", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, "chatEmoji", [_dec7], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor7 = _applyDecoratedDescriptor(_class2.prototype, "dark", [_dec8], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIItemPlayerManager.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './ComponentUtils.ts', './Decorators.ts', './UIPlayer.ts'], function (exports) {
  var _applyDecoratedDescriptor, _createClass, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _asyncToGenerator, _regeneratorRuntime, cclegacy, _decorator, v3, Component, Vec3, pComponentUtils, pDecorators, UIPlayer;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _createClass = module.createClass;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      v3 = module.v3;
      Component = module.Component;
      Vec3 = module.Vec3;
    }, function (module) {
      pComponentUtils = module.pComponentUtils;
    }, function (module) {
      pDecorators = module.pDecorators;
    }, function (module) {
      UIPlayer = module.UIPlayer;
    }],
    execute: function () {
      exports('NSItemPlayerManager', void 0);
      cclegacy._RF.push({}, "194b1vjZn5FNKKBv00Q5AZw", "UIItemPlayerManager", undefined);
      var _cc$_decorator = _decorator,
        ccclass = _cc$_decorator.ccclass,
        property = _cc$_decorator.property,
        executeInEditMode = _cc$_decorator.executeInEditMode,
        disallowMultiple = _cc$_decorator.disallowMultiple;
      var NSItemPlayerManager;
      (function (_NSItemPlayerManager, _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _dec11, _dec12, _dec13, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _dec14, _dec15, _dec16, _class4, _class5, _descriptor7) {
        var Helper = (_dec = ccclass('UIItemPlayerHelper'), _dec2 = property({
          type: UIPlayer,
          readonly: true
        }), _dec3 = property({}), _dec4 = property({}), _dec5 = property({}), _dec6 = property({}), _dec7 = property({}), _dec8 = property({}), _dec9 = property({}), _dec10 = property({}), _dec11 = property({}), _dec12 = property({}), _dec13 = property({}), _dec(_class = (_class2 = /*#__PURE__*/function () {
          function Helper() {
            _initializerDefineProperty(this, "item", _descriptor, this);
            _initializerDefineProperty(this, "_position", _descriptor2, this);
            _initializerDefineProperty(this, "_card", _descriptor3, this);
            _initializerDefineProperty(this, "_chip", _descriptor4, this);
            _initializerDefineProperty(this, "_deader", _descriptor5, this);
            _initializerDefineProperty(this, "_gift", _descriptor6, this);
          }
          Helper.create = function create(item) {
            var ret = new Helper();
            ret.item = item;
            return ret;
          };
          var _proto = Helper.prototype;
          _proto.rotate = function rotate() {};
          _createClass(Helper, [{
            key: "index",
            get: function get() {
              return this.item ? this.item.indexSlot : -1;
            }
          }, {
            key: "position",
            get: function get() {
              return this._position;
            }
          }, {
            key: "wposition",
            get: function get() {
              return {
                position: this._position,
                isWorldPos: false
              };
            }
          }, {
            key: "card",
            get: function get() {
              return this._card;
            }
          }, {
            key: "wcard",
            get: function get() {
              return {
                position: this._card,
                isWorldPos: false
              };
            }
          }, {
            key: "chip",
            get: function get() {
              return this._chip;
            }
          }, {
            key: "wchip",
            get: function get() {
              return {
                position: this._chip,
                isWorldPos: false
              };
            }
          }, {
            key: "dealer",
            get: function get() {
              return this._deader;
            }
          }, {
            key: "wdealer",
            get: function get() {
              return {
                position: this._deader,
                isWorldPos: false
              };
            }
          }, {
            key: "gift",
            get: function get() {
              return this._gift;
            }
          }, {
            key: "wgift",
            get: function get() {
              return {
                position: this._gift,
                isWorldPos: false
              };
            }
          }]);
          return Helper;
        }(), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "item", [_dec2], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: null
        }), _applyDecoratedDescriptor(_class2.prototype, "index", [_dec3], Object.getOwnPropertyDescriptor(_class2.prototype, "index"), _class2.prototype), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "_position", [_dec4], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return v3();
          }
        }), _applyDecoratedDescriptor(_class2.prototype, "position", [_dec5], Object.getOwnPropertyDescriptor(_class2.prototype, "position"), _class2.prototype), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "_card", [_dec6], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return v3();
          }
        }), _applyDecoratedDescriptor(_class2.prototype, "card", [_dec7], Object.getOwnPropertyDescriptor(_class2.prototype, "card"), _class2.prototype), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "_chip", [_dec8], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return v3();
          }
        }), _applyDecoratedDescriptor(_class2.prototype, "chip", [_dec9], Object.getOwnPropertyDescriptor(_class2.prototype, "chip"), _class2.prototype), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "_deader", [_dec10], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return v3();
          }
        }), _applyDecoratedDescriptor(_class2.prototype, "dealer", [_dec11], Object.getOwnPropertyDescriptor(_class2.prototype, "dealer"), _class2.prototype), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, "_gift", [_dec12], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return v3();
          }
        }), _applyDecoratedDescriptor(_class2.prototype, "gift", [_dec13], Object.getOwnPropertyDescriptor(_class2.prototype, "gift"), _class2.prototype)), _class2)) || _class);
        _NSItemPlayerManager.Helper = Helper;
        var Component$1 = (_dec14 = ccclass('UIItemPlayerManager'), _dec15 = pDecorators.logger('UIItemPlayerManager'), _dec16 = property({
          type: [Helper],
          readonly: true
        }), _dec14(_class4 = executeInEditMode(_class4 = disallowMultiple(_class4 = _dec15(_class4 = (_class5 = /*#__PURE__*/function (_cc$Component) {
          _inheritsLoose(Component, _cc$Component);
          function Component() {
            var _this;
            for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
              args[_key] = arguments[_key];
            }
            _this = _cc$Component.call.apply(_cc$Component, [this].concat(args)) || this;
            _initializerDefineProperty(_this, "helpers", _descriptor7, _assertThisInitialized(_this));
            _this._items = [];
            return _this;
          }
          var _proto2 = Component.prototype;
          _proto2.onFocusInEditor = function onFocusInEditor() {
            this._onEditorHandle();
          };
          _proto2.onLostFocusInEditor = function onLostFocusInEditor() {
            this._onEditorHandle();
          };
          _proto2._onEditorHandle = function _onEditorHandle() {
            return;
          };
          _proto2.onLoad = function onLoad() {
            pComponentUtils.isOnLoaded(this) && this._onEditorHandle();
            this._items = this.helpers.map(function (helper) {
              return helper.item;
            });
          };
          _proto2.actRotate = /*#__PURE__*/function () {
            var _actRotate = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(cfg, clockwise, duration) {
              var _this2 = this;
              var all, _list, center;
              return _regeneratorRuntime().wrap(function _callee2$(_context2) {
                while (1) switch (_context2.prev = _context2.next) {
                  case 0:
                    if (duration === void 0) {
                      duration = 0.25;
                    }
                    all = this.helpers.map(function (helper) {
                      var _sindex = cfg.indexOf(helper.index);
                      var _action = /*#__PURE__*/function () {
                        var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(value) {
                          var _helper;
                          return _regeneratorRuntime().wrap(function _callee$(_context) {
                            while (1) switch (_context.prev = _context.next) {
                              case 0:
                                _helper = _this2.helpers.find(function (_h) {
                                  return _h.index === value;
                                });
                                if (_helper) {
                                  _context.next = 4;
                                  break;
                                }
                                console.log("[UI ITEM MANAGER ] >> SHOW ANIM CHANGE POS >>> MISSING HELPER FOR INDEX ", value, _this2.helpers);
                                return _context.abrupt("return", false);
                              case 4:
                                _context.next = 7;
                                return helper.item.actRotate(duration, _helper.wposition, cfg.length);
                              case 7:
                                return _context.abrupt("return", _sindex === value);
                              case 8:
                              case "end":
                                return _context.stop();
                            }
                          }, _callee);
                        }));
                        return function _action(_x4) {
                          return _ref.apply(this, arguments);
                        };
                      }();
                      return _this2.circularLoopFromStart(cfg, _sindex, _action, clockwise);
                    });
                    _context2.next = 4;
                    return Promise.all(all);
                  case 4:
                    _list = [];
                    cfg.forEach(function (_actorNr, _index) {
                      var _helper = _this2.helpers[_index];
                      var _target = _this2.helpers.find(function (_helper) {
                        return _helper.index === _actorNr;
                      });
                      if (!_target || !_helper) return;
                      var item = _target.item;
                      var wcard = _helper.wcard,
                        wchip = _helper.wchip,
                        wdealer = _helper.wdealer;
                      item.uiGameInfo.updatePosition(wcard, wchip, wdealer);
                      _list.push(item);
                    });
                    center = new Vec3(0, 0, 0);
                    _list.forEach(function (_pos) {
                      return Vec3.add(center, center, _pos.node.getWorldPosition());
                    });
                    center.multiplyScalar(1 / _list.length);
                  case 9:
                  case "end":
                    return _context2.stop();
                }
              }, _callee2, this);
            }));
            function actRotate(_x, _x2, _x3) {
              return _actRotate.apply(this, arguments);
            }
            return actRotate;
          }();
          _proto2.circularLoopFromStart = /*#__PURE__*/function () {
            var _circularLoopFromStart = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(array, sindex, conditioner, clockwise) {
              var length, index, _currentValue;
              return _regeneratorRuntime().wrap(function _callee3$(_context3) {
                while (1) switch (_context3.prev = _context3.next) {
                  case 0:
                    length = array.length;
                    index = sindex;
                    console.log("CIRCULAR LOOP FROM START ", array, sindex, clockwise);
                  case 3:
                    _currentValue = array[index];
                    _context3.next = 6;
                    return conditioner(_currentValue, index);
                  case 6:
                    if (!_context3.sent) {
                      _context3.next = 8;
                      break;
                    }
                    return _context3.abrupt("return", _currentValue);
                  case 8:
                    index = (index + (clockwise ? 1 : -1) + length) % length;
                  case 9:
                    if (index !== sindex) {
                      _context3.next = 3;
                      break;
                    }
                  case 10:
                    return _context3.abrupt("return", null);
                  case 11:
                  case "end":
                    return _context3.stop();
                }
              }, _callee3);
            }));
            function circularLoopFromStart(_x5, _x6, _x7, _x8) {
              return _circularLoopFromStart.apply(this, arguments);
            }
            return circularLoopFromStart;
          }();
          _createClass(Component, [{
            key: "items",
            get: function get() {
              return this._items;
            }
          }]);
          return Component;
        }(Component), _descriptor7 = _applyDecoratedDescriptor(_class5.prototype, "helpers", [_dec16], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return [];
          }
        }), _class5)) || _class4) || _class4) || _class4) || _class4);
        _NSItemPlayerManager.Component = Component$1;
      })(NSItemPlayerManager || (NSItemPlayerManager = exports('NSItemPlayerManager', {})));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIItemPlayerSNG.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts', './Enums.ts', './UIController.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _asyncToGenerator, _regeneratorRuntime, cclegacy, _decorator, EventTarget, Node, Button, UIBase, EEventType, UIType, UIController;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      EventTarget = module.EventTarget;
      Node = module.Node;
      Button = module.Button;
    }, function (module) {
      UIBase = module.UIBase;
    }, function (module) {
      EEventType = module.EEventType;
      UIType = module.UIType;
    }, function (module) {
      UIController = module.UIController;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7;
      cclegacy._RF.push({}, "c093deTcvJLG7nK/8jnVjCP", "UIItemPlayerSNG", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property,
        type = _decorator.type;
      var eventTarget = exports('eventTarget', new EventTarget());
      var UIItemPlayerSNG = exports('UIItemPlayerSNG', (_dec = ccclass('UIItemPlayerSNG'), _dec2 = type(Node), _dec3 = type(Node), _dec4 = type(Button), _dec5 = type(Button), _dec6 = type(Button), _dec7 = type(Button), _dec(_class = (_class2 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UIItemPlayerSNG, _UIBase);
        function UIItemPlayerSNG() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "playerInfo", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "gameInfo", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnClickShowResult", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnClickItem", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnInvitePlayer", _descriptor5, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnChooseSlot", _descriptor6, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "playerID", _descriptor7, _assertThisInitialized(_this));
          _this.dataItem = null;
          return _this;
        }
        var _proto = UIItemPlayerSNG.prototype;
        _proto._onStart = function _onStart() {
          this._addClicker(this.btnClickItem, this._onClickItem, this);
          this._addClicker(this.btnInvitePlayer, this._onClickInvitePlayer, this);
          this._addClicker(this.btnChooseSlot, this._onClickChooseSlot, this);
          eventTarget.on(EEventType.BUY_CHIP, this.isWatch, this);
        };
        _proto.isWatch = function isWatch(active) {
          this.playerInfo.active = !active;
          this.gameInfo.active = !active;
          this.btnInvitePlayer.node.active = !active;
          this.btnChooseSlot.node.active = active;
        };
        _proto._onClickItem = function _onClickItem() {
          UIController.Instance.open(UIType.PROFILE_PLAYER_INGAME, false);
          this._onClickResult();
        };
        _proto._onClickResult = /*#__PURE__*/function () {
          var _onClickResult2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {
            var _ui;
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  _context.next = 2;
                  return UIController.Instance.open(UIType.RESULT_SNG, false);
                case 2:
                  _ui = _context.sent;
                  _ui == null || _ui.show(this.playerID);
                case 4:
                case "end":
                  return _context.stop();
              }
            }, _callee, this);
          }));
          function _onClickResult() {
            return _onClickResult2.apply(this, arguments);
          }
          return _onClickResult;
        }();
        _proto._onClickInvitePlayer = function _onClickInvitePlayer() {
          UIController.Instance.open(UIType.INVITE_PLAYER, false);
        };
        _proto._onClickChooseSlot = function _onClickChooseSlot() {
          UIController.Instance.open(UIType.BUY_CHIP, false);
        };
        return UIItemPlayerSNG;
      }(UIBase), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "playerInfo", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "gameInfo", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "btnClickShowResult", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "btnClickItem", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "btnInvitePlayer", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, "btnChooseSlot", [_dec7], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor7 = _applyDecoratedDescriptor(_class2.prototype, "playerID", [property], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return 0;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIItemPurchased.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './MathUtils.ts', './StringUtils.ts', './EventManager.ts', './GlobalConfig.ts', './LanguageManager.ts', './GameManager.ts', './ResponeCode.ts', './ShopCommand.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _asyncToGenerator, _regeneratorRuntime, cclegacy, _decorator, Sprite, Label, Node, assetManager, SpriteFrame, Texture2D, UITransform, Component, sys, pMathUtils, pStringUtils, pEventManager, GlobalConfig, LanguageMananger, GameManager, ResponseCode, request;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Sprite = module.Sprite;
      Label = module.Label;
      Node = module.Node;
      assetManager = module.assetManager;
      SpriteFrame = module.SpriteFrame;
      Texture2D = module.Texture2D;
      UITransform = module.UITransform;
      Component = module.Component;
      sys = module.sys;
    }, function (module) {
      pMathUtils = module.pMathUtils;
    }, function (module) {
      pStringUtils = module.pStringUtils;
    }, function (module) {
      pEventManager = module.pEventManager;
    }, function (module) {
      GlobalConfig = module.default;
    }, function (module) {
      LanguageMananger = module.LanguageMananger;
    }, function (module) {
      GameManager = module.GameManager;
    }, function (module) {
      ResponseCode = module.ResponseCode;
    }, function (module) {
      request = module.default;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _dec11, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9, _descriptor10;
      cclegacy._RF.push({}, "0919bNV5D1Kf68k5rd5zcie", "UIItemPurchased", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var UIItemPurchased = exports('UIItemPurchased', (_dec = ccclass('UIItemPurchased'), _dec2 = property(Sprite), _dec3 = property(Label), _dec4 = property(Label), _dec5 = property(Sprite), _dec6 = property(Sprite), _dec7 = property(Sprite), _dec8 = property(Sprite), _dec9 = property(Label), _dec10 = property(Node), _dec11 = property(Node), _dec(_class = (_class2 = /*#__PURE__*/function (_Component) {
        _inheritsLoose(UIItemPurchased, _Component);
        function UIItemPurchased() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _Component.call.apply(_Component, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "spIcon", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbGetNumber", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbDes", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "spPayIconDiamond", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "spPayIconUSD", _descriptor5, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "spPayIconChip", _descriptor6, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "spPayIconCoin", _descriptor7, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbPayNum", _descriptor8, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "successNode", _descriptor9, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "failedNode", _descriptor10, _assertThisInitialized(_this));
          _this._data = void 0;
          return _this;
        }
        var _proto = UIItemPurchased.prototype;
        _proto.initData = function initData(data) {
          var _this2 = this;
          this._data = data;
          if (this._data.icon && this._data.icon.includes('http')) {
            assetManager.loadRemote(this._data.icon, function (err, imageAsset) {
              if (err) {
                console.error('Load image failed:', err);
                return;
              }
              if (imageAsset.width === 0 || imageAsset.height === 0) {
                console.warn('Invalid image data:', _this2._data.icon);
                return;
              }
              var spriteFrame = new SpriteFrame();
              spriteFrame.texture = new Texture2D();
              spriteFrame.texture.image = imageAsset;
              var spriteUITransform = _this2.spIcon.getComponent(UITransform);
              var spriteSize = spriteUITransform.contentSize;
              spriteUITransform.setContentSize(pMathUtils.scaleImageInsideBound(spriteSize.width, spriteSize.height, imageAsset.width, imageAsset.height));
              _this2.spIcon.spriteFrame = spriteFrame;
              _this2.spIcon.node.active = true;
            });
          }
          // let num = Number(this._data.item_value);
          // console.log("Value num", num);
          // this._data.item_value ? (this.lbGetNumber.string = pStringUtils.formatMoneyWithDot(Number(this._data.item_value))) : (this.lbGetNumber.node.active = false);
          this.lbGetNumber.string = this._data.item_name;
          var dateData = new Date(data.purchased_at);
          this.lbDes.string = dateData.getDate() + "-" + dateData.getMonth() + "-" + dateData.getFullYear();
          this.lbPayNum.string = pStringUtils.formatNumberKMB(Number(this._data.price));
          this.successNode.active = data.order_status === 'SUCCESS';
          this.failedNode.active = data.order_status === 'FAILED';
          switch (data.currency) {
            case 'CHIP':
              this.spPayIconChip.node.active = true;
              break;
            case 'USD':
              this.spPayIconUSD.node.active = true;
            case 'VND':
              this.spPayIconUSD.node.active = true;
              break;
            case 'DIAMOND':
              this.spPayIconDiamond.node.active = true;
              break;
            case 'COIN':
              this.spPayIconCoin.node.active = true;
              break;
          }
        };
        _proto.onButtonClick = /*#__PURE__*/function () {
          var _onButtonClick = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {
            var chip, coin, diamond, plaform, res, mess;
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  if (!(this._data.currency !== 'USD' && this._data.currency !== 'VND')) {
                    _context.next = 25;
                    break;
                  }
                  if (!(this._data.currency === 'CHIP')) {
                    _context.next = 6;
                    break;
                  }
                  chip = GlobalConfig.instance.Login.player.information.balance;
                  if (!(chip === undefined || chip < Number(this._data.price))) {
                    _context.next = 6;
                    break;
                  }
                  GameManager.Instance.showToastNotice(LanguageMananger.instance.getString('text_not_enough_chip'));
                  return _context.abrupt("return");
                case 6:
                  if (!(this._data.currency === 'COIN')) {
                    _context.next = 11;
                    break;
                  }
                  coin = GlobalConfig.instance.Login.player.otherBalance.coinBalance;
                  if (!(coin === undefined || coin < Number(this._data.price))) {
                    _context.next = 11;
                    break;
                  }
                  GameManager.Instance.showToastNotice(LanguageMananger.instance.getString('text_not_enough_coin'));
                  return _context.abrupt("return");
                case 11:
                  if (!(this._data.currency === 'DIAMOND')) {
                    _context.next = 17;
                    break;
                  }
                  // console.log("On buy click { diamond:", GlobalConfig.instance.Login.player.information.diamond, ", price:", Number(this._data.price));
                  diamond = GlobalConfig.instance.Login.player.otherBalance.diamondBalance;
                  if (!(diamond === undefined || diamond < Number(this._data.price))) {
                    _context.next = 17;
                    break;
                  }
                  GameManager.Instance.showToastNotice(LanguageMananger.instance.getString('text_not_enough_diamond'));
                  pEventManager.invoke('go_to_diamond_shop_page');
                  return _context.abrupt("return");
                case 17:
                  plaform = sys.os === sys.OS.IOS ? 'iOS' : sys.os === sys.OS.ANDROID ? 'Android' : 'Web';
                  _context.next = 20;
                  return request('buyItem', {
                    item_id: this._data.id,
                    platform: plaform
                  });
                case 20:
                  res = _context.sent;
                  mess = res.message;
                  if (res.code === ResponseCode.SUCCESS) {
                    GameManager.Instance.showToastNotice(LanguageMananger.instance.getString('text_buy_success'));
                  } else {
                    mess && GameManager.Instance.showToastNotice(mess);
                  }
                  _context.next = 25;
                  break;
                case 25:
                case "end":
                  return _context.stop();
              }
            }, _callee, this);
          }));
          function onButtonClick() {
            return _onButtonClick.apply(this, arguments);
          }
          return onButtonClick;
        }();
        return UIItemPurchased;
      }(Component), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "spIcon", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "lbGetNumber", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "lbDes", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "spPayIconDiamond", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "spPayIconUSD", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, "spPayIconChip", [_dec7], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor7 = _applyDecoratedDescriptor(_class2.prototype, "spPayIconCoin", [_dec8], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor8 = _applyDecoratedDescriptor(_class2.prototype, "lbPayNum", [_dec9], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor9 = _applyDecoratedDescriptor(_class2.prototype, "successNode", [_dec10], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor10 = _applyDecoratedDescriptor(_class2.prototype, "failedNode", [_dec11], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIItemRanker.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './AssetManager.ts', './StringUtils.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, cclegacy, _decorator, Node, Label, Sprite, SpriteFrame, Component, NSAsset, pStringUtils;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Node = module.Node;
      Label = module.Label;
      Sprite = module.Sprite;
      SpriteFrame = module.SpriteFrame;
      Component = module.Component;
    }, function (module) {
      NSAsset = module.NSAsset;
    }, function (module) {
      pStringUtils = module.pStringUtils;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8;
      cclegacy._RF.push({}, "02554qs/YpNZYixOaruC5au", "UIItemRanker", undefined);
      var ccclass = _decorator.ccclass,
        type = _decorator.type;
      var UIItemRanker = exports('UIItemRanker', (_dec = ccclass('UIItemRanker'), _dec2 = type(Node), _dec3 = type(Node), _dec4 = type(Label), _dec5 = type(Label), _dec6 = type(Sprite), _dec7 = type(Sprite), _dec8 = type(SpriteFrame), _dec9 = type(SpriteFrame), _dec(_class = (_class2 = /*#__PURE__*/function (_Component) {
        _inheritsLoose(UIItemRanker, _Component);
        function UIItemRanker() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _Component.call.apply(_Component, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "iconRank", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "txtRank", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbNamePlayer", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbChips", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "avatar", _descriptor5, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "statusPlayer", _descriptor6, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "listIconRank", _descriptor7, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "listIconStatus", _descriptor8, _assertThisInitialized(_this));
          return _this;
        }
        var _proto = UIItemRanker.prototype;
        _proto.init = function init(data) {
          var _this2 = this;
          var current_position = data.current_position,
            player_full_name = data.player_full_name,
            avatar = data.avatar,
            current_chips = data.current_chips;
          if (!current_position) return false;
          if (current_position > 0 && current_position <= 3) {
            this.iconRank.active = true;
            this.txtRank.active = false;
            this.iconRank.getComponent(Sprite).spriteFrame = this.listIconRank[current_position - 1];
          } else {
            this.iconRank.active = false;
            this.txtRank.active = true;
            this.txtRank.getComponent(Label).string = current_position.toString();
          }
          this.lbNamePlayer.string = player_full_name;
          this.lbChips.string = pStringUtils.formatNumberKMB(current_chips);
          NSAsset.instance().get(avatar).then(function (_avatar) {
            return _this2.avatar.spriteFrame = _avatar;
          });
          return true;
        };
        return UIItemRanker;
      }(Component), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "iconRank", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "txtRank", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "lbNamePlayer", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "lbChips", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "avatar", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, "statusPlayer", [_dec7], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor7 = _applyDecoratedDescriptor(_class2.prototype, "listIconRank", [_dec8], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return [];
        }
      }), _descriptor8 = _applyDecoratedDescriptor(_class2.prototype, "listIconStatus", [_dec9], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return [];
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIItemReward.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './LanguageManager.ts', './StringUtils.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, cclegacy, _decorator, Node, Label, SpriteFrame, Sprite, Component, LanguageMananger, pStringUtils;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Node = module.Node;
      Label = module.Label;
      SpriteFrame = module.SpriteFrame;
      Sprite = module.Sprite;
      Component = module.Component;
    }, function (module) {
      LanguageMananger = module.LanguageMananger;
    }, function (module) {
      pStringUtils = module.pStringUtils;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4;
      cclegacy._RF.push({}, "60a60IsjXZLvZLDt24fHu/L", "UIItemReward", undefined);
      var ccclass = _decorator.ccclass,
        type = _decorator.type;
      var UIItemReward = exports('UIItemReward', (_dec = ccclass('UIItemReward'), _dec2 = type(Node), _dec3 = type(Node), _dec4 = type(Label), _dec5 = type([SpriteFrame]), _dec(_class = (_class2 = /*#__PURE__*/function (_Component) {
        _inheritsLoose(UIItemReward, _Component);
        function UIItemReward() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _Component.call.apply(_Component, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "iconRank", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "txtRank", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbReward", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "listIconRank", _descriptor4, _assertThisInitialized(_this));
          return _this;
        }
        var _proto = UIItemReward.prototype;
        _proto.init = function init(data) {
          var rank = data.rank,
            reward_amount = data.reward_amount;
          if (rank > 0 && rank <= 3) {
            this.iconRank.active = true;
            this.txtRank.active = false;
            this.iconRank.getComponent(Sprite).spriteFrame = this.listIconRank[rank - 1];
            this.lbReward.string = pStringUtils.formatNumberKMB(reward_amount) + " " + LanguageMananger.getString('txt_chips');
          } else {
            this.iconRank.active = false;
            this.txtRank.active = true;
            this.txtRank.getComponent(Label).string = data.rank.toString();
            this.lbReward.string = pStringUtils.formatNumberKMB(reward_amount) + " " + LanguageMananger.getString('txt_chips');
          }
        };
        return UIItemReward;
      }(Component), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "iconRank", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "txtRank", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "lbReward", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "listIconRank", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return [];
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIItemRoomMTT.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './Enums.ts', './MTTController.ts', './TMttTournament.ts', './Decorators.ts', './MTTHelper.ts', './ArrayUtils.ts', './LanguageManager.ts', './StringUtils.ts', './UIController.ts', './UINotice.ts', './GlobalConfig.ts', './ResponeCode.ts', './NotifyToast.ts', './PlayingController.ts', './MTTCommand.ts', './AsyncUtils.ts', './DBStorage.ts', './EventManager.ts', './Constants.ts', './EventDriver.ts', './ComponentUtils.ts'], function (exports) {
  var _inheritsLoose, _asyncToGenerator, _regeneratorRuntime, _applyDecoratedDescriptor, _initializerDefineProperty, _assertThisInitialized, cclegacy, _decorator, Sprite, Button, Label, Node, UIType, ENumberPlayerCount, ETypeModePlay, EDealSpeed, NSMttConfig, TMttTournament, pDecorators, MTTSpace, pArray, LanguageMananger, pStringUtils, UIController, UINotice, GlobalConfig, ResponseCode, NotifyToast, PlayingController, request, pAsyncUtils, DBStorage, pEventManager, Duration, NSEventDriver, pComponentUtils;
  return {
    setters: [function (module) {
      _inheritsLoose = module.inheritsLoose;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Sprite = module.Sprite;
      Button = module.Button;
      Label = module.Label;
      Node = module.Node;
    }, function (module) {
      UIType = module.UIType;
      ENumberPlayerCount = module.ENumberPlayerCount;
      ETypeModePlay = module.ETypeModePlay;
      EDealSpeed = module.EDealSpeed;
    }, function (module) {
      NSMttConfig = module.NSMttConfig;
    }, function (module) {
      TMttTournament = module.TMttTournament;
    }, function (module) {
      pDecorators = module.pDecorators;
    }, function (module) {
      MTTSpace = module.MTTSpace;
    }, function (module) {
      pArray = module.pArray;
    }, function (module) {
      LanguageMananger = module.LanguageMananger;
    }, function (module) {
      pStringUtils = module.pStringUtils;
    }, function (module) {
      UIController = module.UIController;
    }, function (module) {
      UINotice = module.UINotice;
    }, function (module) {
      GlobalConfig = module.default;
    }, function (module) {
      ResponseCode = module.ResponseCode;
    }, function (module) {
      NotifyToast = module.NotifyToast;
    }, function (module) {
      PlayingController = module.default;
    }, function (module) {
      request = module.default;
    }, function (module) {
      pAsyncUtils = module.pAsyncUtils;
    }, function (module) {
      DBStorage = module.DBStorage;
    }, function (module) {
      pEventManager = module.pEventManager;
    }, function (module) {
      Duration = module.Duration;
    }, function (module) {
      NSEventDriver = module.NSEventDriver;
    }, function (module) {
      pComponentUtils = module.pComponentUtils;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _dec11, _dec12, _dec13, _dec14, _dec15, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9, _descriptor10, _descriptor11, _descriptor12, _descriptor13;
      cclegacy._RF.push({}, "5af4bmjahVJ6r96eliBUtz2", "UIItemRoomMTT", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property,
        executeInEditMode = _decorator.executeInEditMode;
      var _SPR_GROUP = {
        name: 'Sprite',
        id: '1'
      };
      var _INFO_GROUP = {
        name: 'Info',
        id: '1'
      };
      var _CFG_GROUP = {
        name: 'Config',
        id: '1'
      };
      var UIItemRoomMTT = exports('UIItemRoomMTT', (_dec = ccclass('UIItemRoomMTT'), _dec2 = executeInEditMode(), _dec3 = property({
        type: Sprite,
        group: _SPR_GROUP
      }), _dec4 = property({
        type: Button,
        group: _SPR_GROUP
      }), _dec5 = property({
        type: Button,
        group: _SPR_GROUP
      }), _dec6 = property({
        type: Sprite,
        group: _SPR_GROUP
      }), _dec7 = property({
        group: _INFO_GROUP,
        type: Label
      }), _dec8 = property({
        group: _INFO_GROUP,
        type: Label
      }), _dec9 = property({
        group: _INFO_GROUP,
        type: Label
      }), _dec10 = property({
        group: _INFO_GROUP,
        type: Label
      }), _dec11 = property({
        group: _INFO_GROUP,
        type: Label
      }), _dec12 = property({
        group: _INFO_GROUP,
        type: Label
      }), _dec13 = property({
        group: _INFO_GROUP,
        type: Node
      }), _dec14 = property({
        group: _INFO_GROUP,
        type: Node
      }), _dec15 = property({
        group: _CFG_GROUP,
        type: MTTSpace.ItemConfigManager
      }), _dec(_class = _dec2(_class = (_class2 = /*#__PURE__*/function (_NSEventDriver$Compon) {
        _inheritsLoose(UIItemRoomMTT, _NSEventDriver$Compon);
        function UIItemRoomMTT() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key2 = 0; _key2 < _len; _key2++) {
            args[_key2] = arguments[_key2];
          }
          _this = _NSEventDriver$Compon.call.apply(_NSEventDriver$Compon, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "bgItem", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnActionItem", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnShowInfo", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "bgBtnClickItem", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "txtBtnStatus", _descriptor5, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbNameRoom", _descriptor6, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbStageTourn", _descriptor7, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbTimer", _descriptor8, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbTime", _descriptor9, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbAmountPlayer", _descriptor10, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "sprHasRebuy", _descriptor11, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "sprHasAddOn", _descriptor12, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "config", _descriptor13, _assertThisInitialized(_this));
          _this._events = [['onJoinMTTLobby', _this._onJoinLobby, _assertThisInitialized(_this)]];
          _this._data = null;
          _this._registered = false;
          _this._eList = ['config'];
          _this._eArray = TMttTournament.qType;
          _this._aid = pStringUtils.uuid();
          _this._onRegister = null;
          return _this;
        }
        var _proto = UIItemRoomMTT.prototype;
        _proto.onFocusInEditor = function onFocusInEditor() {
          this._onUpdateEditor();
        };
        _proto.onLostFocusInEditor = function onLostFocusInEditor() {
          this._onUpdateEditor();
        };
        _proto._onUpdateEditor = function _onUpdateEditor() {
          if (!this._eList || !this._eArray) return;
          this._eManagersChecker(this._eList, this._eArray);
        };
        _proto._eManagersChecker = function _eManagersChecker(keys, list) {
          var _this2 = this;
          keys = pArray.flatter(keys);
          keys.forEach(function (_key) {
            return _this2._eManagerChecker(_key, list);
          });
        };
        _proto._eManagerChecker = function _eManagerChecker(_key, _list) {
          if (!this) return;
          var _target = this[_key];
          if (!_target) return;
          _target.check(_list);
          _target.apply();
        };
        _proto.onEnable = function onEnable() {
          pEventManager.off(this._events);
          pEventManager.on(this._events);
        };
        _proto.start = function start() {
          pComponentUtils.appends({
            _options: [{
              _handlers: this._actClick,
              _target: this.btnActionItem
            }, {
              _handlers: this._actShowInfo,
              _target: this.btnShowInfo
            }],
            _type: Button.EventType.CLICK,
            _binder: this
          });
        };
        _proto.onDisable = function onDisable() {
          pEventManager.off(this._events);
        };
        _proto.init = function init(data, registered) {
          this._data = data;
          this._registered = registered;
          pAsyncUtils.stop(this._aid);
          this._setup();
        };
        _proto._onJoinLobby = function _onJoinLobby() {
          pEventManager.off(this._events);
          pAsyncUtils.stop(this._aid);
        };
        _proto._clocker = function _clocker(_timer) {
          this.lbTime.string = Math.floor(_timer / 60).toString().padStart(2, "0") + ":" + Math.floor(_timer % 60).toString().padStart(2, "0");
        };
        _proto._countdown = function _countdown(left, timer, _final, skip) {
          var _this3 = this;
          if (skip === void 0) {
            skip = false;
          }
          if (this._data.status === 'running' || this._data.status === 'cancelled') return;
          this.lbTimer.string = LanguageMananger.getString(timer) + ":";
          var allow_late_reg = this._data.allow_late_reg;
          var regable_s = Duration.mtt.regable_s;
          if (!skip && !allow_late_reg && left <= regable_s) {
            this.txtBtnStatus.string = LanguageMananger.getString('txt_see_more');
            this._onRegister = this._actShowInfo.bind(this);
          }
          left > 0 ? (this._clocker(left), pAsyncUtils.stop(this._aid), pAsyncUtils.countdown({
            id: this._aid,
            time: left
          }, 1, function (_timer) {
            return _this3._clocker(_timer);
          }).then(_final)) : _final();
        };
        _proto.is = function is(id) {
          if (!this._data) return false;
          return this._data.tournament_id === id;
        };
        _proto._final = function _final() {
          try {
            var _is = this._data.registered_players >= this._data.min_players;
            if (_is) {
              this._data.status = 'running';
            } else if (this._data.status !== 'finished') {
              this._data.status = 'cancelled';
            }
            this._actBtnSetup();
            if (_is && this._registered) {
              this._handleTournamentStarted();
            } else if (!_is && this._data.status === 'cancelled' && GlobalConfig.instance.isMainScreen) {
              NotifyToast.instance.showWithKey({
                key: 'dynamic_mtt_tour_cancelled',
                replacers: {
                  find: "@name",
                  replacer: this._data.name
                }
              });
            }
            this.invoke('onStarted', this._data.tournament_id, _is);
          } catch (error) {
            console.warn("MTT >> _final >> ERROR >>", error);
          }
        };
        _proto._handleTournamentStarted = function _handleTournamentStarted() {
          var _this4 = this;
          NotifyToast.instance.showWithKey({
            key: 'dynamic_mtt_tour_started',
            replacers: {
              find: "@name",
              replacer: this._data.name
            }
          });
          this.txtBtnStatus.string = LanguageMananger.getString('txt_join');
          this._onRegister = this._actJoin.bind(this);
          var countdownTime = 60;
          this._clocker(countdownTime);
          pAsyncUtils.countdown({
            id: this._aid,
            time: countdownTime
          }, 1, function (timer) {
            return _this4._clocker(timer);
          }).then(function () {
            return _this4.invoke('onCompleteLate', _this4._data.tournament_id);
          });
        };
        _proto._actUpdateToJoinBtn = function _actUpdateToJoinBtn() {};
        _proto._actClick = function _actClick() {
          this._onRegister && this._onRegister(this._data);
        };
        _proto._setup = function _setup() {
          var _this5 = this;
          if (!this._data) return;
          var _this$_data = this._data,
            name = _this$_data.name,
            tournament_type = _this$_data.tournament_type,
            total_fee = _this$_data.total_fee,
            addon_config = _this$_data.addon_config,
            rebuy_config = _this$_data.rebuy_config;
          var _pDecorators$instance = pDecorators.instance(NSMttConfig.Controller),
            config = _pDecorators$instance.config;
          config.set(tournament_type, [this.bgItem, this.bgBtnClickItem, this.lbStageTourn, [this.lbStageTourn, this.lbNameRoom, this.lbAmountPlayer]]);
          this.sprHasAddOn.active = addon_config && addon_config.allowed;
          this.sprHasRebuy.active = rebuy_config && rebuy_config.allowed;
          var _strs = LanguageMananger.getStrings('txt_free');
          this.config.sets(TMttTournament.types, [function (_type) {
            return tournament_type === _type;
          }, total_fee == 0 ? _strs.txt_free : pStringUtils.formatNumberKMB(total_fee), function (_type, _lang) {
            return _type === tournament_type && (_this5.lbNameRoom.string = name);
          }, function (_type, _long) {
            return _type == tournament_type && (_this5.lbStageTourn.string = "(" + _long + ")");
          }]);
          this._actBtnSetup();
          this._actSetupTime();
        };
        _proto._actSetupTime = function _actSetupTime() {
          var _strs = LanguageMananger.getStrings('txt_free', 'txt_to_day', 'txt_tomorrow');
          var _this$_data2 = this._data,
            start_time = _this$_data2.start_time,
            status = _this$_data2.status,
            registered_players = _this$_data2.registered_players,
            rankings = _this$_data2.rankings;
          var _sdate = new Date(start_time);
          var _nowd = new Date();
          var _diff = _sdate.getDate() - _nowd.getDate();
          var _time = _diff <= 0 ? _strs.txt_to_day : _strs.txt_tomorrow;
          var _hour = _sdate.getHours();
          var _minute = _sdate.getMinutes();
          this.lbTime.string = _hour.toString().padStart(2, "0") + ":" + _minute.toString().padStart(2, "0") + " " + _time;
          this.lbAmountPlayer.string = status === 'finished' ? "" + rankings.length : "" + registered_players;
        };
        _proto._isJoinable = function _isJoinable(difm) {
          if (difm === void 0) {
            difm = 0;
          }
          var start_time = this._data.start_time;
          var _sdate = new Date(start_time);
          var _nowd = new Date();
          var _diff = {
            days: _sdate.getDate() - _nowd.getDate(),
            hours: _sdate.getHours() - _nowd.getHours(),
            minutes: _sdate.getMinutes() - _nowd.getMinutes()
          };
          var days = _diff.days,
            hours = _diff.hours,
            minutes = _diff.minutes;
          var _is = days <= 0 && hours <= 0 && minutes - difm <= Duration.mtt.joinable_m;
          return _is;
        };
        _proto._actBtnSetup = function _actBtnSetup() {
          var _this6 = this;
          var _this$_data3 = this._data,
            start_time_reg = _this$_data3.start_time_reg,
            start_time = _this$_data3.start_time;
          var mtt = Duration.mtt;
          var joinable_mms = mtt.joinable_mms,
            post_join_mms = mtt.post_join_mms;
          var _now = Date.now();
          var _start = new Date(start_time);
          var _reg = start_time_reg ? new Date(start_time_reg) : new Date(new Date(start_time).valueOf() - 5 * 60 * 1000);
          var _pre_join_time = _start.valueOf() - joinable_mms;
          var _post_join_time = _start.valueOf() + post_join_mms;
          var _regable = _pre_join_time > _now && _now >= _reg.valueOf();
          var _joinable = _now >= _pre_join_time && _now <= _post_join_time;
          var status = this._data.status;
          var _strs = LanguageMananger.getStrings('txt_registered', 'txt_unregistered', 'txt_join', 'txt_watch_game', 'txt_see_more', 'txt_title_time', 'dynamic_start_after');
          switch (status) {
            case 'waiting':
              {
                if (_regable) {
                  var _ref = this._registered ? [_strs.txt_unregistered, function (_data) {
                    return _this6._actUnregistered();
                  }] : [_strs.txt_registered, function (_data) {
                    return _this6._actRegister();
                  }];
                  this.txtBtnStatus.string = _ref[0];
                  this._onRegister = _ref[1];
                } else if (_joinable) {
                  var _ref2 = this._registered ? [_strs.txt_join, function (_data) {
                    return _this6._actJoin();
                  }] : [_strs.txt_registered, function (_data) {
                    return _this6._actRegister();
                  }];
                  this.txtBtnStatus.string = _ref2[0];
                  this._onRegister = _ref2[1];
                } else {
                  this.txtBtnStatus.string = _strs.txt_see_more;
                  this._onRegister = function (_data) {
                    return _this6._actShowInfo();
                  };
                }
                break;
              }
            case 'running':
              {
                if (this._registered) {
                  this.txtBtnStatus.string = _strs.txt_join;
                  this._onRegister = this._actJoin.bind(this);
                } else {
                  this.txtBtnStatus.string = _strs.txt_watch_game;
                  this._onRegister = this._actWatch.bind(this);
                }
                break;
              }
            case 'finished':
              {
                this.txtBtnStatus.string = _strs.txt_see_more;
                this._onRegister = this._actShowInfo.bind(this);
                break;
              }
            case 'cancelled':
              {
                this.txtBtnStatus.string = _strs.txt_see_more;
                this._onRegister = this._actShowInfo.bind(this);
                break;
              }
          }
          var _hasMain = this._data.tournamentData.eliminated_players.find(function (_p) {
            return GlobalConfig.instance.isMainPlayer(_p);
          });
          if (_hasMain) {
            this.txtBtnStatus.string = _strs.txt_watch_game;
            this._onRegister = this._actWatch.bind(this);
          }
        };
        _proto._actWatch = function _actWatch() {
          UIController.open(UIType.MTT_TABLE_VIEW, true, true, false, this._data, {
            uiType: UIType.NONE,
            isOnTop: true,
            isPopup: true
          });
        };
        _proto._actUnregistered = function _actUnregistered() {
          var _this7 = this;
          UINotice.show('txt_title', "txt_unregistered_mtt_tournament", 'txt_unregistered', /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {
            var _data, refund_info, refund_amount;
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  GlobalConfig.instance.loading.open();
                  _context.next = 3;
                  return request('unregisterMttTournament', {
                    tournament_id: _this7._data.tournament_id
                  });
                case 3:
                  _data = _context.sent;
                  GlobalConfig.instance.loading.close();
                  if (!(_data.code != ResponseCode.SUCCESS)) {
                    _context.next = 10;
                    break;
                  }
                  NotifyToast.instance.showWithKey('txt_error_unregister_mtt_tournament');
                  UINotice.show('txt_title', (_data == null ? void 0 : _data.error) || 'txt_error_unregister_mtt_tournament', 'txt_btn_confirm2');
                  console.warn("MTT >> _actUnRegister >> FAIL >>", _data);
                  return _context.abrupt("return");
                case 10:
                  refund_info = _data.refund_info;
                  refund_amount = refund_info.refund_amount;
                  refund_amount > 0 ? UINotice.show('txt_title', {
                    key: "dynamic_mtt_unregistered_success",
                    replacers: [{
                      find: "@name",
                      replacer: _this7._data.name
                    }, {
                      find: "@amount",
                      replacer: pStringUtils.formatNumberKMB(refund_amount)
                    }]
                  }, 'txt_btn_confirm2') : UINotice.show('txt_title', {
                    key: "dynamic_unregister_mtt_tour_no_money",
                    replacers: {
                      find: "@name",
                      replacer: _this7._data.name
                    }
                  }, 'txt_btn_confirm2');
                  _this7._registered = false;
                  _this7._actBtnSetup();
                  _this7.invoke('onUnregistered', _this7._data.tournament_id);
                case 16:
                case "end":
                  return _context.stop();
              }
            }, _callee);
          })), 'txt_cancel_unregistered');
        };
        _proto._register = /*#__PURE__*/function () {
          var _register2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {
            var instance, _id, _data;
            return _regeneratorRuntime().wrap(function _callee2$(_context2) {
              while (1) switch (_context2.prev = _context2.next) {
                case 0:
                  instance = GlobalConfig.instance;
                  instance.loading.open();
                  _id = this._data.tournament_id;
                  _context2.next = 5;
                  return request('registerMttTournament', {
                    tournament_id: _id
                  });
                case 5:
                  _data = _context2.sent;
                  instance.loading.close();
                  if (!(_data.code != ResponseCode.SUCCESS)) {
                    _context2.next = 11;
                    break;
                  }
                  UINotice.show('txt_title', (_data == null ? void 0 : _data.error) || 'txt_error_unregister_mtt_tournament', 'txt_btn_confirm2');
                  console.warn("MTT >> _actRegister >> FAIL >>", _data);
                  return _context2.abrupt("return");
                case 11:
                  UIController.Instance.open(UIType.MTT_SIGNUP, true, false, false, this.lbNameRoom.string, this._data.total_fee, this._data.start_time);
                  this.invoke('onRegistered', _id);
                  this._registered = true;
                  this._actBtnSetup();
                case 15:
                case "end":
                  return _context2.stop();
              }
            }, _callee2, this);
          }));
          function _register() {
            return _register2.apply(this, arguments);
          }
          return _register;
        }();
        _proto._actRegister = /*#__PURE__*/function () {
          var _actRegister2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {
            var _this$_data4, total_fee, name;
            return _regeneratorRuntime().wrap(function _callee3$(_context3) {
              while (1) switch (_context3.prev = _context3.next) {
                case 0:
                  _this$_data4 = this._data, total_fee = _this$_data4.total_fee, name = _this$_data4.name;
                  console.log(">>>> [ITEM ROOM MTT] ACT CLICK REGISTER MTT");
                  total_fee > 0 ? UINotice.show('txt_title', {
                    key: "dynamic_mtt_register_with_fee",
                    replacers: [{
                      find: "@name",
                      replacer: name
                    }, {
                      find: "@fee",
                      replacer: pStringUtils.formatNumberKMB(total_fee)
                    }]
                  }, 'txt_btn_confirm1', {
                    _function: this._register,
                    _this: this
                  }, 'txt_btn_cancel') : this._register();
                case 3:
                case "end":
                  return _context3.stop();
              }
            }, _callee3, this);
          }));
          function _actRegister() {
            return _actRegister2.apply(this, arguments);
          }
          return _actRegister;
        }();
        _proto._actShowInfo = function _actShowInfo() {
          UIController.Instance.open(UIType.MTT_INFO, true, false, false, this._data, this.lbNameRoom.string);
        };
        _proto.actUpdateRegistered = function actUpdateRegistered(id, amount) {
          if (this._data.id === id) {
            this._data.registered_players = amount;
            this.lbAmountPlayer.string = "" + amount;
            return true;
          }
          return false;
        };
        _proto._actJoin = /*#__PURE__*/function () {
          var _actJoin2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {
            var instance, _cb, _pm, _data, tournament_id, tournament_info, online_players, _this$_data5, bigBlind, smallBlind, max_players, extendData, _table;
            return _regeneratorRuntime().wrap(function _callee4$(_context4) {
              while (1) switch (_context4.prev = _context4.next) {
                case 0:
                  instance = GlobalConfig.instance;
                  instance.loading.open();
                  _cb = null;
                  _pm = new Promise(function (_rs) {
                    return _cb = _rs;
                  });
                  PlayingController.instance.setRoom('MTT');
                  PlayingController.instance.setWaiter(_pm);
                  _context4.next = 8;
                  return request('joinRoom', {
                    tournament_id: this._data.tournament_id
                  });
                case 8:
                  _data = _context4.sent;
                  instance.loading.close();
                  if (!(_data.code != ResponseCode.SUCCESS)) {
                    _context4.next = 14;
                    break;
                  }
                  NotifyToast.instance.showWithKey('txt_error_join_mtt_tournament');
                  UINotice.show('txt_title', (_data == null ? void 0 : _data.error) || 'txt_error_join_mtt_tournament', 'txt_btn_confirm2');
                  return _context4.abrupt("return");
                case 14:
                  tournament_id = _data.tournament_id, tournament_info = _data.tournament_info;
                  online_players = tournament_info.online_players;
                  _this$_data5 = this._data, bigBlind = _this$_data5.bigBlind, smallBlind = _this$_data5.smallBlind, max_players = _this$_data5.max_players;
                  extendData = {
                    id: tournament_id.toString(),
                    displayTid: tournament_id,
                    isPrivate: false,
                    smallBlind: smallBlind,
                    bigBlind: bigBlind,
                    minBuyIn: 0,
                    maxBuyIn: 0,
                    gold: 0,
                    players: max_players,
                    maxPlayers: 0,
                    minPlayers: 0,
                    zone: 'TS',
                    gameMode: 'normal',
                    members: online_players
                  };
                  _table = {
                    count: ENumberPlayerCount.FIVE_PLAYERS,
                    mode: ETypeModePlay.MTT,
                    speed: EDealSpeed.DEAL_SPEED_1,
                    list: [],
                    data: extendData,
                    mtt: this._data,
                    join: _data
                  };
                  pDecorators.instance(DBStorage).save({
                    key: "MTT_TOUR_ID",
                    value: JSON.stringify(tournament_id)
                  });
                  PlayingController.instance.setup(_table, tournament_id.toString(), "MTT");
                  _context4.next = 23;
                  return UIController.Instance.open(UIType.PLAYING_SCENE, false, true);
                case 23:
                  pEventManager.invoke('onJoinMTTLobby', _data);
                  _cb && _cb();
                case 25:
                case "end":
                  return _context4.stop();
              }
            }, _callee4, this);
          }));
          function _actJoin() {
            return _actJoin2.apply(this, arguments);
          }
          return _actJoin;
        }();
        return UIItemRoomMTT;
      }(NSEventDriver.Component), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "bgItem", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "btnActionItem", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "btnShowInfo", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "bgBtnClickItem", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "txtBtnStatus", [_dec7], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, "lbNameRoom", [_dec8], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor7 = _applyDecoratedDescriptor(_class2.prototype, "lbStageTourn", [_dec9], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor8 = _applyDecoratedDescriptor(_class2.prototype, "lbTimer", [_dec10], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor9 = _applyDecoratedDescriptor(_class2.prototype, "lbTime", [_dec11], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor10 = _applyDecoratedDescriptor(_class2.prototype, "lbAmountPlayer", [_dec12], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor11 = _applyDecoratedDescriptor(_class2.prototype, "sprHasRebuy", [_dec13], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor12 = _applyDecoratedDescriptor(_class2.prototype, "sprHasAddOn", [_dec14], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor13 = _applyDecoratedDescriptor(_class2.prototype, "config", [_dec15], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return MTTSpace.ItemConfigManager.generate(TMttTournament.qType);
        }
      })), _class2)) || _class) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIItemRoomSNG.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts', './Decorators.ts', './SNGConfig.ts', './StringUtils.ts', './GlobalConfig.ts', './UINotice.ts', './ResponeCode.ts', './PlayingController.ts', './Enums.ts', './UIController.ts', './Constants.ts', './DBStorage.ts', './SNGCommand.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _asyncToGenerator, _regeneratorRuntime, _createClass, cclegacy, _decorator, Label, Sprite, Button, UIBase, pDecorators, NSngConfig, pStringUtils, GlobalConfig, UINotice, ResponseCode, PlayingController, ETypeModePlay, EDealSpeed, UIType, ENumberPlayerCount, UIController, numberToGameZone, DBStorage, request;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
      _createClass = module.createClass;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Label = module.Label;
      Sprite = module.Sprite;
      Button = module.Button;
    }, function (module) {
      UIBase = module.UIBase;
    }, function (module) {
      pDecorators = module.pDecorators;
    }, function (module) {
      NSngConfig = module.NSngConfig;
    }, function (module) {
      pStringUtils = module.pStringUtils;
    }, function (module) {
      GlobalConfig = module.default;
    }, function (module) {
      UINotice = module.UINotice;
    }, function (module) {
      ResponseCode = module.ResponseCode;
    }, function (module) {
      PlayingController = module.default;
    }, function (module) {
      ETypeModePlay = module.ETypeModePlay;
      EDealSpeed = module.EDealSpeed;
      UIType = module.UIType;
      ENumberPlayerCount = module.ENumberPlayerCount;
    }, function (module) {
      UIController = module.UIController;
    }, function (module) {
      numberToGameZone = module.numberToGameZone;
    }, function (module) {
      DBStorage = module.DBStorage;
    }, function (module) {
      request = module.default;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _dec11, _dec12, _dec13, _dec14, _dec15, _dec16, _dec17, _dec18, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9;
      cclegacy._RF.push({}, "0768dkm9j5FIoXFdJlzHwwm", "UIItemRoomSNG", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property,
        type = _decorator.type;
      var UIItemRoomSNG = exports('UIItemRoomSNG', (_dec = ccclass('UIItemRoomSNG'), _dec2 = property({
        group: {
          name: 'lbInfor',
          id: 'Infor',
          displayOrder: 0
        }
      }), _dec3 = type(Label), _dec4 = property({
        group: {
          name: 'lbInfor',
          id: 'Infor',
          displayOrder: 0
        }
      }), _dec5 = type(Label), _dec6 = property({
        group: {
          name: 'lbInfor',
          id: 'Infor',
          displayOrder: 0
        }
      }), _dec7 = type(Label), _dec8 = property({
        group: {
          name: 'lbInfor',
          id: 'Infor',
          displayOrder: 0
        }
      }), _dec9 = type(Label), _dec10 = property({
        group: {
          name: 'lbInfor',
          id: 'Infor',
          displayOrder: 0
        }
      }), _dec11 = type(Sprite), _dec12 = property({
        group: {
          name: 'lbInfor',
          id: 'Infor',
          displayOrder: 0
        }
      }), _dec13 = type(Sprite), _dec14 = property({
        group: {
          name: 'lbInfor',
          id: 'Infor',
          displayOrder: 0
        }
      }), _dec15 = type(Label), _dec16 = property({
        group: {
          name: 'lbInfor',
          id: 'Infor',
          displayOrder: 0
        }
      }), _dec17 = type(Sprite), _dec18 = type(Button), _dec(_class = (_class2 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UIItemRoomSNG, _UIBase);
        function UIItemRoomSNG() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "lbAmountPlayer", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbFee", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbAmoutMatchGold", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbAmoutMatchSiliver", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "sprBg", _descriptor5, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "sprBgBtnClick", _descriptor6, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lblTitle", _descriptor7, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "sprIconPlayer", _descriptor8, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnClickItem", _descriptor9, _assertThisInitialized(_this));
          _this._data = null;
          _this._zone = 'TS';
          return _this;
        }
        var _proto = UIItemRoomSNG.prototype;
        _proto._onStart = function _onStart() {
          this._addClicker(this.btnClickItem, this._onClickItem, this);
        };
        _proto.init = function init(data, index) {
          this._data = data;
          this._setup(data);
          this._zone = numberToGameZone(index);
        };
        _proto.change = function change(data) {
          var tournamentDetails = data.tournamentDetails,
            playerCount = data.playerCount;
          var tableType = tournamentDetails.tableType,
            level = tournamentDetails.level;
          if (this._data.level !== level || this._data.table_type !== tableType) return false;
          this._data.registered_players = playerCount;
          this._setup(this._data);
          return true;
        };
        _proto._setup = function _setup(data) {
          var buy_in = data.buy_in,
            fee = data.fee,
            level = data.level,
            registered_players = data.registered_players,
            payout_structure = data.payout_structure;
          var first_place = payout_structure[0],
            second_place = payout_structure[1];
          var _sng = pDecorators.instance(NSngConfig.Handler);
          _sng.bg.set(level, this.sprBg);
          _sng.clicker.set(level, this.sprBgBtnClick);
          _sng.title.set(level, this.lblTitle);
          _sng.icon.set(level, this.sprIconPlayer);
          this.lbAmountPlayer.string = "" + registered_players;
          this.lbFee.string = pStringUtils.formatNumberKMB(buy_in) + " + " + pStringUtils.formatNumberKMB(fee);
          this.lbAmoutMatchGold.string = pStringUtils.formatNumberKMB(first_place.amount);
          this.lbAmoutMatchSiliver.string = pStringUtils.formatNumberKMB(second_place.amount);
        };
        _proto._onClickItem = function _onClickItem() {
          var _this2 = this;
          UINotice.instance.show('txt_btn_remind', 'txt_rule_sng_2', 'txt_btn_confirm2', /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {
            var _this2$_data, table_type, level, loading, data, code, error, tournament_id, table_info, current_players, bigBlind, smallBlind, maxPlayers, extendData, _data;
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  _this2$_data = _this2._data, table_type = _this2$_data.table_type, level = _this2$_data.level;
                  loading = GlobalConfig.instance.loading;
                  loading.open();
                  PlayingController.instance.setRoom('SNG');
                  //await GlobalConfig.instance.wait('onPlayingScreenLoadedSuccess', false);
                  _context.next = 6;
                  return request('registerTournament', {
                    table_type: table_type,
                    level: level
                  });
                case 6:
                  data = _context.sent;
                  loading.close();
                  code = data.code;
                  _context.t0 = code;
                  _context.next = _context.t0 === ResponseCode.SUCCESS ? 12 : _context.t0 === ResponseCode.ERROR ? 26 : 26;
                  break;
                case 12:
                  if (!data.error) {
                    _context.next = 17;
                    break;
                  }
                  error = data.error;
                  UINotice.instance.show('txt_title', {
                    raw: error.msg
                  }, 'txt_btn_confirm2');
                  _context.next = 25;
                  break;
                case 17:
                  tournament_id = data.tournament_id, table_info = data.table_info, current_players = data.current_players;
                  bigBlind = table_info.bigBlind, smallBlind = table_info.smallBlind, maxPlayers = table_info.maxPlayers;
                  extendData = {
                    id: tournament_id.toString(),
                    displayTid: tournament_id,
                    isPrivate: false,
                    smallBlind: smallBlind,
                    bigBlind: bigBlind,
                    minBuyIn: 0,
                    maxBuyIn: 0,
                    gold: 0,
                    players: maxPlayers,
                    maxPlayers: 0,
                    minPlayers: 0,
                    zone: _this2._zone,
                    gameMode: 'normal',
                    members: current_players
                  };
                  _data = {
                    count: _this2.type,
                    mode: ETypeModePlay.SNG,
                    speed: EDealSpeed.DEAL_SPEED_1,
                    list: [],
                    data: extendData,
                    sng: _this2._data
                  };
                  pDecorators.instance(DBStorage).save({
                    key: "SNG_TOUR_ID",
                    value: JSON.stringify(tournament_id)
                  });
                  PlayingController.instance.setup(_data, tournament_id.toString(), "SNG");
                  _context.next = 25;
                  return UIController.Instance.open(UIType.PLAYING_SCENE, false, true);
                case 25:
                  return _context.abrupt("break", 28);
                case 26:
                  UINotice.instance.show('txt_title', {
                    key: String(data.error)
                  }, 'txt_btn_confirm2');
                  return _context.abrupt("break", 28);
                case 28:
                case "end":
                  return _context.stop();
              }
            }, _callee);
          })), 'txt_btn_cancel');
        };
        _createClass(UIItemRoomSNG, [{
          key: "type",
          get: function get() {
            var table_type = this._data.table_type;
            switch (table_type) {
              case '3_PLAYERS':
                return ENumberPlayerCount.FIVE_PLAYERS;
              case '5_PLAYERS':
                return ENumberPlayerCount.FIVE_PLAYERS;
              case '9_PLAYERS':
                return ENumberPlayerCount.NINE_PLAYERS;
            }
          }
        }]);
        return UIItemRoomSNG;
      }(UIBase), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "lbAmountPlayer", [_dec2, _dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "lbFee", [_dec4, _dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "lbAmoutMatchGold", [_dec6, _dec7], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "lbAmoutMatchSiliver", [_dec8, _dec9], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "sprBg", [_dec10, _dec11], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, "sprBgBtnClick", [_dec12, _dec13], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor7 = _applyDecoratedDescriptor(_class2.prototype, "lblTitle", [_dec14, _dec15], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor8 = _applyDecoratedDescriptor(_class2.prototype, "sprIconPlayer", [_dec16, _dec17], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor9 = _applyDecoratedDescriptor(_class2.prototype, "btnClickItem", [_dec18], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIKeepScale.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc'], function (exports) {
  var _inheritsLoose, cclegacy, _decorator, Component;
  return {
    setters: [function (module) {
      _inheritsLoose = module.inheritsLoose;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Component = module.Component;
    }],
    execute: function () {
      var _dec, _class;
      cclegacy._RF.push({}, "b6a4bSLswtFKqWuJ1jFvKav", "UIKeepScale", undefined);
      var ccclass = _decorator.ccclass;
      var UIKeepScale = exports('UIKeepScale', (_dec = ccclass('UIKeepScale'), _dec(_class = /*#__PURE__*/function (_Component) {
        _inheritsLoose(UIKeepScale, _Component);
        function UIKeepScale() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _Component.call.apply(_Component, [this].concat(args)) || this;
          _this.originalScale = null;
          return _this;
        }
        var _proto = UIKeepScale.prototype;
        _proto.onLoad = function onLoad() {
          this.originalScale = this.node.getScale();
        };
        _proto.onEnable = function onEnable() {
          this.node.setWorldScale(this.originalScale);
        };
        return UIKeepScale;
      }(Component)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIKickPlayer.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './Enums.ts', './UIBase.ts', './EventManager.ts', './LanguageManager.ts', './GlobalConfig.ts', './AsyncUtils.ts', './ComponentUtils.ts', './ResponeCode.ts', './AssetManager.ts', './Decorators.ts', './UserCommand.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _asyncToGenerator, _regeneratorRuntime, cclegacy, _decorator, Sprite, Label, RichText, Layout, ProgressBar, UITransform, Node, Button, instantiate, Color, UIType, UIBase, pEventManager, LanguageMananger, GlobalConfig, pAsyncUtils, pComponentUtils, ResponseCode, NSAsset, pDecorators, request;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Sprite = module.Sprite;
      Label = module.Label;
      RichText = module.RichText;
      Layout = module.Layout;
      ProgressBar = module.ProgressBar;
      UITransform = module.UITransform;
      Node = module.Node;
      Button = module.Button;
      instantiate = module.instantiate;
      Color = module.Color;
    }, function (module) {
      UIType = module.UIType;
    }, function (module) {
      UIBase = module.UIBase;
    }, function (module) {
      pEventManager = module.pEventManager;
    }, function (module) {
      LanguageMananger = module.LanguageMananger;
    }, function (module) {
      GlobalConfig = module.default;
    }, function (module) {
      pAsyncUtils = module.pAsyncUtils;
    }, function (module) {
      pComponentUtils = module.pComponentUtils;
    }, function (module) {
      ResponseCode = module.ResponseCode;
    }, function (module) {
      NSAsset = module.NSAsset;
    }, function (module) {
      pDecorators = module.pDecorators;
    }, function (module) {
      request = module.default;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _dec11, _dec12, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9, _descriptor10, _descriptor11;
      cclegacy._RF.push({}, "bd00e8AAhpLBIjJmFXyE7wW", "UIKickPlayer", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var UIKickPlayerPopup = exports('UIKickPlayerPopup', (_dec = ccclass('UIKickPlayerPopup'), _dec2 = property({
        type: UIType,
        override: true,
        readonly: true
      }), _dec3 = property(Sprite), _dec4 = property(Label), _dec5 = property(RichText), _dec6 = property(Layout), _dec7 = property(Sprite), _dec8 = property(ProgressBar), _dec9 = property(UITransform), _dec10 = property(Node), _dec11 = property(Button), _dec12 = property(Button), _dec(_class = (_class2 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UIKickPlayerPopup, _UIBase);
        function UIKickPlayerPopup() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "uiType", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "sprAvatar", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lblName", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "rxtTitle", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "container", _descriptor5, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "cloner", _descriptor6, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "progress", _descriptor7, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "trans", _descriptor8, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "nodeButtons", _descriptor9, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnAccept", _descriptor10, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnReject", _descriptor11, _assertThisInitialized(_this));
          _this._data = null;
          _this._events = [['onVoteKickPlayer', _this._onVoteKickPlayer, _assertThisInitialized(_this)]];
          return _this;
        }
        var _proto = UIKickPlayerPopup.prototype;
        _proto.init = function init(msg) {
          var _this2 = this;
          this._data = msg;
          var type = msg.type;
          if (type !== 'request') return;
          var eligibleVoters = msg.eligibleVoters,
            timeout = msg.timeout,
            timestamp = msg.timestamp,
            targetName = msg.targetName,
            targetAvatar = msg.targetAvatar,
            requesterId = msg.requesterId,
            requesterName = msg.requesterName,
            targetId = msg.targetId;
          var _isSelfKicked = GlobalConfig.instance.isMainPlayer(targetId);
          var _isSelfRequest = GlobalConfig.instance.isMainPlayer(requesterId);
          var _str = LanguageMananger.instance.getStrings('txt_you');
          pDecorators.instance(NSAsset.Manager).get(targetAvatar).then(function (_spr) {
            return _this2.sprAvatar.spriteFrame = _spr;
          });
          var _target = _isSelfKicked ? _str.txt_you : targetName;
          var _requester = _isSelfRequest ? _str.txt_you : requesterName;
          this.rxtTitle.string = LanguageMananger.instance.getString({
            key: 'dynamic_rich_kick_player_request_header',
            replacers: [{
              find: "@name",
              replacer: _requester
            }, {
              find: "@target",
              replacer: _target
            }]
          });
          var _current = Math.abs(Date.now() - timestamp);
          var _left = Math.abs(timeout - _current);
          this.nodeButtons.active = !_isSelfKicked && !_isSelfRequest;
          this.progress.progress = _left / timeout;
          pAsyncUtils.countdown(_left / 1000, 0.1, function (_time) {
            return _this2.progress.progress = _time / timeout * 1000;
          }).then(function () {
            return _this2.close();
          });
          this._addVote(1, 1, eligibleVoters.length);
          this.open();
        };
        _proto._addVote = function _addVote(yes, no, total) {
          this.container.node.removeAllChildren();
          var _step = this.container.spacingX;
          var _ts = (total - 1) * _step;
          var _twd = (this.trans.width - _ts) / total;
          for (var i = 0; i < total; i++) {
            var _node = instantiate(this.cloner.node);
            this.container.node.addChild(_node);
            _node.active = true;
            var _spr = _node.getComponent(Sprite);
            var _tr = pComponentUtils.getSafeComponent(_node, UITransform);
            _tr.width = _twd;
            this.container.updateLayout();
            if (i < yes) {
              _spr.color = Color.GREEN;
            } else if (i < yes + no) {
              _spr.color = Color.RED;
            } else {
              _spr.color.set(0, 0, 0, 0);
            }
          }
        };
        _proto._onLoad = function _onLoad() {
          this._addClickers([{
            handlers: this._actReject,
            target: this.btnReject
          }, {
            handlers: this._actAccept,
            target: this.btnAccept
          }]);
        };
        _proto._actReject = /*#__PURE__*/function () {
          var _actReject2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {
            var _data;
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  _context.next = 2;
                  return request('voteKickPlayer', {
                    vote: false
                  });
                case 2:
                  _data = _context.sent;
                  this._onVotted(_data);
                case 4:
                case "end":
                  return _context.stop();
              }
            }, _callee, this);
          }));
          function _actReject() {
            return _actReject2.apply(this, arguments);
          }
          return _actReject;
        }();
        _proto._actAccept = /*#__PURE__*/function () {
          var _actAccept2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {
            var _data;
            return _regeneratorRuntime().wrap(function _callee2$(_context2) {
              while (1) switch (_context2.prev = _context2.next) {
                case 0:
                  _context2.next = 2;
                  return request('voteKickPlayer', {
                    vote: true
                  });
                case 2:
                  _data = _context2.sent;
                  this._onVotted(_data);
                case 4:
                case "end":
                  return _context2.stop();
              }
            }, _callee2, this);
          }));
          function _actAccept() {
            return _actAccept2.apply(this, arguments);
          }
          return _actAccept;
        }();
        _proto._onVotted = function _onVotted(data) {
          var code = data.code;
          switch (code) {
            case ResponseCode.SUCCESS:
              {
                this.nodeButtons.active = false;
                this.log("DISABLE NODE");
                break;
              }
          }
        };
        _proto.onEnable = function onEnable() {
          pEventManager.on(this._events);
        };
        _proto.onDisable = function onDisable() {
          pEventManager.off(this._events);
        };
        _proto._onVoteKickPlayer = function _onVoteKickPlayer(data) {
          var msg = data.msg;
          var type = msg.type,
            reason = msg.reason;
          if (type != 'result') return;
          if (reason === 'completed') {
            this.close();
            return;
          }
          var result = msg.result;
          this.log("VOTE KICK PLAYER >>", result);
          var totalEligible = result.totalEligible,
            yesVotes = result.yesVotes,
            noVotes = result.noVotes;
          this._addVote(yesVotes, noVotes, totalEligible);
        };
        return UIKickPlayerPopup;
      }(UIBase), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "uiType", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return UIType.KICK_PLAYER;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "sprAvatar", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "lblName", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "rxtTitle", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "container", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, "cloner", [_dec7], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor7 = _applyDecoratedDescriptor(_class2.prototype, "progress", [_dec8], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor8 = _applyDecoratedDescriptor(_class2.prototype, "trans", [_dec9], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor9 = _applyDecoratedDescriptor(_class2.prototype, "nodeButtons", [_dec10], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor10 = _applyDecoratedDescriptor(_class2.prototype, "btnAccept", [_dec11], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor11 = _applyDecoratedDescriptor(_class2.prototype, "btnReject", [_dec12], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UILoadingScene.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './LanguageManager.ts', './ArrayUtils.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _createClass, _asyncToGenerator, _regeneratorRuntime, cclegacy, _decorator, Animation, Label, Component, LanguageMananger, pArray;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _createClass = module.createClass;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Animation = module.Animation;
      Label = module.Label;
      Component = module.Component;
    }, function (module) {
      LanguageMananger = module.LanguageMananger;
    }, function (module) {
      pArray = module.pArray;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _class, _class2, _descriptor, _descriptor2, _class3;
      cclegacy._RF.push({}, "d81d8HZoj5L9LDl6Y6p+1E7", "UILoadingScene", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property,
        menu = _decorator.menu;
      var UILoadingScene = exports('UILoadingScene', (_dec = ccclass('UILoadingScene'), _dec2 = menu('Common/Loading'), _dec3 = property(Animation), _dec4 = property(Label), _dec(_class = _dec2(_class = (_class2 = (_class3 = /*#__PURE__*/function (_Component) {
        _inheritsLoose(UILoadingScene, _Component);
        function UILoadingScene() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _Component.call.apply(_Component, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "anim", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lblTitle", _descriptor2, _assertThisInitialized(_this));
          _this._close = null;
          _this._promises = [];
          _this._isClosing = false;
          return _this;
        }
        var _proto = UILoadingScene.prototype;
        _proto.wait = /*#__PURE__*/function () {
          var _wait = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(promise) {
            var _len2,
              promises,
              _key2,
              _args = arguments;
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  for (_len2 = _args.length, promises = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {
                    promises[_key2 - 1] = _args[_key2];
                  }
                  promises = pArray.flatter.apply(pArray, [promise].concat(promises));
                  if (!(promises.length < 0)) {
                    _context.next = 4;
                    break;
                  }
                  return _context.abrupt("return");
                case 4:
                  this.open();
                  _context.next = 7;
                  return Promise.all(promises);
                case 7:
                  this.close();
                case 8:
                case "end":
                  return _context.stop();
              }
            }, _callee, this);
          }));
          function wait(_x) {
            return _wait.apply(this, arguments);
          }
          return wait;
        }();
        _proto.addTaskLoader = function addTaskLoader(promise) {
          var _this$_promises;
          for (var _len3 = arguments.length, promises = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {
            promises[_key3 - 1] = arguments[_key3];
          }
          promises = pArray.flatter.apply(pArray, [promise].concat(promises));
          (_this$_promises = this._promises).push.apply(_this$_promises, promises);
        };
        _proto.open = function open() {
          try {
            this.scheduleOnce(this._close, 50);
            this.node.active = true;
          } catch (e) {
            console.error('[UILoadingScene] Error >> Open Loading Scene', e);
          }
        };
        _proto.close = /*#__PURE__*/function () {
          var _close = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {
            return _regeneratorRuntime().wrap(function _callee2$(_context2) {
              while (1) switch (_context2.prev = _context2.next) {
                case 0:
                  _context2.prev = 0;
                  this._isClosing = true;
                  _context2.next = 4;
                  return Promise.all(this._promises);
                case 4:
                  this._promises = [];
                  this.unschedule(this._close);
                  this.node && (this.node.active = false);
                  _context2.next = 12;
                  break;
                case 9:
                  _context2.prev = 9;
                  _context2.t0 = _context2["catch"](0);
                  console.error('[UILoadingScene] Error >> Close Loading Scene', _context2.t0);
                case 12:
                case "end":
                  return _context2.stop();
              }
            }, _callee2, this, [[0, 9]]);
          }));
          function close() {
            return _close.apply(this, arguments);
          }
          return close;
        }();
        _proto.onLoad = function onLoad() {
          UILoadingScene._I = this;
          this.node.active = false;
          this._close = this.close.bind(this);
        };
        _proto.onEnable = function onEnable() {
          this.anim.play();
        };
        _proto.onDisable = function onDisable() {
          this.anim.pause;
        };
        _proto.setTitle = function setTitle(title) {
          this.lblTitle.string = title;
        };
        _proto.setTitleFromKey = function setTitleFromKey(title) {
          this.lblTitle.string = LanguageMananger.instance.getString(title);
        };
        _createClass(UILoadingScene, [{
          key: "isLoading",
          get: function get() {
            return this.node.active;
          }
        }], [{
          key: "instance",
          get: function get() {
            return this._I;
          }
        }]);
        return UILoadingScene;
      }(Component), _class3._I = null, _class3), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "anim", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "lblTitle", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UILobbyCompete.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts', './Enums.ts', './UIController.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _asyncToGenerator, _regeneratorRuntime, cclegacy, _decorator, EventTarget, Button, UIBaseGroup, UIBase, UIType, UIController;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      EventTarget = module.EventTarget;
      Button = module.Button;
    }, function (module) {
      UIBaseGroup = module.UIBaseGroup;
      UIBase = module.UIBase;
    }, function (module) {
      UIType = module.UIType;
    }, function (module) {
      UIController = module.UIController;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4;
      cclegacy._RF.push({}, "d6899XNSTZLb4wnxqKd/IBt", "UILobbyCompete", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property,
        type = _decorator.type;
      var eventTarget = exports('eventTarget', new EventTarget());
      var UILobbyCompete = exports('UILobbyCompete', (_dec = ccclass('UILobbyCompete'), _dec2 = property({
        group: UIBaseGroup,
        override: true,
        readonly: true
      }), _dec3 = type(UIType), _dec4 = property({
        group: {
          name: 'Top',
          id: 'Common',
          displayOrder: 0
        }
      }), _dec5 = type(Button), _dec6 = property({
        group: {
          name: 'Center',
          id: 'Common'
        }
      }), _dec7 = type(Button), _dec8 = property({
        group: {
          name: 'Center',
          id: 'Common'
        }
      }), _dec9 = type(Button), _dec(_class = (_class2 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UILobbyCompete, _UIBase);
        function UILobbyCompete() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "uiType", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnBackToMain", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnGoToMTT", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnGoToSNG", _descriptor4, _assertThisInitialized(_this));
          return _this;
        }
        var _proto = UILobbyCompete.prototype;
        _proto._onStart = function _onStart() {
          this._addClickers([{
            target: this.btnBackToMain,
            handlers: this._actBackToMain
          }, {
            target: this.btnGoToMTT,
            handlers: this._actEnterMTT
          }, {
            target: this.btnGoToSNG,
            handlers: this._actEnterSNG
          }]);
        };
        _proto._actBackToMain = function _actBackToMain() {
          UIController.Instance.open(UIType.MAIN_SCREEN, false);
          this.close();
        };
        _proto._actEnterMTT = /*#__PURE__*/function () {
          var _actEnterMTT2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  UIController.Instance.open(UIType.ROOM_MTT, false);
                  this.close();
                case 2:
                case "end":
                  return _context.stop();
              }
            }, _callee, this);
          }));
          function _actEnterMTT() {
            return _actEnterMTT2.apply(this, arguments);
          }
          return _actEnterMTT;
        }();
        _proto._actEnterSNG = /*#__PURE__*/function () {
          var _actEnterSNG2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {
            return _regeneratorRuntime().wrap(function _callee2$(_context2) {
              while (1) switch (_context2.prev = _context2.next) {
                case 0:
                  _context2.next = 2;
                  return UIController.Instance.open(UIType.ROOM_SNG, false);
                case 2:
                  this.close();
                case 3:
                case "end":
                  return _context2.stop();
              }
            }, _callee2, this);
          }));
          function _actEnterSNG() {
            return _actEnterSNG2.apply(this, arguments);
          }
          return _actEnterSNG;
        }();
        return UILobbyCompete;
      }(UIBase), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "uiType", [_dec2, _dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return UIType.COMPETE_LOBBY;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "btnBackToMain", [_dec4, _dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "btnGoToMTT", [_dec6, _dec7], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "btnGoToSNG", [_dec8, _dec9], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UILogin.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts', './UIController.ts', './Enums.ts', './GlobalConfig.ts', './EventManager.ts', './GameManager.ts', './Decorators.ts', './AudioManager.ts', './UISlider.ts', './JsonUtils.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _asyncToGenerator, _regeneratorRuntime, cclegacy, _decorator, Button, Sprite, SpriteFrame, Toggle, sys, KeyCode, screen, UIBase, UIController, EGameState, EAudioID, UIType, GlobalConfig, pEventManager, GameManager, pDecorators, NSAudio, UISlider, JsonUtils;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Button = module.Button;
      Sprite = module.Sprite;
      SpriteFrame = module.SpriteFrame;
      Toggle = module.Toggle;
      sys = module.sys;
      KeyCode = module.KeyCode;
      screen = module.screen;
    }, function (module) {
      UIBase = module.UIBase;
    }, function (module) {
      UIController = module.UIController;
    }, function (module) {
      EGameState = module.EGameState;
      EAudioID = module.EAudioID;
      UIType = module.UIType;
    }, function (module) {
      GlobalConfig = module.default;
    }, function (module) {
      pEventManager = module.pEventManager;
    }, function (module) {
      GameManager = module.GameManager;
    }, function (module) {
      pDecorators = module.pDecorators;
    }, function (module) {
      NSAudio = module.NSAudio;
    }, function (module) {
      UISlider = module.UISlider;
    }, function (module) {
      JsonUtils = module.default;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _dec11, _dec12, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9, _descriptor10, _descriptor11;
      cclegacy._RF.push({}, "b87339Okm1LUJWUXnCjmM2w", "UILogin", undefined);
      var ccclass = _decorator.ccclass,
        type = _decorator.type;
      var UILogin = exports('UILogin', (_dec = ccclass('UILogin'), _dec2 = type(Button), _dec3 = type(Button), _dec4 = type(Button), _dec5 = type(Button), _dec6 = type(Button), _dec7 = type(Button), _dec8 = type(Sprite), _dec9 = type(SpriteFrame), _dec10 = type(SpriteFrame), _dec11 = type(UISlider), _dec12 = type(Toggle), _dec(_class = (_class2 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UILogin, _UIBase);
        function UILogin() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "btnLoginApple", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnLoginFb", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnLoginEmail", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnLoginGoogle", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnLoginAsGuest", _descriptor5, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnFullScreen", _descriptor6, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "sprFullScreen", _descriptor7, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "spfFullScreenOn", _descriptor8, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "spfFullScreenOff", _descriptor9, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "sliderSound", _descriptor10, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "toggleMusic", _descriptor11, _assertThisInitialized(_this));
          _this._save = 0;
          _this._events = [['disconnect', _this._onDisconnect, _assertThisInitialized(_this)], ['onConnect', _this._onConnect, _assertThisInitialized(_this)]];
          _this._isFullscreen = false;
          return _this;
        }
        var _proto = UILogin.prototype;
        _proto._onVolumeChange = function _onVolumeChange() {
          this.toggleMusic.isChecked = this.sliderSound.progress <= 0;
          var _am = pDecorators.instance(NSAudio.Manager);
          _am.actUpdateMusicVolume(this.sliderSound.progress, true);
        };
        _proto._onSoundChange = /*#__PURE__*/function () {
          var _onSoundChange2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {
            var status, _am;
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  status = this.toggleMusic.isChecked;
                  _am = pDecorators.instance(NSAudio.Manager);
                  this.sliderSound.setDisplayProcess(status ? 0 : _am.musicVol);
                  _am.actUpdateMusic(!status, true);
                case 4:
                case "end":
                  return _context.stop();
              }
            }, _callee, this);
          }));
          function _onSoundChange() {
            return _onSoundChange2.apply(this, arguments);
          }
          return _onSoundChange;
        }();
        _proto._onLoad = function _onLoad() {
          this._addToggler(this.toggleMusic, this._onSoundChange, this);
          this.addUIComponentEvent(this.sliderSound, 'slide', this._onVolumeChange, this);
          pEventManager.on(this._events);
          if (sys.isBrowser) {
            document.addEventListener('fullscreenchange', this._onFullscreenChange.bind(this));
            document.addEventListener('webkitfullscreenchange', this._onFullscreenChange.bind(this));
            document.addEventListener('mozfullscreenchange', this._onFullscreenChange.bind(this));
            document.addEventListener('MSFullscreenChange', this._onFullscreenChange.bind(this));
          }
        };
        _proto._open = /*#__PURE__*/function () {
          var _open2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {
            var _str, _data, _isBinded;
            return _regeneratorRuntime().wrap(function _callee2$(_context2) {
              while (1) switch (_context2.prev = _context2.next) {
                case 0:
                  _str = GameManager.Instance.getStorage();
                  _context2.next = 3;
                  return _str.gets('IS_BINDED_EMAIL');
                case 3:
                  _data = _context2.sent;
                  _isBinded = JsonUtils.isValidData(_data.IS_BINDED_EMAIL) ? JSON.parse(_data.IS_BINDED_EMAIL) : false;
                  _isBinded && (this.btnLoginAsGuest.node.active = false);
                  this.btnLoginApple.node.active = !sys.isBrowser && sys.os === sys.OS.IOS;
                  this.btnFullScreen.node.active = sys.isBrowser;
                  _context2.next = 10;
                  return _UIBase.prototype._open.call(this);
                case 10:
                case "end":
                  return _context2.stop();
              }
            }, _callee2, this);
          }));
          function _open() {
            return _open2.apply(this, arguments);
          }
          return _open;
        }();
        _proto._onOpen = /*#__PURE__*/function () {
          var _onOpen2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {
            var _am;
            return _regeneratorRuntime().wrap(function _callee3$(_context3) {
              while (1) switch (_context3.prev = _context3.next) {
                case 0:
                  _am = pDecorators.instance(NSAudio.Manager);
                  _context3.next = 3;
                  return _am.wait('onDoneInit');
                case 3:
                  GameManager.Instance.setState(EGameState.LOGIN);
                  this.toggleMusic.isChecked = !_am.isOnMusic;
                  this.sliderSound.setDisplayProcess(!_am.isOnMusic ? 0 : _am.musicVol);
                case 6:
                case "end":
                  return _context3.stop();
              }
            }, _callee3, this);
          }));
          function _onOpen() {
            return _onOpen2.apply(this, arguments);
          }
          return _onOpen;
        }();
        _proto._onStart = function _onStart() {
          this._addClickers([{
            handlers: this._actAppleLogin,
            target: this.btnLoginApple
          }, {
            handlers: this._actFbLogin,
            target: this.btnLoginFb
          }, {
            handlers: this._actEmailLogin,
            target: this.btnLoginEmail
          }, {
            handlers: this._actGuestLogin,
            target: this.btnLoginAsGuest
          }, {
            handlers: this._actGoogleLogin,
            target: this.btnLoginGoogle
          }, {
            handlers: this._onToggleFullScreen,
            target: this.btnFullScreen
          }]);
        };
        _proto._onDestroy = function _onDestroy() {
          pEventManager.off(this._events);
          if (sys.isBrowser) {
            document.removeEventListener('fullscreenchange', this._onFullscreenChange.bind(this));
            document.removeEventListener('webkitfullscreenchange', this._onFullscreenChange.bind(this));
            document.removeEventListener('mozfullscreenchange', this._onFullscreenChange.bind(this));
            document.removeEventListener('MSFullscreenChange', this._onFullscreenChange.bind(this));
            window.onresize = null;
          }
        };
        _proto._onFullscreenChange = function _onFullscreenChange() {
          this._isFullscreen = Boolean(document.fullscreenElement || document['webkitFullscreenElement'] || document['mozFullScreenElement'] || document['msFullscreenElement']);
          this.sprFullScreen.spriteFrame = this._isFullscreen ? this.spfFullScreenOff : this.spfFullScreenOn;
        };
        _proto._onPressedKey = function _onPressedKey(event) {
          if (event.keyCode === KeyCode.F11) {
            this._isFullscreen = !this._isFullscreen;
            this._isFullscreen ? screen.exitFullScreen() : screen.requestFullScreen();
            this.sprFullScreen.spriteFrame = this._isFullscreen ? this.spfFullScreenOff : this.spfFullScreenOn;
          }
        };
        _proto._onToggleFullScreen = function _onToggleFullScreen() {
          this._isFullscreen ? screen.exitFullScreen() : screen.requestFullScreen();
        };
        _proto._onConnectError = function _onConnectError(msg) {
          var _GlobalConfig$instanc = GlobalConfig.instance,
            notice = _GlobalConfig$instanc.notice,
            loading = _GlobalConfig$instanc.loading;
          loading.close();
          notice.show('txt_title', msg.error, 'txt_btn_confirm2');
          pEventManager.invoke('onError', msg);
        };
        _proto._onDisconnect = function _onDisconnect() {
          var loading = GlobalConfig.instance.loading;
          loading.close();
          if (GameManager.Instance.state !== EGameState.LOGIN) GlobalConfig.instance.logout();
        };
        _proto._onConnect = function _onConnect(selectSeverMode, msg) {
          GlobalConfig.instance.loading.close();
        };
        _proto._actAppleLogin = function _actAppleLogin() {
          pDecorators.instance(NSAudio.Manager).play(EAudioID.SFX_CLICK);
          UIController.Instance.open(UIType.LOGIN_APPLE);
        };
        _proto._actFbLogin = function _actFbLogin() {
          pDecorators.instance(NSAudio.Manager).play(EAudioID.SFX_CLICK);
          UIController.Instance.open(UIType.LOGIN_FACEBOOK);
        };
        _proto._actEmailLogin = function _actEmailLogin() {
          pDecorators.instance(NSAudio.Manager).play(EAudioID.SFX_CLICK);
          UIController.Instance.open(UIType.LOGIN_EMAIL);
        };
        _proto._actGuestLogin = function _actGuestLogin() {
          pDecorators.instance(NSAudio.Manager).play(EAudioID.SFX_CLICK);
          UIController.Instance.open(UIType.LOGIN_AS_GUEST);
        };
        _proto._actGoogleLogin = /*#__PURE__*/function () {
          var _actGoogleLogin2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {
            return _regeneratorRuntime().wrap(function _callee4$(_context4) {
              while (1) switch (_context4.prev = _context4.next) {
                case 0:
                  pDecorators.instance(NSAudio.Manager).play(EAudioID.SFX_CLICK);
                  UIController.Instance.open(UIType.LOGIN_GOOGLE);
                case 2:
                case "end":
                  return _context4.stop();
              }
            }, _callee4);
          }));
          function _actGoogleLogin() {
            return _actGoogleLogin2.apply(this, arguments);
          }
          return _actGoogleLogin;
        }();
        return UILogin;
      }(UIBase), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "btnLoginApple", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "btnLoginFb", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "btnLoginEmail", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "btnLoginGoogle", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "btnLoginAsGuest", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, "btnFullScreen", [_dec7], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor7 = _applyDecoratedDescriptor(_class2.prototype, "sprFullScreen", [_dec8], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor8 = _applyDecoratedDescriptor(_class2.prototype, "spfFullScreenOn", [_dec9], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor9 = _applyDecoratedDescriptor(_class2.prototype, "spfFullScreenOff", [_dec10], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor10 = _applyDecoratedDescriptor(_class2.prototype, "sliderSound", [_dec11], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor11 = _applyDecoratedDescriptor(_class2.prototype, "toggleMusic", [_dec12], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UILoginApple.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts', './INetwork.ts', './Enums.ts', './GameManager.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, cclegacy, _decorator, Node, Button, UIBase, LoginParams, ELoginType, EGameState, GameManager;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Node = module.Node;
      Button = module.Button;
    }, function (module) {
      UIBase = module.UIBase;
    }, function (module) {
      LoginParams = module.LoginParams;
    }, function (module) {
      ELoginType = module.ELoginType;
      EGameState = module.EGameState;
    }, function (module) {
      GameManager = module.GameManager;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _class, _class2, _descriptor, _descriptor2, _descriptor3;
      cclegacy._RF.push({}, "cbc98x7eDZMc4LD42Gu1JDL", "UILoginApple", undefined);
      var ccclass = _decorator.ccclass,
        type = _decorator.type;
      var UILoginApple = exports('UILoginApple', (_dec = ccclass('UILoginApple'), _dec2 = type(Node), _dec3 = type(Node), _dec4 = type(Button), _dec(_class = (_class2 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UILoginApple, _UIBase);
        function UILoginApple() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "widgetConfirm", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "widgetFaceID", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnConfirm", _descriptor3, _assertThisInitialized(_this));
          return _this;
        }
        var _proto = UILoginApple.prototype;
        _proto._onStart = function _onStart() {
          this._addClicker(this.btnConfirm, this.confirm, this);
        };
        _proto._onOpen = function _onOpen() {
          this.widgetConfirm.active = true;
          this.widgetFaceID.active = false;
        };
        _proto.confirm = function confirm() {
          this.widgetConfirm.active = false;
          this.widgetFaceID.active = true;
          this.scheduleOnce(this.login, 1);
        };
        _proto.login = function login() {
          var loginParams = new LoginParams();
          loginParams.loginType = ELoginType.LOGIN_APPLE;
          GameManager.Instance.getGameClient().login(loginParams, this.onLoginResponse, this);
        };
        _proto.onLoginResponse = function onLoginResponse(data) {
          // Todo: save user data and load scene Main Screen
          GameManager.Instance.loadScene(EGameState.MAIN_SCREEN);
        };
        return UILoginApple;
      }(UIBase), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "widgetConfirm", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "widgetFaceID", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "btnConfirm", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UILoginAsGuest.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts', './AvatarItem.ts', './Enums.ts', './GameManager.ts', './StringUtils.ts', './GlobalConfig.ts', './ResponeCode.ts', './UINotice.ts', './AsyncUtils.ts', './MiniLoading.ts', './CaptchaHelper.ts', './Constants.ts', './JsonUtils.ts', './EntryCommand.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _asyncToGenerator, _regeneratorRuntime, cclegacy, _decorator, Prefab, Label, Button, UIBase, AvatarItem, EGameState, GameManager, pStringUtils, GlobalConfig, ResponseCode, UINotice, pAsyncUtils, MiniLoading, NSCaptcha, StorageKeys, JsonUtils, request;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Prefab = module.Prefab;
      Label = module.Label;
      Button = module.Button;
    }, function (module) {
      UIBase = module.UIBase;
    }, function (module) {
      AvatarItem = module.AvatarItem;
    }, function (module) {
      EGameState = module.EGameState;
    }, function (module) {
      GameManager = module.GameManager;
    }, function (module) {
      pStringUtils = module.pStringUtils;
    }, function (module) {
      GlobalConfig = module.default;
    }, function (module) {
      ResponseCode = module.ResponseCode;
    }, function (module) {
      UINotice = module.UINotice;
    }, function (module) {
      pAsyncUtils = module.pAsyncUtils;
    }, function (module) {
      MiniLoading = module.MiniLoading;
    }, function (module) {
      NSCaptcha = module.NSCaptcha;
    }, function (module) {
      StorageKeys = module.StorageKeys;
    }, function (module) {
      JsonUtils = module.default;
    }, function (module) {
      request = module.default;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6;
      cclegacy._RF.push({}, "01f66ZhhrREJL45AL7W7L9h", "UILoginAsGuest", undefined);
      var ccclass = _decorator.ccclass,
        type = _decorator.type,
        property = _decorator.property;
      var id = '__login_as_guest_async_';
      var _las = {
        time: 5,
        is_mms: false,
        id: id
      };
      var UILoginAsGuest = exports('UILoginAsGuest', (_dec = ccclass('UILoginAsGuest'), _dec2 = type([AvatarItem]), _dec3 = type(Prefab), _dec4 = type(Label), _dec5 = type(Button), _dec6 = type(MiniLoading), _dec7 = property({
        type: NSCaptcha.Manager,
        group: {
          id: "UIBase",
          name: "Captcha"
        }
      }), _dec(_class = (_class2 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UILoginAsGuest, _UIBase);
        function UILoginAsGuest() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "avatars", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "avatarItemPrefab", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "txtTitle", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnLogin", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "loading", _descriptor5, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "captcha", _descriptor6, _assertThisInitialized(_this));
          _this._targets = [];
          _this._requested = false;
          return _this;
        }
        var _proto = UILoginAsGuest.prototype;
        _proto._onStart = /*#__PURE__*/function () {
          var _onStart2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {
            var _this2 = this;
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  this._addClicker(this.btnLogin, this.login, this);
                  this.captcha.mix(this.avatars, function (self, frame, id) {
                    return self.setContent(id, frame);
                  }, function (title) {
                    return _this2.txtTitle.string = title;
                  });
                case 2:
                case "end":
                  return _context.stop();
              }
            }, _callee, this);
          }));
          function _onStart() {
            return _onStart2.apply(this, arguments);
          }
          return _onStart;
        }();
        _proto.changeUN = function changeUN() {
          var USERNAME = StorageKeys.USERNAME;
          GameManager.Instance.getStorage().save(USERNAME, pStringUtils.randomName());
        };
        _proto._check = function _check() {
          var _target = this.avatars.filter(function (_avt) {
            return _avt.isChecked;
          }).map(function (_avt) {
            return _avt.index;
          });
          return this.captcha.check(_target);
        };
        _proto.login = /*#__PURE__*/function () {
          var _login = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {
            var _this3 = this;
            var instance, username, nickname, msg;
            return _regeneratorRuntime().wrap(function _callee2$(_context2) {
              while (1) switch (_context2.prev = _context2.next) {
                case 0:
                  if (!this._requested) {
                    _context2.next = 2;
                    break;
                  }
                  return _context2.abrupt("return");
                case 2:
                  if (this._check()) {
                    _context2.next = 5;
                    break;
                  }
                  UINotice.instance.show('txt_title', {
                    'raw': this.txtTitle.string
                  }, 'txt_btn_confirm');
                  return _context2.abrupt("return");
                case 5:
                  instance = GlobalConfig.instance;
                  _context2.next = 8;
                  return GameManager.Instance.getStorage().get("USERNAME");
                case 8:
                  username = _context2.sent;
                  nickname = JsonUtils.isValidData(username) ? username : pStringUtils.randomName();
                  GameManager.Instance.getStorage().save("USERNAME", nickname);
                  instance.loading.open();
                  pAsyncUtils.wait(_las).then(function () {
                    return _this3._requested = false;
                  });
                  _context2.prev = 13;
                  this._requested = true;
                  _context2.next = 17;
                  return request('loginDevice', {
                    deviceId: nickname
                  });
                case 17:
                  msg = _context2.sent;
                  _context2.next = 20;
                  return this.onLoginResponse(msg);
                case 20:
                  _context2.next = 26;
                  break;
                case 22:
                  _context2.prev = 22;
                  _context2.t0 = _context2["catch"](13);
                  pAsyncUtils.stop(_las);
                  this.error("\t\t _Loading > Login As Gues > Error >", _context2.t0);
                case 26:
                  _context2.prev = 26;
                  this._requested = false;
                  return _context2.finish(26);
                case 29:
                case "end":
                  return _context2.stop();
              }
            }, _callee2, this, [[13, 22, 26, 29]]);
          }));
          function login() {
            return _login.apply(this, arguments);
          }
          return login;
        }();
        _proto.onLoginResponse = /*#__PURE__*/function () {
          var _onLoginResponse = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(msg) {
            var instance;
            return _regeneratorRuntime().wrap(function _callee3$(_context3) {
              while (1) switch (_context3.prev = _context3.next) {
                case 0:
                  instance = GlobalConfig.instance;
                  _context3.t0 = msg.code;
                  _context3.next = _context3.t0 === ResponseCode.ERR_USER_DISABLED ? 4 : _context3.t0 === ResponseCode.ERROR ? 9 : _context3.t0 === ResponseCode.SUCCESS ? 13 : 17;
                  break;
                case 4:
                  UINotice.instance.show('txt_title', 'txt_account_locked', 'txt_btn_confirm2');
                  instance.loading.close();
                  instance.onLoginFail();
                  this.close();
                  return _context3.abrupt("break", 17);
                case 9:
                  instance.onLoginFail();
                  UINotice.instance.show('txt_title', msg.error, 'txt_btn_confirm');
                  this.error('[UILoginAsGuest] Error', msg);
                  return _context3.abrupt("break", 17);
                case 13:
                  _context3.next = 15;
                  return instance.actLogin(msg);
                case 15:
                  instance.loading.addTaskLoader(GameManager.Instance.loadScene(EGameState.MAIN_SCREEN));
                  return _context3.abrupt("break", 17);
                case 17:
                  instance.loading.close();
                case 18:
                case "end":
                  return _context3.stop();
              }
            }, _callee3, this);
          }));
          function onLoginResponse(_x) {
            return _onLoginResponse.apply(this, arguments);
          }
          return onLoginResponse;
        }();
        return UILoginAsGuest;
      }(UIBase), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "avatars", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return [];
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "avatarItemPrefab", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "txtTitle", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "btnLogin", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "loading", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, "captcha", [_dec7], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return new NSCaptcha.Manager();
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UILoginChangePhoneZone.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts', './PhoneZoneItem.ts', './Global.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, cclegacy, _decorator, CCString, ToggleContainer, Prefab, instantiate, EventHandler, UIBase, PhoneZoneItem, debugLog;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      CCString = module.CCString;
      ToggleContainer = module.ToggleContainer;
      Prefab = module.Prefab;
      instantiate = module.instantiate;
      EventHandler = module.EventHandler;
    }, function (module) {
      UIBase = module.UIBase;
    }, function (module) {
      PhoneZoneItem = module.PhoneZoneItem;
    }, function (module) {
      debugLog = module.debugLog;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4;
      cclegacy._RF.push({}, "f11abQEu5NOsr4NzzYPmH4p", "UILoginChangePhoneZone", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property,
        type = _decorator.type;
      var UILoginChangePhoneZone = exports('UILoginChangePhoneZone', (_dec = ccclass('UILoginChangePhoneZone'), _dec2 = property([CCString]), _dec3 = property([CCString]), _dec4 = type(ToggleContainer), _dec5 = type(Prefab), _dec(_class = (_class2 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UILoginChangePhoneZone, _UIBase);
        function UILoginChangePhoneZone() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "zoneNames", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "zoneCodes", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "zoneToggleContainer", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "zoneItemPrefab", _descriptor4, _assertThisInitialized(_this));
          // private zoneItems: PhoneZoneItem[] = [];
          _this.selectedZone = 0;
          _this.callbackOnClose = null;
          _this.callBackOnCloseTarget = null;
          return _this;
        }
        var _proto = UILoginChangePhoneZone.prototype;
        _proto._onStart = function _onStart() {
          //this.addButtonClickEvent(this.btnClose, this.close, this);

          for (var i = 0; i < this.zoneNames.length; i++) {
            var zoneItem = instantiate(this.zoneItemPrefab).getComponent(PhoneZoneItem);
            zoneItem.node.setParent(this.zoneToggleContainer.node);
            zoneItem.setContent(i, this.zoneNames[i], this.zoneCodes[i]);
          }
          var containerEventHandler = new EventHandler();
          containerEventHandler.target = this.node;
          containerEventHandler.component = 'UILoginChangePhoneZone';
          containerEventHandler.handler = 'onSelectZone';
          containerEventHandler.customEventData = '';
          this.zoneToggleContainer.checkEvents.push(containerEventHandler);
        };
        _proto._onClose = function _onClose() {
          if (this.callbackOnClose) {
            this.callBackOnCloseTarget == null ? this.callbackOnClose.call(this, this.selectedZone, this.zoneCodes[this.selectedZone]) : this.callbackOnClose.call(this.callBackOnCloseTarget, this.selectedZone, this.zoneCodes[this.selectedZone]);
          }
        };
        _proto.onSelectZone = function onSelectZone(event) {
          var zoneItem = event.target.getComponent(PhoneZoneItem);
          this.selectedZone = zoneItem.getZoneIndex();
          debugLog("select zone: " + this.selectedZone + " " + this.zoneNames[this.selectedZone] + " +" + this.zoneCodes[this.selectedZone]);
        };
        _proto.setZone = function setZone(selectedZone) {
          this.selectedZone = selectedZone;
          debugLog(this.zoneToggleContainer.toggleItems.length + "");
          //this.zoneToggleContainer.toggleItems[selectedZone].isChecked = true;
        };

        _proto.setCallbackOnClose = function setCallbackOnClose(callback, target) {
          this.callbackOnClose = callback;
          this.callBackOnCloseTarget = target;
        };
        return UILoginChangePhoneZone;
      }(UIBase), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "zoneNames", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return [];
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "zoneCodes", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return [];
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "zoneToggleContainer", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "zoneItemPrefab", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UILoginEmail.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts', './Enums.ts', './UIController.ts', './GameManager.ts', './GlobalConfig.ts', './ResponeCode.ts', './UINotice.ts', './StringUtils.ts', './ComponentUtils.ts', './JsonUtils.ts', './EntryCommand.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _asyncToGenerator, _regeneratorRuntime, cclegacy, _decorator, ToggleContainer, Button, Toggle, Node, Label, EditBox, UIBase, ELoginEmailType, UIType, EGameState, UIController, GameManager, GlobalConfig, ResponseCode, UINotice, pStringUtils, pComponentUtils, JsonUtils, request;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      ToggleContainer = module.ToggleContainer;
      Button = module.Button;
      Toggle = module.Toggle;
      Node = module.Node;
      Label = module.Label;
      EditBox = module.EditBox;
    }, function (module) {
      UIBase = module.UIBase;
    }, function (module) {
      ELoginEmailType = module.ELoginEmailType;
      UIType = module.UIType;
      EGameState = module.EGameState;
    }, function (module) {
      UIController = module.UIController;
    }, function (module) {
      GameManager = module.GameManager;
    }, function (module) {
      GlobalConfig = module.default;
    }, function (module) {
      ResponseCode = module.ResponseCode;
    }, function (module) {
      UINotice = module.UINotice;
    }, function (module) {
      pStringUtils = module.pStringUtils;
    }, function (module) {
      pComponentUtils = module.pComponentUtils;
    }, function (module) {
      JsonUtils = module.default;
    }, function (module) {
      request = module.default;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _dec11, _dec12, _dec13, _dec14, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9, _descriptor10, _descriptor11, _descriptor12, _descriptor13;
      cclegacy._RF.push({}, "8ccb9TuqnpD3qwg48WNrrVn", "UILoginEmail", undefined);
      var ccclass = _decorator.ccclass,
        type = _decorator.type;
      var UILoginEmail = exports('UILoginEmail', (_dec = ccclass('UILoginEmail'), _dec2 = type(ToggleContainer), _dec3 = type(Button), _dec4 = type(Toggle), _dec5 = type(Button), _dec6 = type(Button), _dec7 = type(Button), _dec8 = type(Node), _dec9 = type(Node), _dec10 = type(Node), _dec11 = type(Label), _dec12 = type(EditBox), _dec13 = type(EditBox), _dec14 = type(EditBox), _dec(_class = (_class2 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UILoginEmail, _UIBase);
        function UILoginEmail() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "loginTypeTC", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnChangePhoneZone", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "toggleSavePassword", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnForgotPassword", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnRegister", _descriptor5, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnLogin", _descriptor6, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "phoneZoneNode", _descriptor7, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "editPhoneNumberNode", _descriptor8, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "editEmailNode", _descriptor9, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lblPhoneZone", _descriptor10, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "editPhoneNumber", _descriptor11, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "editEmail", _descriptor12, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "editPassword", _descriptor13, _assertThisInitialized(_this));
          //private loginType: ELoginType = ELoginType.LOGIN_PHONE;
          _this.loginEmailType = null;
          _this.selectedZone = 0;
          _this.zoneCode = "84";
          return _this;
        }
        var _proto = UILoginEmail.prototype;
        _proto._onStart = function _onStart() {
          this._addClickers([{
            target: this.btnChangePhoneZone,
            handlers: this._actChangePhoneZone
          }, {
            target: this.btnForgotPassword,
            handlers: this._actForgotPassword
          }, {
            target: this.btnLogin,
            handlers: this.login
          }, {
            target: this.btnRegister,
            handlers: this._actRegister
          }]);
          pComponentUtils.appends([{
            _options: {
              _target: this.editEmail,
              _handlers: this._onEditEmail
            },
            _type: EditBox.EventType.EDITING_DID_ENDED,
            _binder: this
          }, {
            _options: {
              _target: this.toggleSavePassword,
              _handlers: this._actToggleSavePassword
            },
            _type: Toggle.EventType.TOGGLE,
            _binder: this
          }]);
        };
        _proto._onEditEmail = function _onEditEmail(target) {
          var _email = target.string;
          this.btnLogin.interactable = pStringUtils.isValidEmail(_email);
          this.log("__onEditEmail", _email, this.btnLogin.interactable);
        };
        _proto._actRegister = /*#__PURE__*/function () {
          var _actRegister2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {
            var ui;
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  _context.next = 2;
                  return UIController.Instance.open(UIType.REGISTER_EMAIL, true, true);
                case 2:
                  ui = _context.sent;
                  ui.fill(this.editEmail.string, this.editPassword.string);
                case 4:
                case "end":
                  return _context.stop();
              }
            }, _callee, this);
          }));
          function _actRegister() {
            return _actRegister2.apply(this, arguments);
          }
          return _actRegister;
        }();
        _proto._actToggleSavePassword = /*#__PURE__*/function () {
          var _actToggleSavePassword2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {
            var isChecked, str;
            return _regeneratorRuntime().wrap(function _callee2$(_context2) {
              while (1) switch (_context2.prev = _context2.next) {
                case 0:
                  isChecked = this.toggleSavePassword.isChecked;
                  str = GameManager.Instance.getStorage();
                  str.save('SAVE', JSON.stringify(isChecked));
                case 3:
                case "end":
                  return _context2.stop();
              }
            }, _callee2, this);
          }));
          function _actToggleSavePassword() {
            return _actToggleSavePassword2.apply(this, arguments);
          }
          return _actToggleSavePassword;
        }();
        _proto._open = /*#__PURE__*/function () {
          var _open2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {
            var _str, _data;
            return _regeneratorRuntime().wrap(function _callee3$(_context3) {
              while (1) switch (_context3.prev = _context3.next) {
                case 0:
                  _str = GameManager.Instance.getStorage();
                  _context3.next = 3;
                  return _str.gets('SAVE', 'EMAIL', 'PASSWORD');
                case 3:
                  _data = _context3.sent;
                  this.toggleSavePassword.isChecked = JsonUtils.isValidData(_data.SAVE) ? JSON.parse(_data.SAVE) : false;
                  this.editEmail.string = JsonUtils.isValidData(_data.EMAIL) ? JSON.parse(_data.EMAIL) : "";
                  this.editPassword.string = JsonUtils.isValidData(_data.PASSWORD) ? JSON.parse(_data.PASSWORD) : '';
                  this._onEditEmail(this.editEmail);
                  _UIBase.prototype._open.call(this);
                case 9:
                case "end":
                  return _context3.stop();
              }
            }, _callee3, this);
          }));
          function _open() {
            return _open2.apply(this, arguments);
          }
          return _open;
        }();
        _proto._onOpen = function _onOpen() {
          //this.loginTypeTC.toggleItems[ELoginEmailType.LOGIN_EMAIL].isChecked = true;
          //this.switchLoginType(ELoginEmailType.LOGIN_EMAIL);
          //this.editEmail.string = "";
          //this.editPhoneNumber.string = "";
          //this.editPassword.string = "";
          //this.selectedZone = 0;
          //this.zoneCode = PhoneZoneConstants.PHONE_ZONE_CODE[0];
          //this._updatePhoneZone(this.selectedZone, this.zoneCode);
        };
        _proto._actChangeLoginType = function _actChangeLoginType(numIndex) {
          this.switchLoginType(numIndex);
        };
        _proto.switchLoginType = function switchLoginType(loginEmailType) {
          //this.loginType = loginEmailType == ELoginEmailType.LOGIN_PHONE ? ELoginType.LOGIN_PHONE: ELoginType.LOGIN_EMAIL;
          this.loginEmailType = loginEmailType;
          this.phoneZoneNode.active = loginEmailType == ELoginEmailType.LOGIN_PHONE;
          this.editPhoneNumberNode.active = loginEmailType == ELoginEmailType.LOGIN_PHONE;
          this.editEmailNode.active = !(loginEmailType == ELoginEmailType.LOGIN_PHONE);
        };
        _proto._actChangePhoneZone = /*#__PURE__*/function () {
          var _actChangePhoneZone2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {
            var uiPhoneZone;
            return _regeneratorRuntime().wrap(function _callee4$(_context4) {
              while (1) switch (_context4.prev = _context4.next) {
                case 0:
                  _context4.next = 2;
                  return UIController.Instance.open(UIType.LOGIN_CHANGE_PHONE_ZONE, true, true);
                case 2:
                  uiPhoneZone = _context4.sent;
                  uiPhoneZone.setZone(this.selectedZone);
                  uiPhoneZone.setCallbackOnClose(this._updatePhoneZone, this);
                case 5:
                case "end":
                  return _context4.stop();
              }
            }, _callee4, this);
          }));
          function _actChangePhoneZone() {
            return _actChangePhoneZone2.apply(this, arguments);
          }
          return _actChangePhoneZone;
        }();
        _proto._updatePhoneZone = function _updatePhoneZone(selectedZone, zoneCode) {
          this.selectedZone = selectedZone;
          this.zoneCode = zoneCode;
          this.lblPhoneZone.string = "+" + zoneCode;
        };
        _proto._actForgotPassword = /*#__PURE__*/function () {
          var _actForgotPassword2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5() {
            var uiForgot;
            return _regeneratorRuntime().wrap(function _callee5$(_context5) {
              while (1) switch (_context5.prev = _context5.next) {
                case 0:
                  _context5.next = 2;
                  return UIController.Instance.open(UIType.LOGIN_FORGOT_PASSWORD);
                case 2:
                  uiForgot = _context5.sent;
                  uiForgot.setBackUI(this.uiType);
                  uiForgot.updatePhoneZone(this.selectedZone, this.zoneCode);
                  uiForgot.setToggleCheck(this.loginEmailType);
                  uiForgot.switchLoginType(this.loginEmailType);
                  this.close();
                case 8:
                case "end":
                  return _context5.stop();
              }
            }, _callee5, this);
          }));
          function _actForgotPassword() {
            return _actForgotPassword2.apply(this, arguments);
          }
          return _actForgotPassword;
        }();
        _proto.login = /*#__PURE__*/function () {
          var _login = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6() {
            var email, password, instance, msg;
            return _regeneratorRuntime().wrap(function _callee6$(_context6) {
              while (1) switch (_context6.prev = _context6.next) {
                case 0:
                  email = this.editEmail.string.toLowerCase();
                  password = this.editPassword.string;
                  instance = GlobalConfig.instance;
                  instance.loading.open();
                  _context6.prev = 4;
                  _context6.next = 7;
                  return request('loginByEmail', {
                    email: email,
                    password: password
                  });
                case 7:
                  msg = _context6.sent;
                  this.onLoginResponse(msg);
                  _context6.next = 17;
                  break;
                case 11:
                  _context6.prev = 11;
                  _context6.t0 = _context6["catch"](4);
                  this.error('[UILoginEmail] Error >>', _context6.t0);
                  UINotice.instance.show('txt_title', 'txt_login_by_email_fail', 'txt_btn_confirm2');
                  this.close();
                  instance.loading.close();
                case 17:
                case "end":
                  return _context6.stop();
              }
            }, _callee6, this, [[4, 11]]);
          }));
          function login() {
            return _login.apply(this, arguments);
          }
          return login;
        }();
        _proto.onLoginResponse = /*#__PURE__*/function () {
          var _onLoginResponse = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee7(data) {
            var instance, Instance, str;
            return _regeneratorRuntime().wrap(function _callee7$(_context7) {
              while (1) switch (_context7.prev = _context7.next) {
                case 0:
                  instance = GlobalConfig.instance;
                  _context7.t0 = data.code;
                  _context7.next = _context7.t0 === ResponseCode.ERR_USER_DISABLED ? 4 : _context7.t0 === ResponseCode.ERR_LOGIN_BY_EMAIL_UNAUTHENTICATED ? 8 : _context7.t0 === ResponseCode.ERR_EMAIL_LOGIN_FAIL ? 8 : _context7.t0 === ResponseCode.ERR_USER_NOT_EXIST ? 8 : _context7.t0 === ResponseCode.ERROR ? 12 : _context7.t0 === ResponseCode.SUCCESS ? 16 : 25;
                  break;
                case 4:
                  UINotice.instance.show('txt_title', 'txt_account_locked', 'txt_btn_confirm2');
                  instance.loading.close();
                  this.close();
                  return _context7.abrupt("break", 25);
                case 8:
                  UINotice.instance.show('txt_title', data['msg'], 'txt_btn_confirm2');
                  instance.loading.close();
                  this.close();
                  return _context7.abrupt("break", 25);
                case 12:
                  UINotice.instance.show('txt_title', data.error, 'txt_btn_confirm2');
                  instance.loading.close();
                  this.close();
                  return _context7.abrupt("break", 25);
                case 16:
                  this.close();
                  _context7.next = 19;
                  return GlobalConfig.instance.actLogin(data);
                case 19:
                  instance.loading.close();
                  Instance = GameManager.Instance;
                  str = Instance.getStorage();
                  if (this.toggleSavePassword.isChecked) {
                    str.save('EMAIL', JSON.stringify(this.editEmail.string));
                    str.save('PASSWORD', JSON.stringify(this.editPassword.string));
                  }

                  // Todo: save user data and load scene Main Screen
                  Instance.loadScene(EGameState.MAIN_SCREEN);
                  return _context7.abrupt("break", 25);
                case 25:
                case "end":
                  return _context7.stop();
              }
            }, _callee7, this);
          }));
          function onLoginResponse(_x) {
            return _onLoginResponse.apply(this, arguments);
          }
          return onLoginResponse;
        }();
        return UILoginEmail;
      }(UIBase), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "loginTypeTC", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "btnChangePhoneZone", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "toggleSavePassword", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "btnForgotPassword", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "btnRegister", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, "btnLogin", [_dec7], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor7 = _applyDecoratedDescriptor(_class2.prototype, "phoneZoneNode", [_dec8], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor8 = _applyDecoratedDescriptor(_class2.prototype, "editPhoneNumberNode", [_dec9], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor9 = _applyDecoratedDescriptor(_class2.prototype, "editEmailNode", [_dec10], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor10 = _applyDecoratedDescriptor(_class2.prototype, "lblPhoneZone", [_dec11], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor11 = _applyDecoratedDescriptor(_class2.prototype, "editPhoneNumber", [_dec12], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor12 = _applyDecoratedDescriptor(_class2.prototype, "editEmail", [_dec13], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor13 = _applyDecoratedDescriptor(_class2.prototype, "editPassword", [_dec14], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UILoginFB.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts', './Enums.ts', './GameManager.ts', './FacebookManager.ts', './GlobalConfig.ts', './ResponeCode.ts', './UINotice.ts', './EntryCommand.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _asyncToGenerator, _regeneratorRuntime, cclegacy, _decorator, Button, UIBase, EGameState, GameManager, FacebookManager, GlobalConfig, ResponseCode, UINotice, request;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Button = module.Button;
    }, function (module) {
      UIBase = module.UIBase;
    }, function (module) {
      EGameState = module.EGameState;
    }, function (module) {
      GameManager = module.GameManager;
    }, function (module) {
      FacebookManager = module.FacebookManager;
    }, function (module) {
      GlobalConfig = module.default;
    }, function (module) {
      ResponseCode = module.ResponseCode;
    }, function (module) {
      UINotice = module.UINotice;
    }, function (module) {
      request = module.default;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _class, _class2, _descriptor, _descriptor2;
      cclegacy._RF.push({}, "c545e7CiBpIaLoI3LNZNVUU", "UILoginFB", undefined);
      var ccclass = _decorator.ccclass,
        type = _decorator.type;
      var UILoginFB = exports('UILoginFB', (_dec = ccclass('UILoginFB'), _dec2 = type(Button), _dec3 = type(Button), _dec(_class = (_class2 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UILoginFB, _UIBase);
        function UILoginFB() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "btnCancel", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnLogin", _descriptor2, _assertThisInitialized(_this));
          return _this;
        }
        var _proto = UILoginFB.prototype;
        _proto._onStart = function _onStart() {
          this._addClicker(this.btnCancel, this.close, this);
          this._addClicker(this.btnLogin, this.login, this);
        };
        _proto.login = /*#__PURE__*/function () {
          var _login = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {
            var instance, player, msg;
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  instance = GlobalConfig.instance;
                  instance.loading.open();
                  _context.prev = 2;
                  player = null;
                  _context.prev = 4;
                  _context.next = 7;
                  return FacebookManager.getInstance().login();
                case 7:
                  player = _context.sent;
                  _context.next = 18;
                  break;
                case 10:
                  _context.prev = 10;
                  _context.t0 = _context["catch"](4);
                  this.close();
                  instance.loading.close();
                  instance.onLoginFail();
                  UINotice.instance.show('txt_title', 'txt_login_facebook_error', 'txt_btn_confirm2');
                  this.close();
                  return _context.abrupt("return");
                case 18:
                  _context.next = 20;
                  return request('loginFacebook', player);
                case 20:
                  msg = _context.sent;
                  this.close();
                  _context.t1 = msg.code;
                  _context.next = _context.t1 === ResponseCode.ERR_USER_DISABLED ? 25 : _context.t1 === ResponseCode.ERROR ? 30 : _context.t1 === ResponseCode.SUCCESS ? 34 : 40;
                  break;
                case 25:
                  UINotice.instance.show('txt_title', 'txt_account_locked', 'txt_btn_confirm2');
                  instance.loading.close();
                  instance.onLoginFail();
                  this.close();
                  return _context.abrupt("break", 40);
                case 30:
                  instance.onLoginFail();
                  instance.loading.close();
                  UINotice.instance.show('txt_title', msg.error, 'txt_btn_confirm2');
                  return _context.abrupt("break", 40);
                case 34:
                  _context.next = 36;
                  return instance.actLogin(msg);
                case 36:
                  instance.loading.close();
                  this.close();
                  GameManager.Instance.loadScene(EGameState.MAIN_SCREEN);
                  return _context.abrupt("break", 40);
                case 40:
                  _context.next = 45;
                  break;
                case 42:
                  _context.prev = 42;
                  _context.t2 = _context["catch"](2);
                  console.error("[UILoginFB] Error >> Login >>", _context.t2);
                case 45:
                case "end":
                  return _context.stop();
              }
            }, _callee, this, [[2, 42], [4, 10]]);
          }));
          function login() {
            return _login.apply(this, arguments);
          }
          return login;
        }();
        return UILoginFB;
      }(UIBase), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "btnCancel", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "btnLogin", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UILoginForgotPassword.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts', './Enums.ts', './UIController.ts', './Global.ts', './GameManager.ts', './INetwork.ts', './ComponentUtils.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _asyncToGenerator, _regeneratorRuntime, cclegacy, _decorator, ToggleContainer, Button, Node, Label, EditBox, UIBase, ELoginType, ELoginEmailType, UIType, UIController, debugLog, GameManager, ResetPasswordParams, pComponentUtils;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      ToggleContainer = module.ToggleContainer;
      Button = module.Button;
      Node = module.Node;
      Label = module.Label;
      EditBox = module.EditBox;
    }, function (module) {
      UIBase = module.UIBase;
    }, function (module) {
      ELoginType = module.ELoginType;
      ELoginEmailType = module.ELoginEmailType;
      UIType = module.UIType;
    }, function (module) {
      UIController = module.UIController;
    }, function (module) {
      debugLog = module.debugLog;
    }, function (module) {
      GameManager = module.GameManager;
    }, function (module) {
      ResetPasswordParams = module.ResetPasswordParams;
    }, function (module) {
      pComponentUtils = module.pComponentUtils;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _dec11, _dec12, _dec13, _dec14, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9, _descriptor10, _descriptor11, _descriptor12, _descriptor13;
      cclegacy._RF.push({}, "abc3bm6yKhH/IhDMBxiLqEq", "UILoginForgotPassword", undefined);
      var ccclass = _decorator.ccclass,
        type = _decorator.type;
      var UILoginForgotPassword = exports('UILoginForgotPassword', (_dec = ccclass('UILoginForgotPassword'), _dec2 = type(ToggleContainer), _dec3 = type(Button), _dec4 = type(Button), _dec5 = type(Node), _dec6 = type(Node), _dec7 = type(Node), _dec8 = type(Label), _dec9 = type(EditBox), _dec10 = type(EditBox), _dec11 = type(EditBox), _dec12 = type(EditBox), _dec13 = type(EditBox), _dec14 = type(Button), _dec(_class = (_class2 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UILoginForgotPassword, _UIBase);
        function UILoginForgotPassword() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "loginTypeTC", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnChangePhoneZone", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnGetAuthenCode", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "phoneZoneNode", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "editPhoneNumberNode", _descriptor5, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "editEmailNode", _descriptor6, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lblPhoneZone", _descriptor7, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "editPhoneNumber", _descriptor8, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "editEmail", _descriptor9, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "editAuthenCode", _descriptor10, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "editPassword", _descriptor11, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "editPasswordAgain", _descriptor12, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnResetPassword", _descriptor13, _assertThisInitialized(_this));
          _this.loginType = ELoginType.LOGIN_PHONE;
          return _this;
        }
        var _proto = UILoginForgotPassword.prototype;
        //private selectedZone: number = 0;
        //private zoneCode: string = "84";
        _proto._onStart = function _onStart() {
          this._addClicker(this.btnChangePhoneZone, this.changePhoneZone, this);
          this._addClicker(this.btnGetAuthenCode, this.getAuthenCode, this);
          this._addClicker(this.btnResetPassword, this.resetPassword, this);
          pComponentUtils.binds(this.loginTypeTC, 'checkEvents', this, 'onChangeLoginType');
        };
        _proto._onOpen = function _onOpen() {
          // this.loginType = LoginType.LOGIN_PHONE;
          // this.switchLoginType();
          this.editEmail.string = "";
          this.editPhoneNumber.string = "";
          this.editAuthenCode.string = "";
          this.editPassword.string = "";
          this.editPasswordAgain.string = "";
        };
        _proto.setToggleCheck = function setToggleCheck(loginEmailType) {
          if (loginEmailType < this.loginTypeTC.toggleItems.length) {
            this.loginTypeTC.toggleItems[loginEmailType].isChecked = true;
          }
        };
        _proto.onChangeLoginType = function onChangeLoginType(toggle) {
          debugLog("onChangeLoginType");
          this.switchLoginType(toggle.node.getSiblingIndex());
        };
        _proto.switchLoginType = function switchLoginType(loginEmailType) {
          this.loginType = loginEmailType == ELoginEmailType.LOGIN_PHONE ? ELoginType.LOGIN_PHONE : ELoginType.LOGIN_EMAIL;
          this.phoneZoneNode.active = loginEmailType == ELoginEmailType.LOGIN_PHONE;
          this.editPhoneNumberNode.active = loginEmailType == ELoginEmailType.LOGIN_PHONE;
          this.editEmailNode.active = !(loginEmailType == ELoginEmailType.LOGIN_PHONE);
        };
        _proto.changePhoneZone = /*#__PURE__*/function () {
          var _changePhoneZone = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {
            var uiPhoneZone;
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  _context.next = 2;
                  return UIController.Instance.open(UIType.LOGIN_CHANGE_PHONE_ZONE, true, true);
                case 2:
                  uiPhoneZone = _context.sent;
                  uiPhoneZone.setCallbackOnClose(this.updatePhoneZone, this);
                case 4:
                case "end":
                  return _context.stop();
              }
            }, _callee, this);
          }));
          function changePhoneZone() {
            return _changePhoneZone.apply(this, arguments);
          }
          return changePhoneZone;
        }();
        _proto.updatePhoneZone = function updatePhoneZone(selectedZone, zoneCode) {
          //this.selectedZone = selectedZone;
          //this.zoneCode = zoneCode;
          //this.lblPhoneZone.string = "+" + zoneCode;
        };
        _proto.getAuthenCode = function getAuthenCode() {
          GameManager.Instance.getGameClient().getAuthenCode(null, this.onGetAuthenCodeResponse, this);
        };
        _proto.resetPassword = function resetPassword() {
          var resetPasswordParams = new ResetPasswordParams();
          resetPasswordParams.loginType = this.loginType;
          resetPasswordParams.email = this.editEmail.string;
          resetPasswordParams.phoneZone = this.lblPhoneZone.string;
          resetPasswordParams.phoneNumber = this.editPhoneNumber.string;
          GameManager.Instance.getGameClient().resetPassword(resetPasswordParams, this.onResetPasswordResponse, this);
        };
        _proto.onGetAuthenCodeResponse = function onGetAuthenCodeResponse(data) {
          debugLog("Get authen code success");
          debugLog(JSON.stringify(data));
        };
        _proto.onResetPasswordResponse = function onResetPasswordResponse(data) {
          debugLog("Reset password with email or phone success");
          debugLog(JSON.stringify(data));
        };
        return UILoginForgotPassword;
      }(UIBase), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "loginTypeTC", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "btnChangePhoneZone", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "btnGetAuthenCode", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "phoneZoneNode", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "editPhoneNumberNode", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, "editEmailNode", [_dec7], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor7 = _applyDecoratedDescriptor(_class2.prototype, "lblPhoneZone", [_dec8], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor8 = _applyDecoratedDescriptor(_class2.prototype, "editPhoneNumber", [_dec9], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor9 = _applyDecoratedDescriptor(_class2.prototype, "editEmail", [_dec10], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor10 = _applyDecoratedDescriptor(_class2.prototype, "editAuthenCode", [_dec11], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor11 = _applyDecoratedDescriptor(_class2.prototype, "editPassword", [_dec12], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor12 = _applyDecoratedDescriptor(_class2.prototype, "editPasswordAgain", [_dec13], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor13 = _applyDecoratedDescriptor(_class2.prototype, "btnResetPassword", [_dec14], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UILoginGoogle.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts', './Enums.ts', './GameManager.ts', './GlobalConfig.ts', './ResponeCode.ts', './UINotice.ts', './GoogleManager.ts', './Decorators.ts', './EntryCommand.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _asyncToGenerator, _regeneratorRuntime, _extends, cclegacy, _decorator, Button, UIBase, EGameState, GameManager, GlobalConfig, ResponseCode, UINotice, GoogleManager, pDecorators, request;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
      _extends = module.extends;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Button = module.Button;
    }, function (module) {
      UIBase = module.UIBase;
    }, function (module) {
      EGameState = module.EGameState;
    }, function (module) {
      GameManager = module.GameManager;
    }, function (module) {
      GlobalConfig = module.default;
    }, function (module) {
      ResponseCode = module.ResponseCode;
    }, function (module) {
      UINotice = module.UINotice;
    }, function (module) {
      GoogleManager = module.GoogleManager;
    }, function (module) {
      pDecorators = module.pDecorators;
    }, function (module) {
      request = module.default;
    }],
    execute: function () {
      var _dec, _dec2, _class, _class2, _descriptor;
      cclegacy._RF.push({}, "4951dCDl3JOLJ6gyLstJ8KO", "UILoginGoogle", undefined);
      var ccclass = _decorator.ccclass,
        type = _decorator.type;
      var UILoginGoogle = exports('UILoginGoogle', (_dec = ccclass('UILoginGoogle'), _dec2 = type(Button), _dec(_class = (_class2 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UILoginGoogle, _UIBase);
        function UILoginGoogle() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "btnLogin", _descriptor, _assertThisInitialized(_this));
          return _this;
        }
        var _proto = UILoginGoogle.prototype;
        _proto._onStart = function _onStart() {
          this._addClicker(this.btnLogin, this.login, this);
        };
        _proto.login = /*#__PURE__*/function () {
          var _login = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {
            var instance, _data, _msg;
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  instance = GlobalConfig.instance;
                  instance.loading.open();
                  _context.prev = 2;
                  _context.prev = 3;
                  _context.next = 6;
                  return pDecorators.instance(GoogleManager).login();
                case 6:
                  _data = _context.sent;
                  _context.next = 16;
                  break;
                case 9:
                  _context.prev = 9;
                  _context.t0 = _context["catch"](3);
                  instance.onLoginFail();
                  instance.loading.close();
                  this.close();
                  UINotice.instance.show('txt_title', {
                    raw: _context.t0
                  }, 'txt_btn_confirm2');
                  return _context.abrupt("return");
                case 16:
                  this.log("Google login data:", _data);
                  _context.next = 19;
                  return request('loginGoogle', _extends({
                    access_token: _data[1]
                  }, _data[0]));
                case 19:
                  _msg = _context.sent;
                  this.close();
                  _context.t1 = _msg.code;
                  _context.next = _context.t1 === ResponseCode.ERR_USER_DISABLED ? 24 : _context.t1 === 13 ? 29 : _context.t1 === ResponseCode.ERROR ? 34 : _context.t1 === ResponseCode.SUCCESS ? 39 : 45;
                  break;
                case 24:
                  UINotice.instance.show('txt_title', 'txt_account_locked', 'txt_btn_confirm2');
                  instance.loading.close();
                  instance.onLoginFail();
                  this.close();
                  return _context.abrupt("break", 45);
                case 29:
                  UINotice.instance.show('txt_title', 'txt_the_account_is_existed', 'txt_btn_confirm2');
                  instance.onLoginFail();
                  instance.loading.close();
                  this.close();
                  return _context.abrupt("break", 45);
                case 34:
                  instance.onLoginFail();
                  instance.loading.close();
                  this.close();
                  UINotice.instance.show('txt_title', _msg.error, 'txt_btn_confirm2');
                  return _context.abrupt("break", 45);
                case 39:
                  _context.next = 41;
                  return instance.actLogin(_msg);
                case 41:
                  instance.loading.close();
                  this.close();
                  GameManager.Instance.loadScene(EGameState.MAIN_SCREEN);
                  return _context.abrupt("break", 45);
                case 45:
                  _context.next = 50;
                  break;
                case 47:
                  _context.prev = 47;
                  _context.t2 = _context["catch"](2);
                  this.error("Error >> Login >>", _context.t2);
                case 50:
                case "end":
                  return _context.stop();
              }
            }, _callee, this, [[2, 47], [3, 9]]);
          }));
          function login() {
            return _login.apply(this, arguments);
          }
          return login;
        }();
        return UILoginGoogle;
      }(UIBase), _descriptor = _applyDecoratedDescriptor(_class2.prototype, "btnLogin", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIMainScreen.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts', './UIController.ts', './Enums.ts', './GlobalConfig.ts', './ResponeCode.ts', './LanguageManager.ts', './StringUtils.ts', './EventManager.ts', './PlayingController.ts', './Decorators.ts', './UINotice.ts', './DBStorage.ts', './NotifyToast.ts', './TableCommand.ts', './GameManager.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _createClass, _asyncToGenerator, _regeneratorRuntime, _extends, cclegacy, _decorator, Button, Label, ScrollView, Node, Sprite, PageView, ToggleContainer, tween, Vec3, UITransform, UIBase, UIController, UIType, EGameState, ETypeModePlay, EDealSpeed, GlobalConfig, ResponseCode, LanguageMananger, pStringUtils, pEventManager, PlayingController, pDecorators, UINotice, DBStorage, NotifyToast, request, GameManager;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _createClass = module.createClass;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
      _extends = module.extends;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Button = module.Button;
      Label = module.Label;
      ScrollView = module.ScrollView;
      Node = module.Node;
      Sprite = module.Sprite;
      PageView = module.PageView;
      ToggleContainer = module.ToggleContainer;
      tween = module.tween;
      Vec3 = module.Vec3;
      UITransform = module.UITransform;
    }, function (module) {
      UIBase = module.UIBase;
    }, function (module) {
      UIController = module.UIController;
    }, function (module) {
      UIType = module.UIType;
      EGameState = module.EGameState;
      ETypeModePlay = module.ETypeModePlay;
      EDealSpeed = module.EDealSpeed;
    }, function (module) {
      GlobalConfig = module.default;
    }, function (module) {
      ResponseCode = module.ResponseCode;
    }, function (module) {
      LanguageMananger = module.LanguageMananger;
    }, function (module) {
      pStringUtils = module.pStringUtils;
    }, function (module) {
      pEventManager = module.pEventManager;
    }, function (module) {
      PlayingController = module.default;
    }, function (module) {
      pDecorators = module.pDecorators;
    }, function (module) {
      UINotice = module.UINotice;
    }, function (module) {
      DBStorage = module.DBStorage;
    }, function (module) {
      NotifyToast = module.NotifyToast;
    }, function (module) {
      request = module.default;
    }, function (module) {
      GameManager = module.GameManager;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _dec11, _dec12, _dec13, _dec14, _dec15, _dec16, _dec17, _dec18, _dec19, _dec20, _dec21, _dec22, _dec23, _dec24, _dec25, _dec26, _dec27, _dec28, _dec29, _dec30, _dec31, _dec32, _dec33, _dec34, _dec35, _dec36, _dec37, _dec38, _dec39, _dec40, _dec41, _dec42, _dec43, _dec44, _dec45, _dec46, _dec47, _dec48, _dec49, _dec50, _dec51, _dec52, _dec53, _dec54, _dec55, _dec56, _dec57, _dec58, _dec59, _dec60, _dec61, _dec62, _dec63, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9, _descriptor10, _descriptor11, _descriptor12, _descriptor13, _descriptor14, _descriptor15, _descriptor16, _descriptor17, _descriptor18, _descriptor19, _descriptor20, _descriptor21, _descriptor22, _descriptor23, _descriptor24, _descriptor25, _descriptor26, _descriptor27, _descriptor28, _descriptor29, _descriptor30, _descriptor31;
      cclegacy._RF.push({}, "29253DDDIZEOKgJ9pEIDyX6", "UIMainScreen", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property,
        type = _decorator.type;
      var singleton = pDecorators.singleton;
      var _TopGroup = {
        id: '1',
        name: "Top"
      };
      var _LeftGroup = {
        id: '1',
        name: "Left"
      };
      var _RightGroup = {
        id: '1',
        name: "Right"
      };
      var _BotGroup = {
        id: '1',
        name: "Bot"
      };
      var _CenterGroup = {
        id: '1',
        name: "Center"
      };
      var UIMainScreen = exports('UIMainScreen', (_dec = ccclass('UIMainScreen'), _dec2 = singleton(), _dec3 = property({
        group: _TopGroup
      }), _dec4 = type(Button), _dec5 = property({
        group: _TopGroup
      }), _dec6 = type(Label), _dec7 = property({
        group: _TopGroup
      }), _dec8 = type(Button), _dec9 = property({
        group: _TopGroup
      }), _dec10 = type(Label), _dec11 = property({
        group: _LeftGroup
      }), _dec12 = type(Button), _dec13 = property({
        group: _LeftGroup
      }), _dec14 = type(ScrollView), _dec15 = property({
        group: _RightGroup
      }), _dec16 = type(Button), _dec17 = property({
        group: _RightGroup
      }), _dec18 = type(Button), _dec19 = property({
        group: _RightGroup
      }), _dec20 = type(Button), _dec21 = property({
        group: _RightGroup
      }), _dec22 = type(Button), _dec23 = property({
        group: _RightGroup
      }), _dec24 = type(Node), _dec25 = property({
        group: _RightGroup
      }), _dec26 = type(Button), _dec27 = property({
        group: _RightGroup
      }), _dec28 = type(Button), _dec29 = property({
        group: _BotGroup
      }), _dec30 = type(Button), _dec31 = property({
        group: _BotGroup
      }), _dec32 = type(Sprite), _dec33 = property({
        group: _BotGroup
      }), _dec34 = type(Label), _dec35 = property({
        group: _BotGroup
      }), _dec36 = type(Label), _dec37 = property({
        group: _BotGroup
      }), _dec38 = type(Node), _dec39 = property({
        group: _BotGroup
      }), _dec40 = type(Button), _dec41 = property({
        group: _BotGroup
      }), _dec42 = type(Button), _dec43 = property({
        group: _BotGroup
      }), _dec44 = type(Button), _dec45 = property({
        group: _BotGroup
      }), _dec46 = type(Button), _dec47 = property({
        group: _BotGroup
      }), _dec48 = type(Button), _dec49 = property({
        group: _BotGroup
      }), _dec50 = type(Button), _dec51 = property({
        group: _BotGroup
      }), _dec52 = type(Button), _dec53 = property({
        group: _CenterGroup
      }), _dec54 = type(Button), _dec55 = property({
        group: _CenterGroup
      }), _dec56 = type(Button), _dec57 = property({
        group: _CenterGroup
      }), _dec58 = type(Button), _dec59 = property({
        group: _CenterGroup
      }), _dec60 = type(PageView), _dec61 = property({
        group: _CenterGroup
      }), _dec62 = type(ToggleContainer), _dec63 = property({
        group: _CenterGroup
      }), _dec(_class = _dec2(_class = (_class2 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UIMainScreen, _UIBase);
        function UIMainScreen() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "btnAddChip", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lblChip", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnAddGold", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lblGold", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnChipBigSale", _descriptor5, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "scrViewLuckyMan", _descriptor6, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnMiniGame1", _descriptor7, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnMiniGame2", _descriptor8, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnMiniGame3", _descriptor9, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnMiniGame4", _descriptor10, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "panelMiniGames", _descriptor11, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnCollapseMiniGames", _descriptor12, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnExpandMiniGames", _descriptor13, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnProfile", _descriptor14, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "imgAvatar", _descriptor15, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lblName", _descriptor16, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lblLevel", _descriptor17, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "vipLabel", _descriptor18, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnNotify", _descriptor19, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnEmail", _descriptor20, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnRanking", _descriptor21, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnEvent", _descriptor22, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnMission", _descriptor23, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnMoreTool", _descriptor24, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnShop", _descriptor25, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnCompete", _descriptor26, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnLobby", _descriptor27, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnPlayNow", _descriptor28, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "pViewEvent", _descriptor29, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "toggleIndicator", _descriptor30, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "currentPgViewEventIndex", _descriptor31, _assertThisInitialized(_this));
          _this._currentChip = 0;
          _this._currentCoin = 0;
          _this._eventHandlers = [['onInvitePlay', _this._onInvitePlay, _assertThisInitialized(_this)], ['onUpdateAvatar', _this._onUpdateAvatar, _assertThisInitialized(_this)], ['onUpdatePlayerName', _this._onUpdatePlayerName, _assertThisInitialized(_this)], ['onUpdateLevel', _this._onUpdateLevel, _assertThisInitialized(_this)], ['onChangeLanguage', _this._onUpdateLevel, _assertThisInitialized(_this)]];
          _this._tween = null;
          return _this;
        }
        var _proto = UIMainScreen.prototype;
        _proto._onInvitePlay = function _onInvitePlay(msg) {
          this.log('_onInvitePlay >>', msg);
        };
        _proto._onUpdateAvatar = function _onUpdateAvatar(sprite) {
          if (!sprite) return;
          this.imgAvatar.spriteFrame = sprite;
          //const spriteUITransform = this.imgAvatar.node.getComponent(UITransform);
          //const spriteSize = spriteUITransform.contentSize;
          //spriteUITransform.setContentSize(pMathUtils.scaleImageInsideBound(spriteSize.width, spriteSize.height, sprite.texture.width, sprite.texture.height))
        };

        _proto._onUpdatePlayerName = function _onUpdatePlayerName(newName) {
          this.lblName.string = newName;
        };
        _proto._onUpdateLevel = function _onUpdateLevel() {
          this.lblLevel.string = LanguageMananger.getString('txt_btn_level') + ": " + GlobalConfig.instance.Login.player.information.level;
        };
        _proto.onEnable = function onEnable() {
          pEventManager.on(this._eventHandlers);
          var _sprite = GlobalConfig.instance.getAvatar();
          !!_sprite && this._onUpdateAvatar(_sprite);
          this._onUpdateLevel();
        };
        _proto.onDisable = function onDisable() {
          pEventManager.off(this._eventHandlers);
        };
        _proto._onStart = function _onStart() {
          // center
          this._addClicker(this.btnLobby, this._actOpenPTYard, this);
          this._addClicker(this.btnCompete, this._actCompete, this);
          this._addClicker(this.btnPlayNow, this._actPlaynow, this);
          // Bottom
          this._addClicker(this.btnProfile, this._actOpenProfile, this);
          this._addClicker(this.btnNotify, this._actOpenNotify, this);
          this._addClicker(this.btnEmail, this._actOpenEmail, this);
          this._addClicker(this.btnRanking, this._actOpenRank, this);
          this._addClicker(this.btnEvent, this._actOpenEvent, this);
          this._addClicker(this.btnMission, this._actOpenMission, this);
          this._addClicker(this.btnMoreTool, this._actOpenMore, this);
          this._addClicker(this.btnCollapseMiniGames, this._actCollapseMiniGames, this);
          this._addClicker(this.btnExpandMiniGames, this._actExpandMiniGames, this);
          this._addClicker(this.btnShop, this._actOpenShop, this);
          this.updatePlayerInfomation();
          this._addClickers([{
            target: this.btnMiniGame1,
            handlers: this._actCommingSoon
          }, {
            target: this.btnMiniGame2,
            handlers: this._actCommingSoon
          }, {
            target: this.btnMiniGame3,
            handlers: this._actCommingSoon
          }, {
            target: this.btnMiniGame4,
            handlers: this._actCommingSoon
          }]);
        };
        _proto._actCommingSoon = function _actCommingSoon() {
          NotifyToast.instance.showWithKey('txt_comming_soon', 'table');
        };
        _proto._onOpen = /*#__PURE__*/function () {
          var _onOpen2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {
            var _db, _data, _vibration;
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  _db = pDecorators.instance(DBStorage);
                  _data = _db.gets('VOLUME', "MUSIC", "VIBRATION");
                  _vibration = _data.VIBRATION != undefined ? _data.VIBRATION : false;
                  pEventManager.invoke('onVibrateChange', _vibration);
                  GameManager.Instance.setState(EGameState.MAIN_SCREEN);
                case 5:
                case "end":
                  return _context.stop();
              }
            }, _callee);
          }));
          function _onOpen() {
            return _onOpen2.apply(this, arguments);
          }
          return _onOpen;
        }();
        _proto._actOpenShop = function _actOpenShop() {
          return UIController.Instance.open(UIType.SHOP, false, true, true);
        };
        _proto.updatePlayerInfomation = function updatePlayerInfomation() {
          if (!GlobalConfig.instance.doubleCheckLogin()) return;
          var player = GlobalConfig.instance.Login.player;
          var information = player.information;
          var level = information.level,
            full_name = information.display_name,
            vippoint = information.vippoint;
          this._updateBottomInfor(full_name, level, vippoint);
        };
        _proto._updateBottomInfor = function _updateBottomInfor(username, level, vippoint) {
          username = username.length <= 20 ? username : username.substring(0, 20) + "...";
          this.lblName.string = username;
          this.lblLevel.string = LanguageMananger.instance.getString('txt_btn_level') + ": " + level;
          this.vipLabel.active = vippoint > 0;
        };
        _proto.update = function update() {
          if (this.pViewEvent.getCurrentPageIndex() != this.currentPgViewEventIndex) {
            this.currentPgViewEventIndex = this.pViewEvent.getCurrentPageIndex();
            if (this.currentPgViewEventIndex < this.toggleIndicator.toggleItems.length) {
              this.toggleIndicator.toggleItems[this.currentPgViewEventIndex].isChecked = true;
            }
          }
        };
        _proto._actOpenProfile = function _actOpenProfile() {
          return UIController.Instance.open(UIType.PROFILE, true, false, true);
        };
        _proto._actOpenRank = function _actOpenRank() {
          return UIController.Instance.open(UIType.RANK, true, false, true);
        };
        _proto._actOpenEmail = /*#__PURE__*/function () {
          var _actOpenEmail2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {
            var ui;
            return _regeneratorRuntime().wrap(function _callee2$(_context2) {
              while (1) switch (_context2.prev = _context2.next) {
                case 0:
                  _context2.next = 2;
                  return UIController.Instance.open(UIType.EMAIL, true, false, true);
                case 2:
                  ui = _context2.sent;
                  if (ui) {
                    _context2.next = 5;
                    break;
                  }
                  return _context2.abrupt("return");
                case 5:
                  ui.setToggleCheck(0);
                  ui.goToTab(0);
                case 7:
                case "end":
                  return _context2.stop();
              }
            }, _callee2);
          }));
          function _actOpenEmail() {
            return _actOpenEmail2.apply(this, arguments);
          }
          return _actOpenEmail;
        }();
        _proto._actOpenEvent = function _actOpenEvent() {
          return UIController.Instance.open(UIType.EVENT, true, false, true);
        };
        _proto._actOpenMission = function _actOpenMission() {
          return UIController.Instance.open(UIType.MISSION, true, false, true);
        };
        _proto._actOpenMore = function _actOpenMore() {
          return UIController.Instance.open(UIType.MORE, true, false, true);
        };
        _proto._actOpenNotify = /*#__PURE__*/function () {
          var _actOpenNotify2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {
            var ui;
            return _regeneratorRuntime().wrap(function _callee3$(_context3) {
              while (1) switch (_context3.prev = _context3.next) {
                case 0:
                  _context3.next = 2;
                  return UIController.Instance.open(UIType.EMAIL, true, false, true);
                case 2:
                  ui = _context3.sent;
                  ui.setToggleCheck(1);
                  ui.goToTab(1);
                case 5:
                case "end":
                  return _context3.stop();
              }
            }, _callee3);
          }));
          function _actOpenNotify() {
            return _actOpenNotify2.apply(this, arguments);
          }
          return _actOpenNotify;
        }();
        _proto._actCollapseMiniGames = function _actCollapseMiniGames() {
          var _this$_tween,
            _this2 = this;
          var tweenDuration = 0.5;
          this.btnCollapseMiniGames.interactable = false;
          (_this$_tween = this._tween) == null || _this$_tween.stop();
          this._tween = tween(this.panelMiniGames).by(tweenDuration, {
            position: new Vec3(0, -this.panelMiniGames.getComponent(UITransform).height)
          }).call(function () {
            _this2.btnCollapseMiniGames.node.active = false;
            _this2.btnExpandMiniGames.node.active = true;
            _this2.btnExpandMiniGames.interactable = true;
          }).start();
        };
        _proto._actExpandMiniGames = function _actExpandMiniGames() {
          var _this$_tween2,
            _this3 = this;
          var tweenDuration = 0.5;
          this.btnExpandMiniGames.interactable = false;
          (_this$_tween2 = this._tween) == null || _this$_tween2.stop();
          this._tween = tween(this.panelMiniGames).by(tweenDuration, {
            position: new Vec3(0, +this.panelMiniGames.getComponent(UITransform).height)
          }).call(function () {
            _this3.btnExpandMiniGames.node.active = false;
            _this3.btnCollapseMiniGames.node.active = true;
            _this3.btnCollapseMiniGames.interactable = true;
          }).start();
        };
        _proto._actOpenPTYard = /*#__PURE__*/function () {
          var _actOpenPTYard2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {
            return _regeneratorRuntime().wrap(function _callee4$(_context4) {
              while (1) switch (_context4.prev = _context4.next) {
                case 0:
                  _context4.next = 2;
                  return UIController.Instance.open(UIType.PT_YARD, false, true, true);
                case 2:
                  this.close();
                case 3:
                case "end":
                  return _context4.stop();
              }
            }, _callee4, this);
          }));
          function _actOpenPTYard() {
            return _actOpenPTYard2.apply(this, arguments);
          }
          return _actOpenPTYard;
        }();
        _proto._actCompete = /*#__PURE__*/function () {
          var _actCompete2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5() {
            return _regeneratorRuntime().wrap(function _callee5$(_context5) {
              while (1) switch (_context5.prev = _context5.next) {
                case 0:
                  _context5.next = 2;
                  return UIController.Instance.open(UIType.COMPETE_LOBBY, false, true, true);
                case 2:
                  this.close();
                case 3:
                case "end":
                  return _context5.stop();
              }
            }, _callee5, this);
          }));
          function _actCompete() {
            return _actCompete2.apply(this, arguments);
          }
          return _actCompete;
        }();
        _proto._actPlaynow = /*#__PURE__*/function () {
          var _actPlaynow2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6() {
            var instance, _playnow, _msg, dataTabelResult, dataTableNew;
            return _regeneratorRuntime().wrap(function _callee6$(_context6) {
              while (1) switch (_context6.prev = _context6.next) {
                case 0:
                  instance = GlobalConfig.instance;
                  instance.loading.open();
                  PlayingController.instance.setRoom('PT');
                  _context6.next = 5;
                  return request('quickJoinTable', {});
                case 5:
                  _playnow = _context6.sent;
                  _context6.next = 8;
                  return request('joinTable', {
                    tid: _playnow.tid
                  });
                case 8:
                  _msg = _context6.sent;
                  _context6.t0 = _msg.code;
                  _context6.next = _context6.t0 === ResponseCode.SUCCESS ? 12 : _context6.t0 === ResponseCode.ERROR ? 19 : 23;
                  break;
                case 12:
                  dataTabelResult = _extends({}, _msg.tableInfo, {
                    isPrivate: false
                  });
                  dataTableNew = {
                    count: dataTabelResult.maxPlayers,
                    mode: ETypeModePlay.YARD,
                    speed: EDealSpeed.DEAL_SPEED_1,
                    list: _msg.msg,
                    data: dataTabelResult,
                    is_new: false
                  };
                  instance.loading.close();
                  PlayingController.instance.setup(dataTableNew, dataTabelResult.id, "PT");
                  _context6.next = 18;
                  return UIController.Instance.open(UIType.PLAYING_SCENE, false, true);
                case 18:
                  return _context6.abrupt("break", 23);
                case 19:
                  console.error('[UIMainScreen] Error >> Playnow >>', _msg);
                  instance.loading.close();
                  UINotice.instance.show('txt_title', _msg['error'], 'txt_btn_confirm2');
                  return _context6.abrupt("break", 23);
                case 23:
                  this.close();
                case 24:
                case "end":
                  return _context6.stop();
              }
            }, _callee6, this);
          }));
          function _actPlaynow() {
            return _actPlaynow2.apply(this, arguments);
          }
          return _actPlaynow;
        }();
        _createClass(UIMainScreen, [{
          key: "currentChip",
          get: function get() {
            return this._currentChip;
          },
          set: function set(v) {
            this.lblChip.string = pStringUtils.formatMoneyWithDot(v);
            this._currentChip = v;
          }
        }, {
          key: "currentCoin",
          get: function get() {
            return this._currentCoin;
          },
          set: function set(v) {
            this.lblGold.string = pStringUtils.formatMoneyWithDot(v);
            this._currentCoin = v;
          }
        }]);
        return UIMainScreen;
      }(UIBase), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "btnAddChip", [_dec3, _dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "lblChip", [_dec5, _dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "btnAddGold", [_dec7, _dec8], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "lblGold", [_dec9, _dec10], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "btnChipBigSale", [_dec11, _dec12], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, "scrViewLuckyMan", [_dec13, _dec14], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor7 = _applyDecoratedDescriptor(_class2.prototype, "btnMiniGame1", [_dec15, _dec16], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor8 = _applyDecoratedDescriptor(_class2.prototype, "btnMiniGame2", [_dec17, _dec18], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor9 = _applyDecoratedDescriptor(_class2.prototype, "btnMiniGame3", [_dec19, _dec20], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor10 = _applyDecoratedDescriptor(_class2.prototype, "btnMiniGame4", [_dec21, _dec22], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor11 = _applyDecoratedDescriptor(_class2.prototype, "panelMiniGames", [_dec23, _dec24], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor12 = _applyDecoratedDescriptor(_class2.prototype, "btnCollapseMiniGames", [_dec25, _dec26], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor13 = _applyDecoratedDescriptor(_class2.prototype, "btnExpandMiniGames", [_dec27, _dec28], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor14 = _applyDecoratedDescriptor(_class2.prototype, "btnProfile", [_dec29, _dec30], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor15 = _applyDecoratedDescriptor(_class2.prototype, "imgAvatar", [_dec31, _dec32], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor16 = _applyDecoratedDescriptor(_class2.prototype, "lblName", [_dec33, _dec34], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor17 = _applyDecoratedDescriptor(_class2.prototype, "lblLevel", [_dec35, _dec36], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor18 = _applyDecoratedDescriptor(_class2.prototype, "vipLabel", [_dec37, _dec38], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor19 = _applyDecoratedDescriptor(_class2.prototype, "btnNotify", [_dec39, _dec40], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor20 = _applyDecoratedDescriptor(_class2.prototype, "btnEmail", [_dec41, _dec42], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor21 = _applyDecoratedDescriptor(_class2.prototype, "btnRanking", [_dec43, _dec44], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor22 = _applyDecoratedDescriptor(_class2.prototype, "btnEvent", [_dec45, _dec46], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor23 = _applyDecoratedDescriptor(_class2.prototype, "btnMission", [_dec47, _dec48], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor24 = _applyDecoratedDescriptor(_class2.prototype, "btnMoreTool", [_dec49, _dec50], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor25 = _applyDecoratedDescriptor(_class2.prototype, "btnShop", [_dec51, _dec52], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor26 = _applyDecoratedDescriptor(_class2.prototype, "btnCompete", [_dec53, _dec54], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor27 = _applyDecoratedDescriptor(_class2.prototype, "btnLobby", [_dec55, _dec56], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor28 = _applyDecoratedDescriptor(_class2.prototype, "btnPlayNow", [_dec57, _dec58], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor29 = _applyDecoratedDescriptor(_class2.prototype, "pViewEvent", [_dec59, _dec60], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor30 = _applyDecoratedDescriptor(_class2.prototype, "toggleIndicator", [_dec61, _dec62], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor31 = _applyDecoratedDescriptor(_class2.prototype, "currentPgViewEventIndex", [_dec63], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return 0;
        }
      })), _class2)) || _class) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIMiniProfile.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './ComponentUtils.ts', './UIController.ts', './Enums.ts', './GlobalConfig.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _asyncToGenerator, _regeneratorRuntime, cclegacy, _decorator, Sprite, Label, Node, Button, Component, pComponentUtils, UIController, UIType, GlobalConfig;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Sprite = module.Sprite;
      Label = module.Label;
      Node = module.Node;
      Button = module.Button;
      Component = module.Component;
    }, function (module) {
      pComponentUtils = module.pComponentUtils;
    }, function (module) {
      UIController = module.UIController;
    }, function (module) {
      UIType = module.UIType;
    }, function (module) {
      GlobalConfig = module.default;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5;
      cclegacy._RF.push({}, "3cd74RE+6RKcLIlMNINM4Xw", "UIMiniProfile", undefined);
      var ccclass = _decorator.ccclass,
        type = _decorator.type;
      var UIMiniProfile = exports('UIMiniProfile', (_dec = ccclass("UIMiniProfile"), _dec2 = type(Sprite), _dec3 = type(Label), _dec4 = type(Node), _dec5 = type(Button), _dec6 = type(UIType), _dec(_class = (_class2 = /*#__PURE__*/function (_Component) {
        _inheritsLoose(UIMiniProfile, _Component);
        function UIMiniProfile() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _Component.call.apply(_Component, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "avatar", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "fullname", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "vip", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btn", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "back", _descriptor5, _assertThisInitialized(_this));
          return _this;
        }
        var _proto = UIMiniProfile.prototype;
        _proto.onLoad = function onLoad() {
          pComponentUtils.appends({
            _options: {
              _target: this.btn,
              _handlers: this._onClick
            },
            _type: Button.EventType.CLICK,
            _binder: this
          });
        };
        _proto._onClick = /*#__PURE__*/function () {
          var _onClick2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {
            var ui;
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  _context.next = 2;
                  return UIController.Instance.open(UIType.PROFILE_EDIT);
                case 2:
                  ui = _context.sent;
                  ui == null || ui.setBackUI(this.back);
                case 4:
                case "end":
                  return _context.stop();
              }
            }, _callee, this);
          }));
          function _onClick() {
            return _onClick2.apply(this, arguments);
          }
          return _onClick;
        }();
        _proto.onEnable = function onEnable() {
          var _GlobalConfig$instanc = GlobalConfig.instance.Login,
            player = _GlobalConfig$instanc.player,
            avatar = _GlobalConfig$instanc.avatar;
          var information = player.information;
          var full_name = information.full_name,
            vippoint = information.vippoint;
          this.avatar.spriteFrame = avatar;
          this.fullname.string = full_name;
          this.vip.active = vippoint > 0;
        };
        return UIMiniProfile;
      }(Component), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "avatar", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "fullname", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "vip", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "btn", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "back", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return UIType.NONE;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIMiniRateCard.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './Decorators.ts', './UIPopupRateCard.ts', './Enums.ts', './LanguageManager.ts', './EventManager.ts', './Constants.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, cclegacy, _decorator, UIOpacity, Label, tween, Component, pDecorators, NSCardRate, ECardRank, LanguageMananger, pEventManager, CardRank;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      UIOpacity = module.UIOpacity;
      Label = module.Label;
      tween = module.tween;
      Component = module.Component;
    }, function (module) {
      pDecorators = module.pDecorators;
    }, function (module) {
      NSCardRate = module.NSCardRate;
    }, function (module) {
      ECardRank = module.ECardRank;
    }, function (module) {
      LanguageMananger = module.LanguageMananger;
    }, function (module) {
      pEventManager = module.pEventManager;
    }, function (module) {
      CardRank = module.CardRank;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _class, _class2, _descriptor, _descriptor2;
      cclegacy._RF.push({}, "9f774ifEwJKD5SXsNWFFHZT", "UIMiniRateCard", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var UIMiniRateCard = exports('UIMiniRateCard', (_dec = ccclass('UIMiniRateCard'), _dec2 = property(UIOpacity), _dec3 = property({
        type: Label
      }), _dec(_class = (_class2 = /*#__PURE__*/function (_Component) {
        _inheritsLoose(UIMiniRateCard, _Component);
        function UIMiniRateCard() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _Component.call.apply(_Component, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "holder", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "view", _descriptor2, _assertThisInitialized(_this));
          _this._events = [['onCalculate', _this._onCalculate, _assertThisInitialized(_this)]];
          _this._once = [['onEndTurn', _this._onEndTurn, _assertThisInitialized(_this)], ['onStandUp', _this._onStandUp, _assertThisInitialized(_this)], ['onLeaveTable', _this._onLeaveTable, _assertThisInitialized(_this)], ['onClearTable', _this._onStandUp, _assertThisInitialized(_this)]];
          _this._tween = null;
          return _this;
        }
        var _proto = UIMiniRateCard.prototype;
        _proto.onLoad = function onLoad() {
          pDecorators.instance(NSCardRate.Calculator).on(this._events);
          pEventManager.on(this._once);
        };
        _proto.start = function start() {
          this.holder.opacity = 0;
        };
        _proto.onDestroy = function onDestroy() {
          pDecorators.instance(NSCardRate.Calculator).off(this._events);
          pEventManager.off(this._once);
        };
        _proto._onEndTurn = function _onEndTurn(data) {
          var route = data.route;
          if (route !== 'onEndTurn') return;
          this.hide(0.25);
        };
        _proto.hide = function hide(duration) {
          var _this$_tween;
          if (duration === void 0) {
            duration = 0.25;
          }
          (_this$_tween = this._tween) == null || _this$_tween.stop();
          if (duration == 0) {
            this.holder.opacity = 0;
          } else {
            this._tween = tween(this.holder).to(duration, {
              opacity: 0
            }, {
              easing: 'cubicIn'
            }).start();
          }
        };
        _proto._onStandUp = function _onStandUp() {
          this.hide(0.25);
        };
        _proto._onLeaveTable = function _onLeaveTable() {
          this.hide();
        };
        _proto._onCalculate = function _onCalculate(chance) {
          var _this$_tween2;
          var big = Object.entries(chance).reduce(
          //@ts-ignore
          function (max, _ref) {
            var key = _ref[0],
              value = _ref[1];
            return value > max.value ? {
              key: key,
              value: value
            } : max;
          }, {
            key: ECardRank.HIGH_CARD,
            value: 0
          });
          (_this$_tween2 = this._tween) == null || _this$_tween2.stop();
          if (this.holder.opacity <= 0) {
            this._tween = tween(this.holder).to(0.25, {
              opacity: 255
            }, {
              easing: 'cubicIn'
            }).start();
          }
          var stringKey = CardRank[big.key];
          this.view.string = LanguageMananger.instance.getString(stringKey) + ": " + big.value + "%";
        };
        return UIMiniRateCard;
      }(Component), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "holder", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "view", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIMission.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts', './UIMissionItem.ts', './ResponeCode.ts', './MiniLoading.ts', './MissionCommand.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _asyncToGenerator, _regeneratorRuntime, cclegacy, _decorator, Button, Prefab, ScrollView, Node, tween, Vec3, UITransform, instantiate, v3, UIBase, UIMissionItem, ResponseCode, MiniLoading, request;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Button = module.Button;
      Prefab = module.Prefab;
      ScrollView = module.ScrollView;
      Node = module.Node;
      tween = module.tween;
      Vec3 = module.Vec3;
      UITransform = module.UITransform;
      instantiate = module.instantiate;
      v3 = module.v3;
    }, function (module) {
      UIBase = module.UIBase;
    }, function (module) {
      UIMissionItem = module.UIMissionItem;
    }, function (module) {
      ResponseCode = module.ResponseCode;
    }, function (module) {
      MiniLoading = module.MiniLoading;
    }, function (module) {
      request = module.default;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _dec11, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9, _descriptor10;
      cclegacy._RF.push({}, "cabf3f5r59CfZTAx/0yClS2", "UIMission", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property,
        type = _decorator.type;
      var UIMission = exports('UIMission', (_dec = ccclass('UIMission'), _dec2 = type(Button), _dec3 = type(Button), _dec4 = type(Prefab), _dec5 = type(ScrollView), _dec6 = type(Button), _dec7 = type(Node), _dec8 = type(Node), _dec9 = type(Node), _dec10 = property(MiniLoading), _dec11 = property(Node), _dec(_class = (_class2 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UIMission, _UIBase);
        function UIMission() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "btnDailyReward", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnDailyRewardOpened", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "missionItemPrefab", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "scrViewMissionItems", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnScrollDownMission", _descriptor5, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "widgetMission", _descriptor6, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "widgetDaily", _descriptor7, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "panelDaily", _descriptor8, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "loading", _descriptor9, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "emptyIco", _descriptor10, _assertThisInitialized(_this));
          return _this;
        }
        var _proto = UIMission.prototype;
        _proto._onStart = function _onStart() {
          this._addClicker(this.btnDailyReward, this.dailyRewardOpen, this);
          this._addClicker(this.btnDailyRewardOpened, this.dailyRewardClose, this);
          this._addClicker(this.btnScrollDownMission, this.scrollDownMission, this);
        };
        _proto._onOpen = /*#__PURE__*/function () {
          var _onOpen2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {
            var _this2 = this;
            var mission, code, data;
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  this.widgetMission.active = true;
                  this.widgetDaily.active = false;
                  this.panelDaily.setPosition(v3(0, +this.panelDaily.getComponent(UITransform).height));
                  this.loading.show();
                  _context.next = 6;
                  return request('getMissions', {});
                case 6:
                  mission = _context.sent;
                  code = mission.code, data = mission.data;
                  _context.t0 = code;
                  _context.next = _context.t0 === ResponseCode.SUCCESS ? 11 : _context.t0 === ResponseCode.ERROR ? 16 : 18;
                  break;
                case 11:
                  this.emptyIco.active = data.length <= 0;
                  this.scrViewMissionItems.content.removeAllChildren();
                  data.map(function (_data) {
                    var _node = instantiate(_this2.missionItemPrefab);
                    _this2.scrViewMissionItems.content.addChild(_node);
                    var _mission = _node.getComponent(UIMissionItem);
                    _mission == null || _mission.init(_data);
                    return _mission;
                    //_node.setSiblingIndex(_mission.isClaimed ? data.length : _mission.isClaimable ? 0 : data.length/2);
                  }).forEach(function (_mission) {
                    return _mission.node.setSiblingIndex(_mission.isClaimed ? data.length : _mission.isClaimable ? 0 : data.length / 2);
                  });
                  this.scrViewMissionItems.scrollToTop(0.15);
                  return _context.abrupt("break", 18);
                case 16:
                  this.emptyIco.active = true;
                  return _context.abrupt("break", 18);
                case 18:
                  this.loading.close();
                case 19:
                case "end":
                  return _context.stop();
              }
            }, _callee, this);
          }));
          function _onOpen() {
            return _onOpen2.apply(this, arguments);
          }
          return _onOpen;
        }();
        _proto.dailyRewardOpen = function dailyRewardOpen() {
          var tweenDuration = 0.5;
          // this.btnDailyReward.interactable = false;
          this.widgetDaily.active = true;
          this.widgetMission.active = false;
          tween(this.panelDaily).by(tweenDuration, {
            position: new Vec3(0, -this.panelDaily.getComponent(UITransform).height)
          })
          //.call(() => {
          //    // this.btnDailyReward.node.active = false;
          //    // this.btnDailyRewardOpened.node.active = true;
          //    // this.btnDailyRewardOpened.interactable = true;

          //})
          .start();
        };
        _proto.dailyRewardClose = function dailyRewardClose() {
          var _this3 = this;
          var tweenDuration = 0.5;
          this.btnDailyRewardOpened.interactable = false;
          tween(this.panelDaily).by(tweenDuration, {
            position: new Vec3(0, +this.panelDaily.getComponent(UITransform).height)
          }).call(function () {
            // this.btnDailyRewardOpened.node.active = false;
            // this.btnDailyReward.node.active = true;
            // this.btnDailyReward.interactable = true;
            _this3.widgetDaily.active = false;
            _this3.widgetMission.active = true;
          }).start();
        };
        _proto.scrollDownMission = function scrollDownMission() {
          this.scrollDown(this.scrViewMissionItems, 20);
        };
        return UIMission;
      }(UIBase), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "btnDailyReward", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "btnDailyRewardOpened", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "missionItemPrefab", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "scrViewMissionItems", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "btnScrollDownMission", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, "widgetMission", [_dec7], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor7 = _applyDecoratedDescriptor(_class2.prototype, "widgetDaily", [_dec8], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor8 = _applyDecoratedDescriptor(_class2.prototype, "panelDaily", [_dec9], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor9 = _applyDecoratedDescriptor(_class2.prototype, "loading", [_dec10], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor10 = _applyDecoratedDescriptor(_class2.prototype, "emptyIco", [_dec11], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIMissionItem.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './MathUtils.ts', './ResponeCode.ts', './JsonUtils.ts', './ComponentUtils.ts', './NotifyToast.ts', './Decorators.ts', './LanguageManager.ts', './StringUtils.ts', './MissionCommand.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _createClass, _asyncToGenerator, _regeneratorRuntime, cclegacy, _decorator, Sprite, Label, Node, RichText, ProgressBar, Button, Layout, Prefab, SpriteFrame, Component, pMathUtils, ResponseCode, JsonUtils, pComponentUtils, NotifyToast, pDecorators, LanguageMananger, pStringUtils, request;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _createClass = module.createClass;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Sprite = module.Sprite;
      Label = module.Label;
      Node = module.Node;
      RichText = module.RichText;
      ProgressBar = module.ProgressBar;
      Button = module.Button;
      Layout = module.Layout;
      Prefab = module.Prefab;
      SpriteFrame = module.SpriteFrame;
      Component = module.Component;
    }, function (module) {
      pMathUtils = module.pMathUtils;
    }, function (module) {
      ResponseCode = module.ResponseCode;
    }, function (module) {
      JsonUtils = module.default;
    }, function (module) {
      pComponentUtils = module.pComponentUtils;
    }, function (module) {
      NotifyToast = module.NotifyToast;
    }, function (module) {
      pDecorators = module.pDecorators;
    }, function (module) {
      LanguageMananger = module.LanguageMananger;
    }, function (module) {
      pStringUtils = module.pStringUtils;
    }, function (module) {
      request = module.default;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _dec11, _dec12, _dec13, _dec14, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9, _descriptor10, _descriptor11, _descriptor12;
      cclegacy._RF.push({}, "d3ea84NDGhI77Uv2eWuGavR", "UIMissionItem", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property,
        type = _decorator.type;
      var UIMissionItem = exports('UIMissionItem', (_dec = ccclass('UIMissionItem'), _dec2 = type(Sprite), _dec3 = type(Label), _dec4 = type(Label), _dec5 = type(Label), _dec6 = type(Node), _dec7 = type(RichText), _dec8 = type(ProgressBar), _dec9 = type(Button), _dec10 = type(Label), _dec11 = type(Layout), _dec12 = type(Prefab), _dec13 = property({
        group: "SpriteFrame"
      }), _dec14 = type([SpriteFrame]), _dec(_class = (_class2 = /*#__PURE__*/function (_Component) {
        _inheritsLoose(UIMissionItem, _Component);
        function UIMissionItem() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _Component.call.apply(_Component, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "icon", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lblTitle", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lblDescription", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lblReward", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "progress", _descriptor5, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "rtxProgress", _descriptor6, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "progressBar", _descriptor7, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnClaim", _descriptor8, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lblClaim", _descriptor9, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "layoutProgress", _descriptor10, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "toggleStatus", _descriptor11, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "icons", _descriptor12, _assertThisInitialized(_this));
          _this._data = null;
          _this._targets = 20;
          _this._isClaimable = false;
          _this._isClaimed = false;
          return _this;
        }
        var _proto = UIMissionItem.prototype;
        _proto.onLoad = function onLoad() {
          pComponentUtils.appends({
            _options: {
              _handlers: this._actClaimMissionReward,
              _target: this.btnClaim
            },
            _binder: this,
            _type: Button.EventType.CLICK
          });
        };
        _proto.onEnable = function onEnable() {
          this.layoutProgress.updateLayout(true);
        };
        _proto.init = function init(data) {
          this._data = data;
          this.refreshUI();
        };
        _proto.refreshUI = function refreshUI() {
          var _this$_data = this._data,
            name = _this$_data.name,
            player_missions = _this$_data.player_missions,
            description = _this$_data.description,
            reward_json = _this$_data.reward_json,
            type = _this$_data.type,
            condition_json = _this$_data.condition_json;
          this._isClaimable = !!player_missions && Boolean(player_missions.is_completed);
          this._isClaimed = this._isClaimable && Boolean(player_missions.reward_claimed);
          this.lblClaim.string = this._isClaimable ? LanguageMananger.instance.getString('txt_btn_reward') : LanguageMananger.instance.getString('txt_rewarded');
          this.btnClaim.node.active = this._isClaimable;
          this.btnClaim.interactable = !this._isClaimed;
          this.icon.spriteFrame = this.icons[pMathUtils.randomIntFromInterval(0, this.icons.length - 1)];
          this.lblTitle.string = name;
          this.lblDescription.string = description;
          this.lblReward.string = JsonUtils.getMissionRewards(reward_json, type);
          this._targets = JsonUtils.getMissionConditionTarget(condition_json, type);
          var progress = player_missions ? player_missions.completion_percent / 100 : 0;
          var _str = LanguageMananger.getString({
            key: 'dynamic_rich_mission_progress',
            replacers: [{
              find: "@current",
              replacer: pStringUtils.formatMoneyWithDot(progress * this._targets)
            }, {
              find: "@target",
              replacer: pStringUtils.formatMoneyWithDot(this._targets)
            }]
          });
          this.rtxProgress.string = _str;
          this.progress.active = !this._isClaimable;

          //if (this._targets > 20) {
          //    this.rtxProgress.string = `${pStringUtils.formatMoneyWithDot( progress * this._targets )} / ${pStringUtils.formatMoneyWithDot(this._targets)}`;
          //    this.progress.active = true;
          //    this.layoutProgress.node.active = false;
          //} else {
          //    if (this._targets < 10) {
          //        // this.layoutProgress.constraintNum = this._targets
          //        this.layoutProgress.type = Layout.Type.HORIZONTAL;
          //        this.layoutProgress.alignHorizontal = true;
          //    }
          //    else {
          //        this.layoutProgress.type = Layout.Type.GRID;
          //        this.layoutProgress.startAxis = Layout.AxisDirection.HORIZONTAL;
          //    }
          //    for (let i = 0; i < this._targets; i++) {
          //        const toggleStatus = instantiate(this.toggleStatus).getComponent(Toggle);
          //        toggleStatus.node.active = true;
          //        this.layoutProgress.node.addChild(toggleStatus.node);
          //        toggleStatus.isChecked = i < Math.floor(progress * this._targets);
          //    }
          //    this.scheduleOnce(() => this.layoutProgress.updateLayout(true), 0.1);
          //    this.layoutProgress.node.active = !this._isClaimable;
          //    this.progress.active = false;
          //}
        };

        _proto._actClaimMissionReward = /*#__PURE__*/function () {
          var _actClaimMissionReward2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {
            var response, code, data, mission_info, reward, name, coins, item, exp, _reward, txt, error;
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  _context.next = 2;
                  return request('claimReward', {
                    mission_id: this._data.id
                  });
                case 2:
                  response = _context.sent;
                  code = response.code;
                  _context.t0 = code;
                  _context.next = _context.t0 === ResponseCode.SUCCESS ? 7 : _context.t0 === ResponseCode.ERROR ? 20 : 23;
                  break;
                case 7:
                  data = response.data;
                  mission_info = data.mission_info, reward = data.reward;
                  name = mission_info.name;
                  coins = reward.coins, item = reward.item, exp = reward.exp;
                  _reward = "";
                  item && (_reward += LanguageMananger.get('base', item));
                  coins && (_reward += item ? ", " : "" + (pStringUtils.formatNumberKMB(coins) + " " + LanguageMananger.get('base', 'txt_chips')));
                  exp && (_reward += item || coins ? ", " : "" + (pStringUtils.formatNumberKMB(exp) + " " + LanguageMananger.get('base', 'txt_exp')));
                  txt = LanguageMananger.instance.get('base', {
                    key: 'txt_reward_mission',
                    replacers: [{
                      find: "@name",
                      replacer: name
                    }, {
                      find: "@reward",
                      replacer: _reward
                    }]
                  });
                  pDecorators.instance(NotifyToast).show(txt, 'lobby');
                  this._data.player_missions.reward_claimed = Number(true);
                  this.refreshUI();
                  return _context.abrupt("break", 23);
                case 20:
                  error = response.error;
                  !!error && pDecorators.instance(NotifyToast).show(error.trim(), 'lobby');
                  return _context.abrupt("break", 23);
                case 23:
                case "end":
                  return _context.stop();
              }
            }, _callee, this);
          }));
          function _actClaimMissionReward() {
            return _actClaimMissionReward2.apply(this, arguments);
          }
          return _actClaimMissionReward;
        }();
        _createClass(UIMissionItem, [{
          key: "isClaimable",
          get: function get() {
            return this._isClaimable;
          }
        }, {
          key: "isClaimed",
          get: function get() {
            return this._isClaimed;
          }
        }]);
        return UIMissionItem;
      }(Component), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "icon", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "lblTitle", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "lblDescription", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "lblReward", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "progress", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, "rtxProgress", [_dec7], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor7 = _applyDecoratedDescriptor(_class2.prototype, "progressBar", [_dec8], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor8 = _applyDecoratedDescriptor(_class2.prototype, "btnClaim", [_dec9], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor9 = _applyDecoratedDescriptor(_class2.prototype, "lblClaim", [_dec10], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor10 = _applyDecoratedDescriptor(_class2.prototype, "layoutProgress", [_dec11], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor11 = _applyDecoratedDescriptor(_class2.prototype, "toggleStatus", [_dec12], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor12 = _applyDecoratedDescriptor(_class2.prototype, "icons", [_dec13, _dec14], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return [];
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIMore.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts', './UIController.ts', './Enums.ts', './GlobalConfig.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _asyncToGenerator, _regeneratorRuntime, cclegacy, _decorator, Button, UIBase, UIController, UIType, EShopType, GlobalConfig;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Button = module.Button;
    }, function (module) {
      UIBase = module.UIBase;
    }, function (module) {
      UIController = module.UIController;
    }, function (module) {
      UIType = module.UIType;
      EShopType = module.EShopType;
    }, function (module) {
      GlobalConfig = module.default;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5;
      cclegacy._RF.push({}, "b409dU11T1F5bXzMfuUXwBn", "UIMore", undefined);
      var ccclass = _decorator.ccclass,
        type = _decorator.type;
      var UIMore = exports('UIMore', (_dec = ccclass('UIMore'), _dec2 = type(Button), _dec3 = type(Button), _dec4 = type(Button), _dec5 = type(Button), _dec6 = type(Button), _dec(_class = (_class2 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UIMore, _UIBase);
        function UIMore() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "btnInventory", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnSupport", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnFriend", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnTutorial", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnSetting", _descriptor5, _assertThisInitialized(_this));
          return _this;
        }
        var _proto = UIMore.prototype;
        _proto._onStart = function _onStart() {
          this._addClicker(this.btnInventory, this._actOpenInventory, this);
          this._addClicker(this.btnSupport, this._actOpenSupport, this);
          this._addClicker(this.btnFriend, this._actOpenFriend, this);
          this._addClicker(this.btnTutorial, this._actOpenTutorial, this);
          this._addClicker(this.btnSetting, this._actOpenSetting, this);
        };
        _proto._actOpenInventory = /*#__PURE__*/function () {
          var _actOpenInventory2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  _context.next = 2;
                  return UIController.Instance.open(UIType.SHOP, true, true, true, EShopType.MY_PROPS);
                case 2:
                  this.close();
                case 3:
                case "end":
                  return _context.stop();
              }
            }, _callee, this);
          }));
          function _actOpenInventory() {
            return _actOpenInventory2.apply(this, arguments);
          }
          return _actOpenInventory;
        }();
        _proto._actOpenSupport = function _actOpenSupport() {
          UIController.Instance.open(UIType.SUPPORT);
          this.close();
        };
        _proto._actOpenFriend = function _actOpenFriend() {
          UIController.Instance.open(UIType.FRIEND);
          this.close();
        };
        _proto._actOpenTutorial = function _actOpenTutorial() {
          UIController.Instance.open(GlobalConfig.instance.isCompleteTut ? UIType.TUTORIAL_SCENE : UIType.TUTORIAL, false);
          this.close();
        };
        _proto._actOpenSetting = function _actOpenSetting() {
          UIController.Instance.open(UIType.SETTING);
          this.close();
        };
        return UIMore;
      }(UIBase), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "btnInventory", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "btnSupport", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "btnFriend", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "btnTutorial", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "btnSetting", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIMTTRanking.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './LanguageManager.ts', './AssetManager.ts', './GlobalConfig.ts', './StringUtils.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _asyncToGenerator, _regeneratorRuntime, cclegacy, _decorator, Label, Sprite, Component, LanguageMananger, NSAsset, GlobalConfig, pStringUtils;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Label = module.Label;
      Sprite = module.Sprite;
      Component = module.Component;
    }, function (module) {
      LanguageMananger = module.LanguageMananger;
    }, function (module) {
      NSAsset = module.NSAsset;
    }, function (module) {
      GlobalConfig = module.default;
    }, function (module) {
      pStringUtils = module.pStringUtils;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5;
      cclegacy._RF.push({}, "6989daGikNP3JWjC35wgkyY", "UIMTTRanking", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var UIMTTRanking = exports('UIMTTRanking', (_dec = ccclass("UIMTTRanking"), _dec2 = property({
        type: Label
      }), _dec3 = property({
        type: Sprite
      }), _dec4 = property({
        type: Sprite
      }), _dec5 = property({
        type: Label
      }), _dec6 = property({
        type: Label
      }), _dec(_class = (_class2 = /*#__PURE__*/function (_Component) {
        _inheritsLoose(UIMTTRanking, _Component);
        function UIMTTRanking() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _Component.call.apply(_Component, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "lbRank", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "spRank", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "spAvatar", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbName", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbMoney", _descriptor5, _assertThisInitialized(_this));
          return _this;
        }
        var _proto = UIMTTRanking.prototype;
        _proto.main = /*#__PURE__*/function () {
          var _main = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {
            var information;
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  information = GlobalConfig.instance.Login.player.information;
                  this.spAvatar.spriteFrame = GlobalConfig.instance.getAvatar();
                  this.lbName.string = information.full_name;
                  this.lbRank.string = LanguageMananger.instance.get('base', 'txt_none');
                  this.lbMoney.string = '0';
                  this.spRank.node.active = false;
                case 6:
                case "end":
                  return _context.stop();
              }
            }, _callee, this);
          }));
          function main() {
            return _main.apply(this, arguments);
          }
          return main;
        }();
        _proto.init = /*#__PURE__*/function () {
          var _init = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(data) {
            var _this2 = this;
            var current_position, current_chips, player_name, avatar, _am, _helper, _ico;
            return _regeneratorRuntime().wrap(function _callee2$(_context2) {
              while (1) switch (_context2.prev = _context2.next) {
                case 0:
                  if (data) {
                    _context2.next = 2;
                    break;
                  }
                  return _context2.abrupt("return", false);
                case 2:
                  current_position = data.current_position, current_chips = data.current_chips, player_name = data.player_name, avatar = data.avatar;
                  if (current_position) {
                    _context2.next = 5;
                    break;
                  }
                  return _context2.abrupt("return", false);
                case 5:
                  _am = NSAsset.instance();
                  _am.get(avatar).then(function (_frame) {
                    return _this2.spAvatar.spriteFrame = _frame;
                  });
                  _context2.next = 9;
                  return _am.helper;
                case 9:
                  _helper = _context2.sent;
                  this.lbRank.node.active = false;
                  this.spRank.node.active = false;
                  _ico = _helper.getRank(current_position || 0);
                  _ico ? (this.spRank.spriteFrame = _ico, this.spRank.node.active = true) : (this.lbRank.string = "" + current_position, this.lbRank.node.active = true);
                  this.lbMoney.string = pStringUtils.formatNumberKMB(current_chips);
                  this.lbName.string = player_name;
                  return _context2.abrupt("return", true);
                case 17:
                case "end":
                  return _context2.stop();
              }
            }, _callee2, this);
          }));
          function init(_x) {
            return _init.apply(this, arguments);
          }
          return init;
        }();
        return UIMTTRanking;
      }(Component), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "lbRank", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "spRank", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "spAvatar", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "lbName", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "lbMoney", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIMTTRankManager.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts', './Enums.ts', './UIMTTRanking.ts', './MiniLoading.ts', './ResponeCode.ts', './GlobalConfig.ts', './MovingFx.ts', './MTTCommand.ts', './EventManager.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _asyncToGenerator, _regeneratorRuntime, cclegacy, _decorator, Node, ScrollView, Button, tween, instantiate, UIBase, UIType, UIMTTRanking, MiniLoading, ResponseCode, GlobalConfig, NSMovingFx, request, pEventManager;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Node = module.Node;
      ScrollView = module.ScrollView;
      Button = module.Button;
      tween = module.tween;
      instantiate = module.instantiate;
    }, function (module) {
      UIBase = module.UIBase;
    }, function (module) {
      UIType = module.UIType;
    }, function (module) {
      UIMTTRanking = module.UIMTTRanking;
    }, function (module) {
      MiniLoading = module.MiniLoading;
    }, function (module) {
      ResponseCode = module.ResponseCode;
    }, function (module) {
      GlobalConfig = module.default;
    }, function (module) {
      NSMovingFx = module.NSMovingFx;
    }, function (module) {
      request = module.default;
    }, function (module) {
      pEventManager = module.pEventManager;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9;
      cclegacy._RF.push({}, "879baBh765JK7puO/+XbtrF", "UIMTTRankManager", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var UIMTTRankManager = exports('UIMTTRankManager', (_dec = ccclass("UIMTTRankManager"), _dec2 = property({
        type: Node
      }), _dec3 = property({
        type: UIType,
        readonly: true,
        override: true
      }), _dec4 = property({
        type: ScrollView
      }), _dec5 = property({
        type: UIMTTRanking
      }), _dec6 = property({
        type: [Node]
      }), _dec7 = property({
        type: Button
      }), _dec8 = property({
        type: NSMovingFx.Component
      }), _dec9 = property({
        type: MiniLoading
      }), _dec10 = property({
        type: Node
      }), _dec(_class = (_class2 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UIMTTRankManager, _UIBase);
        function UIMTTRankManager() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "popup", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "uiType", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "scroller", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "myRank", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "mains", _descriptor5, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnController", _descriptor6, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "mover", _descriptor7, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "loading", _descriptor8, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "empty", _descriptor9, _assertThisInitialized(_this));
          _this._events = [['onDesignResolutionChanged', _this._onChangedDesign, _assertThisInitialized(_this)], ['onCanvasResize', _this._onChangedDesign, _assertThisInitialized(_this)]];
          _this._tween = null;
          _this._isOn = false;
          _this._tid = 0;
          return _this;
        }
        var _proto = UIMTTRankManager.prototype;
        _proto._onChangedDesign = function _onChangedDesign() {
          this.active && this.close();
        };
        _proto._onLoad = function _onLoad() {
          this._addClickers([{
            handlers: this._onClick,
            target: this.btnController
          }]);
          this._isOn = false;
          this.mover.show({
            id: 'off'
          });
          pEventManager.on(this._events);
        };
        _proto._onDestroy = function _onDestroy() {
          pEventManager.off(this._events);
        };
        _proto._onClick = /*#__PURE__*/function () {
          var _onClick2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {
            var _this$_tween;
            var _ref, id, rotation;
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  if (!this.mover.isShowing) {
                    _context.next = 2;
                    break;
                  }
                  return _context.abrupt("return");
                case 2:
                  if (!this._isOn) this._setup();
                  _ref = this._isOn ? ['off', 180] : ['on', 0], id = _ref[0], rotation = _ref[1];
                  _context.next = 6;
                  return this.mover.show({
                    id: id
                  });
                case 6:
                  this._isOn = !this._isOn;
                  (_this$_tween = this._tween) == null || _this$_tween.stop();
                  this._tween = tween(this.btnController.node).to(0.25, {
                    angle: rotation
                  }).start();
                case 9:
                case "end":
                  return _context.stop();
              }
            }, _callee, this);
          }));
          function _onClick() {
            return _onClick2.apply(this, arguments);
          }
          return _onClick;
        }();
        _proto._empty = function _empty() {
          this.empty.active = true;
          this.scroller.content.active = false;
          this.myRank.main();
        };
        _proto._setup = /*#__PURE__*/function () {
          var _setup2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {
            var _this2 = this;
            var _data, code, data, leaderboard;
            return _regeneratorRuntime().wrap(function _callee2$(_context2) {
              while (1) switch (_context2.prev = _context2.next) {
                case 0:
                  this.loading.show();
                  _context2.next = 3;
                  return request('getTournamentLeaderboard', {
                    tournament_id: this._tid,
                    includeEliminated: false,
                    forceRefresh: true,
                    leaderboard_type: 'table_active',
                    limit: 50
                  });
                case 3:
                  _data = _context2.sent;
                  code = _data.code, data = _data.data;
                  _context2.t0 = code;
                  _context2.next = _context2.t0 === ResponseCode.SUCCESS ? 10 : 8;
                  break;
                case 8:
                  this._empty();
                  return _context2.abrupt("break", 19);
                case 10:
                  this.scroller.content.removeAllChildren();
                  this.empty.active = false;
                  leaderboard = data.leaderboard;
                  this.mains.forEach(function (n) {
                    return n.active = false;
                  });
                  if (!(leaderboard.length <= 0)) {
                    _context2.next = 17;
                    break;
                  }
                  this._empty();
                  return _context2.abrupt("break", 19);
                case 17:
                  leaderboard.forEach(function (_rank) {
                    var _node = instantiate(_this2.myRank.node);
                    _node.active = true;
                    if (GlobalConfig.instance.isMainPlayer(_rank.player_id)) {
                      var _is2 = _this2.myRank.init(_rank);
                      _is2 && _this2.mains.forEach(function (n) {
                        return n.active = true;
                      });
                    }
                    var _comp = _node.getComponent(UIMTTRanking);
                    var _is = _comp.init(_rank);
                    _is && _this2.scroller.content.addChild(_node);
                  });
                  return _context2.abrupt("break", 19);
                case 19:
                  this.loading.close();
                case 20:
                case "end":
                  return _context2.stop();
              }
            }, _callee2, this);
          }));
          function _setup() {
            return _setup2.apply(this, arguments);
          }
          return _setup;
        }();
        _proto._onOpen = /*#__PURE__*/function () {
          var _onOpen2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(tournament_id) {
            return _regeneratorRuntime().wrap(function _callee3$(_context3) {
              while (1) switch (_context3.prev = _context3.next) {
                case 0:
                  this._tid = tournament_id;
                case 1:
                case "end":
                  return _context3.stop();
              }
            }, _callee3, this);
          }));
          function _onOpen(_x) {
            return _onOpen2.apply(this, arguments);
          }
          return _onOpen;
        }();
        return UIMTTRankManager;
      }(UIBase), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "popup", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "uiType", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return UIType.MTT_RANKER;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "scroller", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "myRank", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "mains", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return [];
        }
      }), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, "btnController", [_dec7], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor7 = _applyDecoratedDescriptor(_class2.prototype, "mover", [_dec8], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor8 = _applyDecoratedDescriptor(_class2.prototype, "loading", [_dec9], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor9 = _applyDecoratedDescriptor(_class2.prototype, "empty", [_dec10], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIMttResult.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts', './Enums.ts', './LanguageManager.ts', './EventManager.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _assertThisInitialized, _initializerDefineProperty, cclegacy, _decorator, Label, Button, UIBase, UIType, LanguageMananger, pEventManager;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _assertThisInitialized = module.assertThisInitialized;
      _initializerDefineProperty = module.initializerDefineProperty;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Label = module.Label;
      Button = module.Button;
    }, function (module) {
      UIBase = module.UIBase;
    }, function (module) {
      UIType = module.UIType;
    }, function (module) {
      LanguageMananger = module.LanguageMananger;
    }, function (module) {
      pEventManager = module.pEventManager;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6;
      cclegacy._RF.push({}, "3ccffhAddtMY59CHEUL/6fp", "UIMttResult", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var UIMttResut = exports('UIMttResut', (_dec = ccclass("UIMttResut"), _dec2 = property({
        type: UIType,
        readonly: true,
        override: true
      }), _dec3 = property(Label), _dec4 = property(Label), _dec5 = property(Label), _dec6 = property(Button), _dec7 = property(Button), _dec(_class = (_class2 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UIMttResut, _UIBase);
        function UIMttResut() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          _this._events = [['onLeaveTable', _this.close, _assertThisInitialized(_this)]];
          _initializerDefineProperty(_this, "uiType", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbRank", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbNotify", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbGoodLuck", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnLobby", _descriptor5, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnWatch", _descriptor6, _assertThisInitialized(_this));
          _this._onBackToLobby = null;
          _this._onWatch = null;
          return _this;
        }
        var _proto = UIMttResut.prototype;
        _proto._onLoad = function _onLoad() {
          this._addClickers([{
            target: this.btnLobby,
            handlers: this._actBackToLobby
          }, {
            target: this.btnWatch,
            handlers: this._actWatch
          }]);
        };
        _proto._onClose = function _onClose() {
          pEventManager.off(this._events);
        };
        _proto.hideWatchBtn = function hideWatchBtn() {
          this.btnWatch.node.active = false;
          this._onWatch = null;
        };
        _proto._actBackToLobby = function _actBackToLobby() {
          this._onBackToLobby && this._onBackToLobby();
          this._onBackToLobby = null;
          this.log("___X__ CALL BACK TO LOBBY");
          this.close();
        };
        _proto._actWatch = function _actWatch() {
          this._onWatch && this._onWatch();
          this._onWatch = null;
          this.log("___X__ CALL WATCH");
          this.close();
        };
        _proto._onOpen = function _onOpen(data, actBackToLobby, actKeepWatching) {
          pEventManager.on(this._events);
          var msg = data.msg;
          var rank = msg.rank;
          this._onBackToLobby = actBackToLobby;
          this._onWatch = actKeepWatching;
          if (rank > 1) {
            this.lbGoodLuck.node.active = true;
            this.btnWatch.node.active = !!actKeepWatching;
            this.lbRank.string = LanguageMananger.getString({
              key: 'dynamic_rank',
              replacers: {
                find: "@rank",
                replacer: "" + rank
              }
            });
            this.lbNotify.string = LanguageMananger.getString({
              key: 'dynamic_mtt_lose_result',
              replacers: {
                find: "@amount",
                replacer: "" + (rank - 1)
              }
            });
            this.lbGoodLuck.string = LanguageMananger.getString({
              key: 'txt_goodluck'
            });
          } else {
            this.close();
            //this.btnWatch.node.active = false;
            //this.lbGoodLuck.node.active = false;
            //this.lbRank.string = LanguageMananger.getString( 'txt_top_1')
            //this.lbNotify.string = LanguageMananger.getString('dynamic_mtt_win_result')
          }
        };

        return UIMttResut;
      }(UIBase), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "uiType", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return UIType.MTT_RESULT;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "lbRank", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "lbNotify", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "lbGoodLuck", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "btnLobby", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, "btnWatch", [_dec7], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIMttTableSelector.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './ResponeCode.ts', './GlobalConfig.ts', './MTTCommand.ts', './ComponentUtils.ts', './StringUtils.ts', './NotifyToast.ts', './UINotice.ts', './PlayingController.ts', './Enums.ts', './UIController.ts', './ClassUtils.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _asyncToGenerator, _regeneratorRuntime, _extends, cclegacy, _decorator, Label, Button, ProgressBar, Component, ResponseCode, GlobalConfig, request, pComponentUtils, pStringUtils, NotifyToast, UINotice, PlayingController, ENumberPlayerCount, ETypeModePlay, EDealSpeed, UIType, UIController, pClassUtils;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
      _extends = module.extends;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Label = module.Label;
      Button = module.Button;
      ProgressBar = module.ProgressBar;
      Component = module.Component;
    }, function (module) {
      ResponseCode = module.ResponseCode;
    }, function (module) {
      GlobalConfig = module.default;
    }, function (module) {
      request = module.default;
    }, function (module) {
      pComponentUtils = module.pComponentUtils;
    }, function (module) {
      pStringUtils = module.pStringUtils;
    }, function (module) {
      NotifyToast = module.NotifyToast;
    }, function (module) {
      UINotice = module.UINotice;
    }, function (module) {
      PlayingController = module.default;
    }, function (module) {
      ENumberPlayerCount = module.ENumberPlayerCount;
      ETypeModePlay = module.ETypeModePlay;
      EDealSpeed = module.EDealSpeed;
      UIType = module.UIType;
    }, function (module) {
      UIController = module.UIController;
    }, function (module) {
      pClassUtils = module.pClassUtils;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5;
      cclegacy._RF.push({}, "02673vf7IlMH7ioTFfws3mW", "UIMttTableSelector", undefined);
      var ccclass = _decorator.ccclass,
        type = _decorator.type;
      var UIMttTableSelector = exports('UIMttTableSelector', (_dec = ccclass('UIMttTableSelector'), _dec2 = type(Label), _dec3 = type(Label), _dec4 = type(Label), _dec5 = type(Button), _dec6 = type(ProgressBar), _dec(_class = (_class2 = /*#__PURE__*/function (_Component) {
        _inheritsLoose(UIMttTableSelector, _Component);
        function UIMttTableSelector() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _Component.call.apply(_Component, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "tid", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "sbbb", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "current", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btn", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "bar", _descriptor5, _assertThisInitialized(_this));
          _this._data = null;
          _this._tour = null;
          _this._clicker = [];
          return _this;
        }
        var _proto = UIMttTableSelector.prototype;
        _proto.onLoad = function onLoad() {
          pComponentUtils.appends({
            _options: {
              _handlers: this._onClick,
              _target: this.btn
            },
            _type: Button.EventType.CLICK,
            _binder: this
          });
        };
        _proto.init = function init(data, tournament, onClick) {
          this._data = data;
          this._tour = tournament;
          this._clicker = pClassUtils.mapper(onClick);
          this.highlight();
        };
        _proto.highlight = function highlight() {
          var _this$_data = this._data,
            smallBlind = _this$_data.smallBlind,
            bigBlind = _this$_data.bigBlind,
            displayTid = _this$_data.displayTid,
            players = _this$_data.players,
            maxPlayers = _this$_data.maxPlayers;
          this.tid.string = displayTid;
          this.sbbb.string = pStringUtils.formatNumberKMB(smallBlind) + "/" + pStringUtils.formatNumberKMB(bigBlind);
          this.current.string = "" + players;
          this.bar.progress = players / maxPlayers;
          return this._data;
        };
        _proto._onClick = /*#__PURE__*/function () {
          var _onClick2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {
            var instance, _data, _table;
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  instance = GlobalConfig.instance;
                  instance.loading.open();
                  _context.next = 4;
                  return request('joinTable', {
                    tid: this._data.id
                  });
                case 4:
                  _data = _context.sent;
                  instance.loading.close();
                  if (!(_data.code != ResponseCode.SUCCESS)) {
                    _context.next = 10;
                    break;
                  }
                  NotifyToast.instance.showWithKey('txt_error_join_mtt_tournament');
                  UINotice.show('txt_title', (_data == null ? void 0 : _data.error) || 'txt_error_join_mtt_tournament', 'txt_btn_confirm2');
                  return _context.abrupt("return");
                case 10:
                  PlayingController.instance.setRoom('MTT');
                  _table = {
                    count: ENumberPlayerCount.NINE_PLAYERS,
                    mode: ETypeModePlay.MTT,
                    speed: EDealSpeed.DEAL_SPEED_1,
                    list: [],
                    data: _extends({}, this._data, {
                      zone: "TS",
                      displayTid: Number(this._data.displayTid)
                    }),
                    mtt: _extends({}, this._tour, {
                      watch: true
                    })
                  };
                  PlayingController.instance.setup(_table, this._tour.id.toString(), "MTT");
                  _context.next = 15;
                  return UIController.Instance.open(UIType.PLAYING_SCENE, false, true);
                case 15:
                  pClassUtils.invoker(this._clicker);
                case 16:
                case "end":
                  return _context.stop();
              }
            }, _callee, this);
          }));
          function _onClick() {
            return _onClick2.apply(this, arguments);
          }
          return _onClick;
        }();
        return UIMttTableSelector;
      }(Component), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "tid", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "sbbb", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "current", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "btn", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "bar", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIMttTablesView.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts', './Enums.ts', './ComponentUtils.ts', './MiniLoading.ts', './UIMttTableSelector.ts', './StringUtils.ts', './UIController.ts', './MTTCommand.ts', './ResponeCode.ts', './UINotice.ts', './EventManager.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _asyncToGenerator, _regeneratorRuntime, cclegacy, _decorator, Prefab, PageView, Label, Button, Node, instantiate, UIBase, UIType, pComponentUtils, MiniLoading, UIMttTableSelector, pStringUtils, UIController, request, ResponseCode, UINotice, pEventManager;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Prefab = module.Prefab;
      PageView = module.PageView;
      Label = module.Label;
      Button = module.Button;
      Node = module.Node;
      instantiate = module.instantiate;
    }, function (module) {
      UIBase = module.UIBase;
    }, function (module) {
      UIType = module.UIType;
    }, function (module) {
      pComponentUtils = module.pComponentUtils;
    }, function (module) {
      MiniLoading = module.MiniLoading;
    }, function (module) {
      UIMttTableSelector = module.UIMttTableSelector;
    }, function (module) {
      pStringUtils = module.pStringUtils;
    }, function (module) {
      UIController = module.UIController;
    }, function (module) {
      request = module.default;
    }, function (module) {
      ResponseCode = module.ResponseCode;
    }, function (module) {
      UINotice = module.UINotice;
    }, function (module) {
      pEventManager = module.pEventManager;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _dec11, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9, _descriptor10;
      cclegacy._RF.push({}, "07199KrFlBMsaSfV6Hq1aG5", "UIMttTablesView", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property,
        type = _decorator.type;
      var UIMttTablesView = exports('UIMttTablesView', (_dec = ccclass("UIMttTablesView"), _dec2 = property({
        type: UIType,
        override: true,
        readonly: true
      }), _dec3 = type(Prefab), _dec4 = type(PageView), _dec5 = type(Label), _dec6 = type(Label), _dec7 = type(Button), _dec8 = type(Button), _dec9 = type(MiniLoading), _dec10 = type(Node), _dec11 = type(Node), _dec(_class = (_class2 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UIMttTablesView, _UIBase);
        function UIMttTablesView() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "uiType", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "prefab", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "viewer", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "sbbb", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "minmax", _descriptor5, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnNext", _descriptor6, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnPrev", _descriptor7, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "loading", _descriptor8, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "empty", _descriptor9, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "top", _descriptor10, _assertThisInitialized(_this));
          _this._closeType = null;
          return _this;
        }
        var _proto = UIMttTablesView.prototype;
        _proto._onLoad = function _onLoad() {
          this._addClickers([{
            handlers: this._onNext,
            target: this.btnNext
          }, {
            handlers: this._onPrev,
            target: this.btnPrev
          }]);
          pComponentUtils.binds(this.viewer, 'pageEvents', this, '_onPageChange');
        };
        _proto._onNext = function _onNext() {
          var _index = this.viewer.getCurrentPageIndex() + 1;
          var _this$viewer$getPages = this.viewer.getPages(),
            length = _this$viewer$getPages.length;
          _index < length && this.viewer.scrollToPage(_index);
        };
        _proto._onPrev = function _onPrev() {
          var _index = this.viewer.getCurrentPageIndex() - 1;
          _index >= 0 && this.viewer.scrollToPage(_index, 0.15);
        };
        _proto._onPageChange = /*#__PURE__*/function () {
          var _onPageChange2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(page) {
            var _index, _page$getPages, length, _comp, _data;
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  _index = page.getCurrentPageIndex();
                  _page$getPages = page.getPages(), length = _page$getPages.length;
                  this.btnPrev.interactable = _index - 1 > 0;
                  this.btnNext.interactable = _index + 1 < length;
                  _comp = page.getComponent(UIMttTableSelector);
                  if (_comp) {
                    _context.next = 7;
                    break;
                  }
                  return _context.abrupt("return");
                case 7:
                  _data = _comp.highlight();
                  this._change(_data);
                case 9:
                case "end":
                  return _context.stop();
              }
            }, _callee, this);
          }));
          function _onPageChange(_x) {
            return _onPageChange2.apply(this, arguments);
          }
          return _onPageChange;
        }();
        _proto._change = function _change(table) {
          if (!table) return;
          var smallBlind = table.smallBlind,
            bigBlind = table.bigBlind,
            minBuyIn = table.minBuyIn,
            maxBuyIn = table.maxBuyIn;
          this.sbbb.string = pStringUtils.formatNumberKMB(smallBlind) + "/" + pStringUtils.formatNumberKMB(bigBlind);
          this.minmax.string = pStringUtils.formatNumberKMB(minBuyIn) + "-" + pStringUtils.formatNumberKMB(maxBuyIn);
        };
        _proto._onOpen = /*#__PURE__*/function () {
          var _onOpen2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(tour, close) {
            var _this2 = this,
              _first2;
            var _data, tables, _first, _ydata;
            return _regeneratorRuntime().wrap(function _callee2$(_context2) {
              while (1) switch (_context2.prev = _context2.next) {
                case 0:
                  this._closeType = close;
                  this.loading.show();
                  _context2.next = 4;
                  return request('getTablesByTournament', {
                    tournament_id: tour.id
                  });
                case 4:
                  _data = _context2.sent;
                  this.loading.close();
                  if (!(_data.code !== ResponseCode.SUCCESS)) {
                    _context2.next = 9;
                    break;
                  }
                  UINotice.show('txt_title', _data.error, 'txt_btn_confirm1', undefined, undefined, undefined, {
                    _function: this.close,
                    _this: this
                  });
                  return _context2.abrupt("return");
                case 9:
                  tables = _data.tables.tables;
                  this.viewer.removeAllPages();
                  this.empty.active = tables.length <= 0;
                  this.top.active = tables.length > 0;
                  this.btnNext.node.active = tables.length > 1;
                  this.btnPrev.node.active = tables.length > 1;
                  _first = null;
                  tables.forEach(function (_table, _index) {
                    var _node = instantiate(_this2.prefab);
                    var _comp = _node.getComponent(UIMttTableSelector);
                    if (!_comp) return;
                    _index == 0 && (_first = _comp);
                    _comp.init(_table, tour, function () {
                      pEventManager.invoke('onWatchMTTLobby');
                      _this2.close();
                    });
                    _this2.viewer.addPage(_node);
                  });
                  _ydata = (_first2 = _first) == null ? void 0 : _first2.highlight();
                  this._change(_ydata);
                case 19:
                case "end":
                  return _context2.stop();
              }
            }, _callee2, this);
          }));
          function _onOpen(_x2, _x3) {
            return _onOpen2.apply(this, arguments);
          }
          return _onOpen;
        }();
        _proto._onClose = function _onClose() {
          this._closeType && UIController.open(this._closeType);
        };
        return UIMttTablesView;
      }(UIBase), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "uiType", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return UIType.MTT_TABLE_VIEW;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "prefab", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "viewer", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "sbbb", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "minmax", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, "btnNext", [_dec7], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor7 = _applyDecoratedDescriptor(_class2.prototype, "btnPrev", [_dec8], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor8 = _applyDecoratedDescriptor(_class2.prototype, "loading", [_dec9], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor9 = _applyDecoratedDescriptor(_class2.prototype, "empty", [_dec10], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor10 = _applyDecoratedDescriptor(_class2.prototype, "top", [_dec11], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UINavDefaultShopPage.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIDefaultShopPage.ts', './Enums.ts', './MyPropsItem.ts', './ResponeCode.ts', './ShopCommand.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _asyncToGenerator, _regeneratorRuntime, cclegacy, _decorator, ToggleContainer, Enum, Prefab, instantiate, UIDefaultShopPage, EShopType, MyPropsItem, ResponseCode, request;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      ToggleContainer = module.ToggleContainer;
      Enum = module.Enum;
      Prefab = module.Prefab;
      instantiate = module.instantiate;
    }, function (module) {
      UIDefaultShopPage = module.UIDefaultShopPage;
    }, function (module) {
      EShopType = module.EShopType;
    }, function (module) {
      MyPropsItem = module.MyPropsItem;
    }, function (module) {
      ResponseCode = module.ResponseCode;
    }, function (module) {
      request = module.default;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _class, _class2, _descriptor, _descriptor2, _dec4, _dec5, _dec6, _class4, _class5, _descriptor3, _descriptor4;
      cclegacy._RF.push({}, "4266bprIuFCs48FF0mwjX0B", "UINavDefaultShopPage", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var NavToggleContainerConfig = (_dec = ccclass('NavToggleContainerConfig'), _dec2 = property(ToggleContainer), _dec3 = property({
        type: Enum(EShopType)
      }), _dec(_class = (_class2 = /*#__PURE__*/function () {
        function NavToggleContainerConfig() {
          _initializerDefineProperty(this, "toggleContainer", _descriptor, this);
          _initializerDefineProperty(this, "type", _descriptor2, this);
        }
        var _proto = NavToggleContainerConfig.prototype;
        _proto.is = function is(type) {
          var _is = this.type == type;
          console.log("Current is: " + this.type + " ( " + EShopType[this.type] + " ) Compare to > " + type + " ( " + EShopType[type] + " }");
          return _is;
        };
        _proto.active = function active(type) {
          return this.toggleContainer.node.active = this.is(type);
        };
        return NavToggleContainerConfig;
      }(), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "toggleContainer", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "type", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return EShopType.PROPS;
        }
      })), _class2)) || _class);
      var UINavDefaultShopPage = exports('UINavDefaultShopPage', (_dec4 = ccclass('UINavDefaultShopPage'), _dec5 = property(Prefab), _dec6 = property({
        type: [NavToggleContainerConfig]
      }), _dec4(_class4 = (_class5 = /*#__PURE__*/function (_UIDefaultShopPage) {
        _inheritsLoose(UINavDefaultShopPage, _UIDefaultShopPage);
        function UINavDefaultShopPage() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIDefaultShopPage.call.apply(_UIDefaultShopPage, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "myPropsItemPrefab", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "navToggleContainers", _descriptor4, _assertThisInitialized(_this));
          _this._data = void 0;
          _this._type = EShopType.PROPS;
          return _this;
        }
        var _proto2 = UINavDefaultShopPage.prototype;
        _proto2.init = function init(_data, _type) {
          this.navToggleContainers.forEach(function (_shop) {
            return _shop.active(_type);
          });
          this._type = _type;
          this._data = _data;
          this.loadData(_type);
        };
        _proto2.loadData = /*#__PURE__*/function () {
          var _loadData = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(shopType, index) {
            var res;
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  if (index === void 0) {
                    index = 0;
                  }
                  _context.t0 = shopType;
                  _context.next = _context.t0 === EShopType.PROPS ? 4 : _context.t0 === EShopType.DECORATOR ? 19 : _context.t0 === EShopType.MY_PROPS ? 24 : 38;
                  break;
                case 4:
                  if (this._data) {
                    _context.next = 7;
                    break;
                  }
                  this.scrView.content.removeAllChildren();
                  return _context.abrupt("break", 38);
                case 7:
                  _context.t1 = index;
                  _context.next = _context.t1 === 0 ? 10 : _context.t1 === 1 ? 12 : _context.t1 === 2 ? 14 : _context.t1 === 3 ? 16 : 18;
                  break;
                case 10:
                  this._load(this._data.PT || []);
                  return _context.abrupt("break", 18);
                case 12:
                  this._load(this._data.NICE_NUMBER || []);
                  return _context.abrupt("break", 18);
                case 14:
                  this._load(this._data.SPECIFICITY || []);
                  return _context.abrupt("break", 18);
                case 16:
                  this._load(this._data.BUBBLE_CHAT || []);
                  return _context.abrupt("break", 18);
                case 18:
                  return _context.abrupt("break", 38);
                case 19:
                  if (this._data) {
                    _context.next = 22;
                    break;
                  }
                  this.scrView.content.removeAllChildren();
                  return _context.abrupt("break", 38);
                case 22:
                  this._load([]);
                  //switch (index) {
                  //    case 0:
                  //        // let data = [];
                  //        // data = data.concat(data, this._data.DECOR);
                  //        // data = data.concat(data, this._data.HOLIDAY);
                  //        // data = data.concat(data, this._data.ENTERTAINMENT);
                  //        // data = data.concat(data, this._data.OTHER);
                  //        this._load(this._data.DECOR || []);
                  //        break;
                  //    case 1:
                  //        this._load(this._data.DECOR || []);
                  //        break;
                  //    case 2:
                  //        this._load(this._data.HOLIDAY || []);
                  //        break;
                  //    case 3:
                  //        this._load(this._data.ENTERTAINMENT || []);
                  //        break;
                  //    case 4:
                  //        this._load(this._data.OTHER || []);
                  //        break;
                  //}
                  return _context.abrupt("break", 38);
                case 24:
                  _context.t2 = index;
                  _context.next = _context.t2 === 0 ? 27 : _context.t2 === 1 ? 32 : 37;
                  break;
                case 27:
                  _context.next = 29;
                  return request('getMyItems', {
                    type: 'PROPS'
                  });
                case 29:
                  res = _context.sent;
                  res.code === ResponseCode.SUCCESS && this.loadMyProps(res.data);
                  return _context.abrupt("break", 37);
                case 32:
                  _context.next = 34;
                  return request('getMyItems', {
                    type: 'GIFT'
                  });
                case 34:
                  res = _context.sent;
                  res.code === ResponseCode.SUCCESS && this.loadMyProps(res.data);
                  return _context.abrupt("break", 37);
                case 37:
                  return _context.abrupt("break", 38);
                case 38:
                case "end":
                  return _context.stop();
              }
            }, _callee, this);
          }));
          function loadData(_x, _x2) {
            return _loadData.apply(this, arguments);
          }
          return loadData;
        }();
        _proto2.loadMyProps = function loadMyProps(data) {
          var _this2 = this;
          this.scrView.content.removeAllChildren();
          data.forEach(function (d) {
            var itemNode = instantiate(_this2.myPropsItemPrefab);
            _this2.scrView.content.addChild(itemNode);
            var comp = itemNode.getComponent(MyPropsItem);
            if (comp) {
              comp.init(d);
            }
          });
        };
        _proto2.onToggleChange = function onToggleChange(toggle, data) {
          var toggleContainerIndex = this.navToggleContainers.findIndex(function (navT) {
            return navT.toggleContainer.node.active;
          });
          if (toggleContainerIndex === undefined || toggleContainerIndex === null) return;
          var index = this.navToggleContainers[toggleContainerIndex].toggleContainer.toggleItems.indexOf(toggle);
          this.loadData(this._type, index);
        };
        return UINavDefaultShopPage;
      }(UIDefaultShopPage), (_descriptor3 = _applyDecoratedDescriptor(_class5.prototype, "myPropsItemPrefab", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class5.prototype, "navToggleContainers", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return [];
        }
      })), _class5)) || _class4));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UINormalItem.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './StringUtils.ts', './MathUtils.ts', './GameManager.ts', './GlobalConfig.ts', './EventManager.ts', './LanguageManager.ts', './ResponeCode.ts', './ShopCommand.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _asyncToGenerator, _regeneratorRuntime, cclegacy, _decorator, Sprite, Label, Node, assetManager, SpriteFrame, Texture2D, UITransform, Component, sys, pStringUtils, pMathUtils, GameManager, GlobalConfig, pEventManager, LanguageMananger, ResponseCode, request;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Sprite = module.Sprite;
      Label = module.Label;
      Node = module.Node;
      assetManager = module.assetManager;
      SpriteFrame = module.SpriteFrame;
      Texture2D = module.Texture2D;
      UITransform = module.UITransform;
      Component = module.Component;
      sys = module.sys;
    }, function (module) {
      pStringUtils = module.pStringUtils;
    }, function (module) {
      pMathUtils = module.pMathUtils;
    }, function (module) {
      GameManager = module.GameManager;
    }, function (module) {
      GlobalConfig = module.default;
    }, function (module) {
      pEventManager = module.pEventManager;
    }, function (module) {
      LanguageMananger = module.LanguageMananger;
    }, function (module) {
      ResponseCode = module.ResponseCode;
    }, function (module) {
      request = module.default;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9;
      cclegacy._RF.push({}, "4134aBV6D1IiLw7lDIdfb8L", "UINormalItem", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var UINormalItem = exports('UINormalItem', (_dec = ccclass('UINormalItem'), _dec2 = property(Sprite), _dec3 = property(Label), _dec4 = property(Label), _dec5 = property(Sprite), _dec6 = property(Sprite), _dec7 = property(Sprite), _dec8 = property(Sprite), _dec9 = property(Label), _dec10 = property(Node), _dec(_class = (_class2 = /*#__PURE__*/function (_Component) {
        _inheritsLoose(UINormalItem, _Component);
        function UINormalItem() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _Component.call.apply(_Component, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "spIcon", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbGetNumber", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbDes", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "spPayIconDiamond", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "spPayIconUSD", _descriptor5, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "spPayIconChip", _descriptor6, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "spPayIconCoin", _descriptor7, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbPayNum", _descriptor8, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "saleNode", _descriptor9, _assertThisInitialized(_this));
          _this._data = void 0;
          return _this;
        }
        var _proto = UINormalItem.prototype;
        _proto.initData = function initData(data) {
          var _this2 = this;
          this._data = data;
          if (this._data.icon && this._data.icon.includes('http')) {
            assetManager.loadRemote(this._data.icon, function (err, imageAsset) {
              if (err) {
                console.error('Load image failed:', err);
                return;
              }
              if (imageAsset.width === 0 || imageAsset.height === 0) {
                console.warn('Invalid image data:', _this2._data.icon);
                return;
              }
              var spriteFrame = new SpriteFrame();
              spriteFrame.texture = new Texture2D();
              spriteFrame.texture.image = imageAsset;
              var spriteUITransform = _this2.spIcon.getComponent(UITransform);
              var spriteSize = spriteUITransform.contentSize;
              spriteUITransform.setContentSize(pMathUtils.scaleImageInsideBound(spriteSize.width, spriteSize.height, imageAsset.width, imageAsset.height));
              _this2.spIcon.spriteFrame = spriteFrame;
              _this2.spIcon.node.active = true;
            });
          }
          // let num = Number(this._data.item_value);
          // console.log("Value num", num);
          this._data.item_value ? this.lbGetNumber.string = pStringUtils.formatMoneyWithDot(Number(this._data.item_value)) : this.lbGetNumber.node.active = false;
          this.lbDes.string = this._data.item_name;
          this.lbPayNum.string = pStringUtils.formatNumberKMB(Number(this._data.price));
          this.saleNode.active = Boolean(this._data.is_sale);
          switch (data.currency) {
            case 'CHIP':
              this.spPayIconChip.node.active = true;
              break;
            case 'USD':
              this.spPayIconUSD.node.active = true;
            case 'VND':
              this.spPayIconUSD.node.active = true;
              break;
            case 'DIAMOND':
              this.spPayIconDiamond.node.active = true;
              break;
            case 'COIN':
              this.spPayIconCoin.node.active = true;
              break;
          }
        };
        _proto.onButtonClick = /*#__PURE__*/function () {
          var _onButtonClick = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {
            var chip, coin, diamond, plaform, res, mess;
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  if (!(this._data.currency !== 'USD' && this._data.currency !== 'VND')) {
                    _context.next = 25;
                    break;
                  }
                  if (!(this._data.currency === 'CHIP')) {
                    _context.next = 6;
                    break;
                  }
                  chip = GlobalConfig.instance.Login.player.information.balance;
                  if (!(chip === undefined || chip < Number(this._data.price))) {
                    _context.next = 6;
                    break;
                  }
                  GameManager.Instance.showToastNotice(LanguageMananger.instance.getString('text_not_enough_chip'));
                  return _context.abrupt("return");
                case 6:
                  if (!(this._data.currency === 'COIN')) {
                    _context.next = 11;
                    break;
                  }
                  coin = GlobalConfig.instance.Login.player.otherBalance.coinBalance;
                  if (!(coin === undefined || coin < Number(this._data.price))) {
                    _context.next = 11;
                    break;
                  }
                  GameManager.Instance.showToastNotice(LanguageMananger.instance.getString('text_not_enough_coin'));
                  return _context.abrupt("return");
                case 11:
                  if (!(this._data.currency === 'DIAMOND')) {
                    _context.next = 17;
                    break;
                  }
                  // console.log("On buy click { diamond:", GlobalConfig.instance.Login.player.information.diamond, ", price:", Number(this._data.price));
                  diamond = GlobalConfig.instance.Login.player.otherBalance.diamondBalance;
                  if (!(diamond === undefined || diamond < Number(this._data.price))) {
                    _context.next = 17;
                    break;
                  }
                  GameManager.Instance.showToastNotice(LanguageMananger.instance.getString('text_not_enough_diamond'));
                  pEventManager.invoke('go_to_diamond_shop_page');
                  return _context.abrupt("return");
                case 17:
                  plaform = sys.os === sys.OS.IOS ? 'iOS' : sys.os === sys.OS.ANDROID ? 'Android' : 'Web';
                  _context.next = 20;
                  return request('buyItem', {
                    item_id: this._data.id,
                    platform: plaform
                  });
                case 20:
                  res = _context.sent;
                  mess = res.message;
                  if (res.code === ResponseCode.SUCCESS) {
                    GameManager.Instance.showToastNotice(LanguageMananger.instance.getString('text_buy_success'));
                  } else {
                    mess && GameManager.Instance.showToastNotice(mess);
                  }
                  _context.next = 25;
                  break;
                case 25:
                case "end":
                  return _context.stop();
              }
            }, _callee, this);
          }));
          function onButtonClick() {
            return _onButtonClick.apply(this, arguments);
          }
          return onButtonClick;
        }();
        return UINormalItem;
      }(Component), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "spIcon", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "lbGetNumber", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "lbDes", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "spPayIconDiamond", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "spPayIconUSD", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, "spPayIconChip", [_dec7], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor7 = _applyDecoratedDescriptor(_class2.prototype, "spPayIconCoin", [_dec8], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor8 = _applyDecoratedDescriptor(_class2.prototype, "lbPayNum", [_dec9], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor9 = _applyDecoratedDescriptor(_class2.prototype, "saleNode", [_dec10], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UINotice.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './Decorators.ts', './UIPopupNotice.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _extends, _createClass, cclegacy, _decorator, Node, Prefab, instantiate, Component, pDecorators, UIPopupNotice;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _extends = module.extends;
      _createClass = module.createClass;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Node = module.Node;
      Prefab = module.Prefab;
      instantiate = module.instantiate;
      Component = module.Component;
    }, function (module) {
      pDecorators = module.pDecorators;
    }, function (module) {
      UIPopupNotice = module.UIPopupNotice;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _class, _class2, _descriptor, _descriptor2;
      cclegacy._RF.push({}, "f23f7MMcKVF6LrnZ93b1cS8", "UINotice", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property,
        menu = _decorator.menu;
      var singleton = pDecorators.singleton,
        logger = pDecorators.logger;
      function _isIShow(obj) {
        return obj.msg !== undefined && obj.title !== undefined;
      }
      var UINotice = exports('UINotice', (_dec = ccclass('UINotice'), _dec2 = menu('UI/Notice'), _dec3 = singleton({
        pooler: true,
        initer: 'onLoad',
        destroyer: 'onDestroy'
      }), _dec4 = logger('UINotice'), _dec5 = property(Node), _dec6 = property(Prefab), _dec(_class = _dec2(_class = _dec3(_class = _dec4(_class = (_class2 = /*#__PURE__*/function (_Component) {
        _inheritsLoose(UINotice, _Component);
        function UINotice() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _Component.call.apply(_Component, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "root", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "popup", _descriptor2, _assertThisInitialized(_this));
          _this._popups = new Map();
          return _this;
        }
        UINotice.show = function show(title, msg, confirm, onConfirm, cancel, onCancel, onClose) {
          this.instance.show(title, msg, confirm, onConfirm, cancel, onCancel, onClose);
        };
        var _proto = UINotice.prototype;
        _proto.getPopup = function getPopup(id, lifetime) {
          if (lifetime === void 0) {
            lifetime = 0;
          }
          var _popup = this._popups.get(id);
          if (!_popup || !_popup.isValid) {
            var _node = instantiate(this.popup);
            _node.parent = this.root;
            _popup = _node.getComponent(UIPopupNotice);
            _popup.init(lifetime);
            this._popups.set(id, _popup);
          }
          return _popup;
        };
        _proto.close = function close(all, donothing, clean) {
          if (all === void 0) {
            all = true;
          }
          if (donothing === void 0) {
            donothing = false;
          }
          if (clean === void 0) {
            clean = false;
          }
          if (typeof all === 'number') {
            var _this$getPopup;
            (_this$getPopup = this.getPopup(all)) == null || _this$getPopup.close(donothing, clean);
            return;
          }
          all && this._popups.forEach(function (popup) {
            return popup.close(donothing, clean);
          });
        };
        _proto.show = function show(title, msg, confirm, onConfirm, cancel, onCancel, onClose, index, lifetime) {
          if (index === void 0) {
            index = 0;
          }
          if (lifetime === void 0) {
            lifetime = 0;
          }
          var _options = _isIShow(title) ? _extends({}, title, {
            index: title.index || 0
          }) : {
            title: title,
            msg: msg,
            confirm: confirm,
            onConfirm: onConfirm,
            cancel: cancel,
            onCancel: onCancel,
            onClose: onClose,
            index: index,
            lifetime: lifetime
          };
          var _popup = this.getPopup(_options.index, _options.lifetime);
          _popup.show(_options.title, _options.msg, _options.confirm, _options.onConfirm, _options.cancel, _options.onCancel, _options.onClose);
        };
        _createClass(UINotice, null, [{
          key: "instance",
          get: function get() {
            return pDecorators.instance(UINotice);
          }
        }]);
        return UINotice;
      }(Component), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "root", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "popup", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class) || _class) || _class) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UINoticeAchievement.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './LanguageManager.ts', './Decorators.ts', './ComponentUtils.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _createClass, _asyncToGenerator, _regeneratorRuntime, cclegacy, _decorator, TweenSystem, Label, UIOpacity, tween, Component, LanguageMananger, pDecorators, pComponentUtils;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _createClass = module.createClass;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      TweenSystem = module.TweenSystem;
      Label = module.Label;
      UIOpacity = module.UIOpacity;
      tween = module.tween;
      Component = module.Component;
    }, function (module) {
      LanguageMananger = module.LanguageMananger;
    }, function (module) {
      pDecorators = module.pDecorators;
    }, function (module) {
      pComponentUtils = module.pComponentUtils;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5;
      cclegacy._RF.push({}, "b18c0gttfFLR6Pqva9VD+iL", "UINoticeAchievement", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var singleton = pDecorators.singleton;
      cc.zxc = TweenSystem;
      var UINoticeAchievement = exports('UINoticeAchievement', (_dec = ccclass('UINoticeAchievement'), _dec2 = singleton(), _dec3 = property(Label), _dec4 = property(Label), _dec5 = property(Label), _dec6 = property({
        min: 0
      }), _dec7 = property({
        min: 0
      }), _dec(_class = _dec2(_class = (_class2 = /*#__PURE__*/function (_Component) {
        _inheritsLoose(UINoticeAchievement, _Component);
        function UINoticeAchievement() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _Component.call.apply(_Component, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "title", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "goal", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "reward", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "fade", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "duration", _descriptor5, _assertThisInitialized(_this));
          _this._opx = null;
          _this._tween = null;
          return _this;
        }
        var _proto = UINoticeAchievement.prototype;
        _proto.onLoad = function onLoad() {
          this._opx = pComponentUtils.getSafeComponent(this, UIOpacity);
          this._opx.opacity = 0;
        };
        _proto.show = /*#__PURE__*/function () {
          var _show = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(title, goal, reward) {
            var _this$_tween;
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  (_this$_tween = this._tween) == null || _this$_tween.stop();
                  this._opx.opacity = 0;
                  this.title.string = title;
                  this.goal.string = LanguageMananger.instance.getString('txt_objective') + ": " + goal;
                  reward ? this.reward.string = reward : this.reward.node.active = false;
                  this._tween = tween(this._opx).to(this.fade, {
                    opacity: 255
                  }).delay(this.duration).call(this.hide.bind(this)).start();
                case 6:
                case "end":
                  return _context.stop();
              }
            }, _callee, this);
          }));
          function show(_x, _x2, _x3) {
            return _show.apply(this, arguments);
          }
          return show;
        }();
        _proto.hide = function hide() {
          var _this$_tween2;
          (_this$_tween2 = this._tween) == null || _this$_tween2.stop();
          this._tween = tween(this._opx).to(this.fade, {
            opacity: 0
          }).start();
        };
        _createClass(UINoticeAchievement, null, [{
          key: "instance",
          get: function get() {
            return pDecorators.instance(UINoticeAchievement);
          }
        }]);
        return UINoticeAchievement;
      }(Component), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "title", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "goal", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "reward", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "fade", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return 0.15;
        }
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "duration", [_dec7], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return 3;
        }
      })), _class2)) || _class) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UINoticeIconCounter.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './MainScreenController.ts', './EventManager.ts', './Enums.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _assertThisInitialized, _initializerDefineProperty, _createClass, cclegacy, _decorator, Node, Label, Component, MainScreenController, pEventManager, MessageNotifi;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _assertThisInitialized = module.assertThisInitialized;
      _initializerDefineProperty = module.initializerDefineProperty;
      _createClass = module.createClass;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Node = module.Node;
      Label = module.Label;
      Component = module.Component;
    }, function (module) {
      MainScreenController = module.MainScreenController;
    }, function (module) {
      pEventManager = module.pEventManager;
    }, function (module) {
      MessageNotifi = module.MessageNotifi;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _class, _class2, _descriptor, _descriptor2, _class3;
      cclegacy._RF.push({}, "35444CwNdxCD5iSNW1Y1/lg", "UINoticeIconCounter", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var UINoticeIconCounter = exports('UINoticeIconCounter', (_dec = ccclass('UINoticeIconCounter'), _dec2 = property(Node), _dec3 = property(Label), _dec(_class = (_class2 = (_class3 = /*#__PURE__*/function (_Component) {
        _inheritsLoose(UINoticeIconCounter, _Component);
        function UINoticeIconCounter() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _Component.call.apply(_Component, [this].concat(args)) || this;
          _this._events = [['onLoadedEmailsAndNotices', _this.onLoadedEmailsAndNotices, _assertThisInitialized(_this)]];
          _initializerDefineProperty(_this, "bg", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "noti", _descriptor2, _assertThisInitialized(_this));
          _this._list = [];
          return _this;
        }
        var _proto = UINoticeIconCounter.prototype;
        _proto.onLoad = function onLoad() {
          UINoticeIconCounter._I = this;
          this.onWatched();
        };
        _proto._getList = function _getList(type) {
          return MainScreenController.getEmail(type);
        };
        _proto.onEnable = function onEnable() {
          pEventManager.on(this._events);
        };
        _proto.onDisable = function onDisable() {
          pEventManager.off(this._events);
        };
        _proto.onLoadedEmailsAndNotices = function onLoadedEmailsAndNotices() {
          var _list = this._getList(MessageNotifi.SYSTEM);
          _list.sort(function (a, b) {
            return b.log_timestamp - a.log_timestamp;
          });
          if (this._list.length != _list.length) {
            this.noti.string = "" + _list.length;
            this.bg.active = true;
          }
          this._list = _list;
        };
        _proto.onWatched = function onWatched() {
          this.bg.active = false;
        };
        _createClass(UINoticeIconCounter, null, [{
          key: "instance",
          get: function get() {
            return UINoticeIconCounter._I;
          }
        }]);
        return UINoticeIconCounter;
      }(Component), _class3._I = null, _class3), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "bg", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "noti", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIPageItemRoomMTT.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIItemRoomMTT.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, cclegacy, _decorator, Prefab, Component, instantiate, UIItemRoomMTT;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Prefab = module.Prefab;
      Component = module.Component;
      instantiate = module.instantiate;
    }, function (module) {
      UIItemRoomMTT = module.UIItemRoomMTT;
    }],
    execute: function () {
      var _dec, _dec2, _class, _class2, _descriptor;
      cclegacy._RF.push({}, "296b0J3VvhEa4MMsxkZTeOt", "UIPageItemRoomMTT", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var UIPageItemRoomMTT = exports('UIPageItemRoomMTT', (_dec = ccclass('UIPageItemRoomMTT'), _dec2 = property(Prefab), _dec(_class = (_class2 = /*#__PURE__*/function (_Component) {
        _inheritsLoose(UIPageItemRoomMTT, _Component);
        function UIPageItemRoomMTT() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _Component.call.apply(_Component, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "itemRoomPrefab", _descriptor, _assertThisInitialized(_this));
          _this._list = [];
          return _this;
        }
        var _proto = UIPageItemRoomMTT.prototype;
        _proto.getItemByTourId = function getItemByTourId(id) {
          for (var i = 0; i < this._list.length; i++) {
            var _item = this._list[i];
            if (_item.is(id)) return _item;
          }
          return null;
        };
        _proto.removeItemByTourId = function removeItemByTourId(id) {
          var _target = this.getItemByTourId(id);
          if (_target) {
            var _index = this._list.indexOf(_target);
            if (_index >= 0) {
              this._list.splice(_index, 1);
              _target.node.removeFromParent();
              _target.node.destroy();
              return true;
            }
          }
          return false;
        };
        _proto.actUpdateRegistered = function actUpdateRegistered(id, amount) {
          for (var i = 0; i < this._list.length; i++) {
            var _item = this._list[i];
            if (_item.actUpdateRegistered(id, amount)) return true;
          }
          return false;
        };
        _proto.init = function init(data, mys) {
          var _this2 = this;
          this.node.removeAllChildren();
          this._list = [];
          var _loop = function _loop() {
            var _node = instantiate(_this2.itemRoomPrefab);
            if (!_node) return 1; // continue
            _this2.node.addChild(_node);
            var _data = data[i];
            var _comp = _node.getComponent(UIItemRoomMTT);
            _this2._list.push(_comp);
            _comp.init(_data, !!mys.find(function (_my) {
              return _my.id === _data.id;
            }));
            _node.active = true;
          };
          for (var i = 0; i < data.length; i++) {
            if (_loop()) continue;
          }
          return this._list;
        };
        return UIPageItemRoomMTT;
      }(Component), _descriptor = _applyDecoratedDescriptor(_class2.prototype, "itemRoomPrefab", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIPanelChangeCardBack.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, cclegacy, _decorator, ScrollView, Button, UIBase;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      ScrollView = module.ScrollView;
      Button = module.Button;
    }, function (module) {
      UIBase = module.UIBase;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _class, _class2, _descriptor, _descriptor2;
      cclegacy._RF.push({}, "338fd5HSHdIb5YX9X5VFnoz", "UIPanelChangeCardBack", undefined);
      var ccclass = _decorator.ccclass,
        type = _decorator.type;
      var UIPanelChangeCardBack = exports('UIPanelChangeCardBack', (_dec = ccclass('UIPanelChangeCardBack'), _dec2 = type(ScrollView), _dec3 = type(Button), _dec(_class = (_class2 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UIPanelChangeCardBack, _UIBase);
        function UIPanelChangeCardBack() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "scrViewListTable", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnScrowDown", _descriptor2, _assertThisInitialized(_this));
          return _this;
        }
        var _proto = UIPanelChangeCardBack.prototype;
        _proto._onStart = function _onStart() {
          this._addClicker(this.btnScrowDown, this.scrDown, this);
        };
        _proto.scrDown = function scrDown() {
          this.scrollDown(this.scrViewListTable, 20);
        };
        return UIPanelChangeCardBack;
      }(UIBase), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "scrViewListTable", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "btnScrowDown", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIPanelChangeCardFace.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, cclegacy, _decorator, ScrollView, Button, UIBase;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      ScrollView = module.ScrollView;
      Button = module.Button;
    }, function (module) {
      UIBase = module.UIBase;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _class, _class2, _descriptor, _descriptor2;
      cclegacy._RF.push({}, "c8083uEKI1Eubw+1HKiZPtZ", "UIPanelChangeCardFace", undefined);
      var ccclass = _decorator.ccclass,
        type = _decorator.type;
      var UIPanelChangeCardFace = exports('UIPanelChangeCardFace', (_dec = ccclass('UIPanelChangeCardFace'), _dec2 = type(ScrollView), _dec3 = type(Button), _dec(_class = (_class2 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UIPanelChangeCardFace, _UIBase);
        function UIPanelChangeCardFace() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "scrViewListTable", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnScrowDown", _descriptor2, _assertThisInitialized(_this));
          return _this;
        }
        var _proto = UIPanelChangeCardFace.prototype;
        _proto._onStart = function _onStart() {
          this._addClicker(this.btnScrowDown, this.scrDown, this);
        };
        _proto.scrDown = function scrDown() {
          this.scrollDown(this.scrViewListTable, 20);
        };
        return UIPanelChangeCardFace;
      }(UIBase), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "scrViewListTable", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "btnScrowDown", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIPanelChangeDealer.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, cclegacy, _decorator, PageView, Button, Toggle, UIBase;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      PageView = module.PageView;
      Button = module.Button;
      Toggle = module.Toggle;
    }, function (module) {
      UIBase = module.UIBase;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _class, _class2, _descriptor, _descriptor2, _descriptor3;
      cclegacy._RF.push({}, "3fb7553NrNMLK3QoiYLXuYE", "UIPanelChangeDealer", undefined);
      var ccclass = _decorator.ccclass,
        type = _decorator.type;
      var UIPanelChangeDealer = exports('UIPanelChangeDealer', (_dec = ccclass('UIPanelChangeDealer'), _dec2 = type(PageView), _dec3 = type(Button), _dec4 = type(Button), _dec(_class = (_class2 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UIPanelChangeDealer, _UIBase);
        function UIPanelChangeDealer() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "pgViewEvent", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnPrevEvent", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnNextEvent", _descriptor3, _assertThisInitialized(_this));
          _this.currentPgViewIndex = 1;
          return _this;
        }
        var _proto = UIPanelChangeDealer.prototype;
        _proto._onStart = function _onStart() {
          this._addClicker(this.btnPrevEvent, this.prevEventPage, this);
          this._addClicker(this.btnNextEvent, this.nextEventPage, this);
        };
        _proto.onEnable = function onEnable() {
          this.pgViewEvent.setCurrentPageIndex(1);
        };
        _proto.update = function update() {
          if (this.currentPgViewIndex != this.pgViewEvent.getCurrentPageIndex()) {
            this.currentPgViewIndex = this.pgViewEvent.getCurrentPageIndex();
            this.btnPrevEvent.interactable = this.currentPgViewIndex > 0;
            this.btnNextEvent.interactable = this.currentPgViewIndex < this.pgViewEvent.getPages().length - 1;
            this.pgViewEvent.getPages()[this.currentPgViewIndex].getComponent(Toggle).isChecked = true;
            this.pgViewEvent.getPages()[this.currentPgViewIndex].getChildByName("Uncheck").active = false;
            for (var index = 0; index < this.pgViewEvent.getPages().length; index++) {
              var element = this.pgViewEvent.getPages()[index];
              if (index != this.currentPgViewIndex) element.getChildByName("Uncheck").active = true;
            }
          } else {
            this.pgViewEvent.getPages()[this.currentPgViewIndex].getChildByName("Uncheck").active = false;
          }
        };
        _proto.prevEventPage = function prevEventPage() {
          var prevPageIndex = this.pgViewEvent.getCurrentPageIndex() - 1;
          if (prevPageIndex >= 0) {
            this.pgViewEvent.scrollToPage(prevPageIndex);
          }
        };
        _proto.nextEventPage = function nextEventPage() {
          var nextPageIndex = this.pgViewEvent.getCurrentPageIndex() + 1;
          if (nextPageIndex < this.pgViewEvent.getPages().length) {
            this.pgViewEvent.scrollToPage(nextPageIndex);
          }
        };
        return UIPanelChangeDealer;
      }(UIBase), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "pgViewEvent", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "btnPrevEvent", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "btnNextEvent", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIPanelChangeTitle.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, cclegacy, _decorator, ScrollView, Button, UIBase;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      ScrollView = module.ScrollView;
      Button = module.Button;
    }, function (module) {
      UIBase = module.UIBase;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _class, _class2, _descriptor, _descriptor2;
      cclegacy._RF.push({}, "3db99kJ6TdLK7BP58+1nzEl", "UIPanelChangeTitle", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property,
        type = _decorator.type;
      var UIPanelChangeTitle = exports('UIPanelChangeTitle', (_dec = ccclass('UIPanelChangeTitle'), _dec2 = type(ScrollView), _dec3 = type(Button), _dec(_class = (_class2 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UIPanelChangeTitle, _UIBase);
        function UIPanelChangeTitle() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "scrViewListTable", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnScrowDown", _descriptor2, _assertThisInitialized(_this));
          return _this;
        }
        var _proto = UIPanelChangeTitle.prototype;
        _proto._onStart = function _onStart() {
          this._addClicker(this.btnScrowDown, this.scrDown, this);
        };
        _proto.scrDown = function scrDown() {
          this.scrollDown(this.scrViewListTable, 20);
        };
        return UIPanelChangeTitle;
      }(UIBase), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "scrViewListTable", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "btnScrowDown", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIPanelHistory.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, cclegacy, _decorator, PageView, Button, UIBase;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      PageView = module.PageView;
      Button = module.Button;
    }, function (module) {
      UIBase = module.UIBase;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _class, _class2, _descriptor, _descriptor2, _descriptor3;
      cclegacy._RF.push({}, "cd920f9nShLy6PtbI8GnRbi", "UIPanelHistory", undefined);
      var ccclass = _decorator.ccclass,
        type = _decorator.type;
      var UIPanelHistory = exports('UIPanelHistory', (_dec = ccclass('UIPanelHistory'), _dec2 = type(PageView), _dec3 = type(Button), _dec4 = type(Button), _dec(_class = (_class2 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UIPanelHistory, _UIBase);
        function UIPanelHistory() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "pgViewEvent", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnPrevEvent", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnNextEvent", _descriptor3, _assertThisInitialized(_this));
          _this.currentPgViewIndex = 1;
          return _this;
        }
        var _proto = UIPanelHistory.prototype;
        _proto._onStart = function _onStart() {
          this._addClicker(this.btnPrevEvent, this.prevEventPage, this);
          this._addClicker(this.btnNextEvent, this.nextEventPage, this);
        };
        _proto.onEnable = function onEnable() {
          this.pgViewEvent.setCurrentPageIndex(10);
        };
        _proto.update = function update() {
          if (this.currentPgViewIndex != this.pgViewEvent.getCurrentPageIndex()) {
            this.currentPgViewIndex = this.pgViewEvent.getCurrentPageIndex();
            this.btnPrevEvent.interactable = this.currentPgViewIndex > 0;
            this.btnNextEvent.interactable = this.currentPgViewIndex < this.pgViewEvent.getPages().length - 1;
            // this.pgViewEvent.getPages()[this.currentPgViewIndex].getComponent(Toggle).isChecked = true;
            for (var index = 0; index < this.pgViewEvent.getPages().length; index++) {
              var element = this.pgViewEvent.getPages()[index];
            }
          }
        };
        _proto.prevEventPage = function prevEventPage() {
          var prevPageIndex = this.pgViewEvent.getCurrentPageIndex() - 1;
          if (prevPageIndex >= 0) {
            this.pgViewEvent.scrollToPage(prevPageIndex);
          }
        };
        _proto.nextEventPage = function nextEventPage() {
          var nextPageIndex = this.pgViewEvent.getCurrentPageIndex() + 1;
          if (nextPageIndex < this.pgViewEvent.getPages().length) {
            this.pgViewEvent.scrollToPage(nextPageIndex);
          }
        };
        return UIPanelHistory;
      }(UIBase), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "pgViewEvent", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "btnPrevEvent", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "btnNextEvent", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIPanelMineTournMTT.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, cclegacy, _decorator, Node, Button, Prefab, PageView, instantiate, UIBase;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Node = module.Node;
      Button = module.Button;
      Prefab = module.Prefab;
      PageView = module.PageView;
      instantiate = module.instantiate;
    }, function (module) {
      UIBase = module.UIBase;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5;
      cclegacy._RF.push({}, "5921dOs9gNOU5zaR3gHzTXr", "UIPanelMineTournMTT", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property,
        type = _decorator.type;
      var UIPanelMineTournMTT = exports('UIPanelMineTournMTT', (_dec = ccclass('UIPanelMineTournMTT'), _dec2 = property({
        group: {
          name: 'Center',
          id: 'Common'
        }
      }), _dec3 = type(Node), _dec4 = property({
        group: {
          name: 'Center',
          id: 'Common'
        }
      }), _dec5 = type(Button), _dec6 = property({
        group: {
          name: 'Center',
          id: 'Common'
        }
      }), _dec7 = type(Button), _dec8 = property(Prefab), _dec9 = property(PageView), _dec(_class = (_class2 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UIPanelMineTournMTT, _UIBase);
        function UIPanelMineTournMTT() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "rootPage", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnNextPage", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnPrevPage", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "itemMineTournPrefab", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "pageViewList", _descriptor5, _assertThisInitialized(_this));
          _this.currentNumberPage = 0;
          _this.currentPgViewListRoomIndex = 0;
          return _this;
        }
        var _proto = UIPanelMineTournMTT.prototype;
        _proto.onEnable = function onEnable() {
          this.refreshListRoom();
        };
        _proto._onStart = function _onStart() {
          this._addClicker(this.btnNextPage, this.nextPage, this);
          this._addClicker(this.btnPrevPage, this.prevPage, this);
        };
        _proto.update = function update() {
          this.currentPgViewListRoomIndex = this.pageViewList.getCurrentPageIndex();
          // this.btnPrevPage.interactable = (this.currentPgViewListRoomIndex > 0);
          this.btnNextPage.interactable = this.currentPgViewListRoomIndex < this.pageViewList.getPages().length - 1;
        };
        _proto.init = function init() {};
        _proto.prevPage = function prevPage() {
          var prevPageIndex = this.pageViewList.getCurrentPageIndex() - 1;
          if (prevPageIndex >= 0) {
            this.pageViewList.scrollToPage(prevPageIndex);
          }
        };
        _proto.nextPage = function nextPage() {
          var nextPageIndex = this.pageViewList.getCurrentPageIndex() + 1;
          if (nextPageIndex < this.pageViewList.getPages().length) {
            this.pageViewList.scrollToPage(nextPageIndex);
          }
        };
        _proto.refreshListRoom = function refreshListRoom() {
          // this.pgViewListRoom.removeAllPages();

          for (var i = 0; i < this.currentNumberPage; i++) {
            var element = this.rootPage.children[i];
            if (element) {
              this.pageViewList.addPage(element);
            } else {
              var pagePrefab = instantiate(this.itemMineTournPrefab);
              this.rootPage.addChild(pagePrefab);
              this.pageViewList.addPage(pagePrefab);
            }
          }
          this.pageViewList.scrollToPage(0);
        };
        return UIPanelMineTournMTT;
      }(UIBase), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "rootPage", [_dec2, _dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "btnNextPage", [_dec4, _dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "btnPrevPage", [_dec6, _dec7], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "itemMineTournPrefab", [_dec8], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "pageViewList", [_dec9], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIPlayer.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIGameInfo.ts', './UIPlayerInfor.ts', './NodeUtils.ts', './AsyncUtils.ts', './LinkListToggle.ts', './Constants.ts', './ComponentUtils.ts', './Enums.ts', './Decorators.ts', './GlobalConfig.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _createClass, cclegacy, _decorator, v3, CCInteger, tween, Component, UIGameInfo, UIPlayerInfor, pNodeUtils, pAsyncUtils, NSLinkListToggle, CCGroup, pComponentUtils, ENumberPlayerCount, EStatusPlayer, pDecorators, GlobalConfig;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _createClass = module.createClass;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      v3 = module.v3;
      CCInteger = module.CCInteger;
      tween = module.tween;
      Component = module.Component;
    }, function (module) {
      UIGameInfo = module.UIGameInfo;
    }, function (module) {
      UIPlayerInfor = module.UIPlayerInfor;
    }, function (module) {
      pNodeUtils = module.pNodeUtils;
    }, function (module) {
      pAsyncUtils = module.pAsyncUtils;
    }, function (module) {
      NSLinkListToggle = module.NSLinkListToggle;
    }, function (module) {
      CCGroup = module.CCGroup;
    }, function (module) {
      pComponentUtils = module.pComponentUtils;
    }, function (module) {
      ENumberPlayerCount = module.ENumberPlayerCount;
      EStatusPlayer = module.EStatusPlayer;
    }, function (module) {
      pDecorators = module.pDecorators;
    }, function (module) {
      GlobalConfig = module.default;
    }],
    execute: function () {
      var _SCALER2, _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4;
      cclegacy._RF.push({}, "089d4PiDUFON5aTGObuxJrg", "UIPlayer", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var logger = pDecorators.logger;
      var _typeLinkListToggle = ['invite', 'sit', 'ui'];
      var info_group = {
        id: 'Infor',
        name: "Infor"
      };
      var _SCALER = (_SCALER2 = {}, _SCALER2[ENumberPlayerCount.NONE_PLAYERS] = undefined, _SCALER2[ENumberPlayerCount.FIVE_PLAYERS] = v3(1, 1, 1), _SCALER2[ENumberPlayerCount.NINE_PLAYERS] = v3(0.85, 0.85, 0.85), _SCALER2);
      _SCALER[0] = _SCALER[5];
      var _DIFF = 0.05;
      function _getDiffScaler(length, isMain) {
        var _target = _SCALER[length] ? _SCALER[length] : _SCALER[5];
        return isMain ? _target.clone().add(v3(_DIFF, _DIFF, _DIFF)) : _target.clone();
      }
      var UIPlayer = exports('UIPlayer', (_dec = ccclass("UIPlayer"), _dec2 = logger('UIPlayer'), _dec3 = property({
        type: UIGameInfo,
        group: info_group
      }), _dec4 = property({
        type: UIGameInfo,
        group: info_group
      }), _dec5 = property({
        type: UIPlayerInfor,
        group: info_group
      }), _dec6 = property({
        type: UIPlayerInfor,
        group: info_group
      }), _dec7 = property({
        type: CCInteger,
        min: 0,
        group: info_group
      }), _dec8 = property({
        type: CCInteger,
        min: 0,
        group: info_group
      }), _dec9 = property({
        type: NSLinkListToggle.Component,
        group: info_group
      }), _dec10 = property({
        group: CCGroup.editor,
        visible: true,
        displayName: "Create LinkListToggle"
      }), _dec(_class = _dec2(_class = (_class2 = /*#__PURE__*/function (_Component) {
        _inheritsLoose(UIPlayer, _Component);
        function UIPlayer() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _Component.call.apply(_Component, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "_uiGameInfo", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "_uiPlayerInfo", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "_slot", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "toggler", _descriptor4, _assertThisInitialized(_this));
          _this._data = null;
          _this._twRotate = null;
          _this._state = EStatusPlayer.WATCH;
          _this._status = 'hide';
          _this._dataCreator = null;
          return _this;
        }
        var _proto = UIPlayer.prototype;
        _proto.showBackCardPlayer = function showBackCardPlayer() {
          this.uiGameInfo.showBackHandCard();
        };
        _proto.isEmptySit = function isEmptySit() {
          return !this.data || !this.data.valid;
        };
        _proto.stopRotate = function stopRotate() {
          var _this$_twRotate;
          (_this$_twRotate = this._twRotate) == null || _this$_twRotate.stop();
        };
        _proto.actRotate = function actRotate(_duration, _position, _length) {
          var _this$_twRotate2;
          (_this$_twRotate2 = this._twRotate) == null || _this$_twRotate2.stop();
          var position = pNodeUtils.getLocalPosition(this, _position);
          var scale = _getDiffScaler(_length, this.isMain);
          this._twRotate = tween(this.node).to(_duration, {
            position: position,
            scale: scale
          }, {
            easing: 'sineIn'
          }).start();
          return pAsyncUtils.wait(_duration);
        };
        _proto.setTxtStatus = function setTxtStatus(type, force) {
          if (force === void 0) {
            force = false;
          }
          if (!force && type != this.status) {
            switch (this.status) {
              case 'waiting':
              case 'fold':
              case 'allin':
                return;
            }
          }
          this.status = type;
          this.uiGameInfo.status.setTxtStatus(type);
          this._onChangeStatus(type);
        };
        _proto.init = function init(player, mode, isMainSitDown) {
          this._dataCreator && (this._data = this._dataCreator(player, mode));
          this._onInit(player, isMainSitDown, mode);
        };
        _createClass(UIPlayer, [{
          key: "uiGameInfo",
          get: function get() {
            var _this$_uiGameInfo;
            return (_this$_uiGameInfo = this._uiGameInfo) != null ? _this$_uiGameInfo : this._uiGameInfo = this.getComponentInChildren(UIGameInfo);
          },
          set: function set(v) {
            this._uiGameInfo = v;
          }
        }, {
          key: "uiPlayerInfo",
          get: function get() {
            var _this$_uiPlayerInfo;
            return (_this$_uiPlayerInfo = this._uiPlayerInfo) != null ? _this$_uiPlayerInfo : this._uiPlayerInfo = this.getComponentInChildren(UIPlayerInfor);
          },
          set: function set(v) {
            this._uiPlayerInfo = v;
          }
        }, {
          key: "indexSlot",
          get: function get() {
            return this._slot;
          }
        }, {
          key: "_create_llt",
          get: function get() {
            return false;
          },
          set: function set(x) {
            var _this2 = this;
            if (!x) return;
            this.toggler = pComponentUtils.getSafeComponent(this, NSLinkListToggle.Component);
            this.toggler.resetup(_typeLinkListToggle);
            pNodeUtils.getChildrenByName(this, {
              _name: 'btn_invite_player',
              _out: function _out(child) {
                return _this2.toggler.list[0].nodes[0] = child;
              }
            }, {
              _name: 'btn_choose_slot',
              _out: function _out(child) {
                return _this2.toggler.list[1].nodes[0] = child;
              }
            }, {
              _name: 'ui_game',
              _out: function _out(child) {
                return _this2.toggler.list[2].nodes[0] = child;
              }
            });
          }
        }, {
          key: "data",
          get: function get() {
            return this._data;
          }
        }, {
          key: "isEmpty",
          get: function get() {
            return !this.data || !this.data.valid;
          }
        }, {
          key: "isMain",
          get: function get() {
            if (this.isEmpty) return false;
            return GlobalConfig.instance.isMainPlayer(this.data);
          }
        }, {
          key: "state",
          get: function get() {
            return this._state;
          },
          set: function set(state) {
            this._state = state;
          }
        }, {
          key: "status",
          get: function get() {
            return this._status;
          },
          set: function set(status) {
            this._status = status;
            switch (status) {
              case 'waiting':
                {
                  this.state = EStatusPlayer.WAITING;
                  break;
                }
              case 'call':
              case 'bet':
              case 'check':
              case 'allin':
              case 'fold':
              case 'raise':
                {
                  this.state = EStatusPlayer.JOIN_GAME;
                  break;
                }
            }
          }
        }]);
        return UIPlayer;
      }(Component), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "_uiGameInfo", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _applyDecoratedDescriptor(_class2.prototype, "uiGameInfo", [_dec4], Object.getOwnPropertyDescriptor(_class2.prototype, "uiGameInfo"), _class2.prototype), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "_uiPlayerInfo", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _applyDecoratedDescriptor(_class2.prototype, "uiPlayerInfo", [_dec6], Object.getOwnPropertyDescriptor(_class2.prototype, "uiPlayerInfo"), _class2.prototype), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "_slot", [_dec7], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return 0;
        }
      }), _applyDecoratedDescriptor(_class2.prototype, "indexSlot", [_dec8], Object.getOwnPropertyDescriptor(_class2.prototype, "indexSlot"), _class2.prototype), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "toggler", [_dec9], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _applyDecoratedDescriptor(_class2.prototype, "_create_llt", [_dec10], Object.getOwnPropertyDescriptor(_class2.prototype, "_create_llt"), _class2.prototype)), _class2)) || _class) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIPlayerBalanceUpdater.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './GlobalConfig.ts', './StringUtils.ts', './Enums.ts', './RunningNumber.ts', './Constants.ts', './EventManager.ts'], function (exports) {
  var _inheritsLoose, _createClass, _applyDecoratedDescriptor, _assertThisInitialized, _initializerDefineProperty, cclegacy, _decorator, CCInteger, Enum, GlobalConfig, pStringUtils, EPlayerBalance, NSRunningNumberFX, CCGroupPropertyID, pEventManager;
  return {
    setters: [function (module) {
      _inheritsLoose = module.inheritsLoose;
      _createClass = module.createClass;
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _assertThisInitialized = module.assertThisInitialized;
      _initializerDefineProperty = module.initializerDefineProperty;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      CCInteger = module.CCInteger;
      Enum = module.Enum;
    }, function (module) {
      GlobalConfig = module.default;
    }, function (module) {
      pStringUtils = module.pStringUtils;
    }, function (module) {
      EPlayerBalance = module.EPlayerBalance;
    }, function (module) {
      NSRunningNumberFX = module.NSRunningNumberFX;
    }, function (module) {
      CCGroupPropertyID = module.CCGroupPropertyID;
    }, function (module) {
      pEventManager = module.pEventManager;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4;
      cclegacy._RF.push({}, "5c4bajhGiNCn65bV+K85vrU", "UIPlayerBalanceUpdater", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var group = NSRunningNumberFX.group;
      var UIPlayerBalancerUpdater = exports('UIPlayerBalancerUpdater', (_dec = ccclass('UIPlayerBalancerUpdater'), _dec2 = property({
        type: CCInteger,
        override: true,
        visible: false
      }), _dec3 = property({
        type: CCInteger,
        override: true,
        visible: function visible() {
          return this.balance === EPlayerBalance.none;
        }
      }), _dec4 = property({
        type: CCInteger,
        displayName: 'From',
        group: {
          id: group.id,
          name: group.name,
          displayOrder: 1
        }
      }), _dec5 = property({
        type: Enum(EPlayerBalance),
        group: {
          id: CCGroupPropertyID.CENTER,
          name: "Data"
        }
      }), _dec6 = property({
        group: {
          id: CCGroupPropertyID.CENTER,
          name: "Data"
        }
      }), _dec(_class = (_class2 = /*#__PURE__*/function (_NSRunningNumberFX$FX) {
        _inheritsLoose(UIPlayerBalancerUpdater, _NSRunningNumberFX$FX);
        function UIPlayerBalancerUpdater() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _NSRunningNumberFX$FX.call.apply(_NSRunningNumberFX$FX, [this].concat(args)) || this;
          _this._events = [['onUpdateNewBalance', _this.invoker, _assertThisInitialized(_this)], ['onRefetchUserData', _this._invoker, _assertThisInitialized(_this)]];
          _initializerDefineProperty(_this, "from", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "to", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "balance", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "refetchPlayerInfo", _descriptor4, _assertThisInitialized(_this));
          return _this;
        }
        var _proto = UIPlayerBalancerUpdater.prototype;
        _proto._init = function _init() {
          _NSRunningNumberFX$FX.prototype._init.call(this);
          pEventManager.on(this._events);
        };
        _proto.onDestroy = function onDestroy() {
          _NSRunningNumberFX$FX.prototype.onDestroy.call(this);
          pEventManager.off(this._events);
        };
        _proto.invoker = function invoker(target, anim) {
          anim && target == undefined ? this._invoker() : this.target.string = pStringUtils.formatMoneyWithDot(target);
        };
        _proto._invoker = function _invoker() {
          var instance = GlobalConfig.instance;
          if (!instance.Login.isLogged) {
            return;
          }

          //this.refetchPlayerInfo && instance.refetchUserData();

          var to = instance.Login.player.information[EPlayerBalance[this.balance]] || this.to;
          this.show({
            to: to
          });
        };
        _proto._onUpdate = function _onUpdate(target, ratio) {
          this.current = Math.abs(target.from * ratio);
        };
        _createClass(UIPlayerBalancerUpdater, [{
          key: "current",
          get: function get() {
            return this.from;
          },
          set: function set(v) {
            this.from = v;
            this.target.string = pStringUtils.formatMoneyWithDot(v);
          }
        }]);
        return UIPlayerBalancerUpdater;
      }(NSRunningNumberFX.FXComponent), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "from", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return 0;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "to", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return 0;
        }
      }), _applyDecoratedDescriptor(_class2.prototype, "current", [_dec4], Object.getOwnPropertyDescriptor(_class2.prototype, "current"), _class2.prototype), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "balance", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return EPlayerBalance.balance;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "refetchPlayerInfo", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return true;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIPlayerInfor.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './NodeUtils.ts', './ComponentUtils.ts', './StringUtils.ts', './Decorators.ts', './AssetManager.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _createForOfIteratorHelperLoose, _createClass, cclegacy, _decorator, Sprite, Material, Label, Button, Node, Color, UIOpacity, tween, Component, color, pNodeUtils, pComponentUtils, pStringUtils, pDecorators, NSAsset;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _createForOfIteratorHelperLoose = module.createForOfIteratorHelperLoose;
      _createClass = module.createClass;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Sprite = module.Sprite;
      Material = module.Material;
      Label = module.Label;
      Button = module.Button;
      Node = module.Node;
      Color = module.Color;
      UIOpacity = module.UIOpacity;
      tween = module.tween;
      Component = module.Component;
      color = module.color;
    }, function (module) {
      pNodeUtils = module.pNodeUtils;
    }, function (module) {
      pComponentUtils = module.pComponentUtils;
    }, function (module) {
      pStringUtils = module.pStringUtils;
    }, function (module) {
      pDecorators = module.pDecorators;
    }, function (module) {
      NSAsset = module.NSAsset;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9;
      cclegacy._RF.push({}, "0d136T5USxD44VYya48RD0y", "UIPlayerInfor", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var avatar_group = {
        id: '1',
        name: "Avatar"
      };
      var btn_group = {
        id: '2',
        name: "Action"
      };
      var UIPlayerInfor = exports('UIPlayerInfor', (_dec = ccclass('UIPlayerInfor'), _dec2 = property({
        type: Sprite,
        group: avatar_group
      }), _dec3 = property({
        type: Sprite,
        group: avatar_group
      }), _dec4 = property({
        type: Material
      }), _dec5 = property({
        type: Label,
        group: avatar_group
      }), _dec6 = property({
        type: Label,
        group: avatar_group
      }), _dec7 = property({
        type: Button,
        group: btn_group
      }), _dec8 = property(Node), _dec9 = property({
        type: [Sprite]
      }), _dec10 = property(Color), _dec(_class = (_class2 = /*#__PURE__*/function (_Component) {
        _inheritsLoose(UIPlayerInfor, _Component);
        function UIPlayerInfor() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _Component.call.apply(_Component, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "sprAvatar", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "sprFrameAvatar", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "matSkipping", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "txtName", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "txtChip", _descriptor5, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnChest", _descriptor6, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "vipLabelNode", _descriptor7, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "darks", _descriptor8, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "dark", _descriptor9, _assertThisInitialized(_this));
          _this._opx = null;
          _this._tween = null;
          return _this;
        }
        var _proto = UIPlayerInfor.prototype;
        _proto.setAvatar = function setAvatar(spf) {
          this.sprAvatar && (this.sprAvatar.spriteFrame = spf);
        };
        _proto.onLoad = function onLoad() {
          this._opx = pComponentUtils.getSafeComponent(this, UIOpacity);
        };
        _proto.init = function init(player) {
          var _this2 = this;
          var chips = player.chips,
            username = player.username,
            avatar = player.avatar,
            vippoint = player.vippoint;
          !!username && (this.txtName.string = username);
          avatar && avatar != '' && pDecorators.instance(NSAsset.Manager).get(avatar).then(function (_spr) {
            _this2.sprAvatar.spriteFrame = _spr;
          });
          this.txtChip.string = pStringUtils.formatNumberKMB(Math.max(chips, 0));
          this.vipLabelNode.active = Number(vippoint) > 0;
          console.log("UIPlayerInfor.init", player);
        };
        _proto.setSkippingView = function setSkippingView(status) {
          this.sprAvatar.customMaterial = status ? this.matSkipping : null;
          this.sprFrameAvatar.customMaterial = status ? this.matSkipping : null;
        };
        _proto.updatePosition = function updatePosition(gift) {
          var _this$_tween,
            _this3 = this;
          (_this$_tween = this._tween) == null || _this$_tween.stop();
          var action = function action() {
            return pNodeUtils.setPosition(_this3.btnChest, gift);
          };
          this._tween = tween(this._opx).to(0.15, {
            opacity: 0
          }).call(action).to(0.15, {
            opacity: 255
          }).start();
        };
        _proto.showDark = function showDark(status) {
          //this.darks.forEach( dark => dark.color = status ? this.dark : Color.WHITE );
        };
        _proto.reset = function reset() {
          for (var _iterator = _createForOfIteratorHelperLoose(this.darks), _step; !(_step = _iterator()).done;) {
            var ret = _step.value;
            ret.color = Color.WHITE;
          }
        };
        _proto._onPreDestroy = function _onPreDestroy() {
          try {
            _Component.prototype._onPreDestroy.call(this);
          } catch (error) {}
        };
        _createClass(UIPlayerInfor, [{
          key: "btnChestNode",
          get: function get() {
            var _this$btnChest;
            return ((_this$btnChest = this.btnChest) == null ? void 0 : _this$btnChest.node) || null;
          }
        }, {
          key: "active",
          set: function set(status) {
            this.node.active = status;
          }
        }]);
        return UIPlayerInfor;
      }(Component), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "sprAvatar", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "sprFrameAvatar", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "matSkipping", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "txtName", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "txtChip", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, "btnChest", [_dec7], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor7 = _applyDecoratedDescriptor(_class2.prototype, "vipLabelNode", [_dec8], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor8 = _applyDecoratedDescriptor(_class2.prototype, "darks", [_dec9], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return [];
        }
      }), _descriptor9 = _applyDecoratedDescriptor(_class2.prototype, "dark", [_dec10], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return color(115, 115, 115, 255);
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIPlayerStatus.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './Constants.ts', './LanguageManager.ts', './NodeUtils.ts', './ComponentUtils.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _createClass, cclegacy, _decorator, Label, Node, sp, Color, v3, UIOpacity, tween, instantiate, Component, CCGroup, Duration, LanguageMananger, pNodeUtils, pComponentUtils;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _createClass = module.createClass;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Label = module.Label;
      Node = module.Node;
      sp = module.sp;
      Color = module.Color;
      v3 = module.v3;
      UIOpacity = module.UIOpacity;
      tween = module.tween;
      instantiate = module.instantiate;
      Component = module.Component;
    }, function (module) {
      CCGroup = module.CCGroup;
      Duration = module.Duration;
    }, function (module) {
      LanguageMananger = module.LanguageMananger;
    }, function (module) {
      pNodeUtils = module.pNodeUtils;
    }, function (module) {
      pComponentUtils = module.pComponentUtils;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _dec11, _dec12, _dec13, _dec14, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9, _descriptor10, _descriptor11, _descriptor12;
      cclegacy._RF.push({}, "6146fjoScpDooBWXfXJb84+", "UIPlayerStatus", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var status_group = {
        id: '0',
        name: 'Status'
      };
      var exp_group = {
        id: '0',
        name: 'Exp'
      };
      var UIPlayerStatus = exports('UIPlayerStatus', (_dec = ccclass('UIPlayerStatus'), _dec2 = property({
        type: Label,
        group: status_group
      }), _dec3 = property({
        type: Node,
        group: status_group
      }), _dec4 = property({
        type: sp.Skeleton,
        group: status_group
      }), _dec5 = property({
        type: Node,
        group: status_group
      }), _dec6 = property({
        type: Node,
        group: status_group
      }), _dec7 = property({
        type: Node,
        group: status_group
      }), _dec8 = property({
        type: Node,
        group: status_group
      }), _dec9 = property({
        type: Node,
        group: exp_group
      }), _dec10 = property({
        type: Label,
        group: exp_group
      }), _dec11 = property({
        type: Color,
        group: exp_group
      }), _dec12 = property({
        type: Color,
        group: exp_group
      }), _dec13 = property({
        min: 0,
        group: exp_group
      }), _dec14 = property({
        group: CCGroup.editor
      }), _dec(_class = (_class2 = /*#__PURE__*/function (_Component) {
        _inheritsLoose(UIPlayerStatus, _Component);
        function UIPlayerStatus() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _Component.call.apply(_Component, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "lblStatus", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "nodeDealer", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "animWinner", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "nodeMyTurn", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "nodeWinner", _descriptor5, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "nodeMainWinner", _descriptor6, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "nodeOtherWinner", _descriptor7, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "rootExpView", _descriptor8, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lblExpView", _descriptor9, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "expWinCollor", _descriptor10, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "expLoseCollor", _descriptor11, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "showExpDuration", _descriptor12, _assertThisInitialized(_this));
          _this._expTweens = [];
          _this._posRootExp = v3(0, 0, 0);
          _this._mpx = v3(0, 0, 0);
          _this._spx = v3(0, 0, 0);
          _this._tween = [];
          _this._opxt = [];
          _this._reset = null;
          _this._pools = [];
          _this._isWinning = false;
          return _this;
        }
        var _proto = UIPlayerStatus.prototype;
        _proto.gainExp = function gainExp(amount) {
          if (amount == 0) return;
          this._expTweens.forEach(function (_tween) {
            return _tween == null ? void 0 : _tween.stop();
          });
          this._expTweens = [];
          var _ref = amount > 0 ? [this.expWinCollor.clone(), "+", 35] : [this.expLoseCollor, "", -25],
            _color = _ref[0],
            _dot = _ref[1],
            _vary = _ref[2];
          this.rootExpView.active = true;
          this.rootExpView.setPosition(this._posRootExp);
          var _uiopx = pComponentUtils.getSafeComponent(this.rootExpView, UIOpacity);
          _uiopx.opacity = 255;
          this.lblExpView.color = _color;
          this.lblExpView.string = "" + _dot + amount + " EXP";
          var position = this._posRootExp.clone().add3f(0, _vary, 0);
          var _move = tween(this.rootExpView).to(this.showExpDuration, {
            position: position
          }).start();
          var _opx = tween(_uiopx).delay(this.showExpDuration / 2).to(this.showExpDuration / 2, {
            opacity: 0
          }).start();
          this._expTweens.push(_move, _opx);
        };
        _proto.onLoad = function onLoad() {
          this.nodeWinner.active = true;
          this._mpx = this.nodeMainWinner.position.clone();
          this._spx = this.nodeOtherWinner.position.clone();
          this._posRootExp = this.rootExpView.position.clone();
        };
        _proto.activeWinner = function activeWinner(_status, _isMain, data) {
          if (data === void 0) {
            data = Duration.winner.status;
          }
          this.animWinner.node.active = _status;
          if (_status) {
            var root = _isMain ? this.nodeMainWinner : this.nodeOtherWinner;
            var target = instantiate(root);
            this._pools.push(target);
            var opx = pComponentUtils.getSafeComponent(target, UIOpacity);
            root.parent.addChild(target);
            target.active = true;
            this._reset = function () {
              return target == null ? void 0 : target.removeFromParent();
            };
            var _data = data,
              scaler = _data.scaler,
              delay = _data.delay,
              fadeOut = _data.fadeOut;
            if (scaler == 0) {
              target.scale = v3(1, 1, 1);
              target.position.add3f(0, 75, 0);
              opx.opacity = 255;
              return;
            }
            var _tween = tween(target).by(scaler, {
              scale: v3(1, 1, 1),
              position: v3(0, 75, 0)
            }, {
              easing: 'backOut'
            }).start();
            var _opxt = tween(opx).delay(delay).to(fadeOut, {
              opacity: 0
            })
            //.call( this._reset )
            .start();
            this._tween.push(_tween);
            this._opxt.push(_opxt);
          }
        };
        _proto.reset = function reset() {
          this._tween.forEach(function (_tween) {
            return _tween == null ? void 0 : _tween.stop();
          });
          this._opxt.forEach(function (_opxt) {
            return _opxt == null ? void 0 : _opxt.stop();
          });
          this._tween = [];
          this._opxt = [];
          try {
            this._pools.forEach(function (_node) {
              return !!_node && _node.isValid && _node.destroy();
            });
          } catch (error) {}
          this._reset && this._reset();
        };
        _proto.activeIsDealer = function activeIsDealer(status) {
          this.nodeDealer.active = status;
        };
        _proto.setTxtStatus = function setTxtStatus(type) {
          var instance = LanguageMananger.instance;
          this.lblStatus.node.active = type != 'hide';
          switch (type) {
            case "fold":
              this.lblStatus.string = instance.getString('txt_btn_skip_card');
              break;
            case "waiting":
              this.lblStatus.string = instance.getString('txt_waiting');
              break;
            case "call":
              this.lblStatus.string = instance.getString('txt_btn_call_bet');
              break;
            case "bet":
              this.lblStatus.string = instance.getString('txt_btn_raise_bet');
              break;
            case "check":
              this.lblStatus.string = instance.getString('txt_btn_check');
              break;
            case "allin":
              this.lblStatus.string = instance.getString('txt_btn_all_in');
              break;
            case "raise":
              this.lblStatus.string = instance.getString('txt_btn_raise_bet');
              break;
            case "hide":
              this.lblStatus.string = '';
              break;
          }
        };
        _proto.setActive = function setActive(active, isMain) {
          this.setTxtStatus('hide');
          this.activeIsDealer(active);
          this.activeWinner(active, isMain);
        };
        _proto.updatePosition = function updatePosition(dealer) {
          pNodeUtils.setPosition(this.nodeDealer, dealer);
        };
        _createClass(UIPlayerStatus, [{
          key: "fetch",
          get: function get() {
            return false;
          },
          set: function set(v) {
            if (!v) return;
            this.lblStatus = this.node.getChildByName('txt_status').getComponent(Label);
            this.nodeDealer = this.node.getChildByName('is_dealer');
            this.nodeMyTurn = this.node.getChildByName('txt_my_turn');
            this.nodeWinner = this.node.getChildByName('node_winner');
            if (!!this.nodeWinner) {
              this.nodeMainWinner = this.nodeWinner.getChildByName('txt_you_win');
              this.nodeOtherWinner = this.nodeWinner.getChildByName('txt_other_win');
              this.animWinner = this.nodeWinner.getChildByName('anim_win').getComponent(sp.Skeleton);
            }
          }
        }]);
        return UIPlayerStatus;
      }(Component), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "lblStatus", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "nodeDealer", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "animWinner", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "nodeMyTurn", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "nodeWinner", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, "nodeMainWinner", [_dec7], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor7 = _applyDecoratedDescriptor(_class2.prototype, "nodeOtherWinner", [_dec8], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor8 = _applyDecoratedDescriptor(_class2.prototype, "rootExpView", [_dec9], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor9 = _applyDecoratedDescriptor(_class2.prototype, "lblExpView", [_dec10], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor10 = _applyDecoratedDescriptor(_class2.prototype, "expWinCollor", [_dec11], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return new Color(255, 252, 73, 255);
        }
      }), _descriptor11 = _applyDecoratedDescriptor(_class2.prototype, "expLoseCollor", [_dec12], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return new Color(255, 70, 70, 255);
        }
      }), _descriptor12 = _applyDecoratedDescriptor(_class2.prototype, "showExpDuration", [_dec13], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return 0.5;
        }
      }), _applyDecoratedDescriptor(_class2.prototype, "fetch", [_dec14], Object.getOwnPropertyDescriptor(_class2.prototype, "fetch"), _class2.prototype)), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIPlayingScene.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts', './Enums.ts', './UIController.ts', './LanguageManager.ts', './ResponeCode.ts', './GlobalConfig.ts', './UIProfilePlayerIngame.ts', './StringUtils.ts', './UIPTPopupCreateSuccesAlert.ts', './PlayingController.ts', './UIChestReward.ts', './MainScreenController.ts', './EventManager.ts', './UIPopupMoreBet.ts', './UIPTPopupInfoTable.ts', './UIPopupBuyChip.ts', './Decorators.ts', './UINotice.ts', './UIPopupSettingInGame.ts', './UIGamePlay.ts', './UIStandUpRegister.ts', './UIGameAction.ts', './UIAutoPlayer.ts', './UIFlexTable.ts', './UIKickPlayer.ts', './GameManager.ts', './AsyncUtils.ts', './NotifyToast.ts', './DBStorage.ts', './TableCommand.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _createForOfIteratorHelperLoose, _createClass, _asyncToGenerator, _regeneratorRuntime, _extends, cclegacy, EventTarget, _decorator, Button, Animation, Label, randomRangeInt, UIBase, ETypeModePlay, UIType, EStatusGame, EStatusPlayer, EShopType, UIController, LanguageMananger, ResponseCode, GlobalConfig, UIProfilePlayerIngame, pStringUtils, UIPTPopupCreateSuccesAlert, PlayingController, UIChestReward, MainScreenController, pEventManager, UIPopupMoreBet, UIPTPopupInfoTable, UIPopupBuyChip, pDecorators, UINotice, UIPopupSettingInGame, UIGamePlay, UIStandUpRegister, NSGameAction, NSAutoPlayer, UIFlexTable, UIKickPlayerPopup, GameManager, pAsyncUtils, NotifyToast, DBStorage, request;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _createForOfIteratorHelperLoose = module.createForOfIteratorHelperLoose;
      _createClass = module.createClass;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
      _extends = module.extends;
    }, function (module) {
      cclegacy = module.cclegacy;
      EventTarget = module.EventTarget;
      _decorator = module._decorator;
      Button = module.Button;
      Animation = module.Animation;
      Label = module.Label;
      randomRangeInt = module.randomRangeInt;
    }, function (module) {
      UIBase = module.UIBase;
    }, function (module) {
      ETypeModePlay = module.ETypeModePlay;
      UIType = module.UIType;
      EStatusGame = module.EStatusGame;
      EStatusPlayer = module.EStatusPlayer;
      EShopType = module.EShopType;
    }, function (module) {
      UIController = module.UIController;
    }, function (module) {
      LanguageMananger = module.LanguageMananger;
    }, function (module) {
      ResponseCode = module.ResponseCode;
    }, function (module) {
      GlobalConfig = module.default;
    }, function (module) {
      UIProfilePlayerIngame = module.UIProfilePlayerIngame;
    }, function (module) {
      pStringUtils = module.pStringUtils;
    }, function (module) {
      UIPTPopupCreateSuccesAlert = module.UIPTPopupCreateSuccesAlert;
    }, function (module) {
      PlayingController = module.default;
    }, function (module) {
      UIChestReward = module.UIChestReward;
    }, function (module) {
      MainScreenController = module.MainScreenController;
    }, function (module) {
      pEventManager = module.pEventManager;
    }, function (module) {
      UIPopupMoreBet = module.UIPopupMoreBet;
    }, function (module) {
      UIPTPopupInfoTable = module.UIPTPopupInfoTable;
    }, function (module) {
      UIPopupBuyChip = module.UIPopupBuyChip;
    }, function (module) {
      pDecorators = module.pDecorators;
    }, function (module) {
      UINotice = module.UINotice;
    }, function (module) {
      UIPopupSettingInGame = module.UIPopupSettingInGame;
    }, function (module) {
      UIGamePlay = module.default;
    }, function (module) {
      UIStandUpRegister = module.UIStandUpRegister;
    }, function (module) {
      NSGameAction = module.NSGameAction;
    }, function (module) {
      NSAutoPlayer = module.NSAutoPlayer;
    }, function (module) {
      UIFlexTable = module.UIFlexTable;
    }, function (module) {
      UIKickPlayerPopup = module.UIKickPlayerPopup;
    }, function (module) {
      GameManager = module.GameManager;
    }, function (module) {
      pAsyncUtils = module.pAsyncUtils;
    }, function (module) {
      NotifyToast = module.NotifyToast;
    }, function (module) {
      DBStorage = module.DBStorage;
    }, function (module) {
      request = module.default;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _dec11, _dec12, _dec13, _dec14, _dec15, _dec16, _dec17, _dec18, _dec19, _dec20, _dec21, _dec22, _dec23, _dec24, _dec25, _dec26, _dec27, _dec28, _dec29, _dec30, _dec31, _dec32, _dec33, _dec34, _dec35, _dec36, _dec37, _dec38, _dec39, _dec40, _dec41, _dec42, _dec43, _dec44, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9, _descriptor10, _descriptor11, _descriptor12, _descriptor13, _descriptor14, _descriptor15, _descriptor16, _descriptor17, _descriptor18, _descriptor19, _descriptor20, _descriptor21, _descriptor22, _descriptor23, _descriptor24, _descriptor25, _descriptor26, _descriptor27, _descriptor28, _descriptor29;
      cclegacy._RF.push({}, "e0713HzTPJGuJlHQlD7ymAz", "UIPlayingScene", undefined);
      var eventTarget = exports('eventTarget', new EventTarget());
      var ccclass = _decorator.ccclass,
        property = _decorator.property,
        type = _decorator.type;
      var singleton = pDecorators.singleton;
      var _GroupTopCommon = {
        name: "Top",
        id: "Common"
      };
      var _GroupCenterCommon = {
        name: "Center",
        id: "Common"
      };
      var _GroupBotCommon = {
        name: "Bot",
        id: "Common"
      };
      var _GroupRightCommon = {
        name: "Right",
        id: "Common"
      };
      var _GroupPopup = {
        name: "Popup",
        id: "Popup"
      };
      var _GroupTable = {
        name: 'Table',
        id: 'Info'
      };
      var _GroupMtt = {
        name: 'Mtt',
        id: 'Info'
      };
      var UIPlayingScene = exports('default', (_dec = ccclass('UIPlayingScene'), _dec2 = singleton(), _dec3 = property({
        group: _GroupTopCommon
      }), _dec4 = type(Button), _dec5 = property({
        group: _GroupTopCommon
      }), _dec6 = type(Button), _dec7 = property({
        group: _GroupTopCommon
      }), _dec8 = type(Button), _dec9 = property({
        group: _GroupTopCommon
      }), _dec10 = type(Button), _dec11 = property({
        group: _GroupTopCommon
      }), _dec12 = type(Button), _dec13 = property({
        group: _GroupTopCommon
      }), _dec14 = type(UIChestReward), _dec15 = property({
        group: _GroupTopCommon
      }), _dec16 = type(Button), _dec17 = property({
        group: _GroupCenterCommon
      }), _dec18 = type(UIFlexTable), _dec19 = property({
        group: _GroupBotCommon
      }), _dec20 = type(Button), _dec21 = property({
        group: _GroupBotCommon
      }), _dec22 = type(Button), _dec23 = property({
        group: _GroupBotCommon
      }), _dec24 = type(Button), _dec25 = property({
        type: Animation,
        group: _GroupRightCommon
      }), _dec26 = property({
        type: Button,
        group: _GroupRightCommon
      }), _dec27 = property({
        type: Button,
        group: _GroupRightCommon
      }), _dec28 = property({
        type: Label,
        group: _GroupMtt
      }), _dec29 = property({
        type: Label,
        group: _GroupMtt
      }), _dec30 = property({
        group: _GroupPopup,
        type: UIPopupSettingInGame,
        visible: true
      }), _dec31 = property({
        group: _GroupPopup,
        type: UIPopupBuyChip,
        visible: true
      }), _dec32 = property({
        group: _GroupPopup,
        type: UIProfilePlayerIngame,
        visible: true
      }), _dec33 = property({
        group: _GroupPopup,
        type: UIPTPopupCreateSuccesAlert,
        visible: true
      }), _dec34 = property({
        group: _GroupPopup,
        type: UIPopupMoreBet,
        visible: true
      }), _dec35 = property({
        group: _GroupPopup,
        type: UIPTPopupInfoTable,
        visible: true
      }), _dec36 = property({
        group: _GroupPopup,
        type: UIStandUpRegister,
        visible: true
      }), _dec37 = property({
        group: _GroupPopup,
        type: NSGameAction.Component,
        visible: true
      }), _dec38 = property({
        group: _GroupPopup,
        type: NSAutoPlayer.Component,
        visible: true
      }), _dec39 = property({
        group: _GroupPopup,
        type: UIKickPlayerPopup,
        visible: true
      }), _dec40 = property({
        group: _GroupTable
      }), _dec41 = type(Label), _dec42 = property({
        group: _GroupTable
      }), _dec43 = type(Label), _dec44 = property({
        override: true,
        readonly: true
      }), _dec(_class = _dec2(_class = (_class2 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UIPlayingScene, _UIBase);
        function UIPlayingScene() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "btnSetting", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnBackToMain", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnChangeRoom", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnStandUp", _descriptor4, _assertThisInitialized(_this));
          //@property({ group: _GroupTopCommon })
          //@type(Button) btnBuyChip: Button = null;
          _initializerDefineProperty(_this, "btnInfoTable", _descriptor5, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "uiChestReward", _descriptor6, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnDealer", _descriptor7, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "flexTable", _descriptor8, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnChat", _descriptor9, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnMission", _descriptor10, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnRateCard", _descriptor11, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "notify", _descriptor12, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnSpin", _descriptor13, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnMiniGame", _descriptor14, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbInscreaseBlinds", _descriptor15, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbRewardNumber", _descriptor16, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "_uiPopupSetting", _descriptor17, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "_uiPopupBuyChip", _descriptor18, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "_uiPopupProfilePLayer", _descriptor19, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "_uiPopupCreatTableSuccess", _descriptor20, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "_uiPopupMoreBet", _descriptor21, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "_uiPopupInfoTable", _descriptor22, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "_uiStandUpRegister", _descriptor23, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "_uiGameAction", _descriptor24, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "_uiAutoPlayer", _descriptor25, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "_uiKickPopup", _descriptor26, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbInforBetTable", _descriptor27, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbInforRanking", _descriptor28, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "isDestroyOnClose", _descriptor29, _assertThisInitialized(_this));
          _this.table = null;
          _this._onceEventHandlers = [['onClearTable', _this._onClearTable, _assertThisInitialized(_this)], ['onLeaveTable', _this._onLeaveTable, _assertThisInitialized(_this)], ['onVoteKickPlayer', _this._onVoteKickPlayer, _assertThisInitialized(_this)], ['onKickPlayerNotification', _this._onKickedNotify, _assertThisInitialized(_this)], ['onTableOwnerLeft', _this._onTableOwnerLeft, _assertThisInitialized(_this)], ['onTableDeleted', _this._onTableDeleted, _assertThisInitialized(_this)]];
          _this._eventHandlers = [['onStandUp', _this._onStandUp, _assertThisInitialized(_this)], ['onNewGame', _this._onNewGame, _assertThisInitialized(_this)]
          //['onGameResume', this._onRefocus, this],
          ];

          _this._uiGameActionHandlers = [['onFold', _this._onFold, _assertThisInitialized(_this)], ['onCall', _this._onCall, _assertThisInitialized(_this)], ['onRaise', _this._onRaise, _assertThisInitialized(_this)], ['onCheck', _this._onCheck, _assertThisInitialized(_this)], ['onOpen', _this._onUIGameActionOpen, _assertThisInitialized(_this)]];
          _this._uiAutoPlayerHandlers = [['onOpen', _this._onUIAutoPlayerOpen, _assertThisInitialized(_this)]];
          _this._popupMoreBetHandlers = [['onOpen', _this._onPopupMoreBetOpen, _assertThisInitialized(_this)], ['onClose', _this._onPopupMoreBetClose, _assertThisInitialized(_this)]];
          _this._isPopupMoreBetOpened = false;
          _this._acdmtt = pStringUtils.uuid();
          return _this;
        }
        var _proto = UIPlayingScene.prototype;
        _proto._onLoad = function _onLoad() {
          pEventManager.on(this._onceEventHandlers);
          this._uiPopupMoreBet.on(this._popupMoreBetHandlers);
          this._uiGameAction.on(this._uiGameActionHandlers);
          this._uiAutoPlayer.on(this._uiAutoPlayerHandlers);
          this.notify.node.active = false;
        };
        _proto._onTableDeleted = function _onTableDeleted(data) {
          var _this2 = this;
          var player = data.player;
          if (player.id === GlobalConfig.instance.getUserId()) return;
          UINotice.instance.show('txt_title', 'txt_table_deleted', 'txt_btn_confirm', undefined, undefined, undefined, function () {
            return _this2._actBackToMain();
          });
        };
        _proto._onTableOwnerLeft = function _onTableOwnerLeft(data) {
          var _this3 = this;
          var immediate = data.immediate,
            player = data.player;
          if (player.id === GlobalConfig.instance.getUserId()) return;
          immediate ? UINotice.instance.show('txt_title', 'txt_table_owner_left_immidiate', 'txt_btn_confirm', undefined, undefined, undefined, function () {
            return _this3._actBackToMain();
          }) : NotifyToast.instance.showWithKey('txt_table_owner_left');
        };
        _proto._onDestroy = function _onDestroy() {
          pEventManager.off(this._onceEventHandlers);
          this._uiGameAction.off(this._uiGameActionHandlers);
          this._uiPopupMoreBet.off(this._popupMoreBetHandlers);
          this._uiAutoPlayer.off(this._uiAutoPlayerHandlers);
        };
        _proto.onEnable = /*#__PURE__*/function () {
          var _onEnable = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {
            var _db, auto_buy;
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  pEventManager.on(this._eventHandlers);
                  _db = pDecorators.instance(DBStorage);
                  auto_buy = _db.load('AUTO_BUY_IN', false);
                  this._uiPopupBuyChip.btnAutoBuy.isChecked = auto_buy;
                case 4:
                case "end":
                  return _context.stop();
              }
            }, _callee, this);
          }));
          function onEnable() {
            return _onEnable.apply(this, arguments);
          }
          return onEnable;
        }();
        _proto.onDisable = function onDisable() {
          pEventManager.off(this._eventHandlers);
        };
        _proto._onStart = function _onStart() {
          this._addClicker(this.btnSetting, this._actSetting, this);
          this._addClicker(this.btnChangeRoom, this._actChangeRoom, this);
          this._addClicker(this.btnStandUp, this._actStandUp, this);
          this._addClicker(this.btnInfoTable, this._actShowPopupInfoTable, this);
          this._addClicker(this.btnDealer, this._actShowDealerAction, this);
          this._addClicker(this.btnSpin, this._actOpenSpin, this);
          this._addClicker(this.btnMiniGame, this._actOpenMiniGame, this);
          this._addClicker(this.btnChat, this._actOpenChat, this);
          this._addClicker(this.btnMission, this._actOpenMission, this);
          this._addClicker(this.btnRateCard, this._actOpenRateCard, this);
        };
        _proto._actShowDealerAction = function _actShowDealerAction() {
          switch (this.table.mode) {
            case ETypeModePlay.MTT:
              {
                break;
              }
            case ETypeModePlay.SNG:
              {
                break;
              }
            case ETypeModePlay.PLAY_NOW:
            case ETypeModePlay.YARD:
              {
                UIController.Instance.open(UIType.ACTION_DEALER);
                break;
              }
          }
        };
        _proto._onFold = function _onFold() {
          pDecorators.instance(PlayingController).actionFold();
        };
        _proto._onCall = function _onCall() {
          pDecorators.instance(PlayingController).actionCall();
        };
        _proto._onCheck = function _onCheck() {
          pDecorators.instance(PlayingController).actionCall();
        };
        _proto._onRaise = function _onRaise() {
          if (this._uiGameAction.isAllIn) {
            pDecorators.instance(PlayingController).actionAllin(this._uiPopupMoreBet.max, true);
          } else {
            !this._isPopupMoreBetOpened ? this._uiPopupMoreBet.open() : this._actConfirmRaise();
          }
        };
        _proto._onUIGameActionOpen = function _onUIGameActionOpen() {
          this._uiAutoPlayer.close();
        };
        _proto._onUIAutoPlayerOpen = function _onUIAutoPlayerOpen() {
          this._uiGameAction.close();
        };
        _proto._onPopupMoreBetOpen = function _onPopupMoreBetOpen() {
          this._isPopupMoreBetOpened = true;
        };
        _proto._onPopupMoreBetClose = function _onPopupMoreBetClose() {
          this._isPopupMoreBetOpened = false;
        };
        _proto._actConfirmRaise = function _actConfirmRaise() {
          var instance = PlayingController.instance;
          instance.actionBet(this._uiPopupMoreBet.current);
          this._uiPopupMoreBet.close();
        };
        _proto.create = function create(data) {
          this.table = data;
          this._setupScene(this.table);
          this._setupDisplayTable(this.table);
          this.flexTable.change(data.data.zone);
          this.updateLeavingBtn(false);
        };
        _proto._onStandUp = function _onStandUp() {
          this.updateLeavingBtn(false);
        };
        _proto._onNewGame = function _onNewGame() {
          this.offWinners();
        };
        _proto._onTableEvent = function _onTableEvent(data) {
          var route = data.route,
            msg = data.msg;
          if (route !== 'onTableEvent') return;
          var state = msg.state;
        };
        _proto._onClearTable = function _onClearTable(msg) {
          var route = msg.route;
          if (route !== 'onClearTable') return;
          this.endMatch();
        };
        _proto._onKickedNotify = function _onKickedNotify(data) {
          var _this4 = this;
          var msg = data.msg,
            code = data.code;
          var reason = msg.reason,
            blockDuration = msg.blockDuration;
          if (code !== 1021) return;
          if (blockDuration != undefined) {
            UINotice.instance.show('txt_title', {
              key: 'dynamic_kicked',
              replacers: [{
                find: "@reason",
                replacer: LanguageMananger.getString(reason)
              }, {
                find: "@duration",
                replacer: blockDuration / 1000 + "s"
              }]
            }, 'txt_btn_confirm2', undefined, undefined, undefined, function () {
              return _this4._actBackToMain();
            });
          } else {
            NotifyToast.instance.showWithKey({
              key: 'txt_pre_kick_notify',
              replacers: {
                find: "@reason",
                replacer: LanguageMananger.getString(reason)
              }
            });
          }
        };
        _proto._onVoteKickPlayer = function _onVoteKickPlayer(data) {
          this.log("_onVoteKickPlayer", data);
          var msg = data.msg;
          var type = msg.type;
          if (type === 'request') {
            //const _ui = UIController.Instance.openUI<UIKickPlayerPopup>(UIType.KICK_PLAYER);
            this._uiKickPopup.init(msg);
          }
        };
        _proto._onLeaveTable = function _onLeaveTable() {
          this.endMatch();
          this.unscheduleAllCallbacks();
        };
        _proto._setupDisplayTable = function _setupDisplayTable(data) {
          this._uiPopupInfoTable.initView(data);
          this.lbInforBetTable.node.active = true;
          var extendData = data.data,
            typeModePlay = data.mode;
          var displayTid = extendData.displayTid,
            smallBlind = extendData.smallBlind,
            bigBlind = extendData.bigBlind;
          this.lbInscreaseBlinds.node.active = false;
          this.lbRewardNumber.node.active = false;
          switch (typeModePlay) {
            case ETypeModePlay.MTT:
              //this.lbInscreaseBlinds.node.active = true;
              this.lbRewardNumber.node.active = true;
              this.lbRewardNumber.string = LanguageMananger.getString({
                key: 'dynamic_mtt_reward_count',
                replacers: [{
                  find: "@amount",
                  replacer: "1"
                }]
              });
              UIController.Instance.open(UIType.MTT_RANKER, true, true, false, data.mtt.tournament_id);
            case ETypeModePlay.SNG:
              {
                this._setUIVisibility(true);
                this.updateTourTableInfo(0, smallBlind, bigBlind);
                this.updatePlayerRanking(0);
                break;
              }
            case ETypeModePlay.YARD:
              {
                this._setUIVisibility(false);
                this.updateYardTableInfo(smallBlind, bigBlind, displayTid);
                break;
              }
          }
        };
        _proto.stopCountDownBlind = function stopCountDownBlind() {
          pAsyncUtils.stop(this._acdmtt);
          this.lbInscreaseBlinds.node.active = false;
        };
        _proto.actCountDownUpdateBlind = function actCountDownUpdateBlind(total, left) {
          var _this5 = this;
          this.lbInscreaseBlinds.node.active = true;
          this.lbInscreaseBlinds.string = LanguageMananger.getString({
            key: 'dynamic_mtt_increase_blinds',
            replacers: [{
              find: "@total",
              replacer: "" + total
            }, {
              find: "@left",
              replacer: "" + left
            }]
          });
          pAsyncUtils.stop(this._acdmtt);
          pAsyncUtils.countdown({
            id: this._acdmtt,
            time: left
          }, 1, function (_left) {
            _this5.lbInscreaseBlinds.string = LanguageMananger.getString({
              key: 'dynamic_mtt_increase_blinds',
              replacers: [{
                find: "@total",
                replacer: "" + total
              }, {
                find: "@left",
                replacer: "" + _left
              }]
            });
          });
        };
        _proto._setUIVisibility = function _setUIVisibility(isTournament) {
          this.btnMiniGame.node.active = !isTournament;
          this.btnSpin.node.active = !isTournament;
          this.lbInforRanking.node.active = isTournament;
        };
        _proto.updateYardTableInfo = function updateYardTableInfo(sb, bb, displayTid) {
          var str = LanguageMananger.instance.getStrings('txt_id_table');
          var sbs = pStringUtils.formatNumberKMB(sb);
          var bbs = pStringUtils.formatNumberKMB(bb);
          this.lbInforBetTable.string = str.txt_id_table + ": " + displayTid + " Small/Big Blind: " + sbs + "/" + bbs;
        };
        _proto.updateTourTableInfo = function updateTourTableInfo(ante, sb, bb) {
          var sbs = pStringUtils.formatNumberKMB(sb);
          var bbs = pStringUtils.formatNumberKMB(bb);
          var ats = pStringUtils.formatNumberKMB(ante);
          this.lbInforBetTable.string = "Ante: " + ats + " SB/BB: " + sbs + "/" + bbs;
        };
        _proto.hidePlayerRanking = function hidePlayerRanking() {
          this.lbInforRanking.node.active = false;
        };
        _proto.updatePlayerRanking = function updatePlayerRanking(rank) {
          var str = LanguageMananger.instance.getStrings('txt_ranking_note_3');
          this.lbInforRanking.node.active = true;
          this.lbInforRanking.string = str.txt_ranking_note_3 + ": " + rank;
        };
        _proto._setupScene = function _setupScene(data) {
          var _gp = pDecorators.instance(UIGamePlay);
          _gp.init(data);
          switch (this.table.mode) {
            case ETypeModePlay.MTT:
              break;
            case ETypeModePlay.SNG:
              break;
            case ETypeModePlay.PLAY_NOW:
            case ETypeModePlay.YARD:
              if (this.table.is_new) this.showPopupCreatTableSucces();
              break;
          }
        };
        _proto.actBackToMain = function actBackToMain() {
          UIController.Instance.close(UIType.MTT_RANKER, true);
          UIController.Instance.close(UIType.SPIN_GAME, true);
          var instance = PlayingController.instance;
          var _gp = pDecorators.instance(UIGamePlay);
          instance.actStopPlaying();
          var _p = _gp.resetPosIndexItemPlayer();
          pAsyncUtils.stop(this._acdmtt);
          //this._uiSpinGame.close();

          this.close();
          return _p;
        };
        _proto._actBackToMain = /*#__PURE__*/function () {
          var _actBackToMain2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {
            var _this6 = this;
            var instance, loading, _onSuccess, onSuccess, onError, _onConfirm;
            return _regeneratorRuntime().wrap(function _callee3$(_context3) {
              while (1) switch (_context3.prev = _context3.next) {
                case 0:
                  instance = PlayingController.instance;
                  loading = GlobalConfig.instance.loading;
                  _onSuccess = function _onSuccess() {
                    return instance.leaveTable(onSuccess, onError);
                  };
                  onSuccess = function onSuccess(msg) {
                    switch (msg.code) {
                      case ResponseCode.SUCCESS:
                        {
                          _this6.actBackToMain();
                          break;
                        }
                      case ResponseCode.ERROR:
                        {
                          UINotice.instance.show('txt_title', msg.error, 'txt_btn_confirm');
                          break;
                        }
                    }
                  };
                  onError = function onError() {
                    return loading.close();
                  };
                  _onConfirm = /*#__PURE__*/function () {
                    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {
                      return _regeneratorRuntime().wrap(function _callee2$(_context2) {
                        while (1) switch (_context2.prev = _context2.next) {
                          case 0:
                            loading.open();
                            _context2.next = 3;
                            return instance.leaveTable(onSuccess, onError);
                          case 3:
                            loading.close();
                          case 4:
                          case "end":
                            return _context2.stop();
                        }
                      }, _callee2);
                    }));
                    return function _onConfirm() {
                      return _ref.apply(this, arguments);
                    };
                  }();
                  instance.leaveRoomChecker(_onConfirm, _onSuccess);
                case 7:
                case "end":
                  return _context3.stop();
              }
            }, _callee3);
          }));
          function _actBackToMain() {
            return _actBackToMain2.apply(this, arguments);
          }
          return _actBackToMain;
        }();
        _proto._actBuyChip = function _actBuyChip() {};
        _proto._actSetting = function _actSetting() {
          this._uiPopupSetting.open();
        };
        _proto._noActionOnPlaying = function _noActionOnPlaying(main) {
          var _PlayingController$in = PlayingController.instance,
            statusGame = _PlayingController$in.gameState,
            statusMainPlayer = _PlayingController$in.mainState;
          if (statusGame != EStatusGame.CLEAR_TABLE && statusGame != EStatusGame.WAITING && statusMainPlayer == EStatusPlayer.JOIN_GAME) {
            UINotice.instance.show('txt_title', "txt_notice_game_is_playing", "txt_btn_confirm");
            return Promise.resolve(false);
          }
          return new Promise(function (rs) {
            UINotice.instance.show('txt_title_system_warning', main, 'txt_btn_confirm2', function () {
              return rs(true);
            }, 'txt_btn_cancel', undefined, function () {
              return rs(false);
            });
          });
        };
        _proto._actChangeRoom = /*#__PURE__*/function () {
          var _actChangeRoom2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {
            var rs;
            return _regeneratorRuntime().wrap(function _callee4$(_context4) {
              while (1) switch (_context4.prev = _context4.next) {
                case 0:
                  PlayingController.instance.actStopPlaying();
                  _context4.next = 3;
                  return this._noActionOnPlaying('txt_notice_warning_switch_room');
                case 3:
                  rs = _context4.sent;
                  if (rs) {
                    _context4.next = 6;
                    break;
                  }
                  return _context4.abrupt("return");
                case 6:
                  _context4.next = 8;
                  return this.actChangeRoom();
                case 8:
                case "end":
                  return _context4.stop();
              }
            }, _callee4, this);
          }));
          function _actChangeRoom() {
            return _actChangeRoom2.apply(this, arguments);
          }
          return _actChangeRoom;
        }();
        _proto.actChangeRoom = /*#__PURE__*/function () {
          var _actChangeRoom3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5() {
            var _pInstance, statusMainPlayer, tableData, instance, extendData, _tables, tables, _get, tid, res, rez, dataTabelResult;
            return _regeneratorRuntime().wrap(function _callee5$(_context5) {
              while (1) switch (_context5.prev = _context5.next) {
                case 0:
                  _pInstance = PlayingController.instance;
                  statusMainPlayer = _pInstance.mainState, tableData = _pInstance.tableData;
                  if (!(statusMainPlayer == EStatusPlayer.JOIN_GAME)) {
                    _context5.next = 5;
                    break;
                  }
                  _context5.next = 5;
                  return _pInstance.actStandUp();
                case 5:
                  instance = GlobalConfig.instance;
                  instance.loading.open();
                  _context5.prev = 7;
                  extendData = this.table.data;
                  _pInstance.setRoom('PT');
                  _context5.next = 12;
                  return MainScreenController.getTables(tableData.data.zone);
                case 12:
                  _tables = _context5.sent;
                  tables = _tables.filter(function (e) {
                    return e.smallBlind <= extendData.smallBlind;
                  });
                  if (!(tables.length <= 0)) {
                    _context5.next = 17;
                    break;
                  }
                  //INVOKE ERROR POPUP
                  instance.loading.close();
                  return _context5.abrupt("return");
                case 17:
                  _get = function _get() {
                    var idx = randomRangeInt(0, tables.length);
                    var table = tables[idx];
                    if (table.id === extendData.id) return _get();
                    return table;
                  };
                  tid = _get().id;
                  _context5.prev = 19;
                  _context5.next = 22;
                  return request('switchTable', {
                    tid: tid
                  });
                case 22:
                  res = _context5.sent;
                  _context5.t0 = res.code;
                  _context5.next = _context5.t0 === ResponseCode.ERROR ? 26 : _context5.t0 === ResponseCode.SUCCESS ? 28 : 41;
                  break;
                case 26:
                  instance.loading.close();
                  return _context5.abrupt("return");
                case 28:
                  _context5.next = 30;
                  return request('joinTable', {
                    tid: res.tid
                  });
                case 30:
                  rez = _context5.sent;
                  instance.loading.close();
                  _context5.t1 = rez.code;
                  _context5.next = _context5.t1 === ResponseCode.SUCCESS ? 35 : _context5.t1 === ResponseCode.ERROR ? 38 : 40;
                  break;
                case 35:
                  dataTabelResult = _extends({}, rez.tableInfo, {
                    gold: 0,
                    isPrivate: false
                  });
                  pDecorators.instance(GameManager).joinTable(dataTabelResult, rez.msg);
                  return _context5.abrupt("break", 40);
                case 38:
                  this.log("Joint Failed");
                  return _context5.abrupt("break", 40);
                case 40:
                  return _context5.abrupt("break", 41);
                case 41:
                  _context5.next = 47;
                  break;
                case 43:
                  _context5.prev = 43;
                  _context5.t2 = _context5["catch"](19);
                  instance.loading.close();
                  this.error('[UIPlayingScene] Error >> ', _context5.t2);
                case 47:
                  _context5.next = 53;
                  break;
                case 49:
                  _context5.prev = 49;
                  _context5.t3 = _context5["catch"](7);
                  instance.loading.close();
                  this.error('[UIPlayingScene] Error >> ', _context5.t3);
                case 53:
                case "end":
                  return _context5.stop();
              }
            }, _callee5, this, [[7, 49], [19, 43]]);
          }));
          function actChangeRoom() {
            return _actChangeRoom3.apply(this, arguments);
          }
          return actChangeRoom;
        }();
        _proto._actOpenChat = function _actOpenChat() {
          UIController.Instance.open(UIType.CHAT_INGAME);
        };
        _proto._actOpenMission = function _actOpenMission() {
          UIController.Instance.open(UIType.MISSION);
        };
        _proto._actOpenRateCard = function _actOpenRateCard() {
          UIController.Instance.open(UIType.RATE_CARD);
        };
        _proto._actOpenSpin = function _actOpenSpin() {
          UIController.Instance.open(UIType.SPIN_GAME).then(function (_) {
            console.log("Open Spin Game Success");
          });
        };
        _proto._actOpenMiniGame = function _actOpenMiniGame() {
          UIController.Instance.open(UIType.MINI_GAME);
        };
        _proto.showBuyInPopup = function showBuyInPopup(table, onBuy, onCancel) {
          var _this7 = this;
          var maxBuyIn = table.maxBuyIn,
            minBuyIn = table.minBuyIn;
          this._uiPopupBuyChip.open();
          this._uiPopupBuyChip.setValueBuy(minBuyIn, maxBuyIn, onBuy, onCancel, function () {
            UINotice.instance.show('txt_title_system_warning', 'txt_notifi_not_money_buy_in', 'txt_btn_buy_chip', function () {
              return UIController.Instance.open(UIType.SHOP, false, true, true, EShopType.MY_PROPS);
            }, 'txt_btn_change_room', function () {
              return _this7.actChangeRoom();
            });
          });
        };
        _proto.showPopupProfilePlayer = /*#__PURE__*/function () {
          var _showPopupProfilePlayer = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6(dataPlayer) {
            return _regeneratorRuntime().wrap(function _callee6$(_context6) {
              while (1) switch (_context6.prev = _context6.next) {
                case 0:
                  _context6.next = 2;
                  return this._uiPopupProfilePLayer.init(dataPlayer, this.table.data.isPrivate, PlayingController.instance.room);
                case 2:
                  this._uiPopupProfilePLayer.open();
                case 3:
                case "end":
                  return _context6.stop();
              }
            }, _callee6, this);
          }));
          function showPopupProfilePlayer(_x) {
            return _showPopupProfilePlayer.apply(this, arguments);
          }
          return showPopupProfilePlayer;
        }();
        _proto.showPopupCreatTableSucces = function showPopupCreatTableSucces() {
          this._uiPopupCreatTableSuccess.open();
          this._uiPopupCreatTableSuccess.init(this.table.data.displayTid);
        };
        _proto._actShowPopupInfoTable = function _actShowPopupInfoTable() {
          this._uiPopupInfoTable.show();
        };
        _proto.currentTurn = function currentTurn() {
          var _this$_uiPopupMoreBet;
          (_this$_uiPopupMoreBet = this._uiPopupMoreBet) == null || _this$_uiPopupMoreBet.close();
        };
        _proto.endMatch = function endMatch() {
          var _this$_uiPopupMoreBet2;
          (_this$_uiPopupMoreBet2 = this._uiPopupMoreBet) == null || _this$_uiPopupMoreBet2.close();
          this.offWinners();
        };
        _proto.offWinners = function offWinners() {
          for (var _iterator = _createForOfIteratorHelperLoose(pDecorators.instance(UIGamePlay).players), _step; !(_step = _iterator()).done;) {
            var ret = _step.value;
            ret.activeWinner(false);
          }
        };
        _proto.updateLeavingBtn = function updateLeavingBtn(isJoinGame) {
          try {
            var _this$btnBackToMain;
            this._setClicker(this.btnBackToMain, this._actBackToMain, this);
            var label = ((_this$btnBackToMain = this.btnBackToMain) == null ? void 0 : _this$btnBackToMain.getComponentInChildren(Label)) || null;
            label && (label.string = LanguageMananger.instance.getString("txt_btn_back2"));
            switch (this.table.mode) {
              case ETypeModePlay.MTT:
              case ETypeModePlay.SNG:
                {
                  this.btnChangeRoom.node.active = false;
                  this.btnStandUp.node.active = false;
                  this.uiChestReward.close();
                  break;
                }
              case ETypeModePlay.YARD:
                {
                  this.btnChangeRoom.node.active = !isJoinGame;
                  this.btnStandUp.node.active = isJoinGame;
                  this.uiChestReward.open();
                  break;
                }
            }
          } catch (e) {}
        };
        _proto._actStandUp = function _actStandUp() {
          var instance = PlayingController.instance;
          instance.isPlaying ? this._uiStandUpRegister.open() : instance.actStandUp();
        };
        _createClass(UIPlayingScene, [{
          key: "uiGameAction",
          get:
          //@property({ group: _GroupPopup, type: UIGameActionManager, visible: true })
          //protected _uiGameActionManager: UIGameActionManager = null;
          function get() {
            return this._uiGameAction;
          }
        }, {
          key: "uiAutoPlayer",
          get: function get() {
            return this._uiAutoPlayer;
          }
        }, {
          key: "uiPopupMoreBet",
          get: function get() {
            return this._uiPopupMoreBet;
          }
        }, {
          key: "uiPopupBuyChip",
          get: function get() {
            return this._uiPopupBuyChip;
          }
        }, {
          key: "uiStandUpRegister",
          get: function get() {
            return this._uiStandUpRegister;
          }
          //get uiGameActionManager() { return this._uiGameActionManager }
        }, {
          key: "uiKickPlayerPopup",
          get: function get() {
            return this._uiKickPopup;
          }
        }]);
        return UIPlayingScene;
      }(UIBase), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "btnSetting", [_dec3, _dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "btnBackToMain", [_dec5, _dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "btnChangeRoom", [_dec7, _dec8], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "btnStandUp", [_dec9, _dec10], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "btnInfoTable", [_dec11, _dec12], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, "uiChestReward", [_dec13, _dec14], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor7 = _applyDecoratedDescriptor(_class2.prototype, "btnDealer", [_dec15, _dec16], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor8 = _applyDecoratedDescriptor(_class2.prototype, "flexTable", [_dec17, _dec18], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor9 = _applyDecoratedDescriptor(_class2.prototype, "btnChat", [_dec19, _dec20], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor10 = _applyDecoratedDescriptor(_class2.prototype, "btnMission", [_dec21, _dec22], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor11 = _applyDecoratedDescriptor(_class2.prototype, "btnRateCard", [_dec23, _dec24], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor12 = _applyDecoratedDescriptor(_class2.prototype, "notify", [_dec25], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor13 = _applyDecoratedDescriptor(_class2.prototype, "btnSpin", [_dec26], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor14 = _applyDecoratedDescriptor(_class2.prototype, "btnMiniGame", [_dec27], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor15 = _applyDecoratedDescriptor(_class2.prototype, "lbInscreaseBlinds", [_dec28], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor16 = _applyDecoratedDescriptor(_class2.prototype, "lbRewardNumber", [_dec29], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor17 = _applyDecoratedDescriptor(_class2.prototype, "_uiPopupSetting", [_dec30], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor18 = _applyDecoratedDescriptor(_class2.prototype, "_uiPopupBuyChip", [_dec31], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor19 = _applyDecoratedDescriptor(_class2.prototype, "_uiPopupProfilePLayer", [_dec32], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor20 = _applyDecoratedDescriptor(_class2.prototype, "_uiPopupCreatTableSuccess", [_dec33], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor21 = _applyDecoratedDescriptor(_class2.prototype, "_uiPopupMoreBet", [_dec34], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor22 = _applyDecoratedDescriptor(_class2.prototype, "_uiPopupInfoTable", [_dec35], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor23 = _applyDecoratedDescriptor(_class2.prototype, "_uiStandUpRegister", [_dec36], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor24 = _applyDecoratedDescriptor(_class2.prototype, "_uiGameAction", [_dec37], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor25 = _applyDecoratedDescriptor(_class2.prototype, "_uiAutoPlayer", [_dec38], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor26 = _applyDecoratedDescriptor(_class2.prototype, "_uiKickPopup", [_dec39], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor27 = _applyDecoratedDescriptor(_class2.prototype, "lbInforBetTable", [_dec40, _dec41], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor28 = _applyDecoratedDescriptor(_class2.prototype, "lbInforRanking", [_dec42, _dec43], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor29 = _applyDecoratedDescriptor(_class2.prototype, "isDestroyOnClose", [_dec44], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return false;
        }
      })), _class2)) || _class) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIPopup.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc'], function (exports) {
  var _inheritsLoose, cclegacy, _decorator, Component;
  return {
    setters: [function (module) {
      _inheritsLoose = module.inheritsLoose;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Component = module.Component;
    }],
    execute: function () {
      var _dec, _class;
      cclegacy._RF.push({}, "0d8fez/czxH8rPQcyUYzq72", "UIPopup", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var UIPopup = exports('UIPopup', (_dec = ccclass('UIPopup'), _dec(_class = /*#__PURE__*/function (_Component) {
        _inheritsLoose(UIPopup, _Component);
        function UIPopup() {
          return _Component.apply(this, arguments) || this;
        }
        var _proto = UIPopup.prototype;
        _proto.start = function start() {};
        _proto.update = function update(deltaTime) {};
        return UIPopup;
      }(Component)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIPopupActionDealer.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts', './UIController.ts', './Enums.ts', './EventManager.ts', './MovingFx.ts', './PlayingController.ts', './ResponeCode.ts', './NotifyToast.ts', './LanguageManager.ts', './UITipChipFly.ts', './Decorators.ts', './UIGamePlay.ts', './NodeUtils.ts', './UserCommand.ts', './ClassUtils.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _asyncToGenerator, _regeneratorRuntime, cclegacy, _decorator, Button, Prefab, instantiate, director, Canvas, UIBase, UIController, UIType, pEventManager, NSMovingFx, PlayingController, ResponseCode, NotifyToast, LanguageMananger, UITipChipFly, pDecorators, UIGamePlay, pNodeUtils, request, pClassUtils;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Button = module.Button;
      Prefab = module.Prefab;
      instantiate = module.instantiate;
      director = module.director;
      Canvas = module.Canvas;
    }, function (module) {
      UIBase = module.UIBase;
    }, function (module) {
      UIController = module.UIController;
    }, function (module) {
      UIType = module.UIType;
    }, function (module) {
      pEventManager = module.pEventManager;
    }, function (module) {
      NSMovingFx = module.NSMovingFx;
    }, function (module) {
      PlayingController = module.default;
    }, function (module) {
      ResponseCode = module.ResponseCode;
    }, function (module) {
      NotifyToast = module.NotifyToast;
    }, function (module) {
      LanguageMananger = module.LanguageMananger;
    }, function (module) {
      UITipChipFly = module.UITipChipFly;
    }, function (module) {
      pDecorators = module.pDecorators;
    }, function (module) {
      UIGamePlay = module.default;
    }, function (module) {
      pNodeUtils = module.pNodeUtils;
    }, function (module) {
      request = module.default;
    }, function (module) {
      pClassUtils = module.pClassUtils;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5;
      cclegacy._RF.push({}, "8f04921dttCVrJADuXyPIwn", "UIPopupActionDealer", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var UIPopupActionDealer = exports('UIPopupActionDealer', (_dec = ccclass('UIPopupActionDealer'), _dec2 = property(Button), _dec3 = property(Button), _dec4 = property(Button), _dec5 = property([NSMovingFx.Component]), _dec6 = property(Prefab), _dec(_class = (_class2 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UIPopupActionDealer, _UIBase);
        function UIPopupActionDealer() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "btnTipChip", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnGift", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnChange", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "movers", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "chip", _descriptor5, _assertThisInitialized(_this));
          _this._events = [['onDealerTipped', _this._onTipped, _assertThisInitialized(_this)]];
          _this._package = null;
          return _this;
        }
        var _proto = UIPopupActionDealer.prototype;
        _proto._onDestroy = function _onDestroy() {
          pEventManager.off(this._events);
        };
        _proto._onLoad = function _onLoad() {
          pEventManager.on(this._events);
          this._addClickers([{
            handlers: this._actTipChip,
            target: this.btnTipChip
          }, {
            handlers: this._actGift,
            target: this.btnGift
          }, {
            handlers: this._actChange,
            target: this.btnChange
          }]);
        };
        _proto._open = /*#__PURE__*/function () {
          var _open2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(_package) {
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  this._package = _package;
                  this.root.active = true;
                  this.movers.forEach(function (mover) {
                    return mover.hide();
                  });
                  _context.next = 5;
                  return Promise.all(this.movers.map(function (mover) {
                    return mover.show({
                      id: 'on'
                    });
                  }));
                case 5:
                case "end":
                  return _context.stop();
              }
            }, _callee, this);
          }));
          function _open(_x) {
            return _open2.apply(this, arguments);
          }
          return _open;
        }();
        _proto._close = /*#__PURE__*/function () {
          var _close2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {
            return _regeneratorRuntime().wrap(function _callee2$(_context2) {
              while (1) switch (_context2.prev = _context2.next) {
                case 0:
                  this.movers.forEach(function (mover) {
                    return mover.hide();
                  });
                  _context2.next = 3;
                  return Promise.all(this.movers.map(function (mover) {
                    return mover.show({
                      id: 'off'
                    });
                  }));
                case 3:
                  this.root.active = false;
                case 4:
                case "end":
                  return _context2.stop();
              }
            }, _callee2, this);
          }));
          function _close() {
            return _close2.apply(this, arguments);
          }
          return _close;
        }();
        _proto._actGift = function _actGift() {};
        _proto._tip = function _tip(amount, main, hand, cb) {
          this.close();
          var _chip = instantiate(this.chip);
          var _fly = _chip.getComponent(UITipChipFly);
          if (!_fly) return;
          var _canvas = director.getScene().getComponentInChildren(Canvas);
          _canvas.node.addChild(_chip);
          pNodeUtils.setPosition(_chip, main);
          _fly.add('onDone', {
            _function: function _function() {
              !!_chip && !!_chip.isValid && _chip.destroy();
              pClassUtils.invoker(cb);
            },
            _this: this
          });
          _fly.init(hand, amount, 0.75);
        };
        _proto._actTipChip = /*#__PURE__*/function () {
          var _actTipChip2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {
            var _this$_package, _amount, main, hand, cb, _PlayingController$in, tid, tableData, smallBlind, amount, res, code, _gp;
            return _regeneratorRuntime().wrap(function _callee3$(_context3) {
              while (1) switch (_context3.prev = _context3.next) {
                case 0:
                  if (!this._package) {
                    _context3.next = 4;
                    break;
                  }
                  _this$_package = this._package, _amount = _this$_package.amount, main = _this$_package.main, hand = _this$_package.hand, cb = _this$_package.cb;
                  this._tip(_amount, main, hand, cb);
                  return _context3.abrupt("return");
                case 4:
                  _PlayingController$in = PlayingController.instance, tid = _PlayingController$in.tid, tableData = _PlayingController$in.tableData;
                  smallBlind = tableData.data.smallBlind;
                  amount = smallBlind;
                  if (PlayingController.instance.isMainSitDown) {
                    _context3.next = 11;
                    break;
                  }
                  NotifyToast.instance.showWithKey('txt_tip_dealer_not_sitdown', 'table');
                  this.close();
                  return _context3.abrupt("return");
                case 11:
                  _context3.next = 13;
                  return request('tipDealer', {
                    amount: amount,
                    type: "CHIP",
                    tid: tid
                  });
                case 13:
                  res = _context3.sent;
                  code = res.code;
                  _context3.t0 = code;
                  _context3.next = _context3.t0 === ResponseCode.SUCCESS ? 18 : _context3.t0 === ResponseCode.ERROR ? 24 : 26;
                  break;
                case 18:
                  this.close();
                  _gp = pDecorators.instance(UIGamePlay);
                  if (!(!_gp || !_gp.main)) {
                    _context3.next = 22;
                    break;
                  }
                  return _context3.abrupt("break", 26);
                case 22:
                  this._tip(amount, _gp.main, _gp.dealerHand);
                  return _context3.abrupt("break", 26);
                case 24:
                  NotifyToast.instance.show(LanguageMananger.instance.getString('txt_tip_dealer_failed'), 'table');
                  return _context3.abrupt("break", 26);
                case 26:
                case "end":
                  return _context3.stop();
              }
            }, _callee3, this);
          }));
          function _actTipChip() {
            return _actTipChip2.apply(this, arguments);
          }
          return _actTipChip;
        }();
        _proto._actChange = function _actChange() {
          UIController.Instance.open(UIType.CHANGE_ACCESSORY);
        };
        _proto._onTipped = function _onTipped() {
          this.close();
        };
        return UIPopupActionDealer;
      }(UIBase), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "btnTipChip", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "btnGift", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "btnChange", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "movers", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return [];
        }
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "chip", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIPopupAlert.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './AlertDialog.ts', './Enums.ts', './LanguageManager.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, cclegacy, _decorator, Label, Button, AlertDialog, EAlertType, LanguageMananger;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Label = module.Label;
      Button = module.Button;
    }, function (module) {
      AlertDialog = module.AlertDialog;
    }, function (module) {
      EAlertType = module.EAlertType;
    }, function (module) {
      LanguageMananger = module.LanguageMananger;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6;
      cclegacy._RF.push({}, "f57ee9W0fxAH6h4gJWIkfix", "UIPopupAlert", undefined);
      var ccclass = _decorator.ccclass,
        type = _decorator.type;
      var UIPopupAlert = exports('UIPopupAlert', (_dec = ccclass('UIPopupAlert'), _dec2 = type(Label), _dec3 = type(Label), _dec4 = type(Button), _dec5 = type(Button), _dec6 = type(Label), _dec7 = type(Label), _dec(_class = (_class2 = /*#__PURE__*/function (_AlertDialog) {
        _inheritsLoose(UIPopupAlert, _AlertDialog);
        function UIPopupAlert() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _AlertDialog.call.apply(_AlertDialog, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "lblTitle", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lblMessage", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnConfirm", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnCancel", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lblConfirm", _descriptor5, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lblCancel", _descriptor6, _assertThisInitialized(_this));
          _this.typeAlert = EAlertType.COMFIRM_ONLY;
          _this.txtMessage = "";
          _this.txtTitle = "";
          _this.txtConfirm = "";
          _this.txtCancel = "";
          _this.cbCancel = null;
          return _this;
        }
        var _proto = UIPopupAlert.prototype;
        _proto._onStart = function _onStart() {
          this._addClickers([{
            target: this.btnConfirm,
            handlers: this._actConfirm
          }, {
            target: this.btnCancel,
            handlers: this._actCancel
          }]);
        };
        _proto.showConfirmAlert = function showConfirmAlert(msg, txtTitle, txtConfirm, confirmCb) {
          this.typeAlert = EAlertType.COMFIRM_ONLY;
          this.txtMessage = msg;
          this.txtTitle = txtTitle;
          this.txtConfirm = txtConfirm;
          this.showMsg(confirmCb);
        };
        _proto.showConfirmCancelAlert = function showConfirmCancelAlert(msg, txtTitle, txtConfirm, txtCancel, confirmCb, cbCancel, closeX) {
          if (closeX === void 0) {
            closeX = true;
          }
          this.typeAlert = EAlertType.CONFIRM_CANCEL;
          this.txtMessage = msg;
          this.txtTitle = txtTitle;
          this.txtConfirm = txtConfirm;
          this.txtCancel = txtCancel;
          this.cbCancel = cbCancel;
          this.showMsg(confirmCb);
          this.btnClose.node.active = closeX;
        };
        _proto.showMsg = function showMsg(confirmCb) {
          this.show(confirmCb, false, true);
        };
        _proto.setupContentUI = function setupContentUI() {
          this.lblTitle.string = LanguageMananger.instance.getString(this.txtTitle);
          this.lblMessage.string = LanguageMananger.instance.getString(this.txtMessage);
          switch (this.typeAlert) {
            case EAlertType.COMFIRM_ONLY:
              this.lblConfirm.string = this.txtConfirm;
              this.btnCancel.node.active = false;
              this.btnConfirm.node.active = true;
              break;
            case EAlertType.CONFIRM_CANCEL:
              this.lblConfirm.string = this.txtConfirm;
              this.lblCancel.string = this.txtCancel;
              this.btnCancel.node.active = true;
              this.btnConfirm.node.active = true;
              break;
          }
        };
        _proto._actConfirm = function _actConfirm() {
          this.onConfirm();
        };
        _proto._actCancel = function _actCancel() {
          this.cbCancel && this.cbCancel();
          this.onClosed && this.onClosed();
        };
        return UIPopupAlert;
      }(AlertDialog), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "lblTitle", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "lblMessage", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "btnConfirm", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "btnCancel", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "lblConfirm", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, "lblCancel", [_dec7], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIPopupBuy.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts', './UIController.ts', './Enums.ts', './ResponeCode.ts', './MathUtils.ts', './StringUtils.ts', './ShopCommand.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, cclegacy, _decorator, Label, Sprite, Node, error, assetManager, SpriteFrame, Texture2D, UITransform, UIBase, UIController, UIType, ResponseCode, pMathUtils, pStringUtils, request;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Label = module.Label;
      Sprite = module.Sprite;
      Node = module.Node;
      error = module.error;
      assetManager = module.assetManager;
      SpriteFrame = module.SpriteFrame;
      Texture2D = module.Texture2D;
      UITransform = module.UITransform;
    }, function (module) {
      UIBase = module.UIBase;
    }, function (module) {
      UIController = module.UIController;
    }, function (module) {
      UIType = module.UIType;
    }, function (module) {
      ResponseCode = module.ResponseCode;
    }, function (module) {
      pMathUtils = module.pMathUtils;
    }, function (module) {
      pStringUtils = module.pStringUtils;
    }, function (module) {
      request = module.default;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _dec11, _dec12, _dec13, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9, _descriptor10, _descriptor11, _descriptor12;
      cclegacy._RF.push({}, "433f8f1suFCJK4F2PtyDiUw", "UIPopupBuy", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var UIPopupBuy = exports('UIPopupBuy', (_dec = ccclass('UIPopupBuy'), _dec2 = property(Label), _dec3 = property(Sprite), _dec4 = property(Label), _dec5 = property(Label), _dec6 = property(Label), _dec7 = property(Node), _dec8 = property(Node), _dec9 = property(Node), _dec10 = property(Sprite), _dec11 = property(Sprite), _dec12 = property(Sprite), _dec13 = property(Sprite), _dec(_class = (_class2 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UIPopupBuy, _UIBase);
        function UIPopupBuy() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "lbTitle", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "spIcon", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbPrice", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbOutOfDate", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbItemCount", _descriptor5, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "activeMinusNode", _descriptor6, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "activeAddNode", _descriptor7, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnGift", _descriptor8, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "spPayIconDiamond", _descriptor9, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "spPayIconUSD", _descriptor10, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "spPayIconChip", _descriptor11, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "spPayIconCoin", _descriptor12, _assertThisInitialized(_this));
          _this._data = void 0;
          _this._currentItemCount = 0;
          return _this;
        }
        var _proto = UIPopupBuy.prototype;
        _proto.init = function init(id, isGift) {
          var _this2 = this;
          if (isGift === void 0) {
            isGift = false;
          }
          this._currentItemCount = 0;
          this.btnGift.active = isGift;
          id !== -1 && request('getShopItemDetail', {
            item_id: id
          }).then(function (res) {
            if (res.code === ResponseCode.SUCCESS) {
              _this2._data = res.data;
              _this2.refreshUI();
            }
          })["catch"](function (err) {
            error('Load shop item detail error', err);
          });
        };
        _proto.refreshUI = function refreshUI() {
          var _this3 = this;
          this.spPayIconChip.node.active = this.spPayIconUSD.node.active = this.spPayIconDiamond.node.active = this.spPayIconCoin.node.active = false;
          this.lbTitle.string = this._data.item_name;
          if (this._data.icon && this._data.icon.includes('http')) {
            assetManager.loadRemote(this._data.icon, function (err, imageAsset) {
              if (err) {
                console.error('Load image failed:', err);
                return;
              }
              if (imageAsset.width === 0 || imageAsset.height === 0) {
                console.warn('Invalid image data:', _this3._data.icon);
                return;
              }
              var spriteFrame = new SpriteFrame();
              spriteFrame.texture = new Texture2D();
              spriteFrame.texture.image = imageAsset;
              var spriteUITransform = _this3.spIcon.getComponent(UITransform);
              spriteUITransform.setContentSize(pMathUtils.scaleImageInsideBound(183, 193, imageAsset.width, imageAsset.height));
              _this3.spIcon.spriteFrame = spriteFrame;
              _this3.spIcon.node.active = true;
            });
          }
          this.lbPrice.string = pStringUtils.formatNumberKMB(Number(this._data.price));
          this.lbItemCount.string = pStringUtils.formatMoneyWithDot(this._currentItemCount);
          this.updateUIAdd_Minus();
          switch (this._data.currency) {
            case 'CHIP':
              this.spPayIconChip.node.active = true;
              break;
            case 'USD':
              this.spPayIconUSD.node.active = true;
            case 'VND':
              this.spPayIconUSD.node.active = true;
              break;
            case 'DIAMOND':
              this.spPayIconDiamond.node.active = true;
              break;
            case 'COIN':
              this.spPayIconCoin.node.active = true;
              break;
          }
        };
        _proto.onClickSendGift = function onClickSendGift() {
          UIController.Instance.open(UIType.POPUP_GIFT_TO_FRIENDS, true);
          this.close();
        };
        _proto.onClickBuy = function onClickBuy() {};
        _proto.onMinusClick = function onMinusClick() {
          if (!this.activeMinusNode.active) return;
          this._currentItemCount--;
          if (this._currentItemCount <= 0) this._currentItemCount = 0;
          this.updateUIAdd_Minus();
        };
        _proto.onAddClick = function onAddClick() {
          if (!this.activeAddNode.active) return;
          this._currentItemCount++;
          this.updateUIAdd_Minus();
        };
        _proto.updateUIAdd_Minus = function updateUIAdd_Minus() {
          this.activeMinusNode.active === this._currentItemCount > 0;
          this.lbItemCount.string = pStringUtils.formatMoneyWithDot(this._currentItemCount);
        };
        return UIPopupBuy;
      }(UIBase), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "lbTitle", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "spIcon", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "lbPrice", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "lbOutOfDate", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "lbItemCount", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, "activeMinusNode", [_dec7], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor7 = _applyDecoratedDescriptor(_class2.prototype, "activeAddNode", [_dec8], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor8 = _applyDecoratedDescriptor(_class2.prototype, "btnGift", [_dec9], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor9 = _applyDecoratedDescriptor(_class2.prototype, "spPayIconDiamond", [_dec10], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor10 = _applyDecoratedDescriptor(_class2.prototype, "spPayIconUSD", [_dec11], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor11 = _applyDecoratedDescriptor(_class2.prototype, "spPayIconChip", [_dec12], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor12 = _applyDecoratedDescriptor(_class2.prototype, "spPayIconCoin", [_dec13], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIPopupBuyChip.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts', './UISlider.ts', './StringUtils.ts', './GlobalConfig.ts', './EventManager.ts', './Decorators.ts', './DBStorage.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _createClass, cclegacy, _decorator, Toggle, Button, Node, Label, UIBase, UISlider, pStringUtils, GlobalConfig, pEventManager, pDecorators, DBStorage;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _createClass = module.createClass;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Toggle = module.Toggle;
      Button = module.Button;
      Node = module.Node;
      Label = module.Label;
    }, function (module) {
      UIBase = module.UIBase;
    }, function (module) {
      UISlider = module.UISlider;
    }, function (module) {
      pStringUtils = module.pStringUtils;
    }, function (module) {
      GlobalConfig = module.default;
    }, function (module) {
      pEventManager = module.pEventManager;
    }, function (module) {
      pDecorators = module.pDecorators;
    }, function (module) {
      DBStorage = module.DBStorage;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _dec11, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9, _descriptor10;
      cclegacy._RF.push({}, "233c2kuBoxOhZTZZzHWCPJA", "UIPopupBuyChip", undefined);
      var ccclass = _decorator.ccclass,
        type = _decorator.type;
      var UIPopupBuyChip = exports('UIPopupBuyChip', (_dec = ccclass('UIPopupBuyChip'), _dec2 = type(UISlider), _dec3 = type(Toggle), _dec4 = type(Toggle), _dec5 = type(Button), _dec6 = type(Toggle), _dec7 = type(Node), _dec8 = type(Label), _dec9 = type(Label), _dec10 = type(Label), _dec11 = type(Label), _dec(_class = (_class2 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UIPopupBuyChip, _UIBase);
        function UIPopupBuyChip() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "sliderChip", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnChooseMaxValue", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnChooseMinValue", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnBuy", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnAutoBuy", _descriptor5, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "currentChipBuy", _descriptor6, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbAmountBalance", _descriptor7, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbAmountChip", _descriptor8, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbMinValue", _descriptor9, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbMaxValue", _descriptor10, _assertThisInitialized(_this));
          _this._current = 0;
          _this._max = 0;
          _this._min = 0;
          _this._onBought = null;
          _this._onCancel = null;
          _this._sliderHandlers = [['onSlide', _this._onRaiseChip, _assertThisInitialized(_this)]];
          _this._once = [['onLeaveTable', _this.close, _assertThisInitialized(_this)]];
          return _this;
        }
        var _proto = UIPopupBuyChip.prototype;
        _proto._onLoad = function _onLoad() {
          this.sliderChip.on(this._sliderHandlers);
          pEventManager.on(this._once);
        };
        _proto._onStart = function _onStart() {
          this._addToggler(this.btnChooseMaxValue, this._actMaxBuyIn, this);
          this._addToggler(this.btnChooseMinValue, this._actMinBuyIn, this);
          this._addToggler(this.btnAutoBuy, this._onClickAutoBuy, this);
          this._addClicker(this.btnBuy, this._onClickBuy, this);
        };
        _proto.onEnable = function onEnable() {
          this.lbAmountBalance.string = pStringUtils.formatNumberKMB(GlobalConfig.instance.Login.player.information.balance);
          //this._setPosDisplayAmountChip();
        };

        _proto._onDestroy = function _onDestroy() {
          this.sliderChip.off(this._sliderHandlers);
          pEventManager.off(this._once);
        };
        _proto._onClose = function _onClose() {
          this._onCancel();
        };
        _proto.setDisplayValue = function setDisplayValue(min, max) {
          this._current = min;
          this._min = min;
          this._max = max;
          this.sliderChip.setValueSlider(min, max);
          this.lbAmountChip.string = pStringUtils.formatNumberKMB(min);
          this.lbMaxValue.string = pStringUtils.formatNumberKMB(max);
          this.lbMinValue.string = pStringUtils.formatNumberKMB(min);
        };
        _proto._onRaiseChip = function _onRaiseChip(process, current) {
          this._current = current;
          if (this._current == this._max) {
            this.currentChipBuy.active = false;
            this.btnChooseMaxValue.isChecked = true;
            this.btnChooseMinValue.isChecked = false;
          } else if (this._current == this._min) {
            this.currentChipBuy.active = false;
            this.btnChooseMaxValue.isChecked = false;
            this.btnChooseMinValue.isChecked = true;
          } else {
            this.currentChipBuy.active = true;
            this.btnChooseMaxValue.isChecked = false;
            this.btnChooseMinValue.isChecked = false;
          }
          this.lbAmountChip.string = pStringUtils.formatNumberKMB(current);
          //this._setPosDisplayAmountChip()

          if (!this.currentChipBuy.active) return;
          var pos = this.sliderChip.sliderCpm.handle.node.position.clone().add3f(0, 16, 0);
          this.currentChipBuy.setPosition(pos);
          //const newPos = v3(pos.x, pos.y + 16, pos.z);
        };

        _proto._actMaxBuyIn = function _actMaxBuyIn() {
          if (!this.btnChooseMaxValue.isChecked) return;
          var balance = GlobalConfig.instance.Login.player.information.balance;
          if (this.btnChooseMaxValue.isChecked) {
            balance >= this._max ? this.sliderChip.setMaxCurrentValue() : this.sliderChip.setValue(balance);
          }
        };
        _proto._actMinBuyIn = function _actMinBuyIn() {
          if (!this.btnChooseMinValue.isChecked) return;
          if (this.btnChooseMinValue.isChecked) {
            this.sliderChip.setMinCurrentValue();
          }
        };
        _proto._onClickBuy = function _onClickBuy() {
          if (this._onBought) this._onBought(this._current);
          this.close();
        };
        _proto._onClickAutoBuy = function _onClickAutoBuy() {
          var _db = pDecorators.instance(DBStorage);
          _db.save({
            key: 'AUTO_BUY_IN',
            value: JSON.stringify(this.btnAutoBuy.isChecked)
          });
        };
        _proto.setValueBuy = function setValueBuy(minBuy, maxBuy, cbBought, cbCancel, onFail) {
          var balance = GlobalConfig.instance.Login.player.information.balance;
          //this.btnAutoBuy.isChecked = this._isAutoBuy;

          this._onCancel = cbCancel || function () {};
          this._onBought = cbBought;
          var checker = function checker(prog, current) {
            return balance >= current;
          };
          this.sliderChip.set('checker', checker);
          this.setDisplayValue(minBuy, maxBuy);
          if (balance < minBuy) {
            this.close();
            onFail && onFail();
            return;
          }
          var half = maxBuy / 2;
          var buyIn = balance >= half ? half : balance;
          this.sliderChip.setValue(buyIn);
          //this._setPosDisplayAmountChip();
        };

        _createClass(UIPopupBuyChip, [{
          key: "isAutoBuy",
          get: function get() {
            return this.btnAutoBuy.isChecked;
          }
        }]);
        return UIPopupBuyChip;
      }(UIBase), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "sliderChip", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "btnChooseMaxValue", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "btnChooseMinValue", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "btnBuy", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "btnAutoBuy", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, "currentChipBuy", [_dec7], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor7 = _applyDecoratedDescriptor(_class2.prototype, "lbAmountBalance", [_dec8], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor8 = _applyDecoratedDescriptor(_class2.prototype, "lbAmountChip", [_dec9], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor9 = _applyDecoratedDescriptor(_class2.prototype, "lbMinValue", [_dec10], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor10 = _applyDecoratedDescriptor(_class2.prototype, "lbMaxValue", [_dec11], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIPopupCardFace.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts'], function (exports) {
  var _inheritsLoose, cclegacy, _decorator, UIBase;
  return {
    setters: [function (module) {
      _inheritsLoose = module.inheritsLoose;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
    }, function (module) {
      UIBase = module.UIBase;
    }],
    execute: function () {
      var _dec, _class;
      cclegacy._RF.push({}, "48772D3We1PiJ+x8H5E6wmA", "UIPopupCardFace", undefined);
      var ccclass = _decorator.ccclass;
      var UIPopupCardFace = exports('UIPopupCardFace', (_dec = ccclass('UIPopupCardFace'), _dec(_class = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UIPopupCardFace, _UIBase);
        function UIPopupCardFace() {
          return _UIBase.apply(this, arguments) || this;
        }
        return UIPopupCardFace;
      }(UIBase)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIPopupChangeAccessory.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts', './ComponentUtils.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, cclegacy, _decorator, ToggleContainer, Node, ScrollView, Button, UIBase, pComponentUtils;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      ToggleContainer = module.ToggleContainer;
      Node = module.Node;
      ScrollView = module.ScrollView;
      Button = module.Button;
    }, function (module) {
      UIBase = module.UIBase;
    }, function (module) {
      pComponentUtils = module.pComponentUtils;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4;
      cclegacy._RF.push({}, "dcccfvMqd9FTYdslVKh/hyy", "UIPopupChangeAccessory", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property,
        type = _decorator.type;
      var UIPopupChangeAccessory = exports('UIPopupChangeAccessory', (_dec = ccclass('UIPopupChangeAccessory'), _dec2 = type(ToggleContainer), _dec3 = property({
        group: {
          name: 'Panel',
          id: 'Panel'
        }
      }), _dec4 = type([Node]), _dec5 = type(ScrollView), _dec6 = type(Button), _dec(_class = (_class2 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UIPopupChangeAccessory, _UIBase);
        function UIPopupChangeAccessory() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "typeGroupTC", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "listPanelDealer", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "scrViewListTable", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnScrowDown", _descriptor4, _assertThisInitialized(_this));
          return _this;
        }
        var _proto = UIPopupChangeAccessory.prototype;
        _proto._onStart = function _onStart() {
          pComponentUtils.binds(this.typeGroupTC, 'checkEvents', this, '_onChange');
          this._addClickers({
            target: this.btnScrowDown,
            handlers: this.scrDown
          });
        };
        _proto.scrDown = function scrDown() {
          this.scrollDown(this.scrViewListTable, 20);
        };
        _proto._onChange = function _onChange(toggle) {
          this.goToPanel(toggle.node.getSiblingIndex());
        };
        _proto.goToPanel = function goToPanel(indexPanel) {
          for (var index = 0; index < this.listPanelDealer.length; index++) {
            var element = this.listPanelDealer[index];
            element.active = index == indexPanel;
          }
        };
        return UIPopupChangeAccessory;
      }(UIBase), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "typeGroupTC", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "listPanelDealer", [_dec3, _dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return [];
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "scrViewListTable", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "btnScrowDown", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIPopupChangeTable.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, cclegacy, _decorator, ScrollView, Button, UIBase;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      ScrollView = module.ScrollView;
      Button = module.Button;
    }, function (module) {
      UIBase = module.UIBase;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _class, _class2, _descriptor, _descriptor2;
      cclegacy._RF.push({}, "7e650GrKBtISYaNxa6N4MUb", "UIPopupChangeTable", undefined);
      var ccclass = _decorator.ccclass,
        type = _decorator.type;
      var UIPopupChangeTable = exports('UIPopupChangeTable', (_dec = ccclass('UIPopupChangeTable'), _dec2 = type(ScrollView), _dec3 = type(Button), _dec(_class = (_class2 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UIPopupChangeTable, _UIBase);
        function UIPopupChangeTable() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "scrViewListTable", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnScrowDown", _descriptor2, _assertThisInitialized(_this));
          return _this;
        }
        var _proto = UIPopupChangeTable.prototype;
        _proto._onStart = function _onStart() {
          this._addClickers({
            target: this.btnScrowDown,
            handlers: this.scrDown
          });
        };
        _proto.scrDown = function scrDown() {
          this.scrollDown(this.scrViewListTable, 20);
        };
        return UIPopupChangeTable;
      }(UIBase), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "scrViewListTable", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "btnScrowDown", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIPopupChat.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts', './GlobalConfig.ts', './ResponeCode.ts', './UINotice.ts', './UIEmojis.ts', './UIQuickChat.ts', './PlayingController.ts', './NotifyToast.ts', './LanguageManager.ts', './UIController.ts', './Enums.ts', './ChatCommand.ts', './NotifyCommand.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _asyncToGenerator, _regeneratorRuntime, cclegacy, _decorator, ToggleContainer, Node, Button, EditBox, Widget, Sprite, SpriteFrame, UIBase, GlobalConfig, ResponseCode, UINotice, UIEmojis, UIQuickChat, PlayingController, NotifyToast, LanguageMananger, UIController, UIType, EShopType, request, request$1;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      ToggleContainer = module.ToggleContainer;
      Node = module.Node;
      Button = module.Button;
      EditBox = module.EditBox;
      Widget = module.Widget;
      Sprite = module.Sprite;
      SpriteFrame = module.SpriteFrame;
    }, function (module) {
      UIBase = module.UIBase;
    }, function (module) {
      GlobalConfig = module.default;
    }, function (module) {
      ResponseCode = module.ResponseCode;
    }, function (module) {
      UINotice = module.UINotice;
    }, function (module) {
      UIEmojis = module.UIEmojis;
    }, function (module) {
      UIQuickChat = module.UIQuickChat;
    }, function (module) {
      PlayingController = module.default;
    }, function (module) {
      NotifyToast = module.NotifyToast;
    }, function (module) {
      LanguageMananger = module.LanguageMananger;
    }, function (module) {
      UIController = module.UIController;
    }, function (module) {
      UIType = module.UIType;
      EShopType = module.EShopType;
    }, function (module) {
      request = module.default;
    }, function (module) {
      request$1 = module.default;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _dec11, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9;
      cclegacy._RF.push({}, "eb8dfnZEjtLWJ7xoOhX02WA", "UIPopupChat", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property,
        type = _decorator.type;
      var UIPopupChat = exports('UIPopupChat', (_dec = ccclass('UIPopupChat'), _dec2 = type(ToggleContainer), _dec3 = property({
        group: {
          name: 'Panel',
          id: 'Panel'
        }
      }), _dec4 = type([Node]), _dec5 = type(Button), _dec6 = type(EditBox), _dec7 = type(Widget), _dec8 = type(UIEmojis), _dec9 = property({
        group: {
          name: 'Button Chat',
          id: 'btnChat'
        },
        type: Sprite
      }), _dec10 = property({
        group: {
          name: 'Button Chat',
          id: 'btnChat'
        },
        type: SpriteFrame
      }), _dec11 = property({
        group: {
          name: 'Button Chat',
          id: 'btnChat'
        },
        type: SpriteFrame
      }), _dec(_class = (_class2 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UIPopupChat, _UIBase);
        function UIPopupChat() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "typeGroupTC", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "listPanel", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "sendChatBTN", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "chatBox", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "panelWidget", _descriptor5, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "uiEmojis", _descriptor6, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "loadSpeakerIcon", _descriptor7, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "loadSpeakerIconBig", _descriptor8, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "loadSpeakerIconSmall", _descriptor9, _assertThisInitialized(_this));
          _this.chatLoadSpeakerType = null;
          /**
           * @todo This should be update whenever the player change the target (type) of the chat.
           */
          _this._chatTarget = 'table';
          return _this;
        }
        var _proto = UIPopupChat.prototype;
        _proto._onLoad = function _onLoad() {
          var _this2 = this;
          this.uiEmojis.updateUI(function (_emoji) {
            return _this2.onSendEmoji(_emoji);
          });
        };
        _proto._onStart = function _onStart() {
          this._addClicker(this.sendChatBTN, this.onSendChat, this);
          //const widget = this.node.getComponent(Widget);
          //widget && widget.updateAlignment();
          //this.panelWidget && this.panelWidget.updateAlignment();
        };

        _proto.onEnable = function onEnable() {
          GlobalConfig.instance.eventTarget.on(UIQuickChat.CLOSE_ON_CLICK_QUICK_CHAT, this.onQuickChat, this);
        };
        _proto.onDisable = function onDisable() {
          GlobalConfig.instance.eventTarget.off(UIQuickChat.CLOSE_ON_CLICK_QUICK_CHAT, this.onQuickChat, this);
        };
        _proto.onQuickChat = function onQuickChat() {
          this.close();
        };
        _proto.onSendEmoji = function onSendEmoji(emoji) {
          var _this3 = this;
          if (emoji.length == 0) return;
          var instance = GlobalConfig.instance;
          if (!instance.doubleCheckLogin()) return;
          if (!PlayingController.instance.isMainSitDown) {
            NotifyToast.instance && NotifyToast.instance.show(LanguageMananger.instance.getString("txt_warn_use_emoji"), 'table');
            this.chatBox.string = "";
            this.close();
            return;
          }
          var onSuccess = function onSuccess(msg) {
            switch (msg.code) {
              case ResponseCode.ERROR:
                {
                  UINotice.instance.show('txt_title', msg.error, 'txt_btn_confirm2');
                  _this3.error('[ UIPopupChat ] Error >>', msg);
                  break;
                }
              case ResponseCode.SUCCESS:
                {
                  _this3.log('[ UIPopupChat ] Log >> Sucess');
                  break;
                }
            }
            _this3.chatBox.string = "";
            _this3.close();
          };
          var message_emoji = "send_emoji:" + emoji;
          var chat = {
            content: message_emoji,
            target: this._chatTarget
          };
          request('sendMessage', chat, {
            onSuccess: onSuccess
          });
        };
        _proto.close = /*#__PURE__*/function () {
          var _close = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  this.removeLoadspeakerChat();
                  this.closePanel4();
                  _UIBase.prototype.close.call(this);
                case 3:
                case "end":
                  return _context.stop();
              }
            }, _callee, this);
          }));
          function close() {
            return _close.apply(this, arguments);
          }
          return close;
        }();
        _proto.switchToChat = function switchToChat() {
          this.removeLoadspeakerChat();
          this.closePanel4();
        };
        _proto.onSendChat = function onSendChat() {
          var _this4 = this;
          var instance = GlobalConfig.instance;
          if (!instance.doubleCheckLogin()) return;
          var content = this.chatBox.string.trim();
          if (content.length <= 0) {
            this.chatBox.string = "";
            return;
          }
          content = [].concat(content).slice(0, 80).join('');
          if (this.chatLoadSpeakerType) {
            var _GlobalConfig$instanc = GlobalConfig.instance.Login.player.information,
              id = _GlobalConfig$instanc.id,
              full_name = _GlobalConfig$instanc.display_name;
            if (this.chatLoadSpeakerType === 'small') {
              request$1('sendAllZoneNotification', {
                senderId: id,
                type: 'info',
                senderName: full_name,
                content: content
              });
            } else if (this.chatLoadSpeakerType === 'big') {
              request$1('sendGlobalNotification', {
                senderId: id,
                type: 'info',
                senderName: full_name,
                content: content
              });
            }
            this.removeLoadspeakerChat();
            this.close();
            return;
          }
          var onSuccess = function onSuccess(msg) {
            switch (msg.code) {
              case ResponseCode.ERROR:
                {
                  UINotice.instance.show('txt_title', msg.error, 'txt_btn_confirm2');
                  _this4.error('[ UIPopupChat ] Error >>', msg);
                  break;
                }
              case ResponseCode.SUCCESS:
                {
                  _this4.log('[ UIPopupChat ] Log >> Sucess');
                  break;
                }
            }
            _this4.chatBox.string = "";
            _this4.close();
          };
          var chat = {
            content: content,
            target: this._chatTarget
          };
          request('sendMessage', chat, {
            onSuccess: onSuccess
          });
        };
        _proto.removeLoadspeakerChat = function removeLoadspeakerChat() {
          this.chatLoadSpeakerType = null;
          this.loadSpeakerIcon.node.active = false;
          this.chatBox.string = "";
        };
        _proto.onTypeGroupChanged = function onTypeGroupChanged(toggle) {
          this.goToPanel(this.typeGroupTC.toggleItems.indexOf(toggle));
        };
        _proto.goToPanel = function goToPanel(indexPanel) {
          //if (indexPanel === this.listPanel.length - 1) {
          //    this.listPanel[indexPanel].active = !this.listPanel[indexPanel].active;
          //    return;
          //}

          for (var index = 0; index < this.listPanel.length; index++) {
            var element = this.listPanel[index];
            element.active = index == indexPanel;
          }
        };
        _proto.closePanel4 = function closePanel4() {
          this.listPanel[this.listPanel.length - 1].active = false;
          this.typeGroupTC.toggleItems[0].isChecked = true;
        };
        _proto.onClickLoadSpeaker = function onClickLoadSpeaker(event, data) {
          if (data === 'small') {
            this.chatLoadSpeakerType = 'small';
            this.loadSpeakerIcon.spriteFrame = this.loadSpeakerIconSmall;
            this.loadSpeakerIcon.node.active = true;
          } else if (data === 'big') {
            this.chatLoadSpeakerType = 'big';
            this.loadSpeakerIcon.spriteFrame = this.loadSpeakerIconBig;
            this.loadSpeakerIcon.node.active = true;
          }
          this.closePanel4();
        };
        _proto.gotoShop = /*#__PURE__*/function () {
          var _gotoShop = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {
            var ui;
            return _regeneratorRuntime().wrap(function _callee2$(_context2) {
              while (1) switch (_context2.prev = _context2.next) {
                case 0:
                  _context2.next = 2;
                  return UIController.Instance.open(UIType.SHOP, true, true, true, EShopType.PROPS);
                case 2:
                  ui = _context2.sent;
                  ui.setBackUI(this.uiType);
                case 4:
                case "end":
                  return _context2.stop();
              }
            }, _callee2, this);
          }));
          function gotoShop() {
            return _gotoShop.apply(this, arguments);
          }
          return gotoShop;
        }();
        return UIPopupChat;
      }(UIBase), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "typeGroupTC", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "listPanel", [_dec3, _dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return [];
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "sendChatBTN", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "chatBox", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "panelWidget", [_dec7], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, "uiEmojis", [_dec8], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor7 = _applyDecoratedDescriptor(_class2.prototype, "loadSpeakerIcon", [_dec9], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor8 = _applyDecoratedDescriptor(_class2.prototype, "loadSpeakerIconBig", [_dec10], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor9 = _applyDecoratedDescriptor(_class2.prototype, "loadSpeakerIconSmall", [_dec11], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIPopupDetailHistory.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts', './Enums.ts', './UIItemDetailHistory.ts', './Decorators.ts', './UICardConfig.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _createForOfIteratorHelperLoose, cclegacy, _decorator, ScrollView, Prefab, Sprite, instantiate, UIBaseGroup, UIBase, UIType, UIItemDetailHistory, pDecorators, UICardConfig;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _createForOfIteratorHelperLoose = module.createForOfIteratorHelperLoose;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      ScrollView = module.ScrollView;
      Prefab = module.Prefab;
      Sprite = module.Sprite;
      instantiate = module.instantiate;
    }, function (module) {
      UIBaseGroup = module.UIBaseGroup;
      UIBase = module.UIBase;
    }, function (module) {
      UIType = module.UIType;
    }, function (module) {
      UIItemDetailHistory = module.UIItemDetailHistory;
    }, function (module) {
      pDecorators = module.pDecorators;
    }, function (module) {
      UICardConfig = module.UICardConfig;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4;
      cclegacy._RF.push({}, "17dd8FbNpBFTIG5RWqVgD8m", "UIPopupDetailHistory", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var UIPopupDetailHistory = exports('UIPopupDetailHistory', (_dec = ccclass("UIPopupDetailHistory"), _dec2 = property({
        group: UIBaseGroup,
        override: true,
        readonly: true
      }), _dec3 = property(ScrollView), _dec4 = property(Prefab), _dec5 = property([Sprite]), _dec(_class = (_class2 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UIPopupDetailHistory, _UIBase);
        function UIPopupDetailHistory() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "uiType", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "scroller", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "content", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "cards", _descriptor4, _assertThisInitialized(_this));
          return _this;
        }
        var _proto = UIPopupDetailHistory.prototype;
        _proto.init = function init(game) {
          var _this2 = this;
          if (!game) return;
          var actions = game.actions,
            board = game.board,
            players = game.players;
          this.scroller.content.removeAllChildren();
          var _loop = function _loop() {
            var _item$getComponent;
            var _player = _step.value;
            var item = instantiate(_this2.content);
            _this2.scroller.content.addChild(item);
            var _actions = actions.filter(function (action) {
              return action.playerName === _player.playerName;
            });
            (_item$getComponent = item.getComponent(UIItemDetailHistory)) == null || _item$getComponent.init(_actions, _player);
          };
          for (var _iterator = _createForOfIteratorHelperLoose(players), _step; !(_step = _iterator()).done;) {
            _loop();
          }
          this.cards.forEach(function (card) {
            return card.node.active = false;
          });
          var _uc = pDecorators.instance(UICardConfig);
          for (var i = 0; i < board.length; i++) {
            try {
              var card = this.cards[i];
              card.node.active = true;
              card.spriteFrame = _uc.get(board[i]).frame;
            } catch (e) {}
          }
        };
        return UIPopupDetailHistory;
      }(UIBase), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "uiType", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return UIType.DETAIL_HISTORY;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "scroller", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "content", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "cards", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return [];
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIPopupDonateChip.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts', './UISlider.ts', './Enums.ts', './Decorators.ts', './UIGamePlay.ts', './StringUtils.ts', './MiniLoading.ts', './ResponeCode.ts', './NotifyToast.ts', './LanguageManager.ts', './PlayingController.ts', './UINotice.ts', './UserCommand.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _asyncToGenerator, _regeneratorRuntime, cclegacy, _decorator, Label, Button, UIBase, UISlider, UIType, pDecorators, UIGamePlay, pStringUtils, MiniLoading, ResponseCode, NotifyToast, LanguageMananger, PlayingController, UINotice, request;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Label = module.Label;
      Button = module.Button;
    }, function (module) {
      UIBase = module.UIBase;
    }, function (module) {
      UISlider = module.UISlider;
    }, function (module) {
      UIType = module.UIType;
    }, function (module) {
      pDecorators = module.pDecorators;
    }, function (module) {
      UIGamePlay = module.default;
    }, function (module) {
      pStringUtils = module.pStringUtils;
    }, function (module) {
      MiniLoading = module.MiniLoading;
    }, function (module) {
      ResponseCode = module.ResponseCode;
    }, function (module) {
      NotifyToast = module.NotifyToast;
    }, function (module) {
      LanguageMananger = module.LanguageMananger;
    }, function (module) {
      PlayingController = module.default;
    }, function (module) {
      UINotice = module.UINotice;
    }, function (module) {
      request = module.default;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5;
      cclegacy._RF.push({}, "6bfacCxkpBLFJvsin+CRhlp", "UIPopupDonateChip", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var UIPopupDonateChip = exports('UIPopupDonateChip', (_dec = ccclass('UIPopupDonateChip'), _dec2 = property({
        type: UIType,
        readonly: true,
        override: true
      }), _dec3 = property({
        type: UISlider
      }), _dec4 = property({
        type: Label
      }), _dec5 = property({
        type: Button
      }), _dec6 = property({
        type: MiniLoading
      }), _dec(_class = (_class2 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UIPopupDonateChip, _UIBase);
        function UIPopupDonateChip() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "uiType", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "sliderChip", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbAmountChip", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnTip", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "loader", _descriptor5, _assertThisInitialized(_this));
          return _this;
        }
        var _proto = UIPopupDonateChip.prototype;
        _proto._onLoad = function _onLoad() {
          this.sliderChip.add('onSlide', {
            _function: this._onSlider,
            _this: this
          });
          this._addClickers([{
            target: this.btnTip,
            handlers: this._actTip
          }]);
        };
        _proto._open = /*#__PURE__*/function () {
          var _open2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {
            var _gp, _pc, main, isMainSitDown;
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  _gp = pDecorators.instance(UIGamePlay);
                  _pc = pDecorators.instance(PlayingController);
                  main = _gp.main;
                  isMainSitDown = _pc.isMainSitDown;
                  if (isMainSitDown) {
                    _context.next = 8;
                    break;
                  }
                  this.close();
                  UINotice.instance.show('txt_title', 'txt_cant_tip_dealer_before_game_start', 'txt_btn_confirm');
                  return _context.abrupt("return");
                case 8:
                  this.sliderChip.setValueSlider(0, main.data.chips);
                  _context.next = 11;
                  return _UIBase.prototype._open.call(this);
                case 11:
                case "end":
                  return _context.stop();
              }
            }, _callee, this);
          }));
          function _open() {
            return _open2.apply(this, arguments);
          }
          return _open;
        }();
        _proto._onStart = function _onStart() {
          this.sliderChip.setDisplayProcess(0.5);
          var _str = LanguageMananger.instance.getString('txt_donate_chip');
          this.lbAmountChip.string = pStringUtils.replace(_str, {
            find: "@amount",
            replacer: pStringUtils.formatNumberKMB(this.sliderChip.current)
          });
        };
        _proto._onSlider = function _onSlider(progess, current) {
          var _str = LanguageMananger.instance.getString('txt_donate_chip');
          this.lbAmountChip.string = pStringUtils.replace(_str, {
            find: "@amount",
            replacer: pStringUtils.formatNumberKMB(current)
          });
        };
        _proto._actTip = /*#__PURE__*/function () {
          var _actTip2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {
            var amount, tid, res, code;
            return _regeneratorRuntime().wrap(function _callee2$(_context2) {
              while (1) switch (_context2.prev = _context2.next) {
                case 0:
                  this.loader.show();
                  amount = this.sliderChip.current;
                  tid = PlayingController.instance.tid;
                  _context2.next = 5;
                  return request('tipDealer', {
                    amount: amount,
                    type: "CHIP",
                    tid: tid
                  });
                case 5:
                  res = _context2.sent;
                  this.loader.close();
                  code = res.code;
                  _context2.t0 = code;
                  _context2.next = _context2.t0 === ResponseCode.SUCCESS ? 11 : _context2.t0 === ResponseCode.ERROR ? 13 : 15;
                  break;
                case 11:
                  this.close();
                  return _context2.abrupt("break", 15);
                case 13:
                  NotifyToast.instance.show(LanguageMananger.instance.getString('txt_tip_dealer_failed'), 'table');
                  return _context2.abrupt("break", 15);
                case 15:
                case "end":
                  return _context2.stop();
              }
            }, _callee2, this);
          }));
          function _actTip() {
            return _actTip2.apply(this, arguments);
          }
          return _actTip;
        }();
        return UIPopupDonateChip;
      }(UIBase), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "uiType", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return UIType.DONATE_CHIP;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "sliderChip", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "lbAmountChip", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "btnTip", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "loader", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIPopupGiveAway.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts', './UIGiveAwayItem.ts'], function (exports) {
  var _applyDecoratedDescriptor, _initializerDefineProperty, _inheritsLoose, _assertThisInitialized, cclegacy, _decorator, CCString, CCInteger, ScrollView, Prefab, ToggleContainer, instantiate, UIBase, UIGiveAwayItem;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _initializerDefineProperty = module.initializerDefineProperty;
      _inheritsLoose = module.inheritsLoose;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      CCString = module.CCString;
      CCInteger = module.CCInteger;
      ScrollView = module.ScrollView;
      Prefab = module.Prefab;
      ToggleContainer = module.ToggleContainer;
      instantiate = module.instantiate;
    }, function (module) {
      UIBase = module.UIBase;
    }, function (module) {
      UIGiveAwayItem = module.UIGiveAwayItem;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _class, _class2, _descriptor, _descriptor2, _dec4, _dec5, _dec6, _dec7, _class4, _class5, _descriptor3, _descriptor4, _descriptor5, _dec8, _dec9, _dec10, _dec11, _dec12, _dec13, _class7, _class8, _descriptor6, _descriptor7, _descriptor8, _descriptor9, _descriptor10;
      cclegacy._RF.push({}, "30f7bfw2M5Ea4CZwOlqYkDK", "UIPopupGiveAway", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var GiftItemData = exports('GiftItemData', (_dec = ccclass('GiftItemData'), _dec2 = property(CCString), _dec3 = property(CCString), _dec(_class = (_class2 = function GiftItemData() {
        this.id = 0;
        _initializerDefineProperty(this, "icon", _descriptor, this);
        _initializerDefineProperty(this, "giftValue", _descriptor2, this);
      }, (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "icon", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return '1';
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "giftValue", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return '';
        }
      })), _class2)) || _class));
      var GiftPageData = exports('GiftPageData', (_dec4 = ccclass('GiftPageData'), _dec5 = property(CCInteger), _dec6 = property(CCInteger), _dec7 = property([GiftItemData]), _dec4(_class4 = (_class5 = function GiftPageData() {
        _initializerDefineProperty(this, "menuIndex", _descriptor3, this);
        _initializerDefineProperty(this, "pageIndex", _descriptor4, this);
        _initializerDefineProperty(this, "data", _descriptor5, this);
      }, (_descriptor3 = _applyDecoratedDescriptor(_class5.prototype, "menuIndex", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return 0;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class5.prototype, "pageIndex", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return 0;
        }
      }), _descriptor5 = _applyDecoratedDescriptor(_class5.prototype, "data", [_dec7], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return [];
        }
      })), _class5)) || _class4));
      var UIPopupGiveAway = exports('UIPopupGiveAway', (_dec8 = ccclass('UIPopupGiveAway'), _dec9 = property(ScrollView), _dec10 = property(Prefab), _dec11 = property(ToggleContainer), _dec12 = property([ToggleContainer]), _dec13 = property([GiftPageData]), _dec8(_class7 = (_class8 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UIPopupGiveAway, _UIBase);
        function UIPopupGiveAway() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "scrViewItem", _descriptor6, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "itemPrefab", _descriptor7, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "menuToggleContainer", _descriptor8, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "navToggleContainers", _descriptor9, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "giftData", _descriptor10, _assertThisInitialized(_this));
          _this._currentMenuIndex = 0;
          return _this;
        }
        var _proto = UIPopupGiveAway.prototype;
        _proto._onOpen = function _onOpen() {
          this.loadData(0, 0);
        };
        _proto.loadData = function loadData(menuIndex, pageIndex) {
          var _this2 = this;
          this.scrViewItem.content.removeAllChildren();
          var data = this.giftData.find(function (g) {
            return g.menuIndex == menuIndex && g.pageIndex == pageIndex;
          });
          if (!data) return;
          data.data.forEach(function (v) {
            var itemNode = instantiate(_this2.itemPrefab);
            _this2.scrViewItem.content.addChild(itemNode);
            itemNode.getComponent(UIGiveAwayItem).init(v);
          });
        };
        _proto.onMenuToggleChange = function onMenuToggleChange(toggle) {
          var _this3 = this;
          this._currentMenuIndex = this.menuToggleContainer.toggleItems.indexOf(toggle) || this._currentMenuIndex;
          this.navToggleContainers.forEach(function (t, i) {
            t.node.active = _this3._currentMenuIndex === i;
            _this3._currentMenuIndex === i && (t.toggleItems[0].isChecked = true);
          });
          this.loadData(this._currentMenuIndex, 0);
        };
        _proto.onNavToggleChange = function onNavToggleChange(toggle) {
          var index = this.navToggleContainers[this._currentMenuIndex].toggleItems.indexOf(toggle) || 0;
          this.loadData(this._currentMenuIndex, index);
        };
        return UIPopupGiveAway;
      }(UIBase), (_descriptor6 = _applyDecoratedDescriptor(_class8.prototype, "scrViewItem", [_dec9], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor7 = _applyDecoratedDescriptor(_class8.prototype, "itemPrefab", [_dec10], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor8 = _applyDecoratedDescriptor(_class8.prototype, "menuToggleContainer", [_dec11], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor9 = _applyDecoratedDescriptor(_class8.prototype, "navToggleContainers", [_dec12], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return [];
        }
      }), _descriptor10 = _applyDecoratedDescriptor(_class8.prototype, "giftData", [_dec13], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return [];
        }
      })), _class8)) || _class7));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIPopupGiveGift.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts', './Enums.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, cclegacy, _decorator, UIBase, UIType;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
    }, function (module) {
      UIBase = module.UIBase;
    }, function (module) {
      UIType = module.UIType;
    }],
    execute: function () {
      var _dec, _dec2, _class, _class2, _descriptor;
      cclegacy._RF.push({}, "86387PI5PxC+LkPq42JEJMY", "UIPopupGiveGift", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var UIPopupGiveGift = exports('UIPopupGiveGift', (_dec = ccclass('UIPopupGiveGift'), _dec2 = property({
        type: UIType,
        override: true,
        readonly: true
      }), _dec(_class = (_class2 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UIPopupGiveGift, _UIBase);
        function UIPopupGiveGift() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "uiType", _descriptor, _assertThisInitialized(_this));
          return _this;
        }
        return UIPopupGiveGift;
      }(UIBase), _descriptor = _applyDecoratedDescriptor(_class2.prototype, "uiType", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return UIType.GIVE_GIF;
        }
      }), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIPopupHelpMTT.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts', './LanguageManager.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, cclegacy, _decorator, ScrollView, Button, Node, instantiate, Label, UIBase, LanguageMananger;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      ScrollView = module.ScrollView;
      Button = module.Button;
      Node = module.Node;
      instantiate = module.instantiate;
      Label = module.Label;
    }, function (module) {
      UIBase = module.UIBase;
    }, function (module) {
      LanguageMananger = module.LanguageMananger;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6;
      cclegacy._RF.push({}, "6288bQ4ivVJB7cBA/rTOKYd", "UIPopupHelpMTT", undefined);
      var ccclass = _decorator.ccclass,
        type = _decorator.type;
      var UIPopupHelpMTT = exports('UIPopupHelpMTT', (_dec = ccclass('UIPopupHelpMTT'), _dec2 = type(ScrollView), _dec3 = type(Button), _dec4 = type(Node), _dec5 = type(Node), _dec6 = type(Node), _dec7 = type(Node), _dec(_class = (_class2 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UIPopupHelpMTT, _UIBase);
        function UIPopupHelpMTT() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "scrViewListTable", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnScrowDown", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "content", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "head1", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "head2", _descriptor5, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "head3", _descriptor6, _assertThisInitialized(_this));
          _this.dataHelp = ["txt_rule_mtt_1", "txt_rule_mtt_2", "txt_rule_mtt_3", "txt_rule_mtt_4", "txt_rule_mtt_5", "txt_rule_mtt_6", "txt_rule_mtt_7", "txt_rule_mtt_8"];
          return _this;
        }
        var _proto = UIPopupHelpMTT.prototype;
        _proto._onStart = function _onStart() {
          this._addClicker(this.btnScrowDown, this.scrDown, this);
        };
        _proto._onOpen = function _onOpen() {
          this.setupView();
        };
        _proto.setupView = function setupView() {
          var _this2 = this;
          this.dataHelp.forEach(function (element, index) {
            var txt = LanguageMananger.instance.getString(element);
            var newNode = null;
            if (index == 0) {
              newNode = instantiate(_this2.head1);
            } else if (index == _this2.dataHelp.length - 1 || index == 1 || index == 2) {
              newNode = instantiate(_this2.head2);
            } else {
              newNode = instantiate(_this2.head3);
            }
            newNode.getComponent(Label).string = txt;
            newNode.parent = _this2.content;
            newNode.active = true;
          });
        };
        _proto.scrDown = function scrDown() {
          this.scrollDown(this.scrViewListTable, 20);
        };
        return UIPopupHelpMTT;
      }(UIBase), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "scrViewListTable", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "btnScrowDown", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "content", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "head1", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "head2", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, "head3", [_dec7], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIPopupHelpSNG.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts'], function (exports) {
  var _inheritsLoose, cclegacy, _decorator, UIBase;
  return {
    setters: [function (module) {
      _inheritsLoose = module.inheritsLoose;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
    }, function (module) {
      UIBase = module.UIBase;
    }],
    execute: function () {
      var _dec, _class;
      cclegacy._RF.push({}, "9b5d8J01qVEOK5jMcm1lqhK", "UIPopupHelpSNG", undefined);
      var ccclass = _decorator.ccclass;
      var UIPopupHelpSNG = exports('UIPopupHelpSNG', (_dec = ccclass('UIPopupHelpSNG'), _dec(_class = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UIPopupHelpSNG, _UIBase);
        function UIPopupHelpSNG() {
          return _UIBase.apply(this, arguments) || this;
        }
        return UIPopupHelpSNG;
      }(UIBase)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIPopupHistory.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts', './MiniLoading.ts', './Decorators.ts', './EventManager.ts', './GameManager.ts', './UIGamePlay.ts', './UIItemHistory.ts', './GlobalConfig.ts', './ComponentUtils.ts', './UIPlayingScene.ts', './DateUtils.ts', './JsonUtils.ts'], function (exports) {
  var _extends, _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _asyncToGenerator, _regeneratorRuntime, _createForOfIteratorHelperLoose, cclegacy, _decorator, Prefab, Node, Label, Button, PageView, instantiate, UIBase, MiniLoading, pDecorators, pEventManager, GameManager, UIGamePlay, UIItemHistory, GlobalConfig, pComponentUtils, UIPlayingScene, pDateUtils, JsonUtils;
  return {
    setters: [function (module) {
      _extends = module.extends;
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
      _createForOfIteratorHelperLoose = module.createForOfIteratorHelperLoose;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Prefab = module.Prefab;
      Node = module.Node;
      Label = module.Label;
      Button = module.Button;
      PageView = module.PageView;
      instantiate = module.instantiate;
    }, function (module) {
      UIBase = module.UIBase;
    }, function (module) {
      MiniLoading = module.MiniLoading;
    }, function (module) {
      pDecorators = module.pDecorators;
    }, function (module) {
      pEventManager = module.pEventManager;
    }, function (module) {
      GameManager = module.GameManager;
    }, function (module) {
      UIGamePlay = module.default;
    }, function (module) {
      UIItemHistory = module.UIItemHistory;
    }, function (module) {
      GlobalConfig = module.default;
    }, function (module) {
      pComponentUtils = module.pComponentUtils;
    }, function (module) {
      UIPlayingScene = module.default;
    }, function (module) {
      pDateUtils = module.pDateUtils;
    }, function (module) {
      JsonUtils = module.default;
    }],
    execute: function () {
      exports('NSGameHistory', void 0);
      cclegacy._RF.push({}, "4f7demXrzxBBINLNHPJy5Be", "UIPopupHistory", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var singleton = pDecorators.singleton;
      var NSGameHistory;
      (function (_NSGameHistory, _dec, _class, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _dec11, _class3, _class4, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9) {
        var Manager = (_dec = singleton({
          initer: "_init",
          destroyer: '_destroy',
          wake: "Instantly",
          async: true
        }), _dec(_class = /*#__PURE__*/function () {
          function Manager() {
            this._events = [['onEndGame', this._onEndGame, this], ['onEndTurn', this._onEndTurn, this], ['onTableEvent', this._onTableEvent, this], ['onLoggingIn', this._onLoggingIn, this]];
            this._bets = [];
            this._history = [];
            this._actions = [];
          }
          var _proto = Manager.prototype;
          _proto._init = function _init() {
            pEventManager.on(this._events);
          };
          _proto._onLoggingIn = /*#__PURE__*/function () {
            var _onLoggingIn2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {
              var _gm, _data;
              return _regeneratorRuntime().wrap(function _callee$(_context) {
                while (1) switch (_context.prev = _context.next) {
                  case 0:
                    _gm = pDecorators.instance(GameManager);
                    _context.next = 3;
                    return _gm.getStorage().get('GAME_HISTORY');
                  case 3:
                    _data = _context.sent;
                    this._history = JsonUtils.isValidData(_data) ? JSON.parse(_data) : [];
                  case 5:
                  case "end":
                    return _context.stop();
                }
              }, _callee, this);
            }));
            function _onLoggingIn() {
              return _onLoggingIn2.apply(this, arguments);
            }
            return _onLoggingIn;
          }();
          _proto._destroy = function _destroy() {
            pEventManager.off(this._events);
          };
          _proto._actionBinder = function _actionBinder(actions, roundName) {
            if (this._actions.length == actions.length) return;
            var _action = actions[actions.length - 1];
            if (!_action) return;
            if (roundName == 'GameEnd') {
              var _lastAction = this._actions[this._actions.length - 1];
              if (!_lastAction) roundName = 'Deal';else roundName = _lastAction.round;
            }
            this._actions.push(_extends({}, _action, {
              round: roundName
            }));
          };
          _proto._onTableEvent = function _onTableEvent(data) {
            var route = data.route,
              msg = data.msg;
            if (route != 'onTableEvent') return;
            var game = msg.game,
              actions = msg.actions,
              players = msg.players;
            var roundName = game.roundName;
            if (!GlobalConfig.instance.hasMainById(players)) return;
            this._actionBinder(actions, roundName);
          };
          _proto._onEndTurn = function _onEndTurn(data) {
            var route = data.route,
              msg = data.msg;
            if (route != 'onEndTurn') return;
            var game = msg.game,
              players = msg.players;
            var roundBets = game.roundBets;
            if (!GlobalConfig.instance.hasMainById(players)) return;
            this._bets = roundBets;
          };
          _proto._onEndGame = function _onEndGame(data) {
            var _this = this;
            var route = data.route,
              msg = data.msg;
            if (route != 'onEndGame') return;
            var game = msg.game,
              players = msg.players,
              gameWinners = msg.gameWinners,
              actions = msg.actions;
            var board = game.board,
              blinds = game.blinds,
              roundName = game.roundName;
            if (!GlobalConfig.instance.hasMainById(players)) return;
            this._actionBinder(actions, roundName);
            var _players = players.map(function (_player) {
              var index = _player.index;
              var _target = gameWinners.find(function (_winner) {
                return _winner.playerName === _player.playerName;
              }) || {
                amount: 0
              };
              return _extends({}, _player, {
                betted: _this._bets[index],
                isBB: blinds[1] === index,
                isSB: blinds[0] === index,
                winAmount: _target.amount
              });
            });
            var _gp = pDecorators.instance(UIGamePlay);
            var _pv = pDecorators.instance(UIPlayingScene);
            if (!_gp || !_pv) return;
            var _gp$data = _gp.data,
              numberPlayers = _gp$data.count,
              typeModePlay = _gp$data.mode,
              dealSpeed = _gp$data.speed;
            var dataTable = _pv.table;
            var extendData = dataTable.data;
            var zone = extendData.zone,
              displayTid = extendData.displayTid,
              smallBlind = extendData.smallBlind,
              bigBlind = extendData.bigBlind;
            var _data = {
              count: numberPlayers,
              mode: typeModePlay,
              speed: dealSpeed,
              zone: zone,
              id: displayTid,
              bb: bigBlind,
              sb: smallBlind
            };
            var _posCFG = _gp.posCFG;
            var history = {
              date: pDateUtils.serialize(new Date()),
              actions: this._actions,
              board: board,
              posCFG: _posCFG,
              data: _data,
              players: _players
            };
            this._history.push(history);
            var _save = JSON.stringify(this._history);
            pDecorators.instance(GameManager).getStorage().save('GAME_HISTORY', _save);
            this._actions = [];
          };
          _proto.get = function get() {
            return this._history;
          };
          return Manager;
        }()) || _class);
        _NSGameHistory.Manager = Manager;
        var _Group_Extend = {
          name: "Extend",
          id: "2"
        };
        var _Group_Core = {
          name: "Core",
          id: "2"
        };
        var _Group_Page = {
          name: "Page",
          id: "2"
        };
        var Popup = (_dec2 = ccclass('NSGameHistory.Popup'), _dec3 = property({
          group: _Group_Core,
          type: Prefab
        }), _dec4 = property({
          group: _Group_Core,
          type: Node
        }), _dec5 = property({
          group: _Group_Core,
          type: Label
        }), _dec6 = property({
          group: _Group_Core,
          type: Label
        }), _dec7 = property({
          group: _Group_Page,
          type: Button
        }), _dec8 = property({
          group: _Group_Page,
          type: Button
        }), _dec9 = property({
          group: _Group_Page,
          type: PageView
        }), _dec10 = property({
          group: _Group_Extend,
          type: MiniLoading
        }), _dec11 = property({
          group: _Group_Extend,
          type: Node
        }), _dec2(_class3 = (_class4 = /*#__PURE__*/function (_UIBase) {
          _inheritsLoose(Popup, _UIBase);
          function Popup() {
            var _this2;
            for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
              args[_key] = arguments[_key];
            }
            _this2 = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
            _initializerDefineProperty(_this2, "item", _descriptor, _assertThisInitialized(_this2));
            _initializerDefineProperty(_this2, "dateBox", _descriptor2, _assertThisInitialized(_this2));
            _initializerDefineProperty(_this2, "day", _descriptor3, _assertThisInitialized(_this2));
            _initializerDefineProperty(_this2, "hours", _descriptor4, _assertThisInitialized(_this2));
            _initializerDefineProperty(_this2, "btnNext", _descriptor5, _assertThisInitialized(_this2));
            _initializerDefineProperty(_this2, "btnPrev", _descriptor6, _assertThisInitialized(_this2));
            _initializerDefineProperty(_this2, "pageView", _descriptor7, _assertThisInitialized(_this2));
            _initializerDefineProperty(_this2, "loading", _descriptor8, _assertThisInitialized(_this2));
            _initializerDefineProperty(_this2, "empty", _descriptor9, _assertThisInitialized(_this2));
            return _this2;
          }
          var _proto2 = Popup.prototype;
          _proto2._onLoad = function _onLoad() {
            this._addClickers([{
              handlers: this._actNextPage,
              target: this.btnNext
            }, {
              handlers: this._actPrevPage,
              target: this.btnPrev
            }]);
            pComponentUtils.binds(this.pageView, 'pageEvents', this, '_onPageChange');
          };
          _proto2._onPageChange = /*#__PURE__*/function () {
            var _onPageChange2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(page) {
              var _index, _page$getPages, length, _mng, _history;
              return _regeneratorRuntime().wrap(function _callee2$(_context2) {
                while (1) switch (_context2.prev = _context2.next) {
                  case 0:
                    _index = page.getCurrentPageIndex();
                    _page$getPages = page.getPages(), length = _page$getPages.length;
                    this.btnPrev.interactable = _index - 1 > 0;
                    this.btnNext.interactable = _index + 1 < length;
                    _context2.next = 6;
                    return pDecorators.wait(Manager);
                  case 6:
                    _mng = _context2.sent;
                    _history = _mng.get()[_index];
                    this._update(_history);
                  case 9:
                  case "end":
                    return _context2.stop();
                }
              }, _callee2, this);
            }));
            function _onPageChange(_x) {
              return _onPageChange2.apply(this, arguments);
            }
            return _onPageChange;
          }();
          _proto2._update = function _update(history) {
            if (!history) return;
            var date = history.date;
            var _date = pDateUtils.deserialize(date);
            var _day = _date.getDay();
            var _month = _date.getMonth();
            var _year = _date.getFullYear();
            var _hours = _date.getHours();
            var _minutes = _date.getMinutes();
            this.day.string = _day + "-" + _month + "-" + _year;
            this.hours.string = _hours + ":" + _minutes;
          };
          _proto2.onEnable = /*#__PURE__*/function () {
            var _onEnable = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {
              var _mng, _pv, _history, _length, _page, content, _iterator, _step, _item$getComponent, ret, _item;
              return _regeneratorRuntime().wrap(function _callee3$(_context3) {
                while (1) switch (_context3.prev = _context3.next) {
                  case 0:
                    _context3.next = 2;
                    return pDecorators.wait(Manager);
                  case 2:
                    _mng = _context3.sent;
                    _pv = pDecorators.instance(UIPlayingScene);
                    _history = _mng.get();
                    _length = _history.length;
                    this.empty.active = _length <= 0;
                    this.dateBox.active = !this.empty.active;
                    _page = this.pageView.getCurrentPageIndex();
                    this.btnPrev.interactable = _page > 0;
                    this.btnNext.interactable = _page < _length - 1;
                    content = this.pageView.content;
                    if (!(_length === content.children.length)) {
                      _context3.next = 14;
                      break;
                    }
                    return _context3.abrupt("return");
                  case 14:
                    this.pageView.removeAllPages();
                    for (_iterator = _createForOfIteratorHelperLoose(_history); !(_step = _iterator()).done;) {
                      ret = _step.value;
                      _item = instantiate(this.item);
                      this.pageView.addPage(_item);
                      (_item$getComponent = _item.getComponent(UIItemHistory)) == null || _item$getComponent.init(ret, _pv.table);
                    }
                    this._update(_history[0]);
                  case 17:
                  case "end":
                    return _context3.stop();
                }
              }, _callee3, this);
            }));
            function onEnable() {
              return _onEnable.apply(this, arguments);
            }
            return onEnable;
          }();
          _proto2._actNextPage = function _actNextPage() {
            var _index = this.pageView.getCurrentPageIndex() + 1;
            var _this$pageView$getPag = this.pageView.getPages(),
              length = _this$pageView$getPag.length;
            _index < length && this.pageView.scrollToPage(_index);
          };
          _proto2._actPrevPage = function _actPrevPage() {
            var _index = this.pageView.getCurrentPageIndex() - 1;
            _index >= 0 && this.pageView.scrollToPage(_index, 0.15);
          };
          return Popup;
        }(UIBase), (_descriptor = _applyDecoratedDescriptor(_class4.prototype, "item", [_dec3], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return null;
          }
        }), _descriptor2 = _applyDecoratedDescriptor(_class4.prototype, "dateBox", [_dec4], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return null;
          }
        }), _descriptor3 = _applyDecoratedDescriptor(_class4.prototype, "day", [_dec5], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return null;
          }
        }), _descriptor4 = _applyDecoratedDescriptor(_class4.prototype, "hours", [_dec6], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return null;
          }
        }), _descriptor5 = _applyDecoratedDescriptor(_class4.prototype, "btnNext", [_dec7], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return null;
          }
        }), _descriptor6 = _applyDecoratedDescriptor(_class4.prototype, "btnPrev", [_dec8], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return null;
          }
        }), _descriptor7 = _applyDecoratedDescriptor(_class4.prototype, "pageView", [_dec9], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return null;
          }
        }), _descriptor8 = _applyDecoratedDescriptor(_class4.prototype, "loading", [_dec10], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return null;
          }
        }), _descriptor9 = _applyDecoratedDescriptor(_class4.prototype, "empty", [_dec11], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return null;
          }
        })), _class4)) || _class3);
        _NSGameHistory.Popup = Popup;
      })(NSGameHistory || (NSGameHistory = exports('NSGameHistory', {})));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIPopupInfoTournMTT.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts', './Enums.ts', './DateUtils.ts', './LanguageManager.ts', './UIItemLevelsBlind.ts', './UIItemReward.ts', './UIItemRanker.ts', './StringUtils.ts', './ComponentUtils.ts', './MTTCommand.ts', './MiniLoading.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _asyncToGenerator, _regeneratorRuntime, cclegacy, _decorator, ToggleContainer, Label, Node, Prefab, instantiate, UIBase, EInforTournType, pDateUtils, LanguageMananger, UIItemLevelsBlind, UIItemReward, UIItemRanker, pStringUtils, pComponentUtils, request, MiniLoading;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      ToggleContainer = module.ToggleContainer;
      Label = module.Label;
      Node = module.Node;
      Prefab = module.Prefab;
      instantiate = module.instantiate;
    }, function (module) {
      UIBase = module.UIBase;
    }, function (module) {
      EInforTournType = module.EInforTournType;
    }, function (module) {
      pDateUtils = module.pDateUtils;
    }, function (module) {
      LanguageMananger = module.LanguageMananger;
    }, function (module) {
      UIItemLevelsBlind = module.UIItemLevelsBlind;
    }, function (module) {
      UIItemReward = module.UIItemReward;
    }, function (module) {
      UIItemRanker = module.UIItemRanker;
    }, function (module) {
      pStringUtils = module.pStringUtils;
    }, function (module) {
      pComponentUtils = module.pComponentUtils;
    }, function (module) {
      request = module.default;
    }, function (module) {
      MiniLoading = module.MiniLoading;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _dec11, _dec12, _dec13, _dec14, _dec15, _dec16, _dec17, _dec18, _dec19, _dec20, _dec21, _dec22, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9, _descriptor10, _descriptor11, _descriptor12, _descriptor13, _descriptor14, _descriptor15, _descriptor16, _descriptor17, _descriptor18, _descriptor19, _descriptor20, _descriptor21;
      cclegacy._RF.push({}, "055cfqGm7pHbLsPV+0XudE4", "UIPopupInfoTournMTT", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var _top = {
        name: 'Top',
        id: 'Common',
        displayOrder: 1
      };
      var _panel = {
        name: 'Panel',
        id: 'Panel',
        displayOrder: 2
      };
      var _infor = {
        name: 'PanelInfor',
        id: 'DetailPanel',
        displayOrder: 3
      };
      var _levels = {
        name: 'PanelLevelsBlind',
        id: 'DetailPanel',
        displayOrder: 4
      };
      var _reward = {
        name: 'PanelReward',
        id: 'DetailPanel',
        displayOrder: 4
      };
      var _ranker = {
        name: 'PanelRanker',
        id: 'DetailPanel',
        displayOrder: 4
      };
      var UIPopupInfoTournMTT = exports('UIPopupInfoTournMTT', (_dec = ccclass('UIPopupInfoTournMTT'), _dec2 = property({
        group: _top,
        type: ToggleContainer
      }), _dec3 = property({
        group: _top,
        type: Label
      }), _dec4 = property({
        group: _panel,
        type: [Node]
      }), _dec5 = property({
        group: _infor,
        type: Label
      }), _dec6 = property({
        group: _infor,
        type: Label
      }), _dec7 = property({
        group: _infor,
        type: Label
      }), _dec8 = property({
        group: _infor,
        type: Label
      }), _dec9 = property({
        group: _infor,
        type: Label
      }), _dec10 = property({
        group: _infor,
        type: Label
      }), _dec11 = property({
        group: _infor,
        type: Label
      }), _dec12 = property({
        group: _infor,
        type: Label
      }), _dec13 = property({
        group: _infor,
        type: Label
      }), _dec14 = property({
        group: _infor,
        type: Label
      }), _dec15 = property({
        group: _levels,
        type: Prefab
      }), _dec16 = property({
        group: _levels,
        type: Node
      }), _dec17 = property({
        group: _reward,
        type: Prefab
      }), _dec18 = property({
        group: _reward,
        type: Node
      }), _dec19 = property({
        group: _ranker,
        type: Prefab
      }), _dec20 = property({
        group: _ranker,
        type: Node
      }), _dec21 = property({
        group: _ranker,
        type: Node
      }), _dec22 = property({
        group: _ranker,
        type: MiniLoading
      }), _dec(_class = (_class2 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UIPopupInfoTournMTT, _UIBase);
        function UIPopupInfoTournMTT() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "tabTypeInfoTourn", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbTitle", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "ListPanel", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbTotalPlayer", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbTimeStart", _descriptor5, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbRewardedCount", _descriptor6, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbFee", _descriptor7, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbstartChip", _descriptor8, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbReward", _descriptor9, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbStatusRebuy", _descriptor10, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbRewardMin", _descriptor11, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbLastAddOn", _descriptor12, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbPlayerMax", _descriptor13, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "itemLevelsBlind", _descriptor14, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "rootListBlind", _descriptor15, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "itemReward", _descriptor16, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "rootListReward", _descriptor17, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "itemRanker", _descriptor18, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "rootListRanker", _descriptor19, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "notifiRanker", _descriptor20, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "loading", _descriptor21, _assertThisInitialized(_this));
          _this._current = EInforTournType.INFOR_TOURN;
          _this._data = null;
          _this._refresher = false;
          return _this;
        }
        var _proto = UIPopupInfoTournMTT.prototype;
        _proto._onStart = function _onStart() {
          pComponentUtils.binds(this.tabTypeInfoTourn, 'checkEvents', this, '_actChange');
          this.log(this.itemLevelsBlind);
        };
        _proto._onOpen = function _onOpen(data, title) {
          this._data = data;
          this.lbTitle.string = title;
          this._actShow(this._current);
        };
        _proto._setup = function _setup() {
          if (!this._data) return;
          var _this$_data = this._data,
            registered_players = _this$_data.registered_players,
            min_players = _this$_data.min_players,
            min_prize_pool = _this$_data.min_prize_pool,
            max_players = _this$_data.max_players,
            start_time = _this$_data.start_time,
            total_fee = _this$_data.total_fee,
            starting_stack = _this$_data.starting_stack,
            payout_structure = _this$_data.payout_structure,
            rebuy_config = _this$_data.rebuy_config,
            addon_config = _this$_data.addon_config;
          var count = rebuy_config.count,
            allowed = rebuy_config.allowed;
          this.lbTotalPlayer.string = registered_players + "/" + max_players;
          var _strs = LanguageMananger.getStrings('txt_free', 'txt_registered', 'txt_unregistered', 'txt_join', 'txt_watch_game', 'txt_see_more', 'txt_to_day', 'txt_tomorrow', 'txt_maybe_rebuy', 'txt_can_not_rebuy', 'txt_multiply_time', 'txt_maybe_last_addon', 'txt_can_not_addon', 'txt_player');
          var _date = new Date(start_time);
          var _diff = pDateUtils.getDiff(_date);
          var _time = _diff <= 0 ? _strs.txt_to_day : _strs.txt_tomorrow;
          var _hour = _date.getHours();
          var _minute = _date.getMinutes();
          this.lbTimeStart.string = _time + " " + _hour + ":" + _minute;
          this.lbRewardedCount.string = "0%";
          this.lbFee.string = total_fee == 0 ? _strs.txt_free : pStringUtils.formatNumberKMB(total_fee);
          this.lbstartChip.string = pStringUtils.formatNumberKMB(starting_stack);
          this.lbReward.string = payout_structure[0] ? pStringUtils.formatNumberKMB(payout_structure[0].reward_amount) : "...";
          this.lbStatusRebuy.string = allowed ? _strs.txt_maybe_rebuy + " " + count + " " + _strs.txt_multiply_time : _strs.txt_can_not_rebuy;
          this.lbRewardMin.string = pStringUtils.formatNumberKMB(min_prize_pool);
          this.lbLastAddOn.string = addon_config.allowed ? _strs.txt_maybe_last_addon + " 1 " + _strs.txt_multiply_time : _strs.txt_can_not_addon;
          this.lbPlayerMax.string = min_players + "~" + max_players + " " + _strs.txt_player;
        };
        _proto._onBlindPanel = function _onBlindPanel() {
          var _this2 = this;
          var _this$_data2 = this._data,
            blind_schedule = _this$_data2.blind_schedule,
            addon_config = _this$_data2.addon_config,
            rebuy_config = _this$_data2.rebuy_config;
          this.rootListBlind.removeAllChildren();
          blind_schedule.sort(function (a, b) {
            return a.level - b.level;
          }).forEach(function (_blind) {
            var _node = instantiate(_this2.itemLevelsBlind);
            _this2.rootListBlind.addChild(_node);
            _node.getComponent(UIItemLevelsBlind).init(_blind, rebuy_config, addon_config);
          });
        };
        _proto._onRewardPanel = function _onRewardPanel() {
          var _this3 = this;
          var payout_structure = this._data.payout_structure;
          this.rootListReward.removeAllChildren();
          payout_structure.sort(function (a, b) {
            return a.rank - b.rank;
          }).forEach(function (_rank) {
            var _node = instantiate(_this3.itemReward);
            _this3.rootListReward.addChild(_node);
            _node.getComponent(UIItemReward).init(_rank);
          });
        };
        _proto._onRankPanel = /*#__PURE__*/function () {
          var _onRankPanel2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {
            var _this4 = this;
            var res, data, leaderboard;
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  this.loading.show();
                  _context.next = 3;
                  return request('getTournamentLeaderboard', {
                    tournament_id: this._data.id,
                    leaderboard_type: 'tournament_overview',
                    includeEliminated: true,
                    forceRefresh: true,
                    limit: 50
                  });
                case 3:
                  res = _context.sent;
                  data = res.data;
                  leaderboard = data.leaderboard;
                  this.loading.close();
                  this.rootListRanker.removeAllChildren();
                  this.notifiRanker.active = leaderboard.length == 0 ? true : false;
                  leaderboard.sort(function (a, b) {
                    return a.tournament_rank - b.tournament_rank;
                  }).forEach(function (_rank) {
                    var _node = instantiate(_this4.itemRanker);
                    _node.getComponent(UIItemRanker).init(_rank) && _this4.rootListRanker.addChild(_node);
                  });
                case 10:
                case "end":
                  return _context.stop();
              }
            }, _callee, this);
          }));
          function _onRankPanel() {
            return _onRankPanel2.apply(this, arguments);
          }
          return _onRankPanel;
        }();
        _proto._actChange = function _actChange(toggle) {
          var tournInforType = toggle.node.getSiblingIndex();
          switch (tournInforType) {
            case 0:
              this._current = EInforTournType.INFOR_TOURN;
              break;
            case 1:
              this._current = EInforTournType.BLIND_LEVELS;
              break;
            case 2:
              this._current = EInforTournType.REWARD;
              break;
            case 3:
              this._current = EInforTournType.RANKER;
              break;
          }
          this._actShow(this._current);
        };
        _proto._actShow = function _actShow(panelIndex) {
          for (var index = 0; index < this.ListPanel.length; index++) {
            this.ListPanel[index].active = panelIndex == index;
          }
          switch (this._current) {
            case EInforTournType.INFOR_TOURN:
              this._setup();
              break;
            case EInforTournType.BLIND_LEVELS:
              this._onBlindPanel();
              break;
            case EInforTournType.REWARD:
              this._onRewardPanel();
              break;
            case EInforTournType.RANKER:
              this._onRankPanel();
              break;
          }
        };
        return UIPopupInfoTournMTT;
      }(UIBase), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "tabTypeInfoTourn", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "lbTitle", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "ListPanel", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return [];
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "lbTotalPlayer", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "lbTimeStart", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, "lbRewardedCount", [_dec7], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor7 = _applyDecoratedDescriptor(_class2.prototype, "lbFee", [_dec8], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor8 = _applyDecoratedDescriptor(_class2.prototype, "lbstartChip", [_dec9], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor9 = _applyDecoratedDescriptor(_class2.prototype, "lbReward", [_dec10], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor10 = _applyDecoratedDescriptor(_class2.prototype, "lbStatusRebuy", [_dec11], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor11 = _applyDecoratedDescriptor(_class2.prototype, "lbRewardMin", [_dec12], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor12 = _applyDecoratedDescriptor(_class2.prototype, "lbLastAddOn", [_dec13], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor13 = _applyDecoratedDescriptor(_class2.prototype, "lbPlayerMax", [_dec14], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor14 = _applyDecoratedDescriptor(_class2.prototype, "itemLevelsBlind", [_dec15], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor15 = _applyDecoratedDescriptor(_class2.prototype, "rootListBlind", [_dec16], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor16 = _applyDecoratedDescriptor(_class2.prototype, "itemReward", [_dec17], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor17 = _applyDecoratedDescriptor(_class2.prototype, "rootListReward", [_dec18], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor18 = _applyDecoratedDescriptor(_class2.prototype, "itemRanker", [_dec19], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor19 = _applyDecoratedDescriptor(_class2.prototype, "rootListRanker", [_dec20], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor20 = _applyDecoratedDescriptor(_class2.prototype, "notifiRanker", [_dec21], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor21 = _applyDecoratedDescriptor(_class2.prototype, "loading", [_dec22], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIPopupInvitePlayer.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts', './GlobalConfig.ts', './UIPopupInvitePlayerItem.ts', './ResponeCode.ts', './MiniLoading.ts', './Decorators.ts', './FriendManager.ts', './TableCommand.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _createForOfIteratorHelperLoose, _createClass, _asyncToGenerator, _regeneratorRuntime, cclegacy, _decorator, Prefab, ScrollView, Node, Toggle, Button, instantiate, UIBase, GlobalConfig, UIPopupInvitePlayerItem, ResponseCode, MiniLoading, pDecorators, NSFriendManager, request;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _createForOfIteratorHelperLoose = module.createForOfIteratorHelperLoose;
      _createClass = module.createClass;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Prefab = module.Prefab;
      ScrollView = module.ScrollView;
      Node = module.Node;
      Toggle = module.Toggle;
      Button = module.Button;
      instantiate = module.instantiate;
    }, function (module) {
      UIBase = module.UIBase;
    }, function (module) {
      GlobalConfig = module.default;
    }, function (module) {
      UIPopupInvitePlayerItem = module.UIPopupInvitePlayerItem;
    }, function (module) {
      ResponseCode = module.ResponseCode;
    }, function (module) {
      MiniLoading = module.MiniLoading;
    }, function (module) {
      pDecorators = module.pDecorators;
    }, function (module) {
      NSFriendManager = module.NSFriendManager;
    }, function (module) {
      request = module.default;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7;
      cclegacy._RF.push({}, "52397TVoQROII2qcEKFKRMb", "UIPopupInvitePlayer", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var UIPopupInvitePlayer = exports('UIPopupInvitePlayer', (_dec = ccclass('UIPopupInvitePlayer'), _dec2 = property(Prefab), _dec3 = property(ScrollView), _dec4 = property(Node), _dec5 = property(Toggle), _dec6 = property(Toggle), _dec7 = property(Button), _dec8 = property(MiniLoading), _dec(_class = (_class2 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UIPopupInvitePlayer, _UIBase);
        function UIPopupInvitePlayer() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "template", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "container", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "emptyIco", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "friends", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "strangers", _descriptor5, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "inviteAll", _descriptor6, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "loading", _descriptor7, _assertThisInitialized(_this));
          _this._isFetched = false;
          _this._friends = [];
          return _this;
        }
        var _proto = UIPopupInvitePlayer.prototype;
        _proto._onLoad = function _onLoad() {
          this._addClickers([{
            handlers: this._actInviteAll,
            target: this.inviteAll
          }]);
          this._addTogglers([{
            handlers: this._actFilterFriends,
            target: this.friends
          }, {
            handlers: this._actFilterStrangers,
            target: this.strangers
          }]);
          this.loading.close();
        };
        _proto._onOpen = /*#__PURE__*/function () {
          var _onOpen2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  _context.next = 2;
                  return this._actFetchFriends(false);
                case 2:
                  this._actFilter({
                    code: ResponseCode.SUCCESS
                  }, this._friends, function (_data) {
                    return {
                      id: _data.id,
                      displayName: _data.full_name,
                      balance: _data.balance,
                      avatar: _data.avatar
                    };
                  });
                case 3:
                case "end":
                  return _context.stop();
              }
            }, _callee, this);
          }));
          function _onOpen() {
            return _onOpen2.apply(this, arguments);
          }
          return _onOpen;
        }();
        _proto._actFetchFriends = /*#__PURE__*/function () {
          var _actFetchFriends2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(force) {
            return _regeneratorRuntime().wrap(function _callee2$(_context2) {
              while (1) switch (_context2.prev = _context2.next) {
                case 0:
                  if (force === void 0) {
                    force = false;
                  }
                  if (!(!this._isFetched || force)) {
                    _context2.next = 7;
                    break;
                  }
                  _context2.next = 4;
                  return pDecorators.instance(NSFriendManager.Handler).getFriend(NSFriendManager.EFriendType.FRIEND);
                case 4:
                  this._friends = _context2.sent;
                  this._isFetched = true;
                  this.inviteAll.interactable = true;
                case 7:
                case 8:
                case "end":
                  return _context2.stop();
              }
            }, _callee2, this);
          }));
          function _actFetchFriends(_x) {
            return _actFetchFriends2.apply(this, arguments);
          }
          return _actFetchFriends;
        }();
        _proto._actInviteAll = function _actInviteAll() {
          var _list = this.pool.children.map(function (comp) {
            return comp.getComponent(UIPopupInvitePlayerItem);
          });
          _list.forEach(function (comp) {
            return comp == null ? void 0 : comp.invite();
          });
          this.inviteAll.interactable = false;
        };
        _proto._actFilterFriends = /*#__PURE__*/function () {
          var _actFilterFriends2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {
            return _regeneratorRuntime().wrap(function _callee3$(_context3) {
              while (1) switch (_context3.prev = _context3.next) {
                case 0:
                  this.loading.show();
                  _context3.next = 3;
                  return this._actFetchFriends(false);
                case 3:
                  !!this._friends && this._actFilter({
                    code: ResponseCode.SUCCESS
                  }, this._friends, function (_data) {
                    return {
                      id: _data.id,
                      displayName: _data.full_name,
                      balance: _data.balance,
                      avatar: _data.avatar
                    };
                  });
                  this.loading.close();
                case 5:
                case "end":
                  return _context3.stop();
              }
            }, _callee3, this);
          }));
          function _actFilterFriends() {
            return _actFilterFriends2.apply(this, arguments);
          }
          return _actFilterFriends;
        }();
        _proto._onClose = function _onClose() {
          this.loading.close();
          this.pool.removeAllChildren();
        };
        _proto._actFilter = function _actFilter(msg, list, handler) {
          this.pool.removeAllChildren();
          switch (msg.code) {
            case ResponseCode.SUCCESS:
              {
                this.emptyIco.active = list.length <= 0;
                for (var _iterator = _createForOfIteratorHelperLoose(list), _step; !(_step = _iterator()).done;) {
                  var ret = _step.value;
                  var node = instantiate(this.template);
                  var comp = node.getComponent(UIPopupInvitePlayerItem);
                  (comp == null ? void 0 : comp.init(handler(ret))) && this.pool.addChild(node);
                }
                break;
              }
            case ResponseCode.ERROR:
              {
                this.close();
                break;
              }
          }
        };
        _proto._actFilterStrangers = /*#__PURE__*/function () {
          var _actFilterStrangers2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {
            var _this2 = this;
            var msg, list;
            return _regeneratorRuntime().wrap(function _callee4$(_context4) {
              while (1) switch (_context4.prev = _context4.next) {
                case 0:
                  this.loading.show();
                  _context4.next = 3;
                  return request('getUsersInLobby', {
                    uid: GlobalConfig.instance.Login.player.information.uid.toString()
                  });
                case 3:
                  msg = _context4.sent;
                  list = msg.msg.filter(function (_stranger) {
                    return !_this2._friends.find(function (_friend) {
                      return _friend.uid == _stranger.uid;
                    });
                  });
                  this._actFilter(msg, list, function (_data) {
                    return _data;
                  });
                  this.loading.close();
                case 7:
                case "end":
                  return _context4.stop();
              }
            }, _callee4, this);
          }));
          function _actFilterStrangers() {
            return _actFilterStrangers2.apply(this, arguments);
          }
          return _actFilterStrangers;
        }();
        _proto.refreshBTN = function refreshBTN() {
          this.pool.removeAllChildren();
          this.refresh();
        };
        _proto.refresh = /*#__PURE__*/function () {
          var _refresh = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5() {
            return _regeneratorRuntime().wrap(function _callee5$(_context5) {
              while (1) switch (_context5.prev = _context5.next) {
                case 0:
                  this.loading.show();
                  if (!this.friends.isChecked) {
                    _context5.next = 6;
                    break;
                  }
                  _context5.next = 4;
                  return this._actFilterFriends();
                case 4:
                  _context5.next = 8;
                  break;
                case 6:
                  _context5.next = 8;
                  return this._actFilterStrangers();
                case 8:
                  this.loading.close();
                  this.inviteAll.interactable = true;
                case 10:
                case "end":
                  return _context5.stop();
              }
            }, _callee5, this);
          }));
          function refresh() {
            return _refresh.apply(this, arguments);
          }
          return refresh;
        }();
        _createClass(UIPopupInvitePlayer, [{
          key: "pool",
          get: function get() {
            return this.container.content;
          }
        }]);
        return UIPopupInvitePlayer;
      }(UIBase), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "template", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "container", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "emptyIco", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "friends", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "strangers", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, "inviteAll", [_dec7], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor7 = _applyDecoratedDescriptor(_class2.prototype, "loading", [_dec8], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIPopupInvitePlayerItem.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './GlobalConfig.ts', './PlayingController.ts', './ResponeCode.ts', './StringUtils.ts', './Decorators.ts', './AssetManager.ts', './ComponentUtils.ts', './UserCommand.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _asyncToGenerator, _regeneratorRuntime, cclegacy, _decorator, Sprite, Label, Toggle, Button, Node, Component, GlobalConfig, PlayingController, ResponseCode, pStringUtils, pDecorators, NSAsset, pComponentUtils, request;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Sprite = module.Sprite;
      Label = module.Label;
      Toggle = module.Toggle;
      Button = module.Button;
      Node = module.Node;
      Component = module.Component;
    }, function (module) {
      GlobalConfig = module.default;
    }, function (module) {
      PlayingController = module.default;
    }, function (module) {
      ResponseCode = module.ResponseCode;
    }, function (module) {
      pStringUtils = module.pStringUtils;
    }, function (module) {
      pDecorators = module.pDecorators;
    }, function (module) {
      NSAsset = module.NSAsset;
    }, function (module) {
      pComponentUtils = module.pComponentUtils;
    }, function (module) {
      request = module.default;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6;
      cclegacy._RF.push({}, "151cf6voFRN5p79mGF3rZQZ", "UIPopupInvitePlayerItem", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var UIPopupInvitePlayerItem = exports('UIPopupInvitePlayerItem', (_dec = ccclass('UIPopupInvitePlayerItem'), _dec2 = property(Sprite), _dec3 = property(Label), _dec4 = property(Label), _dec5 = property(Toggle), _dec6 = property(Button), _dec7 = property(Node), _dec(_class = (_class2 = /*#__PURE__*/function (_Component) {
        _inheritsLoose(UIPopupInvitePlayerItem, _Component);
        function UIPopupInvitePlayerItem() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _Component.call.apply(_Component, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "avatar", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "username", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "balance", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "invited", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnInvite", _descriptor5, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "targetNode", _descriptor6, _assertThisInitialized(_this));
          _this._fid = '';
          return _this;
        }
        var _proto = UIPopupInvitePlayerItem.prototype;
        _proto.onLoad = function onLoad() {
          pComponentUtils.appends({
            _options: {
              _handlers: this._onClick,
              _target: this.btnInvite
            },
            _type: Button.EventType.CLICK,
            _binder: this
          });
        };
        _proto._onClick = function _onClick() {
          this.targetNode.active && this.invite();
          this.targetNode.active = false;
        };
        _proto.init = /*#__PURE__*/function () {
          var _init = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(data) {
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  _context.prev = 0;
                  this._fid = data.id.toString();
                  this.username.string = data.displayName;
                  this.balance.string = pStringUtils.formatMoneyWithDot(data.balance);
                  _context.next = 6;
                  return pDecorators.instance(NSAsset.Manager).get(data.avatar);
                case 6:
                  this.avatar.spriteFrame = _context.sent;
                  this.targetNode.active = true;
                  return _context.abrupt("return", true);
                case 11:
                  _context.prev = 11;
                  _context.t0 = _context["catch"](0);
                  return _context.abrupt("return", false);
                case 14:
                case "end":
                  return _context.stop();
              }
            }, _callee, this, [[0, 11]]);
          }));
          function init(_x) {
            return _init.apply(this, arguments);
          }
          return init;
        }();
        _proto.invite = function invite() {
          var _this2 = this;
          var instance = GlobalConfig.instance;
          var information = instance.Login.player.information;
          instance.loading.open();
          var onSuccess = function onSuccess(msg) {
            instance.loading.close();
            switch (msg.code) {
              case ResponseCode.ERROR:
                {
                  instance.notice.show('txt_title', msg.error, 'txt_btn_confirm2');
                  break;
                }
              case ResponseCode.SUCCESS:
                {
                  _this2.targetNode.active = false;
                  break;
                }
            }
          };
          request('sendInvitePlay', {
            sender_id: information.uid.toString(),
            tid: PlayingController.instance.tid,
            receiver_id: this._fid,
            pos: 0
          }, {
            onSuccess: onSuccess
          });
        };
        return UIPopupInvitePlayerItem;
      }(Component), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "avatar", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "username", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "balance", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "invited", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "btnInvite", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, "targetNode", [_dec7], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIPopupMiniGame.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts', './Enums.ts', './NotifyToast.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, cclegacy, _decorator, Button, UIBase, UIType, NotifyToast;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Button = module.Button;
    }, function (module) {
      UIBase = module.UIBase;
    }, function (module) {
      UIType = module.UIType;
    }, function (module) {
      NotifyToast = module.NotifyToast;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4;
      cclegacy._RF.push({}, "e5494EaA8xNi7hJu3gZ5UpW", "UIPopupMiniGame", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var UIPopupMiniGame = exports('UIPopupMiniGame', (_dec = ccclass('UIPopupMiniGame'), _dec2 = property({
        type: UIType,
        override: true,
        readonly: true
      }), _dec3 = property({
        type: Button
      }), _dec4 = property({
        type: Button
      }), _dec5 = property({
        type: Button
      }), _dec(_class = (_class2 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UIPopupMiniGame, _UIBase);
        function UIPopupMiniGame() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "uiType", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnMiniGame1", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnMiniGame2", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnMiniGame3", _descriptor4, _assertThisInitialized(_this));
          return _this;
        }
        var _proto = UIPopupMiniGame.prototype;
        _proto._onLoad = function _onLoad() {
          this._addClickers([{
            target: this.btnMiniGame1,
            handlers: this._actCommingSoon
          }, {
            target: this.btnMiniGame2,
            handlers: this._actCommingSoon
          }, {
            target: this.btnMiniGame3,
            handlers: this._actCommingSoon
          }]);
        };
        _proto._actCommingSoon = function _actCommingSoon() {
          NotifyToast.instance.showWithKey('txt_comming_soon', 'table');
        };
        return UIPopupMiniGame;
      }(UIBase), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "uiType", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return UIType.MINI_GAME;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "btnMiniGame1", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "btnMiniGame2", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "btnMiniGame3", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIPopupMoreBet.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts', './UISlider.ts', './StringUtils.ts', './PlayingController.ts', './EventManager.ts', './Enums.ts', './LinkListToggle.ts', './LanguageManager.ts', './ArrayUtils.ts', './UIGamePlay.ts', './Decorators.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _createClass, cclegacy, _decorator, Label, UIBase, UISlider, pStringUtils, PlayingController, pEventManager, UIType, ERaiseType, NSLinkListToggle, LanguageMananger, pArray, UIGamePlay, pDecorators;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _createClass = module.createClass;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Label = module.Label;
    }, function (module) {
      UIBase = module.UIBase;
    }, function (module) {
      UISlider = module.UISlider;
    }, function (module) {
      pStringUtils = module.pStringUtils;
    }, function (module) {
      PlayingController = module.default;
    }, function (module) {
      pEventManager = module.pEventManager;
    }, function (module) {
      UIType = module.UIType;
      ERaiseType = module.ERaiseType;
    }, function (module) {
      NSLinkListToggle = module.NSLinkListToggle;
    }, function (module) {
      LanguageMananger = module.LanguageMananger;
    }, function (module) {
      pArray = module.pArray;
    }, function (module) {
      UIGamePlay = module.default;
    }, function (module) {
      pDecorators = module.pDecorators;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7;
      cclegacy._RF.push({}, "fd522LEggxBeYExwrbnUaIJ", "UIPopupMoreBet", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var UIPopupMoreBet = exports('UIPopupMoreBet', (_dec = ccclass('UIPopupMoreBet'), _dec2 = property({
        type: UIType,
        override: true,
        readonly: true
      }), _dec3 = property(Label), _dec4 = property(UISlider), _dec5 = property(NSLinkListToggle.Component), _dec6 = property(NSLinkListToggle.Component), _dec7 = property(NSLinkListToggle.Component), _dec8 = property(NSLinkListToggle.Component), _dec(_class = (_class2 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UIPopupMoreBet, _UIBase);
        function UIPopupMoreBet() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "uiType", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "betView", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "slider", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lltAllIn", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "llt3p4", _descriptor5, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "llt1p2", _descriptor6, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lltx3", _descriptor7, _assertThisInitialized(_this));
          _this._max = 0;
          _this._min = 0;
          _this._raiseType = ERaiseType.NONE;
          _this._events = [['onEndTurn', _this._reset, _assertThisInitialized(_this)], ['onClearTable', _this._reset, _assertThisInitialized(_this)], ['onLeaveTable', _this._reset, _assertThisInitialized(_this)]
          //['onNewRound', this._onNewRound, this],
          //['onTableEvent', this._onTableEvent, this],
          ];

          _this._sliderHandlers = [['onSlide', _this._onSlide, _assertThisInitialized(_this)]];
          _this._actions = [];
          _this._isAllIn = false;
          _this._isValidRaise = true;
          return _this;
        }
        var _proto = UIPopupMoreBet.prototype;
        _proto._onLoad = function _onLoad() {
          this.lltAllIn.get('on').add('onLanding', {
            _this: this,
            _function: this._actAllIn
          });
          this.llt1p2.get('on').add('onLanding', {
            _this: this,
            _function: this._actHalfPot
          });
          this.llt3p4.get('on').add('onLanding', {
            _this: this,
            _function: this._act3p4Pot
          });
          this.lltx3.get('on').add('onLanding', {
            _this: this,
            _function: this._actx3Bet
          });
          this.lltx3.get('off').add('onLanding', {
            _this: this,
            _function: this._onLLTX3Off
          });
          this.lltx3.get('disable').add('onLanding', {
            _this: this,
            _function: this._onLLTX3Disable
          });
          pEventManager.on(this._events);
          this.slider.on(this._sliderHandlers);
        };
        _proto._onLLTX3Disable = function _onLLTX3Disable() {
          this.lltx3.interactable = false;
        };
        _proto._onLLTX3Off = function _onLLTX3Off() {
          this.lltx3.interactable = true;
        };
        _proto._onDestroy = function _onDestroy() {
          pEventManager.off(this._events);
          this.slider.off(this._sliderHandlers);
        };
        _proto._onSlide = function _onSlide(progress) {
          var prog = this._min / this._max;
          if (progress < prog) {
            //this.slider.setDisplayProcess(prog);
            //this.current = this._min;
            this.betView.string = pStringUtils.formatNumberKMB(this.current);
            return;
          }

          //this.current = progress * this._max;
          if (this.current == this._max) {
            var strAllIn = LanguageMananger.instance.getString({
              key: 'txt_btn_all_in',
              handler: function handler(str) {
                return str.toUpperCase();
              }
            });
            this.betView.string = strAllIn;
            this._raiseType = ERaiseType.ALL_IN;
            this.lltAllIn.jump('on', false);
            this.invoke('onReachMax');
          } else {
            this.lltAllIn.jump('off', false);
            this.betView.string = pStringUtils.formatNumberKMB(this.current);
          }
        };
        _proto.tinit = function tinit(min, max, current, isValidRaise, isAllIn) {
          if (current === void 0) {
            current = min;
          }
          if (isValidRaise === void 0) {
            isValidRaise = true;
          }
          if (isAllIn === void 0) {
            isAllIn = false;
          }
          this._min = min;
          this._max = max;
          this._isAllIn = isAllIn;
          this._isValidRaise = isValidRaise;
          this.slider.setValueSlider(this._min, this._max);
          this.current = current;
          this.betView.string = pStringUtils.formatNumberKMB(this.current);
          this.lltx3.jump('off');
        };
        _proto.init = function init(players, bets) {
          var _this2 = this;
          var _gp = pDecorators.instance(UIGamePlay);
          var _pg = PlayingController.instance;
          var main = _gp.main,
            hasMain = _gp.hasMain;
          if (!main || !hasMain || main.isEmpty) return;
          if (!_pg || !_pg.game) return;
          var callRq = main.callRq,
            raiseRq = main.raiseRq,
            data = main.data,
            index = main.index;
          var chips = data.chips,
            id = data.id;
          var bigBlind = _pg.game.bigBlind;
          players.forEach(function (player) {
            return player.chips += bets[player.index];
          });
          var valids = players.filter(function (player) {
            return player.id !== id && !player.folded;
          });
          if (valids.some(function (p) {
            return p.chips > chips;
          })) {
            this._max = chips;
          } else {
            var _smaller = valids.filter(function (p) {
              return p.chips <= chips;
            });
            if (_smaller.length > 0) {
              var find = pArray.findSmallerNearest(_smaller, 'chips', chips, function (current, prev, value) {
                return current <= value && current > prev;
              }) || data;
              this._max = find.chips - bets[index];
            } else {
              this._max = chips;
            }
          }
          this._min = callRq + raiseRq;
          this.slider.setValueSlider(this._min, this._max);
          this.current = Math.min(this._max, this._min);
          var _isMainMax = valids.every(function (p) {
            return _this2._min > p.chips;
          });
          this._isAllIn = this._min >= chips || this._min === this._max || chips < callRq || chips < bigBlind;
          this._isValidRaise = this._isAllIn || !_isMainMax && chips >= this._min && this._min < this._max;
          this.betView.string = pStringUtils.formatNumberKMB(this.current);
          this.lltx3.jump(main.callRq > 0 ? 'off' : 'disable');
        };
        _proto.onChangeTypeRaise = function onChangeTypeRaise(type) {
          this._raiseType = type;
          var instance = PlayingController.instance;
          var game = instance.game;
          var roundBets = game.roundBets,
            bigBlind = game.bigBlind,
            bets = game.bets;
          var _final = bets.reduce(function (total, bet) {
            return total + bet;
          }, 0);
          var _final2 = roundBets.reduce(function (total, bet) {
            return total + bet;
          }, _final);
          var _pDecorators$instance = pDecorators.instance(UIGamePlay),
            main = _pDecorators$instance.main;
          switch (this._raiseType) {
            case ERaiseType.ALL_IN:
              {
                this.slider.setMaxCurrentValue();
                instance.actionAllin(this.current);
                this._raiseType = ERaiseType.NONE;
                this.close();
                return;
              }
            case ERaiseType.THREE_QUARTER_POT:
              {
                this.current = Math.max(_final2 * 3 / 4, bigBlind);
                break;
              }
            case ERaiseType.HALF_POT:
              {
                this.current = Math.max(_final2 / 2, bigBlind);
                break;
              }
            case ERaiseType.THREE_TIMES:
              {
                this.current = Math.max(main.callRq * 3, bigBlind);
                break;
              }
          }
          instance.actionBet(this.current);
          this._raiseType = ERaiseType.NONE;
          this.close();
        };
        _proto._reset = function _reset() {
          this._actOffAll();
          this.close();
        };
        _proto._onClose = function _onClose() {
          //this._actOffAll();
        };
        _proto._actOffAll = function _actOffAll() {
          this.lltAllIn.jump('off');
          this.llt1p2.jump('off');
          this.lltx3.jump('off');
          this.llt3p4.jump('off');
        };
        _proto._actAllIn = function _actAllIn() {
          this._actOffAll();
          this.onChangeTypeRaise(ERaiseType.ALL_IN);
        };
        _proto._act3p4Pot = function _act3p4Pot() {
          this._actOffAll();
          this.onChangeTypeRaise(ERaiseType.THREE_QUARTER_POT);
        };
        _proto._actHalfPot = function _actHalfPot() {
          this._actOffAll();
          this.onChangeTypeRaise(ERaiseType.HALF_POT);
        };
        _proto._actx3Bet = function _actx3Bet() {
          this._actOffAll();
          this.lltx3.interactable = true;
          this.onChangeTypeRaise(ERaiseType.THREE_TIMES);
        };
        _createClass(UIPopupMoreBet, [{
          key: "current",
          get: function get() {
            return this.slider.current;
          },
          set: function set(value) {
            this.slider.setValue(value);
          }
        }, {
          key: "slidable",
          set: function set(v) {
            this.slider.sliderCpm.enabled = v;
          }
        }, {
          key: "max",
          get: function get() {
            return this._max;
          }
        }, {
          key: "isValidRaise",
          get: function get() {
            return this._isValidRaise;
          }
        }, {
          key: "isValidAllIn",
          get: function get() {
            return this._isAllIn;
          }
        }]);
        return UIPopupMoreBet;
      }(UIBase), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "uiType", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return UIType.MORE_BET;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "betView", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "slider", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "lltAllIn", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "llt3p4", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, "llt1p2", [_dec7], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor7 = _applyDecoratedDescriptor(_class2.prototype, "lltx3", [_dec8], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIPopupNotice.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './LanguageManager.ts', './UIButtonHelper.ts', './ClassUtils.ts', './EngineManager.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _createForOfIteratorHelperLoose, cclegacy, _decorator, Label, Widget, Component, LanguageMananger, UIButtonHelper, pClassUtils, pEngineManager;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _createForOfIteratorHelperLoose = module.createForOfIteratorHelperLoose;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Label = module.Label;
      Widget = module.Widget;
      Component = module.Component;
    }, function (module) {
      LanguageMananger = module.LanguageMananger;
    }, function (module) {
      UIButtonHelper = module.UIButtonHelper;
    }, function (module) {
      pClassUtils = module.pClassUtils;
    }, function (module) {
      pEngineManager = module.pEngineManager;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5;
      cclegacy._RF.push({}, "04f487RHAJFza7plQPyuNIl", "UIPopupNotice", undefined);
      var ccclass = _decorator.ccclass,
        type = _decorator.type;
      var UIPopupNotice = exports('UIPopupNotice', (_dec = ccclass("UIPopupNotice"), _dec2 = type(Label), _dec3 = type(Label), _dec4 = type(UIButtonHelper), _dec5 = type(UIButtonHelper), _dec6 = type([UIButtonHelper]), _dec(_class = (_class2 = /*#__PURE__*/function (_Component) {
        _inheritsLoose(UIPopupNotice, _Component);
        function UIPopupNotice() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _Component.call.apply(_Component, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "title", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "content", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "confirm", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "cancel", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "closers", _descriptor5, _assertThisInitialized(_this));
          _this._widget = null;
          _this._closers = [];
          _this._lifetime = 0;
          _this._life = 0;
          return _this;
        }
        var _proto = UIPopupNotice.prototype;
        _proto.onLoad = function onLoad() {
          this._widget = this.getComponent(Widget);
          var _closer = {
            _function: this.close,
            _this: this
          };
          this.confirm.init([], _closer);
          this.cancel.init([], _closer);
          for (var _iterator = _createForOfIteratorHelperLoose(this.closers), _step; !(_step = _iterator()).done;) {
            var _ret = _step.value;
            _ret.init([], _closer);
          }
        };
        _proto.open = function open() {
          this.node.active = true;
        };
        _proto.init = function init(lifetime) {
          if (lifetime === void 0) {
            lifetime = 0;
          }
          this._lifetime = lifetime;
          this._life = 0;
          this.node.active = false;
        };
        _proto.show = function show(title, msg, confirm, onConfirm, cancel, onCancel, onClose) {
          var _this$_closers;
          this.open();
          this._widget.updateAlignment();
          pEngineManager.log("___SHOW LIST >>>", title, msg, confirm, onConfirm, cancel, onCancel, onClose);
          var instance = LanguageMananger.instance;
          this.title.string = instance.getString(title);
          this.content.string = instance.getString(msg);
          this._btnHandler(this.confirm, confirm, onConfirm);
          this._btnHandler(this.cancel, cancel, onCancel);
          onClose && (_this$_closers = this._closers).push.apply(_this$_closers, pClassUtils.mapper(onClose));
        };
        _proto.close = function close(donothing, clean) {
          if (donothing === void 0) {
            donothing = false;
          }
          if (clean === void 0) {
            clean = false;
          }
          if (!donothing) {
            pClassUtils.invoker(this._closers);
            this._closers = [];
          }
          this._life++;
          var _should = this._lifetime > 0 && this._life >= this._lifetime || clean;
          _should ? this.node.removeFromParent() : this.node.active = false;
        };
        _proto._btnHandler = function _btnHandler(helper, data, act) {
          if (!!data) {
            var txt = LanguageMananger.instance.getString(data);
            helper.string = txt;
            helper.once(act);
            helper.active = true;
            return;
          }
          helper.active = false;
        };
        return UIPopupNotice;
      }(Component), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "title", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "content", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "confirm", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return new UIButtonHelper();
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "cancel", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return new UIButtonHelper();
        }
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "closers", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return [];
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIPopupRateCard.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts', './Enums.ts', './UICardType.ts', './ArrayUtils.ts', './Decorators.ts', './LanguageManager.ts', './EventDriver.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _createForOfIteratorHelperLoose, _createClass, _initializerDefineProperty, _assertThisInitialized, cclegacy, _decorator, Enum, Label, UIBase, ECardRank, UIType, getEnumLength, NSCardType, pArray, pDecorators, LanguageMananger, NSEventDriver;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _createForOfIteratorHelperLoose = module.createForOfIteratorHelperLoose;
      _createClass = module.createClass;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Enum = module.Enum;
      Label = module.Label;
    }, function (module) {
      UIBase = module.UIBase;
    }, function (module) {
      ECardRank = module.ECardRank;
      UIType = module.UIType;
      getEnumLength = module.getEnumLength;
    }, function (module) {
      NSCardType = module.NSCardType;
    }, function (module) {
      pArray = module.pArray;
    }, function (module) {
      pDecorators = module.pDecorators;
    }, function (module) {
      LanguageMananger = module.LanguageMananger;
    }, function (module) {
      NSEventDriver = module.NSEventDriver;
    }],
    execute: function () {
      exports('NSCardRate', void 0);
      cclegacy._RF.push({}, "ce9caH6IhVFwqFSWaauQTrd", "UIPopupRateCard", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property,
        executeInEditMode = _decorator.executeInEditMode;
      var NSCardRate;
      (function (_NSCardRate, _dec, _dec2, _dec3, _class, _class2, _descriptor, _descriptor2, _dec4, _class4, _dec5, _dec6, _dec7, _dec8, _dec9, _class6, _class7, _descriptor3, _descriptor4) {
        var Helper = (_dec = ccclass('NSCardRate.Helper'), _dec2 = property({
          type: Enum(ECardRank),
          readonly: true
        }), _dec3 = property({
          type: Label
        }), _dec(_class = (_class2 = /*#__PURE__*/function () {
          function Helper() {
            _initializerDefineProperty(this, "rank", _descriptor, this);
            _initializerDefineProperty(this, "view", _descriptor2, this);
          }
          Helper.create = function create(rank) {
            var ret = new Helper();
            ret.rank = rank;
            return ret;
          };
          return Helper;
        }(), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "rank", [_dec2], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return ECardRank.HIGH_CARD;
          }
        }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "view", [_dec3], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return null;
          }
        })), _class2)) || _class);
        var Calculator = (_dec4 = pDecorators.singleton(), _dec4(_class4 = /*#__PURE__*/function (_NSEventDriver$Handle) {
          _inheritsLoose(Calculator, _NSEventDriver$Handle);
          function Calculator() {
            var _this$_chance;
            var _this;
            for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
              args[_key] = arguments[_key];
            }
            _this = _NSEventDriver$Handle.call.apply(_NSEventDriver$Handle, [this].concat(args)) || this;
            _this._chance = (_this$_chance = {}, _this$_chance[ECardRank.HIGH_CARD] = 0, _this$_chance[ECardRank.ONE_PAIR] = 0, _this$_chance[ECardRank.TWO_PAIR] = 0, _this$_chance[ECardRank.THREE_OF_A_KIND] = 0, _this$_chance[ECardRank.STRAIGHT] = 0, _this$_chance[ECardRank.FLUSH] = 0, _this$_chance[ECardRank.FULL_HOUSE] = 0, _this$_chance[ECardRank.FOUR_OF_A_KIND] = 0, _this$_chance[ECardRank.STRAIGHT_FLUSH] = 0, _this$_chance[ECardRank.ROYAL_FLUSH] = 0, _this$_chance);
            return _this;
          }
          var _proto = Calculator.prototype;
          _proto._isFlush = function _isFlush(cards) {
            var propsCount = {};
            for (var _iterator = _createForOfIteratorHelperLoose(cards), _step; !(_step = _iterator()).done;) {
              var card = _step.value;
              propsCount[card.suit] = (propsCount[card.suit] || 0) + 1;
              if (propsCount[card.suit] >= 5) return true;
            }
            return false;
          };
          _proto._isStraight = function _isStraight(cards) {
            var names = new Set(cards.map(function (card) {
              return NSCardType.names.indexOf(card.rank);
            }));
            var uqNames = [].concat(names).sort(function (a, b) {
              return a - b;
            });
            for (var i = 0; i <= uqNames.length - 5; i++) {
              if (uqNames[i] + 4 === uqNames[i + 4]) return true;
            }
            if (names.has(12) && names.has(0) && names.has(1) && names.has(2) && names.has(3)) return true;
            return false;
          };
          _proto._isStraightFlush = function _isStraightFlush(cards) {
            var _this2 = this;
            var _loop = function _loop() {
                var prop = _step2.value;
                var _prop = cards.filter(function (card) {
                  return card.suit === prop;
                });
                if (_this2._isFlush(_prop) && _this2._isStraight(_prop)) return {
                  v: true
                };
              },
              _ret;
            for (var _iterator2 = _createForOfIteratorHelperLoose(NSCardType.props), _step2; !(_step2 = _iterator2()).done;) {
              _ret = _loop();
              if (_ret) return _ret.v;
            }
            return false;
          };
          _proto._isRoyalFlush = function _isRoyalFlush(cards) {
            var _loop2 = function _loop2() {
                var prop = _step3.value;
                var _props = cards.filter(function (card) {
                  return card.suit === prop;
                });
                var _names = _props.map(function (card) {
                  return card.rank;
                });
                if (NSCardType.royals.every(function (rank) {
                  return _names.includes(rank);
                })) return {
                  v: true
                };
              },
              _ret2;
            for (var _iterator3 = _createForOfIteratorHelperLoose(NSCardType.props), _step3; !(_step3 = _iterator3()).done;) {
              _ret2 = _loop2();
              if (_ret2) return _ret2.v;
            }
            return false;
          };
          _proto.classify = function classify(cards, boards) {
            var all = [].concat(cards, boards);
            var rankCount = {};
            for (var _iterator4 = _createForOfIteratorHelperLoose(all), _step4; !(_step4 = _iterator4()).done;) {
              var card = _step4.value;
              rankCount[card.rank] = (rankCount[card.rank] || 0) + 1;
            }
            var values = Object.values(rankCount).sort(function (a, b) {
              return b - a;
            });
            if (this._isRoyalFlush(all)) return ECardRank.ROYAL_FLUSH;
            if (this._isStraightFlush(all)) return ECardRank.STRAIGHT_FLUSH;
            if (values[0] === 4) return ECardRank.FOUR_OF_A_KIND;
            if (values[0] === 3 && values[1] === 2) return ECardRank.FULL_HOUSE;
            if (this._isFlush(all)) return ECardRank.FLUSH;
            if (this._isStraight(all)) return ECardRank.STRAIGHT;
            if (values[0] === 3) return ECardRank.THREE_OF_A_KIND;
            if (values[0] === 2 && values[1] === 2) return ECardRank.TWO_PAIR;
            if (values[0] === 2) return ECardRank.ONE_PAIR;
            return ECardRank.HIGH_CARD;
          };
          _proto._evaluate = function _evaluate(hand, board) {
            var all = [].concat(hand, board);
            return Math.max.apply(Math, all.map(function (card) {
              return NSCardType.names.indexOf(card.rank);
            }));
          };
          _proto._removeKnownCards = function _removeKnownCards(deck, known) {
            return deck.filter(function (card) {
              return !known.some(function (k) {
                return k.rank === card.rank && k.suit === card.suit;
              });
            });
          };
          _proto.breakdown = function breakdown(hand, board, iterations) {
            var _chance;
            if (iterations === void 0) {
              iterations = 10000;
            }
            var result = {
              win: 0,
              lose: 0,
              tie: 0
            };
            var chance = (_chance = {}, _chance[ECardRank.HIGH_CARD] = 0, _chance[ECardRank.ONE_PAIR] = 0, _chance[ECardRank.TWO_PAIR] = 0, _chance[ECardRank.THREE_OF_A_KIND] = 0, _chance[ECardRank.STRAIGHT] = 0, _chance[ECardRank.FLUSH] = 0, _chance[ECardRank.FULL_HOUSE] = 0, _chance[ECardRank.FOUR_OF_A_KIND] = 0, _chance[ECardRank.STRAIGHT_FLUSH] = 0, _chance[ECardRank.ROYAL_FLUSH] = 0, _chance);
            var known = [].concat(hand, board);
            var miss = 5 - board.length;
            for (var i = 0; i < iterations; i++) {
              var deck = pArray.shuffle(this._removeKnownCards(NSCardType.decks, known));
              var villain = deck.slice(0, 2);
              var simuBoard = [].concat(board, deck.slice(2, 2 + miss));
              var main = this._evaluate(hand, simuBoard);
              var opponent = this._evaluate(villain, simuBoard);
              var handType = this.classify(hand, simuBoard);
              chance[handType]++;
              if (main > opponent) result.win++;else if (main < opponent) result.lose++;else result.tie++;
            }
            var total = result.win + result.lose + result.tie;
            for (var key in chance) {
              chance[key] = parseFloat((chance[key] / total * 100).toFixed(2));
            }
            this.invoke('onCalculate', chance, result);
            this._chance = chance;
            //for(const key in result) result[key] = Math.floor((result[key] / total) * 100);
            return chance;
          };
          _createClass(Calculator, [{
            key: "chance",
            get: function get() {
              return this._chance;
            }
          }]);
          return Calculator;
        }(NSEventDriver.Handler)) || _class4);
        _NSCardRate.Calculator = Calculator;
        var UIPopup = (_dec5 = ccclass('NSCardRate.UIPopup'), _dec6 = executeInEditMode(), _dec7 = pDecorators.singleton({
          initer: '_onLoad',
          destroyer: '_onDestroy'
        }), _dec8 = property({
          type: UIType,
          override: true,
          readonly: true
        }), _dec9 = property({
          type: [Helper],
          readonly: {
            deep: false
          }
        }), _dec5(_class6 = _dec6(_class6 = _dec7(_class6 = (_class7 = /*#__PURE__*/function (_UIBase) {
          _inheritsLoose(UIPopup, _UIBase);
          function UIPopup() {
            var _this3;
            for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
              args[_key2] = arguments[_key2];
            }
            _this3 = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
            _initializerDefineProperty(_this3, "uiType", _descriptor3, _assertThisInitialized(_this3));
            _initializerDefineProperty(_this3, "helpers", _descriptor4, _assertThisInitialized(_this3));
            return _this3;
          }
          var _proto2 = UIPopup.prototype;
          _proto2.get = function get(id) {
            return this.helpers.find(function (h) {
              return h.rank == id;
            });
          };
          _proto2._create = function _create() {
            var length = getEnumLength(ECardRank);
            if (this.helpers.length == length) return;
            return;
          };
          _proto2._onLoad = function _onLoad() {
            this._create();
          };
          _proto2.onEnable = function onEnable() {
            var rate = pDecorators.instance(Calculator);
            var lang = LanguageMananger.instance.getString({
              key: 'txt_chance',
              handler: function handler(str) {
                return str.toUpperCase();
              }
            });
            var chance = rate.chance;
            for (var key in chance) {
              // @ts-ignore
              this.get(key).view.string = lang + ": " + chance[key] + "%";
            }
          };
          return UIPopup;
        }(UIBase), (_descriptor3 = _applyDecoratedDescriptor(_class7.prototype, "uiType", [_dec8], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return UIType.RATE_CARD;
          }
        }), _descriptor4 = _applyDecoratedDescriptor(_class7.prototype, "helpers", [_dec9], {
          configurable: true,
          enumerable: true,
          writable: true,
          initializer: function initializer() {
            return [];
          }
        })), _class7)) || _class6) || _class6) || _class6);
        _NSCardRate.UIPopup = UIPopup;
      })(NSCardRate || (NSCardRate = exports('NSCardRate', {})));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIPopupResultEndGame.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts', './Enums.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, cclegacy, _decorator, EventTarget, SpriteFrame, Node, Sprite, Label, Button, UIBase, EEventType;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      EventTarget = module.EventTarget;
      SpriteFrame = module.SpriteFrame;
      Node = module.Node;
      Sprite = module.Sprite;
      Label = module.Label;
      Button = module.Button;
    }, function (module) {
      UIBase = module.UIBase;
    }, function (module) {
      EEventType = module.EEventType;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _dec11, _dec12, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8;
      cclegacy._RF.push({}, "15b8a/JScJPF7PmHD0KId/l", "UIPopupResultEndGame", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property,
        type = _decorator.type;
      var eventTarget = exports('eventTarget', new EventTarget());
      var UIPopupResultEndGame = exports('UIPopupResultEndGame', (_dec = ccclass('UIPopupResultEndGame'), _dec2 = property([SpriteFrame]), _dec3 = property([Node]), _dec4 = property(Sprite), _dec5 = property({
        group: {
          name: 'InforResult',
          id: 'Result'
        }
      }), _dec6 = type(Label), _dec7 = property({
        group: {
          name: 'InforResult',
          id: 'Result'
        }
      }), _dec8 = type(Label), _dec9 = property({
        group: {
          name: 'InforResult',
          id: 'Result'
        }
      }), _dec10 = type(Label), _dec11 = type(Button), _dec12 = type(Button), _dec(_class = (_class2 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UIPopupResultEndGame, _UIBase);
        function UIPopupResultEndGame() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "listSprIconRank", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "listDerco", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "iconRanker", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "namePlayer", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "contentText", _descriptor5, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "rewardedChip", _descriptor6, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnBack", _descriptor7, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnRedo", _descriptor8, _assertThisInitialized(_this));
          _this.rank = 0;
          _this.data = void 0;
          return _this;
        }
        var _proto = UIPopupResultEndGame.prototype;
        _proto.init = function init(data) {
          this.data = data;
        };
        _proto.onEnable = function onEnable() {
          eventTarget.on(EEventType.SNG_SHOW_RESULT_POPUP, this.show, this);
        };
        _proto.onDisable = function onDisable() {
          eventTarget.off(EEventType.SNG_SHOW_RESULT_POPUP, this.show, this);
        };
        _proto._onStart = function _onStart() {
          this._addClicker(this.btnBack, this.close, this);
          this._addClicker(this.btnRedo, this.close, this);
        };
        _proto.show = function show(isRank) {
          this.rank = isRank - 1;
          this.iconRanker.spriteFrame = this.listSprIconRank[this.rank];
          switch (this.rank) {
            case 0:
            case 1:
            case 2:
              this.btnBack.node.active = true;
              this.btnRedo.node.active = false;
              this._activeDerco(true);
              break;
            case 3:
            case 4:
              this.btnBack.node.active = true;
              this.btnRedo.node.active = true;
              this._activeDerco(false);
              break;
          }
        };
        _proto._activeDerco = function _activeDerco(isAct) {
          for (var index = 0; index < this.listDerco.length; index++) {
            this.listDerco[index].active = isAct;
          }
        };
        return UIPopupResultEndGame;
      }(UIBase), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "listSprIconRank", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return [];
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "listDerco", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return [];
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "iconRanker", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "namePlayer", [_dec5, _dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "contentText", [_dec7, _dec8], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, "rewardedChip", [_dec9, _dec10], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor7 = _applyDecoratedDescriptor(_class2.prototype, "btnBack", [_dec11], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor8 = _applyDecoratedDescriptor(_class2.prototype, "btnRedo", [_dec12], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIPopupSettingInGame.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts', './UIController.ts', './Enums.ts', './EventManager.ts', './UISlider.ts', './Decorators.ts', './DBStorage.ts', './AudioManager.ts', './NotifyToast.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _asyncToGenerator, _regeneratorRuntime, cclegacy, _decorator, Toggle, Button, sys, UIBase, UIController, UIType, pEventManager, UISlider, pDecorators, DBStorage, NSAudio, NotifyToast;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Toggle = module.Toggle;
      Button = module.Button;
      sys = module.sys;
    }, function (module) {
      UIBase = module.UIBase;
    }, function (module) {
      UIController = module.UIController;
    }, function (module) {
      UIType = module.UIType;
    }, function (module) {
      pEventManager = module.pEventManager;
    }, function (module) {
      UISlider = module.UISlider;
    }, function (module) {
      pDecorators = module.pDecorators;
    }, function (module) {
      DBStorage = module.DBStorage;
    }, function (module) {
      NSAudio = module.NSAudio;
    }, function (module) {
      NotifyToast = module.NotifyToast;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6;
      cclegacy._RF.push({}, "ce5d2055fNGPZ7qsjxv/CCa", "UIPopupSettingInGame", undefined);
      var ccclass = _decorator.ccclass,
        type = _decorator.type;
      var UIPopupSettingInGame = exports('UIPopupSettingInGame', (_dec = ccclass('UIPopupSettingInGame'), _dec2 = type(Toggle), _dec3 = type(Toggle), _dec4 = type(Button), _dec5 = type(Button), _dec6 = type(Button), _dec7 = type(UISlider), _dec(_class = (_class2 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UIPopupSettingInGame, _UIBase);
        function UIPopupSettingInGame() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "btnSound", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnVibrate", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnChangeTable", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnChangeAccessory", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnHistory", _descriptor5, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "slider", _descriptor6, _assertThisInitialized(_this));
          _this._onces = [['onLeaveTable', _this.close, _assertThisInitialized(_this)]];
          return _this;
        }
        var _proto = UIPopupSettingInGame.prototype;
        _proto.onEnable = function onEnable() {
          pEventManager.on(this._onces);
        };
        _proto._onStart = function _onStart() {
          this._addClicker(this.btnSound, this._onClickSound, this);
          this._addClicker(this.btnVibrate, this.onClickVibrate, this);
          this._addClicker(this.btnChangeTable, this.onClickChangeTable, this);
          this._addClicker(this.btnChangeAccessory, this.onClickChangeAccessory, this);
          this._addClicker(this.btnHistory, this.onClickHistory, this);
          this.slider.add('onSlide', {
            _function: this._onVolumeChange,
            _this: this
          });
        };
        _proto._onVolumeChange = function _onVolumeChange(value, current) {
          var _am = pDecorators.instance(NSAudio.Manager);
          this.btnSound.isChecked = value <= 0;
          _am.actUpdateMusicVolume(value);
          return true;
        };
        _proto.onDisable = function onDisable() {
          pEventManager.off(this._onces);
        };
        _proto._open = /*#__PURE__*/function () {
          var _open2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {
            var _am;
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  _am = pDecorators.instance(NSAudio.Manager);
                  this.btnSound.isChecked = !_am.isOnMusic;
                  this.slider.sliderCpm.progress = _am.musicVol;
                  this.btnVibrate.node.active = !sys.isMobile && !sys.isBrowser;
                  _context.next = 6;
                  return _UIBase.prototype._open.call(this);
                case 6:
                case "end":
                  return _context.stop();
              }
            }, _callee, this);
          }));
          function _open() {
            return _open2.apply(this, arguments);
          }
          return _open;
        }();
        _proto._onClose = function _onClose() {
          var db = pDecorators.instance(DBStorage);
          var _am = pDecorators.instance(NSAudio.Manager);
          _am.actSaveMusic();
          db.save({
            key: 'VIBRATION',
            value: (!this.btnVibrate.isChecked).toString()
          });
        };
        _proto._onClickSound = function _onClickSound() {
          var _am = pDecorators.instance(NSAudio.Manager);
          this.slider.setDisplayProcess(this.btnSound.isChecked ? 0 : _am.musicVol, false);
          //_am.actUpdateSound(this.btnSound.isChecked);
          _am.actUpdateMusic(!this.btnSound.isChecked);
        };
        _proto.onClickVibrate = function onClickVibrate() {
          pEventManager.invoke('onVibrateChange', this.btnVibrate.isChecked);
        };
        _proto.onClickChangeTable = function onClickChangeTable() {
          NotifyToast.instance.showWithKey('txt_comming_soon');
          //UIController.Instance.open(UIType.CHANGE_TABLE);
        };

        _proto.onClickHistory = function onClickHistory() {
          UIController.Instance.open(UIType.HISTORY_ROND);
        };
        _proto.onClickChangeAccessory = function onClickChangeAccessory() {
          NotifyToast.instance.showWithKey('txt_comming_soon');
          //UIController.Instance.open(UIType.CHANGE_ACCESSORY);
        };

        return UIPopupSettingInGame;
      }(UIBase), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "btnSound", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "btnVibrate", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "btnChangeTable", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "btnChangeAccessory", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "btnHistory", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, "slider", [_dec7], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIPopupSigupMTT.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts', './DateUtils.ts', './LanguageManager.ts', './StringUtils.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, cclegacy, _decorator, Label, Button, UIBase, pDateUtils, LanguageMananger, pStringUtils;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Label = module.Label;
      Button = module.Button;
    }, function (module) {
      UIBase = module.UIBase;
    }, function (module) {
      pDateUtils = module.pDateUtils;
    }, function (module) {
      LanguageMananger = module.LanguageMananger;
    }, function (module) {
      pStringUtils = module.pStringUtils;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5;
      cclegacy._RF.push({}, "d18a6kRBpNEMpFXPsIzngsS", "UIPopupSigupMTT", undefined);
      var ccclass = _decorator.ccclass,
        type = _decorator.type;
      var UIPopupSigupMTT = exports('UIPopupSigupMTT', (_dec = ccclass('UIPopupSigupMTT'), _dec2 = type(Label), _dec3 = type(Label), _dec4 = type(Label), _dec5 = type(Label), _dec6 = type(Button), _dec(_class = (_class2 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UIPopupSigupMTT, _UIBase);
        function UIPopupSigupMTT() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "lbName", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbFee", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbTimeStart", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbCountTime", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnOk", _descriptor5, _assertThisInitialized(_this));
          _this.timeStart = 0;
          _this.cbCountDown = null;
          return _this;
        }
        var _proto = UIPopupSigupMTT.prototype;
        _proto._onStart = function _onStart() {
          this._addClicker(this.btnOk, this.close, this);
        };
        _proto._onOpen = function _onOpen(name, fee, date) {
          var _strs = LanguageMananger.getStrings('txt_free', 'txt_to_day', 'txt_tomorrow');
          this.lbName.string = name;
          this.lbFee.string = fee > 0 ? pStringUtils.formatNumberKMB(fee) : _strs.txt_free;
          var _date = new Date(date);
          var _diff = pDateUtils.getDiffsV2(_date, ['days', 'hours', 'seconds', 'minutes']);
          var _time = _diff.days <= 0 ? _strs.txt_to_day : _strs.txt_tomorrow;
          var _hour = _date.getHours();
          var _minute = _date.getMinutes();
          this.lbTimeStart.string = _hour.toString().padStart(2, "0") + ":" + _minute.toString().padStart(2, "0") + " " + _time;
          this.onActionCountdownTime(_diff.days, _diff.hours, _diff.minutes, _diff.seconds);
        };
        _proto.onActionCountdownTime = function onActionCountdownTime(days, hours, minutes, seconds) {
          if (days > 0) {
            this.lbCountTime.string = "( " + LanguageMananger.instance.getString("txt_start_latter") + " " + days + " " + LanguageMananger.instance.getString("txt_day") + " " + hours + " " + LanguageMananger.instance.getString("txt_hours") + " " + minutes + " " + LanguageMananger.instance.getString("txt_minutes") + " " + seconds + " " + LanguageMananger.instance.getString("txt_seconds") + " )";
          } else if (hours > 0) {
            this.lbCountTime.string = "( " + LanguageMananger.instance.getString("txt_start_latter") + " " + hours + " " + LanguageMananger.instance.getString("txt_hours") + " " + minutes + " " + LanguageMananger.instance.getString("txt_minutes") + " " + seconds + " " + LanguageMananger.instance.getString("txt_seconds") + " )";
          } else if (minutes > 0) {
            this.lbCountTime.string = "( " + LanguageMananger.instance.getString("txt_start_latter") + " " + minutes + " " + LanguageMananger.instance.getString("txt_minutes") + " " + seconds + " " + LanguageMananger.instance.getString("txt_seconds") + " )";
          } else if (seconds > 0) {
            this.lbCountTime.string = "( " + LanguageMananger.instance.getString("txt_start_latter") + " " + seconds + " " + LanguageMananger.instance.getString("txt_seconds");
          } else {
            this.lbCountTime.string = "(" + LanguageMananger.instance.getString("txt_over_day") + ")";
          }
        };
        return UIPopupSigupMTT;
      }(UIBase), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "lbName", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "lbFee", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "lbTimeStart", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "lbCountTime", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "btnOk", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIPopupSpinGame.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts', './LinkListToggle.ts', './InfinityFx.ts', './MovingFx.ts', './AsyncUtils.ts', './ResponeCode.ts', './UICardConfig.ts', './ComponentUtils.ts', './GlobalConfig.ts', './StringUtils.ts', './EventManager.ts', './Decorators.ts', './AudioManager.ts', './Enums.ts', './NotifyToast.ts', './LanguageManager.ts', './MiniLoading.ts', './UIController.ts', './SpinGameCommand.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _createForOfIteratorHelperLoose, _createClass, _asyncToGenerator, _regeneratorRuntime, cclegacy, _decorator, Button, Animation, AnimationClip, Label, Sprite, UIBase, NSLinkListToggle, NSInfinityFx, NSMovingFx, pAsyncUtils, ResponseCode, UICardConfig, pComponentUtils, GlobalConfig, pStringUtils, pEventManager, pDecorators, NSAudio, UIType, EAudioID, NotifyToast, LanguageMananger, MiniLoading, UIController, request;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _createForOfIteratorHelperLoose = module.createForOfIteratorHelperLoose;
      _createClass = module.createClass;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Button = module.Button;
      Animation = module.Animation;
      AnimationClip = module.AnimationClip;
      Label = module.Label;
      Sprite = module.Sprite;
    }, function (module) {
      UIBase = module.UIBase;
    }, function (module) {
      NSLinkListToggle = module.NSLinkListToggle;
    }, function (module) {
      NSInfinityFx = module.NSInfinityFx;
    }, function (module) {
      NSMovingFx = module.NSMovingFx;
    }, function (module) {
      pAsyncUtils = module.pAsyncUtils;
    }, function (module) {
      ResponseCode = module.ResponseCode;
    }, function (module) {
      UICardConfig = module.UICardConfig;
    }, function (module) {
      pComponentUtils = module.pComponentUtils;
    }, function (module) {
      GlobalConfig = module.default;
    }, function (module) {
      pStringUtils = module.pStringUtils;
    }, function (module) {
      pEventManager = module.pEventManager;
    }, function (module) {
      pDecorators = module.pDecorators;
    }, function (module) {
      NSAudio = module.NSAudio;
    }, function (module) {
      UIType = module.UIType;
      EAudioID = module.EAudioID;
    }, function (module) {
      NotifyToast = module.NotifyToast;
    }, function (module) {
      LanguageMananger = module.LanguageMananger;
    }, function (module) {
      MiniLoading = module.MiniLoading;
    }, function (module) {
      UIController = module.UIController;
    }, function (module) {
      request = module.default;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _dec11, _dec12, _dec13, _dec14, _dec15, _dec16, _dec17, _dec18, _dec19, _dec20, _dec21, _dec22, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9, _descriptor10, _descriptor11, _descriptor12, _descriptor13, _descriptor14, _descriptor15, _descriptor16, _descriptor17, _descriptor18, _descriptor19, _descriptor20;
      cclegacy._RF.push({}, "113b1+PRQtBZ7YrTrMXY4mX", "UIPopupSpinGame", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var UIPopupSpinGame = exports('UIPopupSpinGame', (_dec = ccclass('UIPopupSpinGame'), _dec2 = property(Button), _dec3 = property(Button), _dec4 = property(Button), _dec5 = property(Animation), _dec6 = property(AnimationClip), _dec7 = property(AnimationClip), _dec8 = property({
        min: 0
      }), _dec9 = property(NSMovingFx.Component), _dec10 = property(NSLinkListToggle.Component), _dec11 = property(NSLinkListToggle.Component), _dec12 = property(NSLinkListToggle.Component), _dec13 = property(Label), _dec14 = property(Label), _dec15 = property(Label), _dec16 = property(NSLinkListToggle.Component), _dec17 = property([NSInfinityFx.Component]), _dec18 = property([NSMovingFx.Component]), _dec19 = property([Sprite]), _dec20 = property(Label), _dec21 = property(NSMovingFx.Component), _dec22 = property(MiniLoading), _dec(_class = (_class2 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UIPopupSpinGame, _UIBase);
        function UIPopupSpinGame() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "btnSpin", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnHelp", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnHistory", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "anim", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "spinAnim", _descriptor5, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "reverseAnim", _descriptor6, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "duration", _descriptor7, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "mover", _descriptor8, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "min", _descriptor9, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "mid", _descriptor10, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "big", _descriptor11, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "labelMin", _descriptor12, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "labelMid", _descriptor13, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "labelBig", _descriptor14, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "auto", _descriptor15, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "scroller", _descriptor16, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "results", _descriptor17, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "labelResult", _descriptor18, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "resultMover", _descriptor19, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "loading", _descriptor20, _assertThisInitialized(_this));
          _this._is = false;
          _this._once = [['onLeaveTable', _this.close, _assertThisInitialized(_this)], ['onGamePause', _this._onGamePause, _assertThisInitialized(_this)], ['onGameResume', _this._onGameResume, _assertThisInitialized(_this)]];
          _this._isShowBefore = false;
          _this._isInit = false;
          _this._isAuto = false;
          _this._bet = 0;
          _this._data = null;
          return _this;
        }
        var _proto = UIPopupSpinGame.prototype;
        _proto._open = /*#__PURE__*/function () {
          var _open2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  if (!this._is) {
                    _context.next = 2;
                    break;
                  }
                  return _context.abrupt("return");
                case 2:
                  this._init();
                  this._is = true;
                  _context.next = 6;
                  return Promise.all([this._gen(), this.mover.show({
                    id: 'on'
                  })]);
                case 6:
                  this.btnSpin.interactable = true;
                  this._is = false;
                case 8:
                case "end":
                  return _context.stop();
              }
            }, _callee, this);
          }));
          function _open() {
            return _open2.apply(this, arguments);
          }
          return _open;
        }();
        _proto._close = /*#__PURE__*/function () {
          var _close2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {
            return _regeneratorRuntime().wrap(function _callee2$(_context2) {
              while (1) switch (_context2.prev = _context2.next) {
                case 0:
                  if (!this._is) {
                    _context2.next = 2;
                    break;
                  }
                  return _context2.abrupt("return");
                case 2:
                  this._init();
                  this._is = true;
                  this.auto.jump('off');
                  _context2.next = 7;
                  return this.mover.show({
                    id: 'off'
                  });
                case 7:
                  this._is = false;
                case 8:
                case "end":
                  return _context2.stop();
              }
            }, _callee2, this);
          }));
          function _close() {
            return _close2.apply(this, arguments);
          }
          return _close;
        }();
        _proto._gen = /*#__PURE__*/function () {
          var _gen2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {
            var msg, code, data;
            return _regeneratorRuntime().wrap(function _callee3$(_context3) {
              while (1) switch (_context3.prev = _context3.next) {
                case 0:
                  this.loading.show();
                  _context3.next = 3;
                  return request('getGameInfo', {});
                case 3:
                  msg = _context3.sent;
                  code = msg.code, data = msg.data;
                  if (!(code !== ResponseCode.SUCCESS)) {
                    _context3.next = 7;
                    break;
                  }
                  return _context3.abrupt("return");
                case 7:
                  this.init(data);
                  this.loading.close();
                case 9:
                case "end":
                  return _context3.stop();
              }
            }, _callee3, this);
          }));
          function _gen() {
            return _gen2.apply(this, arguments);
          }
          return _gen;
        }();
        _proto._onGamePause = function _onGamePause() {
          this._isShowBefore = this.active;
          this.close();
        };
        _proto._onGameResume = function _onGameResume() {
          if (this._isShowBefore) {
            this.open();
          } else {
            this.close();
          }
        };
        _proto._init = function _init() {
          if (this._isInit) return;
          this._isInit = true;
          this._addClickers([{
            handlers: this._actSpin,
            target: this.btnSpin
          }, {
            handlers: this._actHelp,
            target: this.btnHelp
          }, {
            handlers: this._actHistory,
            target: this.btnHistory
          }, {
            handlers: this._close,
            target: [this.btnClose].concat(this.btnCloses)
          }]);
          this.min.get('on').add('onLanding', {
            _this: this,
            _function: this._actBetMin
          });
          this.mid.get('on').add('onLanding', {
            _this: this,
            _function: this._actBetMid
          });
          this.big.get('on').add('onLanding', {
            _this: this,
            _function: this._actBetBig
          });
          this.auto.get('on').add('onLanding', {
            _this: this,
            _function: this._onAutoSpin
          });
          this.auto.get('off').add('onLanding', {
            _this: this,
            _function: this._onAutoSpin
          });
          this.anim.clips = [this.spinAnim, this.reverseAnim];
          for (var _iterator = _createForOfIteratorHelperLoose(this.scroller), _step; !(_step = _iterator()).done;) {
            var ret = _step.value;
            ret.add('onTransition', {
              _function: this._onScrollerChange,
              _this: this
            });
          }
          pEventManager.on(this._once);
        };
        _proto._onDestroy = function _onDestroy() {
          pEventManager.off(this._once);
        };
        _proto._onScrollerChange = function _onScrollerChange(transform) {
          var sprite = transform.getComponent(Sprite);
          if (!sprite) return;
          var rand = UICardConfig.instance.random(true);
          sprite.spriteFrame = rand.frame;
        };
        _proto._onAutoSpin = function _onAutoSpin() {
          if (this.loading.isShowing) {
            NotifyToast.instance.showWithKey('txt_please_wait');
            return;
          }
          this._isAuto = !this._isAuto;
          this._isAuto && this.btnSpin.interactable && this._actSpin();
        };
        _proto._actOffAll = function _actOffAll() {
          this.min.jump('off');
          this.mid.jump('off');
          this.big.jump('off');
        };
        _proto._actBetMin = function _actBetMin() {
          this.mid.jump('off');
          this.big.jump('off');
          this._bet = this._data.betOptions[0];
        };
        _proto._actBetMid = function _actBetMid() {
          this.min.jump('off');
          this.big.jump('off');
          this._bet = this._data.betOptions[1];
        };
        _proto._actBetBig = function _actBetBig() {
          this.min.jump('off');
          this.mid.jump('off');
          this._bet = this._data.betOptions[2];
        };
        _proto.init = function init(data) {
          this._data = data;
          this.labelMin.string = pStringUtils.formatNumberKMB(this._data.betOptions[0]);
          this.labelMid.string = pStringUtils.formatNumberKMB(this._data.betOptions[1]);
          this.labelBig.string = pStringUtils.formatNumberKMB(this._data.betOptions[2]);
          this.min.jump('on');
          this._bet = this._data.betOptions[0];
        };
        _proto._actHistory = function _actHistory() {
          if (this.loading.isShowing) {
            NotifyToast.instance.showWithKey('txt_please_wait');
            return;
          }
          UIController.open(UIType.SPIN_HISTORY);
        };
        _proto._actHelp = function _actHelp() {
          if (this.loading.isShowing) {
            NotifyToast.instance.showWithKey('txt_please_wait');
            return;
          }
          UIController.open(UIType.SPIN_RULE, true, false, false, this._data.payoutRates);
        };
        _proto._error = /*#__PURE__*/function () {
          var _error2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(messsage) {
            return _regeneratorRuntime().wrap(function _callee4$(_context4) {
              while (1) switch (_context4.prev = _context4.next) {
                case 0:
                  this.anim.play(this.reverseAnim.name);
                  this._isAuto = false;
                  _context4.next = 4;
                  return pAsyncUtils.wait(this.reverseAnim.duration);
                case 4:
                  this.btnSpin.interactable = true;
                  pDecorators.instance(NotifyToast).show(messsage, 'table');
                case 6:
                case "end":
                  return _context4.stop();
              }
            }, _callee4, this);
          }));
          function _error(_x) {
            return _error2.apply(this, arguments);
          }
          return _error;
        }();
        _proto._actSpin = /*#__PURE__*/function () {
          var _actSpin2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5() {
            var instance, str, _mainBlance, i, msg, code, data, _i, card, _card, _i2, _i3, balance, handTypes, handName, _win;
            return _regeneratorRuntime().wrap(function _callee5$(_context5) {
              while (1) switch (_context5.prev = _context5.next) {
                case 0:
                  if (this.anim) {
                    _context5.next = 2;
                    break;
                  }
                  return _context5.abrupt("return");
                case 2:
                  instance = GlobalConfig.instance;
                  this.resultMover.show({
                    id: 'off'
                  });
                  this.btnSpin.interactable = false;
                  this.anim.play(this.spinAnim.name);
                  _context5.next = 8;
                  return pAsyncUtils.wait(this.spinAnim.duration);
                case 8:
                  pDecorators.instance(NSAudio.Manager).play(EAudioID.SFX_SPIN_CLICK);
                  if (instance.checkBalance(this._bet)) {
                    _context5.next = 14;
                    break;
                  }
                  str = LanguageMananger.instance.getStrings('txt_not_enough_chip');
                  _context5.next = 13;
                  return this._error(str.txt_not_enough_chip);
                case 13:
                  return _context5.abrupt("return");
                case 14:
                  instance.addBalance(-this._bet, false); //Pre set balance
                  _mainBlance = instance.getBalance();
                  i = 0;
                case 17:
                  if (!(i < this.results.length)) {
                    _context5.next = 24;
                    break;
                  }
                  this.scroller[i].node.active = true;
                  _context5.next = 21;
                  return this.results[i].show({
                    id: 'hide'
                  });
                case 21:
                  i++;
                  _context5.next = 17;
                  break;
                case 24:
                  _context5.next = 26;
                  return request('spin', {
                    betAmount: this._bet
                  });
                case 26:
                  msg = _context5.sent;
                  code = msg.code, data = msg.data;
                  _context5.t0 = code;
                  _context5.next = _context5.t0 === ResponseCode.SUCCESS ? 31 : _context5.t0 === ResponseCode.ERROR ? 34 : 49;
                  break;
                case 31:
                  this.log('[UIPopupSpinGame] Spin Success', msg);
                  for (_i = 0; _i < data.cards.length; _i++) {
                    card = data.cards[_i];
                    _card = this.cards[_i];
                    _card.spriteFrame = UICardConfig.instance.get(card.code).frame;
                  }
                  return _context5.abrupt("break", 49);
                case 34:
                  this.warn('[UIPopupSpinGame] Spin Error', msg);
                  _context5.next = 37;
                  return this._error(LanguageMananger.instance.getString(msg['msg']));
                case 37:
                  _i2 = 0;
                case 38:
                  if (!(_i2 < this.results.length)) {
                    _context5.next = 45;
                    break;
                  }
                  _context5.next = 41;
                  return this.results[_i2].show({
                    id: 'show'
                  });
                case 41:
                  this.scroller[_i2].node.active = false;
                case 42:
                  _i2++;
                  _context5.next = 38;
                  break;
                case 45:
                  this.resultMover.show({
                    id: 'on'
                  });
                  this.labelResult.string = LanguageMananger.instance.getString('txt_error');
                  GlobalConfig.instance.addBalance(this._bet, false);
                  return _context5.abrupt("return");
                case 49:
                  this.labelResult.string = data.handName;
                  _context5.next = 52;
                  return pAsyncUtils.wait(this.duration);
                case 52:
                  _i3 = 0;
                case 53:
                  if (!(_i3 < this.results.length)) {
                    _context5.next = 60;
                    break;
                  }
                  _context5.next = 56;
                  return this.results[_i3].show({
                    id: 'show'
                  });
                case 56:
                  this.scroller[_i3].node.active = false;
                case 57:
                  _i3++;
                  _context5.next = 53;
                  break;
                case 60:
                  this.resultMover.show({
                    id: 'on'
                  });
                  if (!!data) {
                    balance = data.balance, handTypes = data.handTypes, handName = data.handName;
                    _win = balance - _mainBlance;
                    _win > 0 && NotifyToast.instance.showWithKey({
                      key: "dynamic_spin_win_amount",
                      replacers: [{
                        find: "@amount",
                        replacer: pStringUtils.formatNumberKMB(_win)
                      }, {
                        find: "@name",
                        replacer: handName
                      }]
                    });
                    if (handTypes == "ROYAL_FLUSH") {
                      pDecorators.instance(NSAudio.Manager).play(EAudioID.SFX_JACKPOT);
                    } else if (handTypes != "HIGH_CARD") {
                      pDecorators.instance(NSAudio.Manager).play(EAudioID.SFX_SPIN_WIN);
                    }
                  }
                  this.anim.play(this.reverseAnim.name);
                  _context5.next = 65;
                  return pAsyncUtils.wait(this.reverseAnim.duration);
                case 65:
                  if (!this._isAuto) {
                    _context5.next = 71;
                    break;
                  }
                  _context5.next = 68;
                  return pAsyncUtils.wait(1);
                case 68:
                  this._actSpin();
                  _context5.next = 72;
                  break;
                case 71:
                  this.btnSpin.interactable = true;
                case 72:
                case "end":
                  return _context5.stop();
              }
            }, _callee5, this);
          }));
          function _actSpin() {
            return _actSpin2.apply(this, arguments);
          }
          return _actSpin;
        }();
        _createClass(UIPopupSpinGame, [{
          key: "cards",
          get: function get() {
            return this.results.map(function (item) {
              return pComponentUtils.getSafeComponent(item, Sprite);
            });
          }
        }]);
        return UIPopupSpinGame;
      }(UIBase), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "btnSpin", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "btnHelp", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "btnHistory", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "anim", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "spinAnim", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, "reverseAnim", [_dec7], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor7 = _applyDecoratedDescriptor(_class2.prototype, "duration", [_dec8], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return 0;
        }
      }), _descriptor8 = _applyDecoratedDescriptor(_class2.prototype, "mover", [_dec9], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor9 = _applyDecoratedDescriptor(_class2.prototype, "min", [_dec10], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor10 = _applyDecoratedDescriptor(_class2.prototype, "mid", [_dec11], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor11 = _applyDecoratedDescriptor(_class2.prototype, "big", [_dec12], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor12 = _applyDecoratedDescriptor(_class2.prototype, "labelMin", [_dec13], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor13 = _applyDecoratedDescriptor(_class2.prototype, "labelMid", [_dec14], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor14 = _applyDecoratedDescriptor(_class2.prototype, "labelBig", [_dec15], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor15 = _applyDecoratedDescriptor(_class2.prototype, "auto", [_dec16], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor16 = _applyDecoratedDescriptor(_class2.prototype, "scroller", [_dec17], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return [];
        }
      }), _descriptor17 = _applyDecoratedDescriptor(_class2.prototype, "results", [_dec18], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return [];
        }
      }), _applyDecoratedDescriptor(_class2.prototype, "cards", [_dec19], Object.getOwnPropertyDescriptor(_class2.prototype, "cards"), _class2.prototype), _descriptor18 = _applyDecoratedDescriptor(_class2.prototype, "labelResult", [_dec20], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor19 = _applyDecoratedDescriptor(_class2.prototype, "resultMover", [_dec21], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor20 = _applyDecoratedDescriptor(_class2.prototype, "loading", [_dec22], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIProfile.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts', './UIController.ts', './Enums.ts', './GlobalConfig.ts', './StringUtils.ts', './UICardConfig.ts', './ResponeCode.ts', './GameManager.ts', './EventManager.ts', './Decorators.ts', './NotifyToast.ts', './JsonUtils.ts', './DBStorage.ts', './MiniLoading.ts', './UserCommand.ts', './ExpCommand.ts', './SafeBoxCommand.ts'], function (exports) {
  var _applyDecoratedDescriptor, _initializerDefineProperty, _inheritsLoose, _assertThisInitialized, _createClass, _asyncToGenerator, _regeneratorRuntime, cclegacy, _decorator, Sprite, Label, Node, Button, ProgressBar, Layout, UIBase, UIController, UIType, ESupportType, ESupportLevelFilter, GlobalConfig, pStringUtils, UICardConfig, ResponseCode, GameManager, pEventManager, pDecorators, NotifyToast, JsonUtils, DBStorage, MiniLoading, request$1, request, request$2;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _initializerDefineProperty = module.initializerDefineProperty;
      _inheritsLoose = module.inheritsLoose;
      _assertThisInitialized = module.assertThisInitialized;
      _createClass = module.createClass;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Sprite = module.Sprite;
      Label = module.Label;
      Node = module.Node;
      Button = module.Button;
      ProgressBar = module.ProgressBar;
      Layout = module.Layout;
    }, function (module) {
      UIBase = module.UIBase;
    }, function (module) {
      UIController = module.UIController;
    }, function (module) {
      UIType = module.UIType;
      ESupportType = module.ESupportType;
      ESupportLevelFilter = module.ESupportLevelFilter;
    }, function (module) {
      GlobalConfig = module.default;
    }, function (module) {
      pStringUtils = module.pStringUtils;
    }, function (module) {
      UICardConfig = module.UICardConfig;
    }, function (module) {
      ResponseCode = module.ResponseCode;
    }, function (module) {
      GameManager = module.GameManager;
    }, function (module) {
      pEventManager = module.pEventManager;
    }, function (module) {
      pDecorators = module.pDecorators;
    }, function (module) {
      NotifyToast = module.NotifyToast;
    }, function (module) {
      JsonUtils = module.default;
    }, function (module) {
      DBStorage = module.DBStorage;
    }, function (module) {
      MiniLoading = module.MiniLoading;
    }, function (module) {
      request$1 = module.default;
    }, function (module) {
      request = module.default;
    }, function (module) {
      request$2 = module.default;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _class, _class2, _descriptor, _descriptor2, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _dec11, _dec12, _dec13, _dec14, _dec15, _dec16, _dec17, _dec18, _dec19, _dec20, _dec21, _dec22, _dec23, _dec24, _dec25, _dec26, _dec27, _dec28, _dec29, _dec30, _dec31, _dec32, _dec33, _dec34, _dec35, _dec36, _dec37, _dec38, _dec39, _dec40, _dec41, _dec42, _dec43, _dec44, _dec45, _dec46, _dec47, _dec48, _dec49, _dec50, _dec51, _dec52, _dec53, _class4, _class5, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9, _descriptor10, _descriptor11, _descriptor12, _descriptor13, _descriptor14, _descriptor15, _descriptor16, _descriptor17, _descriptor18, _descriptor19, _descriptor20, _descriptor21, _descriptor22, _descriptor23, _descriptor24, _descriptor25, _descriptor26, _descriptor27;
      cclegacy._RF.push({}, "1ca9ePPJcFKGoPumKZZnNZ/", "UIProfile", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property,
        type = _decorator.type;
      var AchievementUIConfig = (_dec = ccclass('AchievementUIConfig'), _dec2 = property(Sprite), _dec3 = property(Label), _dec(_class = (_class2 = function AchievementUIConfig() {
        _initializerDefineProperty(this, "icon", _descriptor, this);
        _initializerDefineProperty(this, "achievementName", _descriptor2, this);
      }, (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "icon", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "achievementName", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class);
      var UIProfile = exports('UIProfile', (_dec4 = ccclass('UIProfile'), _dec5 = property({
        group: "Achievemnent"
      }), _dec6 = type([Node]), _dec7 = property({
        group: "Achievemnent"
      }), _dec8 = type([AchievementUIConfig]), _dec9 = property({
        group: "Top"
      }), _dec10 = type(Button), _dec11 = property({
        group: "Top"
      }), _dec12 = type(Button), _dec13 = property({
        group: "Top"
      }), _dec14 = type(Label), _dec15 = property({
        group: "Top"
      }), _dec16 = type(Button), _dec17 = property({
        group: "Top"
      }), _dec18 = type(Label), _dec19 = property({
        group: "Center"
      }), _dec20 = type(Sprite), _dec21 = property({
        group: "Center"
      }), _dec22 = type(Button), _dec23 = property({
        group: "Center"
      }), _dec24 = type(Label), _dec25 = property({
        group: "Center"
      }), _dec26 = type(Label), _dec27 = property({
        group: "Center"
      }), _dec28 = type(Label), _dec29 = property({
        group: "Center"
      }), _dec30 = type(Node), _dec31 = property({
        group: "Center"
      }), _dec32 = type(ProgressBar), _dec33 = property({
        group: "Center"
      }), _dec34 = type(Label), _dec35 = property({
        group: "Center"
      }), _dec36 = type(Label), _dec37 = property({
        group: "Center"
      }), _dec38 = type(Button), _dec39 = property({
        group: "Center"
      }), _dec40 = type(Label), _dec41 = property({
        group: "Center"
      }), _dec42 = type(Label), _dec43 = property({
        group: "Center"
      }), _dec44 = type(Label), _dec45 = property({
        group: "Achievemnent"
      }), _dec46 = type(Button), _dec47 = property({
        group: "Achievemnent"
      }), _dec48 = type(Node), _dec49 = property({
        group: "Center"
      }), _dec50 = type(Node), _dec51 = property({
        group: "Center"
      }), _dec52 = type(Layout), _dec53 = type(MiniLoading), _dec4(_class4 = (_class5 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UIProfile, _UIBase);
        function UIProfile() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "achievementNodes", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "achievementUIs", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnEditProfile", _descriptor5, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnAddChip", _descriptor6, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lblChip", _descriptor7, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnAddGold", _descriptor8, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lblGold", _descriptor9, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "imgAvatarBig", _descriptor10, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnSafe", _descriptor11, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lblUserName", _descriptor12, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lblUID", _descriptor13, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lblUserLevel", _descriptor14, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "toggleLevelProgress", _descriptor15, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "levelProgress", _descriptor16, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbLevelProgress", _descriptor17, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lblUserTitle", _descriptor18, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnHelp", _descriptor19, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lblWinRate", _descriptor20, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lblBestWin", _descriptor21, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lblBestChip", _descriptor22, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnAchievement", _descriptor23, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "achievementContainer", _descriptor24, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "noAchievementNode", _descriptor25, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "layoutBestHand", _descriptor26, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "loading", _descriptor27, _assertThisInitialized(_this));
          _this._events = [['reopensafebox', _this._actOpenSafe, _assertThisInitialized(_this)], ['onUpdateAvatar', _this._onUpdateAvatar, _assertThisInitialized(_this)]];
          _this._badges = [];
          _this._currentChip = 0;
          return _this;
        }
        var _proto = UIProfile.prototype;
        _proto._onOpen = /*#__PURE__*/function () {
          var _onOpen2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {
            var _str, _data, _chips, _main;
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  _str = pDecorators.instance(DBStorage);
                  _data = _str.get('BEST_CHIPS');
                  _chips = JsonUtils.isValidData(_data) ? JSON.parse(_data) : 0;
                  _main = GlobalConfig.instance.getBalance();
                  if (_main > _chips) {
                    _str.save({
                      key: 'BEST_CHIPS',
                      value: JSON.stringify(_main)
                    });
                    this.lblBestChip.string = pStringUtils.formatNumberKMB(_main);
                  } else {
                    this.lblBestChip.string = pStringUtils.formatNumberKMB(_chips);
                  }
                case 5:
                case "end":
                  return _context.stop();
              }
            }, _callee, this);
          }));
          function _onOpen() {
            return _onOpen2.apply(this, arguments);
          }
          return _onOpen;
        }();
        _proto._onStart = function _onStart() {
          this._addClicker(this.btnEditProfile, this._actEditProfile, this);
          this._addClicker(this.btnSafe, this._actOpenSafe, this);
          this._addClicker(this.btnAddChip, this._actAddChip, this);
          this._addClicker(this.btnAddGold, this._actAddGold, this);
          this._addClicker(this.btnHelp, this._actOpenHelp, this);
          this._addClicker(this.btnAchievement, this._actOpenAchievement, this);
        };
        _proto._onUpdateAvatar = function _onUpdateAvatar(frame) {
          this.imgAvatarBig.spriteFrame = frame;
        };
        _proto._actEditProfile = /*#__PURE__*/function () {
          var _actEditProfile2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {
            var ui;
            return _regeneratorRuntime().wrap(function _callee2$(_context2) {
              while (1) switch (_context2.prev = _context2.next) {
                case 0:
                  _context2.next = 2;
                  return UIController.Instance.open(UIType.PROFILE_EDIT);
                case 2:
                  ui = _context2.sent;
                  ui == null || ui.setBackUI(this.uiType);
                  this.close();
                case 5:
                case "end":
                  return _context2.stop();
              }
            }, _callee2, this);
          }));
          function _actEditProfile() {
            return _actEditProfile2.apply(this, arguments);
          }
          return _actEditProfile;
        }();
        _proto._actOpenSafe = /*#__PURE__*/function () {
          var _actOpenSafe2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {
            var _this2 = this;
            var res, uiSafeboxPassword;
            return _regeneratorRuntime().wrap(function _callee4$(_context4) {
              while (1) switch (_context4.prev = _context4.next) {
                case 0:
                  _context4.next = 2;
                  return request$2('checkSafeBoxStatus', {});
                case 2:
                  res = _context4.sent;
                  if (!(res.code !== ResponseCode.SUCCESS)) {
                    _context4.next = 6;
                    break;
                  }
                  pDecorators.instance(NotifyToast).show(res.msg || res.message, 'lobby');
                  return _context4.abrupt("return");
                case 6:
                  if (!res.data.isAuthenticated) {
                    _context4.next = 13;
                    break;
                  }
                  _context4.next = 9;
                  return UIController.Instance.open(UIType.SAFEBOX_PASSWORD, true);
                case 9:
                  uiSafeboxPassword = _context4.sent;
                  if (uiSafeboxPassword) {
                    uiSafeboxPassword.init(false);
                    uiSafeboxPassword.onPasswordConfirm( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(pass) {
                      var resTransactions;
                      return _regeneratorRuntime().wrap(function _callee3$(_context3) {
                        while (1) switch (_context3.prev = _context3.next) {
                          case 0:
                            _context3.next = 2;
                            return request$2('getTransactions', {
                              password: pass,
                              limit: 10,
                              page: 1
                            });
                          case 2:
                            resTransactions = _context3.sent;
                            if (resTransactions.code === ResponseCode.SUCCESS) {
                              _this2.openUISafebox(res.data.isAuthenticated, res.data.balance, pass);
                              uiSafeboxPassword.close();
                            } else pDecorators.instance(NotifyToast).show(resTransactions.msg || resTransactions.message, 'lobby');
                          case 4:
                          case "end":
                            return _context3.stop();
                        }
                      }, _callee3);
                    })));
                  }
                  _context4.next = 14;
                  break;
                case 13:
                  this.openUISafebox(res.data.isAuthenticated, res.data.balance);
                case 14:
                case "end":
                  return _context4.stop();
              }
            }, _callee4, this);
          }));
          function _actOpenSafe() {
            return _actOpenSafe2.apply(this, arguments);
          }
          return _actOpenSafe;
        }();
        _proto.openUISafebox = /*#__PURE__*/function () {
          var _openUISafebox = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(isLocked, balance, password) {
            var ui;
            return _regeneratorRuntime().wrap(function _callee5$(_context5) {
              while (1) switch (_context5.prev = _context5.next) {
                case 0:
                  if (balance === void 0) {
                    balance = 0;
                  }
                  _context5.next = 3;
                  return UIController.Instance.open(UIType.PROFILE_SAFE);
                case 3:
                  ui = _context5.sent;
                  if (ui) {
                    _context5.next = 6;
                    break;
                  }
                  return _context5.abrupt("return");
                case 6:
                  ui.setBackUI(this.uiType);
                  ui.isLocked = isLocked;
                  ui.balanceInSafebox = balance;
                  password && (ui.password = password);
                case 10:
                case "end":
                  return _context5.stop();
              }
            }, _callee5, this);
          }));
          function openUISafebox(_x2, _x3, _x4) {
            return _openUISafebox.apply(this, arguments);
          }
          return openUISafebox;
        }();
        _proto._actAddChip = /*#__PURE__*/function () {
          var _actAddChip2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6() {
            return _regeneratorRuntime().wrap(function _callee6$(_context6) {
              while (1) switch (_context6.prev = _context6.next) {
                case 0:
                  _context6.next = 2;
                  return UIController.Instance.open(UIType.SHOP, false, true, true);
                case 2:
                case "end":
                  return _context6.stop();
              }
            }, _callee6);
          }));
          function _actAddChip() {
            return _actAddChip2.apply(this, arguments);
          }
          return _actAddChip;
        }();
        _proto._actAddGold = function _actAddGold() {};
        _proto._actOpenHelp = /*#__PURE__*/function () {
          var _actOpenHelp2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee7() {
            return _regeneratorRuntime().wrap(function _callee7$(_context7) {
              while (1) switch (_context7.prev = _context7.next) {
                case 0:
                  _context7.next = 2;
                  return UIController.Instance.open(UIType.SUPPORT, true, true, false, ESupportType.LEVEL, ESupportLevelFilter.LEVEL_RULE);
                case 2:
                case "end":
                  return _context7.stop();
              }
            }, _callee7);
          }));
          function _actOpenHelp() {
            return _actOpenHelp2.apply(this, arguments);
          }
          return _actOpenHelp;
        }();
        _proto._actOpenAchievement = /*#__PURE__*/function () {
          var _actOpenAchievement2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee8() {
            return _regeneratorRuntime().wrap(function _callee8$(_context8) {
              while (1) switch (_context8.prev = _context8.next) {
                case 0:
                  this.loading.show();
                  _context8.next = 3;
                  return UIController.Instance.open(UIType.ACHIEVEMENTS, true, false, false, this._badges);
                case 3:
                  this.loading.close();
                case 4:
                case "end":
                  return _context8.stop();
              }
            }, _callee8, this);
          }));
          function _actOpenAchievement() {
            return _actOpenAchievement2.apply(this, arguments);
          }
          return _actOpenAchievement;
        }();
        _proto.onEnable = function onEnable() {
          this.initData();
          pEventManager.on(this._events);
        };
        _proto.initData = function initData() {
          var _this3 = this;
          var instance = GlobalConfig.instance;
          if (!instance.doubleCheckLogin()) return;
          var information = instance.Login.player.information;
          var properties = information.properties,
            full_name = information.display_name,
            level = information.level,
            exp = information.exp,
            win_rate = information.win_rate,
            uid = information.uid;
          var play_json = properties.play_json;
          var _sprite = GlobalConfig.instance.getAvatar();
          this._onUpdateAvatar(_sprite);
          request('getAllLevelRanks', {}).then(function (_rs) {
            if (_rs.code === ResponseCode.SUCCESS) {
              var levelRequire = _rs.msg.levelRanks.find(function (v) {
                return v.level === level + 1;
              });
              if (!levelRequire) return;
              var exp_require = levelRequire.total_exp;
              _this3.lbLevelProgress.string = exp + "/" + exp_require;
              var _exp = exp / exp_require;
              _this3.levelProgress.progress = _exp >= 1 ? 1 : _exp;
              var currentLevelInfo = _rs.msg.levelRanks.find(function (v) {
                return v.level === level;
              });
              currentLevelInfo && (_this3.lblUserTitle.string = currentLevelInfo.title);
            }
          });
          this.lblUID.string = uid.toString();
          this.lblUserName.string = full_name;
          this.lblUserLevel.string = level.toString();
          var playData = JsonUtils.isValidData(play_json) ? JSON.parse(play_json) : {};
          var biggestWon = Number(playData.biggestWon) || 0;
          this.lblWinRate.string = pStringUtils.formatMoneyWithDot(Number(win_rate), 2) + "%";
          this.lblBestWin.string = pStringUtils.formatNumberKMB(biggestWon);
          var sprs = this.layoutBestHand.node.children.map(function (e) {
            return e.getComponent(Sprite);
          });
          for (var idx in sprs) {
            var ret = sprs[idx];
            ret.spriteFrame = !!playData.bestHand ? UICardConfig.instance.get(playData.bestHand[idx]) ? UICardConfig.instance.get(playData.bestHand[idx]).frame : UICardConfig.instance.down : UICardConfig.instance.down;
          }
          var listNewAchievement = [];
          this.noAchievementNode.active = false;
          this.achievementContainer.active = false;
          this.achievementNodes.forEach(function (e) {
            return e.active = false;
          });
          request$1('getAllBadges', {}).then(function (res) {
            if (res.code === ResponseCode.SUCCESS) {
              _this3._badges = res.msg.badges;
              listNewAchievement = _this3._badges.filter(function (b) {
                return b.player_reward && Boolean(b.player_reward.is_completed);
              });
            }
            if (listNewAchievement.length === 0) {
              // Show empty
              _this3.noAchievementNode.active = true;
              return;
            }
            _this3.achievementContainer.active = true;
            if (listNewAchievement.length === 1) {
              _this3.achievementNodes[0].active = true;
              var acm = listNewAchievement[0];
              GameManager.Instance.setImageFromUrl(acm.icon_url, _this3.achievementUIs[0].icon, true);
              _this3.achievementUIs[0].achievementName.string = acm.name;
              return;
            }
            listNewAchievement = listNewAchievement.sort(function (a, b) {
              return Date.parse(b.awarded_at) - Date.parse(a.awarded_at);
            });
            try {
              for (var i = 0; i < 3; i++) {
                var e = listNewAchievement[i];
                _this3.achievementNodes[i].active = true;
                GameManager.Instance.setImageFromUrl(e.icon_url, _this3.achievementUIs[i].icon, true);
                _this3.achievementUIs[i].achievementName.string = e.name;
              }
            } catch (error) {}
          });
        };
        _proto.onDisable = function onDisable() {
          pEventManager.off(this._events);
        };
        _createClass(UIProfile, [{
          key: "currentChip",
          get: function get() {
            return this._currentChip;
          },
          set: function set(v) {
            this.lblChip.string = pStringUtils.formatMoneyWithDot(v);
            this._currentChip = v;
          }
        }]);
        return UIProfile;
      }(UIBase), (_descriptor3 = _applyDecoratedDescriptor(_class5.prototype, "achievementNodes", [_dec5, _dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return [];
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class5.prototype, "achievementUIs", [_dec7, _dec8], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return [];
        }
      }), _descriptor5 = _applyDecoratedDescriptor(_class5.prototype, "btnEditProfile", [_dec9, _dec10], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor6 = _applyDecoratedDescriptor(_class5.prototype, "btnAddChip", [_dec11, _dec12], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor7 = _applyDecoratedDescriptor(_class5.prototype, "lblChip", [_dec13, _dec14], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor8 = _applyDecoratedDescriptor(_class5.prototype, "btnAddGold", [_dec15, _dec16], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor9 = _applyDecoratedDescriptor(_class5.prototype, "lblGold", [_dec17, _dec18], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor10 = _applyDecoratedDescriptor(_class5.prototype, "imgAvatarBig", [_dec19, _dec20], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor11 = _applyDecoratedDescriptor(_class5.prototype, "btnSafe", [_dec21, _dec22], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor12 = _applyDecoratedDescriptor(_class5.prototype, "lblUserName", [_dec23, _dec24], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor13 = _applyDecoratedDescriptor(_class5.prototype, "lblUID", [_dec25, _dec26], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor14 = _applyDecoratedDescriptor(_class5.prototype, "lblUserLevel", [_dec27, _dec28], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor15 = _applyDecoratedDescriptor(_class5.prototype, "toggleLevelProgress", [_dec29, _dec30], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor16 = _applyDecoratedDescriptor(_class5.prototype, "levelProgress", [_dec31, _dec32], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor17 = _applyDecoratedDescriptor(_class5.prototype, "lbLevelProgress", [_dec33, _dec34], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor18 = _applyDecoratedDescriptor(_class5.prototype, "lblUserTitle", [_dec35, _dec36], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor19 = _applyDecoratedDescriptor(_class5.prototype, "btnHelp", [_dec37, _dec38], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor20 = _applyDecoratedDescriptor(_class5.prototype, "lblWinRate", [_dec39, _dec40], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor21 = _applyDecoratedDescriptor(_class5.prototype, "lblBestWin", [_dec41, _dec42], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor22 = _applyDecoratedDescriptor(_class5.prototype, "lblBestChip", [_dec43, _dec44], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor23 = _applyDecoratedDescriptor(_class5.prototype, "btnAchievement", [_dec45, _dec46], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor24 = _applyDecoratedDescriptor(_class5.prototype, "achievementContainer", [_dec47, _dec48], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor25 = _applyDecoratedDescriptor(_class5.prototype, "noAchievementNode", [_dec49, _dec50], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor26 = _applyDecoratedDescriptor(_class5.prototype, "layoutBestHand", [_dec51, _dec52], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor27 = _applyDecoratedDescriptor(_class5.prototype, "loading", [_dec53], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class5)) || _class4));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIProfileAchievement.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, cclegacy, _decorator, ToggleContainer, Node, ScrollView, Button, UIBase;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      ToggleContainer = module.ToggleContainer;
      Node = module.Node;
      ScrollView = module.ScrollView;
      Button = module.Button;
    }, function (module) {
      UIBase = module.UIBase;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _dec11, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9, _descriptor10;
      cclegacy._RF.push({}, "40871FBokBF3LbEMfRgHNDA", "UIProfileAchievement", undefined);
      var ccclass = _decorator.ccclass,
        type = _decorator.type;
      var StatsType = /*#__PURE__*/function (StatsType) {
        StatsType[StatsType["PokerCareer"] = 0] = "PokerCareer";
        StatsType[StatsType["Achievement"] = 1] = "Achievement";
        StatsType[StatsType["Stats"] = 2] = "Stats";
        return StatsType;
      }(StatsType || {});
      var UIProfileAchievement = exports('UIProfileAchievement', (_dec = ccclass('UIProfileAchievement'), _dec2 = type(ToggleContainer), _dec3 = type(Node), _dec4 = type(Node), _dec5 = type(Node), _dec6 = type(ScrollView), _dec7 = type(ScrollView), _dec8 = type(ScrollView), _dec9 = type(Button), _dec10 = type(Button), _dec11 = type(Button), _dec(_class = (_class2 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UIProfileAchievement, _UIBase);
        function UIProfileAchievement() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "typeTC", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "pokerCareer", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "achievement", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "stats", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "scViewCareer", _descriptor5, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "scViewAchievement", _descriptor6, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "scViewStats", _descriptor7, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnScrollDownCareer", _descriptor8, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnScrollDownAchievement", _descriptor9, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnScrollDownStats", _descriptor10, _assertThisInitialized(_this));
          return _this;
        }
        var _proto = UIProfileAchievement.prototype;
        _proto._onStart = function _onStart() {
          this.addToggleContainerEvent(this.typeTC, this.onTypeChanged, this);
          this._addClicker(this.btnScrollDownCareer, this.scrollDownCareer, this);
          this._addClicker(this.btnScrollDownAchievement, this.scrollDownAchievement, this);
          this._addClicker(this.btnScrollDownStats, this.scrollDownStats, this);
        };
        _proto._onOpen = function _onOpen() {
          this.goToTab(StatsType.PokerCareer);
        };
        _proto.onTypeChanged = function onTypeChanged(numIndex) {
          this.goToTab(numIndex);
        };
        _proto.goToTab = function goToTab(statsType) {
          this.pokerCareer.active = statsType == StatsType.PokerCareer;
          this.achievement.active = statsType == StatsType.Achievement;
          this.stats.active = statsType == StatsType.Stats;
        };
        _proto.scrollDownCareer = function scrollDownCareer() {
          this.scrollDown(this.scViewCareer, 20);
        };
        _proto.scrollDownAchievement = function scrollDownAchievement() {
          this.scrollDown(this.scViewAchievement, 20);
        };
        _proto.scrollDownStats = function scrollDownStats() {
          this.scrollDown(this.scViewStats, 20);
        };
        return UIProfileAchievement;
      }(UIBase), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "typeTC", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "pokerCareer", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "achievement", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "stats", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "scViewCareer", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, "scViewAchievement", [_dec7], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor7 = _applyDecoratedDescriptor(_class2.prototype, "scViewStats", [_dec8], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor8 = _applyDecoratedDescriptor(_class2.prototype, "btnScrollDownCareer", [_dec9], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor9 = _applyDecoratedDescriptor(_class2.prototype, "btnScrollDownAchievement", [_dec10], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor10 = _applyDecoratedDescriptor(_class2.prototype, "btnScrollDownStats", [_dec11], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIProfileEdit.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts', './GlobalConfig.ts', './UIChooseAvatarItem.ts', './ResponeCode.ts', './NotifyToast.ts', './GameManager.ts', './Decorators.ts', './AssetManager.ts', './EventManager.ts', './UserCommand.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _asyncToGenerator, _regeneratorRuntime, cclegacy, _decorator, Sprite, Button, EditBox, ToggleContainer, ScrollView, Prefab, EventHandler, instantiate, UIBase, GlobalConfig, UIChooseAvatarItem, ResponseCode, NotifyToast, GameManager, pDecorators, NSAsset, pEventManager, request;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Sprite = module.Sprite;
      Button = module.Button;
      EditBox = module.EditBox;
      ToggleContainer = module.ToggleContainer;
      ScrollView = module.ScrollView;
      Prefab = module.Prefab;
      EventHandler = module.EventHandler;
      instantiate = module.instantiate;
    }, function (module) {
      UIBase = module.UIBase;
    }, function (module) {
      GlobalConfig = module.default;
    }, function (module) {
      UIChooseAvatarItem = module.UIChooseAvatarItem;
    }, function (module) {
      ResponseCode = module.ResponseCode;
    }, function (module) {
      NotifyToast = module.NotifyToast;
    }, function (module) {
      GameManager = module.GameManager;
    }, function (module) {
      pDecorators = module.pDecorators;
    }, function (module) {
      NSAsset = module.NSAsset;
    }, function (module) {
      pEventManager = module.pEventManager;
    }, function (module) {
      request = module.default;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _class3;
      cclegacy._RF.push({}, "c0b32bK/HxE/4YAmpWLgf8J", "UIProfileEdit", undefined);
      var ccclass = _decorator.ccclass,
        type = _decorator.type;
      var UIProfileEdit = exports('UIProfileEdit', (_dec = ccclass('UIProfileEdit'), _dec2 = type(Sprite), _dec3 = type(Button), _dec4 = type(EditBox), _dec5 = type(ToggleContainer), _dec6 = type(ScrollView), _dec7 = type(Button), _dec8 = type(Prefab), _dec9 = type(Prefab), _dec(_class = (_class2 = (_class3 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UIProfileEdit, _UIBase);
        function UIProfileEdit() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "imgAvatarBig", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnEditProfile", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "editUserName", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "sexToggleContainer", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "scrViewAvatar", _descriptor5, _assertThisInitialized(_this));
          //@type(Button) btnGallery: Button = null;
          _initializerDefineProperty(_this, "btnSave", _descriptor6, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "chooseAvatarPrefab", _descriptor7, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnLoadAvatarPrefab", _descriptor8, _assertThisInitialized(_this));
          _this.listAvatar = [];
          _this._avatar = null;
          _this._currentGender = 'MALE';
          _this._events = [['onUpdateAvatar', _this._onUpdateAvatar, _assertThisInitialized(_this)]];
          return _this;
        }
        var _proto = UIProfileEdit.prototype;
        _proto._onLoad = function _onLoad() {
          pEventManager.on(this._events);
        };
        _proto._onDestroy = function _onDestroy() {
          pEventManager.off(this._events);
        };
        _proto.onEnable = function onEnable() {
          this._addClicker(this.btnEditProfile, this.editProfile, this);
          //this.addButtonClickEvent(this.btnGallery, this._openGallery, this);
          this._addClicker(this.btnSave, this._actSaveProfile, this);
          this.editUserName.enabled = false;
          this.editUserName.node.on(EditBox.EventType.EDITING_DID_ENDED, this.editUserNameEnded, this);
          var containerEventHandler = new EventHandler();
          containerEventHandler.target = this.node;
          containerEventHandler.component = this.constructor.name;
          containerEventHandler.handler = this.onSelectSex.name;
          containerEventHandler.customEventData = '';
          this.sexToggleContainer.checkEvents.push(containerEventHandler);
          var instance = GlobalConfig.instance;
          if (!instance.doubleCheckLogin()) return;
          var full_name = instance.Login.player.information.display_name;
          this.editUserName.string = full_name;
          this._loadAvatar();
        };
        _proto._onOpen = function _onOpen() {
          this._setAvatar(GlobalConfig.instance.Login.avatar);
        };
        _proto._loadAvatar = /*#__PURE__*/function () {
          var _loadAvatar2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {
            var _am, _avatars;
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  this._avatar = GlobalConfig.instance.Login.player.information.avatar;
                  _am = pDecorators.instance(NSAsset.Manager);
                  _context.next = 4;
                  return _am.wait('onAvatarsLoaded');
                case 4:
                  _avatars = _am.getData('avatars');
                  this._actLoadAvatar(_avatars);
                case 6:
                case "end":
                  return _context.stop();
              }
            }, _callee, this);
          }));
          function _loadAvatar() {
            return _loadAvatar2.apply(this, arguments);
          }
          return _loadAvatar;
        }();
        _proto.loadAvatarByCache = function loadAvatarByCache() {
          var _this2 = this;
          this.scrViewAvatar.content.removeAllChildren();
          var loadAvatarBtn = instantiate(this.btnLoadAvatarPrefab);
          this.scrViewAvatar.content.addChild(loadAvatarBtn);
          this.listAvatar = [];
          UIProfileEdit.cacheAvatar.forEach(function (_avatar, _index) {
            var _node = instantiate(_this2.chooseAvatarPrefab);
            var _item = _node.getComponent(UIChooseAvatarItem);
            _this2.scrViewAvatar.content.addChild(_node);
            _item.init(_index, _avatar.spf, _avatar.url, function (_comp) {
              _this2.imgAvatarBig.spriteFrame = _avatar.spf;
              _this2._avatar = _comp.linkUrl;
            });
            _item.toggle.isChecked = false;
            _this2.listAvatar.push(_item);
          });
          this.scheduleOnce(function () {
            var _this2$listAvatar$fin;
            return (_this2$listAvatar$fin = _this2.listAvatar.find(function (_avatar) {
              return _avatar.avatarId === _this2._avatar || _avatar.linkUrl === _this2._avatar;
            })) == null ? void 0 : _this2$listAvatar$fin.setChecked();
          }, 0.1);
        };
        _proto._actLoadAvatar = function _actLoadAvatar(data) {
          var _this3 = this;
          this.scrViewAvatar.content.removeAllChildren();
          var loadAvatarBtn = instantiate(this.btnLoadAvatarPrefab);
          this.scrViewAvatar.content.addChild(loadAvatarBtn);
          this.listAvatar = [];
          data.forEach(function (v) {
            var _node = instantiate(_this3.chooseAvatarPrefab);
            var _item = _node.getComponent(UIChooseAvatarItem);
            _this3.scrViewAvatar.content.addChild(_node);
            _item.init(v.id, v.frame, v.link_url, function (_comp) {
              _this3.imgAvatarBig.spriteFrame = v.frame;
              _this3._avatar = _comp.linkUrl;
            });
            _item.toggle.isChecked = false;
            _this3.listAvatar.push(_item);
          });
          this.scheduleOnce(function () {
            var _this3$listAvatar$fin;
            (_this3$listAvatar$fin = _this3.listAvatar.find(function (v) {
              return v.avatarId === _this3._avatar;
            })) == null || _this3$listAvatar$fin.setChecked();
          }, 0.1);
        };
        _proto.loadAvatarUIData = function loadAvatarUIData(inData) {
          return new Promise(function (res, rej) {
            GameManager.Instance.loadRemoteSpriteFrame(inData.link_url).then(function (rs) {
              UIProfileEdit.cacheAvatar.set(inData.id, {
                url: inData.link_url,
                spf: rs
              });
              res({
                id: inData.id,
                spf: rs
              });
            })["catch"](function (err) {
              rej(err);
            });
          });
        };
        _proto.onSelectSex = function onSelectSex(event) {
          // const sexItem: Toggle = event.target.getComponent(Toggle);
          var index = this.sexToggleContainer.toggleItems.indexOf(event);
          if (index !== undefined && index !== null) {
            if (index === 0) {
              this._currentGender = 'MALE';
            } else if (index === 1) {
              this._currentGender = 'FEMALE';
            }
          }
        };
        _proto.editProfile = function editProfile() {
          this.editUserName.enabled = true;
          this.editUserName.focus();
        };
        _proto._actSaveProfile = /*#__PURE__*/function () {
          var _actSaveProfile2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {
            var _response, code, msg, message, _notice;
            return _regeneratorRuntime().wrap(function _callee2$(_context2) {
              while (1) switch (_context2.prev = _context2.next) {
                case 0:
                  //Todo: Call req save user profile
                  //const { full_name, properties } = GlobalConfig.instance.Login.player.information;

                  this.btnSave.interactable = false;
                  _context2.next = 3;
                  return request('updateProfile', {
                    avatar: this._avatar,
                    displayName: this.editUserName.string.trim(),
                    gender: this._currentGender,
                    phone: ''
                  });
                case 3:
                  _response = _context2.sent;
                  code = _response.code, msg = _response.msg, message = _response.message;
                  _context2.next = 7;
                  return pDecorators.wait(NotifyToast);
                case 7:
                  _notice = _context2.sent;
                  _context2.t0 = code;
                  _context2.next = _context2.t0 === ResponseCode.SUCCESS ? 11 : _context2.t0 === ResponseCode.ERROR ? 15 : 17;
                  break;
                case 11:
                  _notice.showWithKey('txt_update_profile_success', 'lobby');
                  //GlobalConfig.instance.Login.player.information.avatar = msg.avatar;
                  GlobalConfig.instance.updateAvatar(msg.avatar, this.imgAvatarBig.spriteFrame);
                  GlobalConfig.instance.updatePlayerName(msg.display_name);
                  return _context2.abrupt("break", 17);
                case 15:
                  _notice.show(message, 'lobby');
                  return _context2.abrupt("break", 17);
                case 17:
                  this.btnSave.interactable = true;
                case 18:
                case "end":
                  return _context2.stop();
              }
            }, _callee2, this);
          }));
          function _actSaveProfile() {
            return _actSaveProfile2.apply(this, arguments);
          }
          return _actSaveProfile;
        }();
        _proto.editUserNameEnded = function editUserNameEnded(editBox) {
          editBox.enabled = false;
        };
        _proto._onUpdateAvatar = function _onUpdateAvatar(frame) {
          this._setAvatar(frame);
          this.close();
          this.log("UPDATE AVATAAR", frame);
        };
        _proto._setAvatar = function _setAvatar(frame) {
          this.imgAvatarBig.spriteFrame = frame;
        };
        return UIProfileEdit;
      }(UIBase), _class3.cacheAvatar = new Map(), _class3), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "imgAvatarBig", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "btnEditProfile", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "editUserName", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "sexToggleContainer", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "scrViewAvatar", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, "btnSave", [_dec7], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor7 = _applyDecoratedDescriptor(_class2.prototype, "chooseAvatarPrefab", [_dec8], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor8 = _applyDecoratedDescriptor(_class2.prototype, "btnLoadAvatarPrefab", [_dec9], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIProfilePlayerIngame.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts', './StringUtils.ts', './UIController.ts', './Enums.ts', './GlobalConfig.ts', './IGameCommand.ts', './GameManager.ts', './ResponeCode.ts', './MathUtils.ts', './Decorators.ts', './NotifyToast.ts', './LanguageManager.ts', './MiniLoading.ts', './FriendManager.ts', './PlayingController.ts', './UserCommand.ts', './SafeBoxCommand.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _asyncToGenerator, _regeneratorRuntime, cclegacy, _decorator, Sprite, Label, Button, Node, UITransform, UIBase, pStringUtils, UIController, UIType, EShopType, GlobalConfig, NSGameCMD, GameManager, ResponseCode, pMathUtils, pDecorators, NotifyToast, LanguageMananger, MiniLoading, NSFriendManager, PlayingController, request, request$1;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Sprite = module.Sprite;
      Label = module.Label;
      Button = module.Button;
      Node = module.Node;
      UITransform = module.UITransform;
    }, function (module) {
      UIBase = module.UIBase;
    }, function (module) {
      pStringUtils = module.pStringUtils;
    }, function (module) {
      UIController = module.UIController;
    }, function (module) {
      UIType = module.UIType;
      EShopType = module.EShopType;
    }, function (module) {
      GlobalConfig = module.default;
    }, function (module) {
      NSGameCMD = module.NSGameCMD;
    }, function (module) {
      GameManager = module.GameManager;
    }, function (module) {
      ResponseCode = module.ResponseCode;
    }, function (module) {
      pMathUtils = module.pMathUtils;
    }, function (module) {
      pDecorators = module.pDecorators;
    }, function (module) {
      NotifyToast = module.NotifyToast;
    }, function (module) {
      LanguageMananger = module.LanguageMananger;
    }, function (module) {
      MiniLoading = module.MiniLoading;
    }, function (module) {
      NSFriendManager = module.NSFriendManager;
    }, function (module) {
      PlayingController = module.default;
    }, function (module) {
      request = module.default;
    }, function (module) {
      request$1 = module.default;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _dec11, _dec12, _dec13, _dec14, _dec15, _dec16, _dec17, _dec18, _dec19, _dec20, _dec21, _dec22, _dec23, _dec24, _dec25, _dec26, _dec27, _dec28, _dec29, _dec30, _dec31, _dec32, _dec33, _dec34, _dec35, _dec36, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9, _descriptor10, _descriptor11, _descriptor12, _descriptor13, _descriptor14, _descriptor15, _descriptor16, _descriptor17, _descriptor18, _descriptor19, _descriptor20, _descriptor21, _descriptor22, _descriptor23;
      cclegacy._RF.push({}, "67c13C0ioZIvbPooHpFHPw3", "UIProfilePlayerIngame", undefined);
      var EType = NSGameCMD.UserHandler.GetFriends.EType;
      var ccclass = _decorator.ccclass,
        property = _decorator.property,
        type = _decorator.type;
      var btn_group = {
        name: "Button",
        id: 'Common'
      };
      var main_group = {
        name: "Main",
        id: "Common"
      };
      var UIProfilePlayerIngame = exports('UIProfilePlayerIngame', (_dec = ccclass('UIProfilePlayerIngame'), _dec2 = type(Sprite), _dec3 = type(Label), _dec4 = type(Label), _dec5 = type(Label), _dec6 = type(Label), _dec7 = type(Label), _dec8 = type(Label), _dec9 = type(Label), _dec10 = type(Label), _dec11 = type(Label), _dec12 = property({
        group: btn_group
      }), _dec13 = type(Button), _dec14 = property({
        group: btn_group
      }), _dec15 = type(Node), _dec16 = property({
        group: btn_group
      }), _dec17 = type(Button), _dec18 = property({
        group: btn_group
      }), _dec19 = type(Button), _dec20 = property({
        group: btn_group
      }), _dec21 = type(Button), _dec22 = property({
        group: btn_group
      }), _dec23 = type(Label), _dec24 = property({
        group: btn_group
      }), _dec25 = type(Button), _dec26 = property({
        group: main_group
      }), _dec27 = type(Button), _dec28 = property({
        group: main_group
      }), _dec29 = type(Button), _dec30 = property({
        group: main_group
      }), _dec31 = type(Button), _dec32 = property({
        group: main_group
      }), _dec33 = type(Button), _dec34 = property({
        group: main_group
      }), _dec35 = type(Button), _dec36 = property({
        type: MiniLoading
      }), _dec(_class = (_class2 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UIProfilePlayerIngame, _UIBase);
        function UIProfilePlayerIngame() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "imgAvatar", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lblPlayerName", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lblUID", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lblPlayerTitle", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lblPlayerLevel", _descriptor5, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lblTotalGame", _descriptor6, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lblWinRate", _descriptor7, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lblJoiningTable", _descriptor8, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lblChip", _descriptor9, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbFriend", _descriptor10, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnAddFriend", _descriptor11, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "toggleAddFriend", _descriptor12, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnGiveGift", _descriptor13, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnJoinTable", _descriptor14, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnBlock", _descriptor15, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lblBlock", _descriptor16, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnKickout", _descriptor17, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnSafe", _descriptor18, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnFriend", _descriptor19, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnMyGive", _descriptor20, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnMyProps", _descriptor21, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnAdd", _descriptor22, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "loading", _descriptor23, _assertThisInitialized(_this));
          _this._data = null;
          _this._isPrivate = false;
          _this._zone = 'PT';
          _this._fes = [['onBlock', _this._actHandleFriendBtn, _assertThisInitialized(_this)], ['onUnBlock', _this._actHandleFriendBtn, _assertThisInitialized(_this)], ['onRequest', _this._actHandleFriendBtn, _assertThisInitialized(_this)], ['onCancelRequest', _this._actHandleFriendBtn, _assertThisInitialized(_this)], ['onAccept', _this._actHandleFriendBtn, _assertThisInitialized(_this)], ['onDelete', _this._actHandleFriendBtn, _assertThisInitialized(_this)]];
          _this._cbDoFriend = null;
          _this._isRequest = false;
          _this._isBlocked = false;
          _this._isFriend = false;
          _this._isFollower = false;
          return _this;
        }
        var _proto = UIProfilePlayerIngame.prototype;
        _proto.init = function init(data, isPrivate, zone) {
          var _this2 = this;
          if (!data) return;
          this._data = data;
          this._isPrivate = isPrivate;
          this._zone = zone;
          var uid = data.uid,
            fullName = data.fullName,
            avatar = data.avatar;
          var _pm = [];
          _pm.push(new Promise(function (rs) {
            GameManager.Instance.setAvatar(avatar, _this2.imgAvatar).then(function () {
              var spriteUITransform = _this2.imgAvatar.node.parent.getComponent(UITransform);
              var spriteSize = spriteUITransform.contentSize;
              _this2.imgAvatar.node.getComponent(UITransform).setContentSize(pMathUtils.scaleImageInsideBound(spriteSize.width, spriteSize.height, _this2.imgAvatar.spriteFrame.texture.width, _this2.imgAvatar.spriteFrame.texture.height));
              rs();
            });
          }));
          this.lblPlayerName.string = pStringUtils.addSpaceHeadTail(fullName);
          _pm.push(new Promise(function (rs) {
            request('viewPlayerInfo', {
              uid: uid
            }).then(function (_res) {
              if (_res.code === ResponseCode.SUCCESS) {
                _this2.btnAdd.node.active = GlobalConfig.instance.isMainPlayer(_res.data.player_info);
                _this2.lblUID.string = "UID: " + _res.data.player_info.user_id;
                _this2.lblPlayerLevel.string = pStringUtils.addSpaceHeadTail(_res.data.player_info.level.toString());
                _this2.lblChip.string = _res.data.player_info.balance > 1000000000 ? pStringUtils.formatNumberKMB(_res.data.player_info.balance) : pStringUtils.formatMoneyWithDot(_res.data.player_info.balance);
                _this2.lblTotalGame.string = pStringUtils.addSpaceHeadTail(_res.data.player_info.total.toString());
                _this2.lblWinRate.string = pStringUtils.addSpaceHeadTail(pStringUtils.formatMoneyWithDot(Number(_res.data.player_info.win_rate), 2) + "%");
                if (_res.data.table_info) {
                  var min = pStringUtils.formatNumberKMB(_res.data.table_info.minBuyIn);
                  var max = pStringUtils.formatNumberKMB(_res.data.table_info.maxBuyIn);
                  _this2.lblJoiningTable.string = pStringUtils.addSpaceHeadTail(min + "/" + max);
                }
              }
              rs();
            });
          }));
          return Promise.all(_pm);
        };
        _proto._actHandleFriendBtn = /*#__PURE__*/function () {
          var _actHandleFriendBtn2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {
            var _this3 = this;
            var _fm, _fr;
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  _fm = pDecorators.instance(NSFriendManager.Handler);
                  _context.next = 3;
                  return _fm.getFriends();
                case 3:
                  _fr = _context.sent;
                  this._isBlocked = _fr[EType.BLACKLIST].some(function (_friend) {
                    return _friend.id.toString() == _this3._data.uid.toString();
                  });
                  this._isFriend = _fr[EType.FRIEND].some(function (_friend) {
                    return _friend.id.toString() == _this3._data.uid.toString();
                  });
                  this._isFollower = _fr[EType.FRIEND_REQUEST].some(function (_friend) {
                    return _friend.id.toString() == _this3._data.uid.toString();
                  });
                  this._isRequest = _fr[EType.FOLLOWING].some(function (_friend) {
                    return _friend.id.toString() == _this3._data.uid.toString();
                  });
                  this.lblBlock.string = this._isBlocked ? LanguageMananger.getString('txt_btn_unblock_player') : LanguageMananger.getString('txt_btn_block_player');
                  if (this._isFriend) {
                    this.btnAddFriend.node.active = false;
                    this.btnFriend.node.active = true;
                  } else {
                    this.btnAddFriend.node.active = !this._isBlocked;
                    this.btnFriend.node.active = false;
                    this.lbFriend.string = LanguageMananger.getString("txt_btn_add_friend");
                    if (this._isRequest) {
                      this._cbDoFriend = this._actFriendAction.bind(this, 'onCancelRequest');
                      this.toggleAddFriend.active = false;
                      this.lbFriend.string = LanguageMananger.getString("txt_btn_cancel_request");
                    } else if (this._isFollower) {
                      this._cbDoFriend = this._actFriendAction.bind(this, 'onAccept');
                      this.toggleAddFriend.active = true;
                      this.lbFriend.string = LanguageMananger.getString("txt_btn_accept_friend");
                    } else {
                      this._cbDoFriend = this._actFriendAction.bind(this, 'onRequest');
                      this.toggleAddFriend.active = true;
                      this.lbFriend.string = LanguageMananger.getString("txt_btn_add_friend");
                    }
                  }
                case 10:
                case "end":
                  return _context.stop();
              }
            }, _callee, this);
          }));
          function _actHandleFriendBtn() {
            return _actHandleFriendBtn2.apply(this, arguments);
          }
          return _actHandleFriendBtn;
        }();
        _proto._open = /*#__PURE__*/function () {
          var _open2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {
            return _regeneratorRuntime().wrap(function _callee2$(_context2) {
              while (1) switch (_context2.prev = _context2.next) {
                case 0:
                  _context2.next = 2;
                  return this._actHandleFriendBtn();
                case 2:
                  this.setupBtn();
                  NSFriendManager.instance().on(this._fes);
                  _context2.next = 6;
                  return _UIBase.prototype._open.call(this);
                case 6:
                case "end":
                  return _context2.stop();
              }
            }, _callee2, this);
          }));
          function _open() {
            return _open2.apply(this, arguments);
          }
          return _open;
        }();
        _proto._onClose = function _onClose() {
          NSFriendManager.instance().off(this._fes);
        };
        _proto._onStart = function _onStart() {
          this._addClickers([{
            handlers: this._actFriend,
            target: this.btnAddFriend
          }, {
            handlers: this._actGift,
            target: this.btnGiveGift
          }, {
            handlers: this._actDoBlock,
            target: this.btnBlock
          }, {
            handlers: this._actKick,
            target: this.btnKickout
          }, {
            handlers: this._actOpenSafe,
            target: this.btnSafe
          }, {
            handlers: this._openMyProps,
            target: this.btnMyProps
          }, {
            handlers: this._openMyFriends,
            target: this.btnFriend
          }, {
            handlers: this._actOpenShop,
            target: this.btnAdd
          }]);
        };
        _proto.setupBtn = function setupBtn() {
          var isMain = GlobalConfig.instance.isMainPlayer(this._data.uid);
          this._toggler(isMain);
        };
        _proto._actOpenShop = /*#__PURE__*/function () {
          var _actOpenShop2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {
            return _regeneratorRuntime().wrap(function _callee3$(_context3) {
              while (1) switch (_context3.prev = _context3.next) {
                case 0:
                  _context3.next = 2;
                  return UIController.Instance.open(UIType.SHOP, false, true, true, EShopType.CHIP);
                case 2:
                case "end":
                  return _context3.stop();
              }
            }, _callee3);
          }));
          function _actOpenShop() {
            return _actOpenShop2.apply(this, arguments);
          }
          return _actOpenShop;
        }();
        _proto._toggler = function _toggler(isMain) {
          this.btnSafe.node.active = isMain;
          this.btnFriend.node.active = isMain;
          this.btnMyGive.node.active = isMain;
          this.btnMyProps.node.active = isMain;
          this.btnAddFriend.node.active = !isMain;
          this.btnGiveGift.node.active = !isMain;
          //this.btnJoinTable.node.active = !isMain;
          this.btnBlock.node.active = !isMain;
          this.btnKickout.node.active = !isMain && !this._isPrivate && this._zone == 'PT';
        };
        _proto.joinFriendTable = function joinFriendTable() {
          NotifyToast.instance.showWithKey('txt_comming_soon');
        };
        _proto._actGift = function _actGift() {
          NotifyToast.instance.showWithKey('txt_comming_soon');
        };
        _proto._actDonate = function _actDonate() {
          UIController.Instance.open(UIType.DONATE_CHIP);
        };
        _proto._actDoBlock = /*#__PURE__*/function () {
          var _actDoBlock2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {
            var _fm, _data;
            return _regeneratorRuntime().wrap(function _callee4$(_context4) {
              while (1) switch (_context4.prev = _context4.next) {
                case 0:
                  _fm = NSFriendManager.instance();
                  _data = {
                    fid: this._data.uid.toString(),
                    name: this._data.fullName
                  };
                  this.loading.show();
                  if (!this._isBlocked) {
                    _context4.next = 8;
                    break;
                  }
                  _context4.next = 6;
                  return _fm.actUnBlock(_data);
                case 6:
                  _context4.next = 10;
                  break;
                case 8:
                  _context4.next = 10;
                  return _fm.actBlock(_data);
                case 10:
                  this.loading.close();
                case 11:
                case "end":
                  return _context4.stop();
              }
            }, _callee4, this);
          }));
          function _actDoBlock() {
            return _actDoBlock2.apply(this, arguments);
          }
          return _actDoBlock;
        }();
        _proto._actKick = /*#__PURE__*/function () {
          var _actKick2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5() {
            var _msg, code;
            return _regeneratorRuntime().wrap(function _callee5$(_context5) {
              while (1) switch (_context5.prev = _context5.next) {
                case 0:
                  if (!(PlayingController.instance.currentPlayerAmount <= 2)) {
                    _context5.next = 3;
                    break;
                  }
                  NotifyToast.instance.showWithKey('txt_not_enough_player_to_kick', 'table');
                  return _context5.abrupt("return");
                case 3:
                  _context5.next = 5;
                  return request('requestKickPlayer', {
                    targetUid: this._data.uid
                  });
                case 5:
                  _msg = _context5.sent;
                  code = _msg.code;
                  _context5.t0 = code;
                  _context5.next = _context5.t0 === ResponseCode.SUCCESS ? 10 : _context5.t0 === ResponseCode.ERROR ? 13 : 15;
                  break;
                case 10:
                  this.close();
                  NotifyToast.instance.showWithKey({
                    key: 'dynamic_request_kick_player_success',
                    replacers: [{
                      find: "@name",
                      replacer: this._data.fullName
                    }]
                  }, 'table');
                  return _context5.abrupt("break", 15);
                case 13:
                  NotifyToast.instance.showWithKey(_msg['error'], 'table');
                  return _context5.abrupt("break", 15);
                case 15:
                case "end":
                  return _context5.stop();
              }
            }, _callee5, this);
          }));
          function _actKick() {
            return _actKick2.apply(this, arguments);
          }
          return _actKick;
        }();
        _proto._actFriend = /*#__PURE__*/function () {
          var _actFriend2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6() {
            return _regeneratorRuntime().wrap(function _callee6$(_context6) {
              while (1) switch (_context6.prev = _context6.next) {
                case 0:
                  this._cbDoFriend && this._cbDoFriend();
                case 1:
                case "end":
                  return _context6.stop();
              }
            }, _callee6, this);
          }));
          function _actFriend() {
            return _actFriend2.apply(this, arguments);
          }
          return _actFriend;
        }();
        _proto._actFriendAction = /*#__PURE__*/function () {
          var _actFriendAction2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee7(action) {
            return _regeneratorRuntime().wrap(function _callee7$(_context7) {
              while (1) switch (_context7.prev = _context7.next) {
                case 0:
                  this.loading.show();
                  NSFriendManager.instance().smartAction(action, this._data.uid.toString(), this._data.fullName);
                  this.loading.close();
                case 3:
                case "end":
                  return _context7.stop();
              }
            }, _callee7, this);
          }));
          function _actFriendAction(_x) {
            return _actFriendAction2.apply(this, arguments);
          }
          return _actFriendAction;
        }();
        _proto.gotoMessage = /*#__PURE__*/function () {
          var _gotoMessage = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee8() {
            var ui;
            return _regeneratorRuntime().wrap(function _callee8$(_context8) {
              while (1) switch (_context8.prev = _context8.next) {
                case 0:
                  _context8.next = 2;
                  return UIController.Instance.open(UIType.FRIEND_CHAT);
                case 2:
                  ui = _context8.sent;
                  if (ui) {
                    _context8.next = 5;
                    break;
                  }
                  return _context8.abrupt("return");
                case 5:
                  ui.setBackUI(this.uiType);
                  ui.init(this._data);
                  this.close();
                case 8:
                case "end":
                  return _context8.stop();
              }
            }, _callee8, this);
          }));
          function gotoMessage() {
            return _gotoMessage.apply(this, arguments);
          }
          return gotoMessage;
        }();
        _proto._actOpenSafe = /*#__PURE__*/function () {
          var _actOpenSafe2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee10() {
            var _this4 = this;
            var res, uiSafeboxPassword;
            return _regeneratorRuntime().wrap(function _callee10$(_context10) {
              while (1) switch (_context10.prev = _context10.next) {
                case 0:
                  _context10.next = 2;
                  return request$1('checkSafeBoxStatus', {});
                case 2:
                  res = _context10.sent;
                  if (!(res.code !== ResponseCode.SUCCESS)) {
                    _context10.next = 6;
                    break;
                  }
                  pDecorators.instance(NotifyToast).show(res.msg || res.message, 'lobby');
                  return _context10.abrupt("return");
                case 6:
                  if (!res.data.isAuthenticated) {
                    _context10.next = 13;
                    break;
                  }
                  _context10.next = 9;
                  return UIController.Instance.open(UIType.SAFEBOX_PASSWORD, true);
                case 9:
                  uiSafeboxPassword = _context10.sent;
                  if (uiSafeboxPassword) {
                    uiSafeboxPassword.init(false);
                    uiSafeboxPassword.onPasswordConfirm( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee9(pass) {
                      var resTransactions;
                      return _regeneratorRuntime().wrap(function _callee9$(_context9) {
                        while (1) switch (_context9.prev = _context9.next) {
                          case 0:
                            _context9.next = 2;
                            return request$1('getTransactions', {
                              password: pass,
                              limit: 10,
                              page: 1
                            });
                          case 2:
                            resTransactions = _context9.sent;
                            if (resTransactions.code === ResponseCode.SUCCESS) {
                              _this4.openUISafebox(res.data.isAuthenticated, res.data.balance, pass);
                              uiSafeboxPassword.close();
                            } else pDecorators.instance(NotifyToast).show(resTransactions.msg || resTransactions.message, 'lobby');
                          case 4:
                          case "end":
                            return _context9.stop();
                        }
                      }, _callee9);
                    })));
                  }
                  _context10.next = 14;
                  break;
                case 13:
                  this.openUISafebox(res.data.isAuthenticated, res.data.balance);
                case 14:
                case "end":
                  return _context10.stop();
              }
            }, _callee10, this);
          }));
          function _actOpenSafe() {
            return _actOpenSafe2.apply(this, arguments);
          }
          return _actOpenSafe;
        }();
        _proto.openUISafebox = /*#__PURE__*/function () {
          var _openUISafebox = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee11(isLocked, balance, password) {
            var ui;
            return _regeneratorRuntime().wrap(function _callee11$(_context11) {
              while (1) switch (_context11.prev = _context11.next) {
                case 0:
                  if (balance === void 0) {
                    balance = 0;
                  }
                  _context11.next = 3;
                  return UIController.Instance.open(UIType.PROFILE_SAFE);
                case 3:
                  ui = _context11.sent;
                  if (ui) {
                    _context11.next = 6;
                    break;
                  }
                  return _context11.abrupt("return");
                case 6:
                  ui.setBackUI(this.uiType);
                  ui.isLocked = isLocked;
                  ui.balanceInSafebox = balance;
                  password && (ui.password = password);
                case 10:
                case "end":
                  return _context11.stop();
              }
            }, _callee11, this);
          }));
          function openUISafebox(_x3, _x4, _x5) {
            return _openUISafebox.apply(this, arguments);
          }
          return openUISafebox;
        }();
        _proto._openMyFriends = function _openMyFriends() {
          UIController.Instance.open(UIType.FRIEND, true, true);
        };
        _proto._openMyProps = /*#__PURE__*/function () {
          var _openMyProps2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee12() {
            return _regeneratorRuntime().wrap(function _callee12$(_context12) {
              while (1) switch (_context12.prev = _context12.next) {
                case 0:
                  _context12.next = 2;
                  return UIController.Instance.open(UIType.SHOP, false, true, true, EShopType.MY_PROPS);
                case 2:
                case "end":
                  return _context12.stop();
              }
            }, _callee12);
          }));
          function _openMyProps() {
            return _openMyProps2.apply(this, arguments);
          }
          return _openMyProps;
        }();
        return UIProfilePlayerIngame;
      }(UIBase), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "imgAvatar", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "lblPlayerName", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "lblUID", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "lblPlayerTitle", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "lblPlayerLevel", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, "lblTotalGame", [_dec7], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor7 = _applyDecoratedDescriptor(_class2.prototype, "lblWinRate", [_dec8], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor8 = _applyDecoratedDescriptor(_class2.prototype, "lblJoiningTable", [_dec9], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor9 = _applyDecoratedDescriptor(_class2.prototype, "lblChip", [_dec10], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor10 = _applyDecoratedDescriptor(_class2.prototype, "lbFriend", [_dec11], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor11 = _applyDecoratedDescriptor(_class2.prototype, "btnAddFriend", [_dec12, _dec13], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor12 = _applyDecoratedDescriptor(_class2.prototype, "toggleAddFriend", [_dec14, _dec15], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor13 = _applyDecoratedDescriptor(_class2.prototype, "btnGiveGift", [_dec16, _dec17], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor14 = _applyDecoratedDescriptor(_class2.prototype, "btnJoinTable", [_dec18, _dec19], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor15 = _applyDecoratedDescriptor(_class2.prototype, "btnBlock", [_dec20, _dec21], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor16 = _applyDecoratedDescriptor(_class2.prototype, "lblBlock", [_dec22, _dec23], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor17 = _applyDecoratedDescriptor(_class2.prototype, "btnKickout", [_dec24, _dec25], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor18 = _applyDecoratedDescriptor(_class2.prototype, "btnSafe", [_dec26, _dec27], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor19 = _applyDecoratedDescriptor(_class2.prototype, "btnFriend", [_dec28, _dec29], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor20 = _applyDecoratedDescriptor(_class2.prototype, "btnMyGive", [_dec30, _dec31], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor21 = _applyDecoratedDescriptor(_class2.prototype, "btnMyProps", [_dec32, _dec33], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor22 = _applyDecoratedDescriptor(_class2.prototype, "btnAdd", [_dec34, _dec35], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor23 = _applyDecoratedDescriptor(_class2.prototype, "loading", [_dec36], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIProfileSafe.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts', './LanguageManager.ts', './StringUtils.ts', './GlobalConfig.ts', './ResponeCode.ts', './UIController.ts', './Enums.ts', './EventManager.ts', './GameManager.ts', './UINotice.ts', './SafeBoxCommand.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _createClass, _asyncToGenerator, _regeneratorRuntime, cclegacy, _decorator, ToggleContainer, Label, Button, Node, UIBase, LanguageMananger, pStringUtils, GlobalConfig, ResponseCode, UIController, UIType, pEventManager, GameManager, UINotice, request;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _createClass = module.createClass;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      ToggleContainer = module.ToggleContainer;
      Label = module.Label;
      Button = module.Button;
      Node = module.Node;
    }, function (module) {
      UIBase = module.UIBase;
    }, function (module) {
      LanguageMananger = module.LanguageMananger;
    }, function (module) {
      pStringUtils = module.pStringUtils;
    }, function (module) {
      GlobalConfig = module.default;
    }, function (module) {
      ResponseCode = module.ResponseCode;
    }, function (module) {
      UIController = module.UIController;
    }, function (module) {
      UIType = module.UIType;
    }, function (module) {
      pEventManager = module.pEventManager;
    }, function (module) {
      GameManager = module.GameManager;
    }, function (module) {
      UINotice = module.UINotice;
    }, function (module) {
      request = module.default;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _dec11, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9, _descriptor10;
      cclegacy._RF.push({}, "008e5wylfBBgqmMolgY69eK", "UIProfileSafe", undefined);
      var ccclass = _decorator.ccclass,
        type = _decorator.type;
      var UIProfileSafe = exports('UIProfileSafe', (_dec = ccclass('UIProfileSafe'), _dec2 = type(ToggleContainer), _dec3 = type(Label), _dec4 = type(Label), _dec5 = type(Label), _dec6 = type([Button]), _dec7 = type(Button), _dec8 = type(Button), _dec9 = type(Button), _dec10 = type(Label), _dec11 = type(Node), _dec(_class = (_class2 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UIProfileSafe, _UIBase);
        function UIProfileSafe() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "commandTC", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lblCommandTitle", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lblChipAmount", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lblChipBalance", _descriptor4, _assertThisInitialized(_this));
          // @type(EditBox) editChipAmount: EditBox = null;
          _initializerDefineProperty(_this, "btnDigits", _descriptor5, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnClear", _descriptor6, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnConfirm", _descriptor7, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnLock", _descriptor8, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbChipAmountEdit", _descriptor9, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "nodeSafeboxPanel", _descriptor10, _assertThisInitialized(_this));
          _this.COMMAND_TITLE_STR = ["txt_max_chip_send", "txt_max_chip_safe"];
          _this._amount = 0;
          _this._currentSafeboxType = 'DEPOSIT';
          _this._balanceAvailable = 0;
          _this._balanceInSafebox = 0;
          _this.isLocked = false;
          _this._password = '';
          return _this;
        }
        var _proto = UIProfileSafe.prototype;
        _proto._onStart = function _onStart() {
          var _this2 = this;
          var _loop = function _loop(i) {
            _this2.btnDigits[i].getComponentInChildren(Label).string = (i + 1) % 10 + '';
            _this2._addClicker(_this2.btnDigits[i], function () {
              return _this2.pressDigit((i + 1) % 10);
            }, _this2);
          };
          for (var i = 0; i < this.btnDigits.length; i++) {
            _loop(i);
          }
          this._addClicker(this.btnClear, this.clearEditChipStr, this);
          this._addClicker(this.btnConfirm, this.confirm, this);
          this._addClicker(this.btnLock, this.onClickLock, this);
          this.addToggleContainerEvent(this.commandTC, this.onToggleCommandChanged, this);
          this.lblCommandTitle.string = LanguageMananger.instance.getString(this.COMMAND_TITLE_STR[0]);
        };
        _proto.onEnable = function onEnable() {
          // CMDManager.safeboxBalance({}).then((res) => {
          //     this._balanceInSafebox = res.data.balance;
          //     this.showSafeboxUI();
          // })
        };
        _proto._onOpen = function _onOpen() {
          this.balanceAvailable = GlobalConfig.instance.Login.player.information.balance;
          // CMDManager.safeboxBalance({}).then((res) => {
          //     if (res.code === ResponseCode.SAFEBOX_IS_NOT_EXIST) {
          //         this.balanceInSafebox = 0;
          //         return;
          //     }
          //     this.balanceInSafebox = res.data.balance;
          // });
        };

        _proto.pressDigit = function pressDigit(i) {
          // this.editChipAmount.string += (i + '');
          this._amount = Number(this._amount.toString() + i.toString());
          if (this._amount > this._balanceAvailable) {
            this._amount = this._balanceAvailable;
          }
          this.lbChipAmountEdit.string = pStringUtils.formatMoneyWithDot(this._amount);
          if (this._amount > 0) {
            this.btnConfirm.interactable = true;
          }
        };
        _proto.clearEditChipStr = function clearEditChipStr() {
          var str = this._amount.toString();
          if (this._amount == 0 || str.length == 1) {
            this._amount = 0;
            this.lbChipAmountEdit.string = pStringUtils.formatMoneyWithDot(this._amount);
            this.btnConfirm.interactable = false;
            return;
          }
          this._amount = Number(str.substring(0, str.length - 1));
          this.lbChipAmountEdit.string = pStringUtils.formatMoneyWithDot(this._amount);
        };
        _proto.confirm = /*#__PURE__*/function () {
          var _confirm = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {
            var mess, res, res1;
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  mess = null;
                  _context.t0 = this._currentSafeboxType;
                  _context.next = _context.t0 === 'DEPOSIT' ? 4 : _context.t0 === 'WITHDRAW' ? 13 : 22;
                  break;
                case 4:
                  _context.next = 6;
                  return request('deposit', {
                    amount: this._amount
                  });
                case 6:
                  res = _context.sent;
                  if (res.code === ResponseCode.SUCCESS) {
                    this.balanceAvailable = res.data.balance;
                    this.balanceInSafebox = res.data.safeBoxBalance;
                  }
                  mess = res.msg || res.message;
                  if (mess) {
                    _context.next = 11;
                    break;
                  }
                  return _context.abrupt("break", 22);
                case 11:
                  GameManager.Instance.showToastNotice(mess);
                  return _context.abrupt("break", 22);
                case 13:
                  _context.next = 15;
                  return request('withdraw', {
                    amount: this._amount
                  });
                case 15:
                  res1 = _context.sent;
                  if (res1.code === ResponseCode.SUCCESS) {
                    this.balanceAvailable = res1.data.balance;
                    this.balanceInSafebox = res1.data.safeBoxBalance;
                    this.updateViewBalance();
                  }
                  mess = res1.msg || res1.message;
                  if (mess) {
                    _context.next = 20;
                    break;
                  }
                  return _context.abrupt("break", 22);
                case 20:
                  GameManager.Instance.showToastNotice(mess);
                  return _context.abrupt("break", 22);
                case 22:
                case "end":
                  return _context.stop();
              }
            }, _callee, this);
          }));
          function confirm() {
            return _confirm.apply(this, arguments);
          }
          return confirm;
        }();
        _proto.onClickLock = /*#__PURE__*/function () {
          var _onClickLock = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {
            var _this3 = this;
            var ui;
            return _regeneratorRuntime().wrap(function _callee3$(_context3) {
              while (1) switch (_context3.prev = _context3.next) {
                case 0:
                  if (!this.isLocked) {
                    _context3.next = 4;
                    break;
                  }
                  UINotice.show('text_title_open_safebox', 'text_content_open_safebox', 'txt_reset_password', function () {
                    return _this3._actShowChangePassword();
                  }, 'text_btn_delete_password', function () {
                    return _this3.unsetPassword();
                  });
                  _context3.next = 11;
                  break;
                case 4:
                  _context3.next = 6;
                  return UIController.Instance.open(UIType.SAFEBOX_PASSWORD, true);
                case 6:
                  ui = _context3.sent;
                  if (ui) {
                    _context3.next = 9;
                    break;
                  }
                  return _context3.abrupt("return");
                case 9:
                  ui.init(true);
                  ui.onPasswordConfirm( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(pass) {
                    var res, mess;
                    return _regeneratorRuntime().wrap(function _callee2$(_context2) {
                      while (1) switch (_context2.prev = _context2.next) {
                        case 0:
                          _context2.next = 2;
                          return request('setupPassword', {
                            password: pass
                          });
                        case 2:
                          res = _context2.sent;
                          if (res.code === ResponseCode.SUCCESS) {
                            pEventManager.invoke('reopensafebox');
                            ui.close();
                            _this3.close();
                          }
                          mess = res.msg || res.message;
                          if (mess) GameManager.Instance.showToastNotice(mess);
                        case 6:
                        case "end":
                          return _context2.stop();
                      }
                    }, _callee2);
                  })));
                case 11:
                case "end":
                  return _context3.stop();
              }
            }, _callee3, this);
          }));
          function onClickLock() {
            return _onClickLock.apply(this, arguments);
          }
          return onClickLock;
        }();
        _proto._actShowChangePassword = /*#__PURE__*/function () {
          var _actShowChangePassword2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5() {
            var _this4 = this;
            var ui;
            return _regeneratorRuntime().wrap(function _callee5$(_context5) {
              while (1) switch (_context5.prev = _context5.next) {
                case 0:
                  _context5.next = 2;
                  return UIController.Instance.open(UIType.RESET_PASSWORD);
                case 2:
                  ui = _context5.sent;
                  if (ui) {
                    _context5.next = 5;
                    break;
                  }
                  return _context5.abrupt("return");
                case 5:
                  ui.onConfirmClick = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(old, newPass) {
                    var res, mess;
                    return _regeneratorRuntime().wrap(function _callee4$(_context4) {
                      while (1) switch (_context4.prev = _context4.next) {
                        case 0:
                          _context4.next = 2;
                          return request('changePassword', {
                            newPassword: newPass,
                            oldPassword: old
                          });
                        case 2:
                          res = _context4.sent;
                          mess = res.msg || res.message;
                          mess && GameManager.Instance.showToastNotice(mess);
                          if (res.code === ResponseCode.SUCCESS) {
                            pEventManager.invoke('reopensafebox');
                            ui.close();
                            _this4.close();
                          }
                        case 6:
                        case "end":
                          return _context4.stop();
                      }
                    }, _callee4);
                  }));
                case 6:
                case "end":
                  return _context5.stop();
              }
            }, _callee5);
          }));
          function _actShowChangePassword() {
            return _actShowChangePassword2.apply(this, arguments);
          }
          return _actShowChangePassword;
        }();
        _proto.unsetPassword = /*#__PURE__*/function () {
          var _unsetPassword = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6() {
            var res;
            return _regeneratorRuntime().wrap(function _callee6$(_context6) {
              while (1) switch (_context6.prev = _context6.next) {
                case 0:
                  _context6.next = 2;
                  return request('unsetPassword', {
                    password: this._password
                  });
                case 2:
                  res = _context6.sent;
                  (res.msg || res.message) && GameManager.Instance.showToastNotice(res.msg || res.message);
                case 4:
                case "end":
                  return _context6.stop();
              }
            }, _callee6, this);
          }));
          function unsetPassword() {
            return _unsetPassword.apply(this, arguments);
          }
          return unsetPassword;
        }();
        _proto.updateViewBalance = function updateViewBalance() {
          this.lblChipAmount.string = pStringUtils.formatMoneyWithDot(this._balanceAvailable);
          this.lblChipBalance.string = pStringUtils.formatMoneyWithDot(this._balanceInSafebox);
        };
        _proto.onToggleCommandChanged = function onToggleCommandChanged(numIndex) {
          switch (numIndex) {
            case 0:
              this._currentSafeboxType = 'DEPOSIT';
              break;
            case 1:
              this._currentSafeboxType = 'WITHDRAW';
              break;
          }
        };
        _proto.clearAmount = function clearAmount() {
          this._amount = 0;
          this.lbChipAmountEdit.string = pStringUtils.formatMoneyWithDot(this._amount);
          this.btnConfirm.interactable = false;
        };
        _proto.onDisable = function onDisable() {
          this.clearAmount();
        };
        _createClass(UIProfileSafe, [{
          key: "balanceAvailable",
          get: function get() {
            return this._balanceAvailable;
          },
          set: function set(value) {
            this._balanceAvailable = value;
            GlobalConfig.instance.Login.player.information.balance = value;
            this.updateViewBalance();
            pEventManager.invoke('onUpdateNewBalance');
          }
        }, {
          key: "balanceInSafebox",
          get: function get() {
            return this._balanceInSafebox;
          },
          set: function set(value) {
            this._balanceInSafebox = value;
            this.updateViewBalance();
          }
        }, {
          key: "password",
          get: function get() {
            return this._password;
          },
          set: function set(value) {
            this._password = value;
          }
        }]);
        return UIProfileSafe;
      }(UIBase), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "commandTC", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "lblCommandTitle", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "lblChipAmount", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "lblChipBalance", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "btnDigits", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return [];
        }
      }), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, "btnClear", [_dec7], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor7 = _applyDecoratedDescriptor(_class2.prototype, "btnConfirm", [_dec8], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor8 = _applyDecoratedDescriptor(_class2.prototype, "btnLock", [_dec9], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor9 = _applyDecoratedDescriptor(_class2.prototype, "lbChipAmountEdit", [_dec10], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor10 = _applyDecoratedDescriptor(_class2.prototype, "nodeSafeboxPanel", [_dec11], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIPTPageRoom.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts', './UIPTRoomItem.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _createForOfIteratorHelperLoose, cclegacy, _decorator, UIBase, UIPTRoomItem;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _createForOfIteratorHelperLoose = module.createForOfIteratorHelperLoose;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
    }, function (module) {
      UIBase = module.UIBase;
    }, function (module) {
      UIPTRoomItem = module.UIPTRoomItem;
    }],
    execute: function () {
      var _dec, _dec2, _class, _class2, _descriptor;
      cclegacy._RF.push({}, "b00b6NbZsVLGbz2/DWBI29s", "UIPTPageRoom", undefined);
      var ccclass = _decorator.ccclass,
        type = _decorator.type;
      var UIPTPageRoom = exports('UIPTPageRoom', (_dec = ccclass('UIPTPageRoom'), _dec2 = type([UIPTRoomItem]), _dec(_class = (_class2 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UIPTPageRoom, _UIBase);
        function UIPTPageRoom() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "listRoomItem", _descriptor, _assertThisInitialized(_this));
          return _this;
        }
        var _proto = UIPTPageRoom.prototype;
        _proto.setup = function setup(data, index) {
          index = index % this.listRoomItem.length;
          var _target = this.listRoomItem[index];
          if (!_target) return;
          _target.init(data);
          _target.node.active = !!data;
        };
        _proto.updateItem = function updateItem(data) {
          var _item = this.listRoomItem.find(function (_item) {
            return _item.is(data);
          });
          if (!_item) return false;
          _item.updateData(data);
          return true;
        };
        _proto.get = function get(id) {
          return this.listRoomItem.find(function (_item) {
            return _item.is(id);
          });
        };
        _proto.change = function change(response) {
          for (var _iterator = _createForOfIteratorHelperLoose(this.listRoomItem), _step; !(_step = _iterator()).done;) {
            var _item = _step.value;
            if (_item.change(response)) return true;
          }
          return false;
        };
        _proto["delete"] = function _delete(response) {
          for (var _iterator2 = _createForOfIteratorHelperLoose(this.listRoomItem), _step2; !(_step2 = _iterator2()).done;) {
            var _item = _step2.value;
            if (_item.is(response.tableId)) {
              _item.node.active = false;
              return this.removeable();
            }
          }
          return this.removeable();
        };
        _proto.removeable = function removeable() {
          return this.listRoomItem.every(function (_item) {
            return _item.node.active;
          });
        };
        return UIPTPageRoom;
      }(UIBase), _descriptor = _applyDecoratedDescriptor(_class2.prototype, "listRoomItem", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return [];
        }
      }), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIPTPopupAlertVip.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts'], function (exports) {
  var _inheritsLoose, cclegacy, _decorator, UIBase;
  return {
    setters: [function (module) {
      _inheritsLoose = module.inheritsLoose;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
    }, function (module) {
      UIBase = module.UIBase;
    }],
    execute: function () {
      var _dec, _class;
      cclegacy._RF.push({}, "55a08KAfApJYo0NZbo7Uqtf", "UIPTPopupAlertVip", undefined);
      var ccclass = _decorator.ccclass;
      var UIPTPopupAlertVip = exports('UIPTPopupAlertVip', (_dec = ccclass('UIPTPopupAlertVip'), _dec(_class = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UIPTPopupAlertVip, _UIBase);
        function UIPTPopupAlertVip() {
          return _UIBase.apply(this, arguments) || this;
        }
        return UIPTPopupAlertVip;
      }(UIBase)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIPTPopupCreatePrivateRoom.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts', './Dropdown.ts', './Enums.ts', './Constants.ts', './ResponeCode.ts', './StringUtils.ts', './UINotice.ts', './GlobalConfig.ts', './LanguageManager.ts', './Decorators.ts', './DBStorage.ts', './GameManager.ts', './ComponentUtils.ts', './TableCommand.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _asyncToGenerator, _regeneratorRuntime, cclegacy, _decorator, EditBox, ToggleContainer, Button, Node, UIBase, Dropdown, ENumberPlayerCount, ListRoomData, GameZoneOptions, ResponseCode, pStringUtils, UINotice, GlobalConfig, LanguageMananger, pDecorators, DBStorage, GameManager, pComponentUtils, request;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      EditBox = module.EditBox;
      ToggleContainer = module.ToggleContainer;
      Button = module.Button;
      Node = module.Node;
    }, function (module) {
      UIBase = module.UIBase;
    }, function (module) {
      Dropdown = module.default;
    }, function (module) {
      ENumberPlayerCount = module.ENumberPlayerCount;
    }, function (module) {
      ListRoomData = module.ListRoomData;
      GameZoneOptions = module.GameZoneOptions;
    }, function (module) {
      ResponseCode = module.ResponseCode;
    }, function (module) {
      pStringUtils = module.pStringUtils;
    }, function (module) {
      UINotice = module.UINotice;
    }, function (module) {
      GlobalConfig = module.default;
    }, function (module) {
      LanguageMananger = module.LanguageMananger;
    }, function (module) {
      pDecorators = module.pDecorators;
    }, function (module) {
      DBStorage = module.DBStorage;
    }, function (module) {
      GameManager = module.GameManager;
    }, function (module) {
      pComponentUtils = module.pComponentUtils;
    }, function (module) {
      request = module.default;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _dec11, _dec12, _dec13, _dec14, _dec15, _dec16, _dec17, _dec18, _dec19, _dec20, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9, _descriptor10, _descriptor11, _descriptor12, _descriptor13, _descriptor14, _descriptor15, _descriptor16;
      cclegacy._RF.push({}, "fa83du2iHRIBJ7JP4abIJ93", "UIPTPopupCreatePrivateRoom", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property,
        type = _decorator.type;
      var UIPTPopupCreatePrivateRoom = exports('UIPTPopupCreatePrivateRoom', (_dec = ccclass('UIPTPopupCreatePrivateRoom'), _dec2 = type(EditBox), _dec3 = type(EditBox), _dec4 = type(EditBox), _dec5 = type(EditBox), _dec6 = type(EditBox), _dec7 = type(EditBox), _dec8 = type(EditBox), _dec9 = type(EditBox), _dec10 = type(ToggleContainer), _dec11 = type(ToggleContainer), _dec12 = type(ToggleContainer), _dec13 = type(Button), _dec14 = type(Button), _dec15 = property({
        group: {
          name: 'DropdownTypeBlind',
          id: 'Comon'
        }
      }), _dec16 = type(Button), _dec17 = property({
        group: {
          name: 'DropdownTypeBlind',
          id: 'Comon'
        }
      }), _dec18 = type(Dropdown), _dec19 = property({
        group: {
          name: 'DropdownTypeBlind',
          id: 'Comon'
        }
      }), _dec20 = type(Node), _dec(_class = (_class2 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UIPTPopupCreatePrivateRoom, _UIBase);
        function UIPTPopupCreatePrivateRoom() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "editRoomID", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "editPassword", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "editSmallBlind", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "editBigBlind", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "editMinBuyIn", _descriptor5, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "editMaxBuyIn", _descriptor6, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "editMaxPlayerInRoom", _descriptor7, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "editGold", _descriptor8, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "numberPlayer", _descriptor9, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "roomLevel", _descriptor10, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "dealSpeed", _descriptor11, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnConfirm", _descriptor12, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnBack", _descriptor13, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnShowDropdown", _descriptor14, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "dropdownBlind", _descriptor15, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "iconDropDown", _descriptor16, _assertThisInitialized(_this));
          _this._data = {
            title: '',
            smallBlind: 0,
            bigBlind: 0,
            minBuyIn: 0,
            maxBuyIn: 0,
            minPlayers: 2,
            maxPlayers: ENumberPlayerCount.FIVE_PLAYERS,
            gameMode: 'normal',
            zone: 'TS',
            password: ""
          };
          _this._dealSpeed = 'normal';
          return _this;
        }
        var _proto = UIPTPopupCreatePrivateRoom.prototype;
        _proto._onLoad = function _onLoad() {
          this.setupValueCreate();
        };
        _proto.setupValueCreate = function setupValueCreate() {
          var listBank = [];
          var data = ListRoomData[this._data.zone];
          var _str = LanguageMananger.instance.getStrings('txt_min_max_buyin_bar');
          data.forEach(function (_data, _index) {
            var smallBlind = _data.smallBlind,
              bigBlind = _data.bigBlind,
              minBuyIn = _data.minBuyIn,
              maxBuyIn = _data.maxBuyIn;
            var txt = "<color=#FFFFFF>Small/big blind : </color> <color=#C4FF52>" + pStringUtils.formatNumberKMB(smallBlind) + "/" + pStringUtils.formatNumberKMB(bigBlind) + "</color>     <color=#FFFFFF>" + _str.txt_min_max_buyin_bar + " : </color><color=#C4FF52>" + pStringUtils.formatNumberKMB(minBuyIn) + "/" + pStringUtils.formatNumberKMB(maxBuyIn) + "</color>";
            listBank.push(txt);
          });
          this.dropdownBlind.setOptions(listBank);
        };
        _proto._onStart = function _onStart() {
          var _this2 = this;
          pComponentUtils.binds(this.numberPlayer, 'checkEvents', this, '_actChooseNumberPlayer');
          pComponentUtils.binds(this.roomLevel, 'checkEvents', this, '_actChooseRoomLevel');
          this.addToggleContainerEvent(this.numberPlayer, this._actChooseNumberPlayer, this);
          this.addToggleContainerEvent(this.roomLevel, this._actChooseRoomLevel, this);
          this.addToggleContainerEvent(this.dealSpeed, this.chooseDealSpeed, this);
          this._addClicker(this.btnConfirm, this._actCreate, this);
          this._addClicker(this.btnBack, this.onBack, this);
          this._addClicker(this.btnShowDropdown, this.showDropDownBlind, this);
          this.dropdownBlind.setValue(0);
          var zone = this._data.zone;
          var _list = ListRoomData[zone];
          var _list$ = _list[0],
            smallBlind = _list$.smallBlind,
            maxBuyIn = _list$.maxBuyIn,
            minBuyIn = _list$.minBuyIn,
            bigBlind = _list$.bigBlind;
          this._data.smallBlind = smallBlind;
          this._data.bigBlind = bigBlind;
          this._data.minBuyIn = minBuyIn;
          this._data.maxBuyIn = maxBuyIn;
          this.dropdownBlind.setOnValueChange(function (_index) {
            var _list = ListRoomData[zone];
            var _list$_index = _list[_index],
              smallBlind = _list$_index.smallBlind,
              bigBlind = _list$_index.bigBlind,
              maxBuyIn = _list$_index.maxBuyIn,
              minBuyIn = _list$_index.minBuyIn;
            _this2._data.smallBlind = smallBlind;
            _this2._data.bigBlind = bigBlind;
            _this2._data.minBuyIn = minBuyIn;
            _this2._data.maxBuyIn = maxBuyIn;
            _this2.iconDropDown.angle = 0;
          });
        };
        _proto._actChooseNumberPlayer = function _actChooseNumberPlayer(numIndex) {
          switch (numIndex) {
            case 0:
              this._data.maxPlayers = ENumberPlayerCount.FIVE_PLAYERS;
              break;
            case 1:
              this._data.maxPlayers = ENumberPlayerCount.NINE_PLAYERS;
              break;
          }
        };
        _proto._actChooseRoomLevel = function _actChooseRoomLevel(numIndex) {
          switch (numIndex) {
            case 0:
              this._data.zone = GameZoneOptions[0];
              break;
            case 1:
              this._data.zone = GameZoneOptions[1];
              break;
            case 2:
              this._data.zone = GameZoneOptions[2];
              break;
          }
          this.setupValueCreate();
        };
        _proto.chooseDealSpeed = function chooseDealSpeed(numIndex) {
          switch (numIndex) {
            case 0:
              this._dealSpeed = 'fast';
              break;
            case 1:
              this._dealSpeed = 'normal';
              break;
          }
        };
        _proto._actCreate = /*#__PURE__*/function () {
          var _actCreate2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {
            var loading, _gm, msg, code, tid, error, _db, _this$_data, smallBlind, bigBlind, minBuyIn, maxBuyIn, maxPlayers, zone, gameMode, _table, _msg, key;
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  loading = GlobalConfig.instance.loading;
                  loading.open();
                  this._data.title = pStringUtils.uuid();
                  this._data.password = this.editPassword.string;
                  this._data.gameMode = this._dealSpeed;
                  _gm = pDecorators.instance(GameManager);
                  _gm.setRoom('PT');
                  _context.next = 9;
                  return request('createTable', this._data);
                case 9:
                  msg = _context.sent;
                  code = msg.code, tid = msg.tid, error = msg.error;
                  _context.t0 = code;
                  _context.next = _context.t0 === ResponseCode.ERROR ? 14 : _context.t0 === ResponseCode.SUCCESS ? 17 : 36;
                  break;
                case 14:
                  UINotice.instance.show('txt_title', error, "txt_btn_confirm2");
                  loading.close();
                  return _context.abrupt("break", 36);
                case 17:
                  this.close();
                  _db = pDecorators.instance(DBStorage);
                  _db.save({
                    key: 'MY_ROOM',
                    value: tid
                  });
                  _this$_data = this._data, smallBlind = _this$_data.smallBlind, bigBlind = _this$_data.bigBlind, minBuyIn = _this$_data.minBuyIn, maxBuyIn = _this$_data.maxBuyIn, maxPlayers = _this$_data.maxPlayers, zone = _this$_data.zone, gameMode = _this$_data.gameMode;
                  _table = {
                    id: tid,
                    displayTid: tid,
                    isPrivate: true,
                    smallBlind: smallBlind,
                    bigBlind: bigBlind,
                    minBuyIn: minBuyIn,
                    maxBuyIn: maxBuyIn,
                    gold: 0,
                    players: 0,
                    maxPlayers: maxPlayers,
                    newRoom: true,
                    minPlayers: 2,
                    zone: zone,
                    gameMode: gameMode,
                    members: 0,
                    creator: GlobalConfig.instance.Login.player.information.id
                  };
                  _context.next = 24;
                  return request('joinTable', {
                    tid: tid,
                    password: this.editPassword.string
                  });
                case 24:
                  _msg = _context.sent;
                  _context.t1 = _msg.code;
                  _context.next = _context.t1 === ResponseCode.SUCCESS ? 28 : _context.t1 === ResponseCode.ERROR ? 34 : 36;
                  break;
                case 28:
                  this.editRoomID.string = "";
                  this.editPassword.string = "";
                  loading.close();
                  for (key in _msg.tableInfo) _table[key] = _msg.tableInfo[key];
                  _gm.joinTable(_table, _msg.msg);
                  return _context.abrupt("break", 36);
                case 34:
                  loading.close();
                  return _context.abrupt("break", 36);
                case 36:
                case 37:
                case "end":
                  return _context.stop();
              }
            }, _callee, this);
          }));
          function _actCreate() {
            return _actCreate2.apply(this, arguments);
          }
          return _actCreate;
        }();
        _proto.onBack = function onBack() {
          this.close();
        };
        _proto.showDropDownBlind = function showDropDownBlind() {
          this.iconDropDown.angle = this.iconDropDown.angle == 0 ? 180 : 0;
          this.dropdownBlind.show();
        };
        return UIPTPopupCreatePrivateRoom;
      }(UIBase), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "editRoomID", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "editPassword", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "editSmallBlind", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "editBigBlind", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "editMinBuyIn", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, "editMaxBuyIn", [_dec7], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor7 = _applyDecoratedDescriptor(_class2.prototype, "editMaxPlayerInRoom", [_dec8], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor8 = _applyDecoratedDescriptor(_class2.prototype, "editGold", [_dec9], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor9 = _applyDecoratedDescriptor(_class2.prototype, "numberPlayer", [_dec10], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor10 = _applyDecoratedDescriptor(_class2.prototype, "roomLevel", [_dec11], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor11 = _applyDecoratedDescriptor(_class2.prototype, "dealSpeed", [_dec12], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor12 = _applyDecoratedDescriptor(_class2.prototype, "btnConfirm", [_dec13], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor13 = _applyDecoratedDescriptor(_class2.prototype, "btnBack", [_dec14], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor14 = _applyDecoratedDescriptor(_class2.prototype, "btnShowDropdown", [_dec15, _dec16], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor15 = _applyDecoratedDescriptor(_class2.prototype, "dropdownBlind", [_dec17, _dec18], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor16 = _applyDecoratedDescriptor(_class2.prototype, "iconDropDown", [_dec19, _dec20], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIPTPopupCreateSuccesAlert.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts', './LanguageManager.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, cclegacy, _decorator, Label, Button, UIBase, LanguageMananger;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Label = module.Label;
      Button = module.Button;
    }, function (module) {
      UIBase = module.UIBase;
    }, function (module) {
      LanguageMananger = module.LanguageMananger;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _class, _class2, _descriptor, _descriptor2;
      cclegacy._RF.push({}, "92237mgXLJMkrKj5B+/POmV", "UIPTPopupCreateSuccesAlert", undefined);
      var ccclass = _decorator.ccclass,
        type = _decorator.type;
      var UIPTPopupCreateSuccesAlert = exports('UIPTPopupCreateSuccesAlert', (_dec = ccclass('UIPTPopupCreateSuccesAlert'), _dec2 = type(Label), _dec3 = type(Button), _dec(_class = (_class2 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UIPTPopupCreateSuccesAlert, _UIBase);
        function UIPTPopupCreateSuccesAlert() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "lbNotifi", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnConfirm", _descriptor2, _assertThisInitialized(_this));
          return _this;
        }
        var _proto = UIPTPopupCreateSuccesAlert.prototype;
        _proto._onStart = function _onStart() {
          this._addClicker(this.btnConfirm, this.close, this);
        };
        _proto.init = function init(idTable) {
          this.lbNotifi.string = LanguageMananger.instance.getString("txt_head_id_room_private") + " " + idTable;
        };
        return UIPTPopupCreateSuccesAlert;
      }(UIBase), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "lbNotifi", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "btnConfirm", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIPTPopupFilterRoomType.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts', './EventManager.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, cclegacy, _decorator, Toggle, UIBase, pEventManager;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Toggle = module.Toggle;
    }, function (module) {
      UIBase = module.UIBase;
    }, function (module) {
      pEventManager = module.pEventManager;
    }],
    execute: function () {
      var _dec, _dec2, _class, _class2, _descriptor;
      cclegacy._RF.push({}, "9f9d2y5z8xAV5DED9haTaSM", "UIPTPopupFilterRoomType", undefined);
      var ccclass = _decorator.ccclass,
        type = _decorator.type;
      var UIPTPopupFilterRoomType = exports('UIPTPopupFilterRoomType', (_dec = ccclass('UIPTPopupFilterRoomType'), _dec2 = type([Toggle]), _dec(_class = (_class2 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UIPTPopupFilterRoomType, _UIBase);
        function UIPTPopupFilterRoomType() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "toggleFilters", _descriptor, _assertThisInitialized(_this));
          _this._filters = [];
          return _this;
        }
        var _proto = UIPTPopupFilterRoomType.prototype;
        _proto.onEnable = function onEnable() {
          var _this2 = this;
          this._filters.forEach(function (_idx) {
            return _this2.toggleFilters[_idx] && (_this2.toggleFilters[_idx].isChecked = true);
          });
        };
        _proto._onStart = function _onStart() {
          this._addToggler(this.toggleFilters, this._onFilter, this);
        };
        _proto._onFilter = function _onFilter() {
          var _list = [];
          for (var i = 0; i < this.toggleFilters.length; i++) {
            if (this.toggleFilters[i].isChecked) {
              _list.push(i);
            }
          }
          this._filters = _list;
          pEventManager.invoke('onPTFilterRoom', _list);
        };
        return UIPTPopupFilterRoomType;
      }(UIBase), _descriptor = _applyDecoratedDescriptor(_class2.prototype, "toggleFilters", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return [];
        }
      }), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIPTPopupHelp.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts'], function (exports) {
  var _inheritsLoose, cclegacy, _decorator, UIBase;
  return {
    setters: [function (module) {
      _inheritsLoose = module.inheritsLoose;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
    }, function (module) {
      UIBase = module.UIBase;
    }],
    execute: function () {
      var _dec, _class;
      cclegacy._RF.push({}, "786491c9INHuoSuUo5EQXjw", "UIPTPopupHelp", undefined);
      var ccclass = _decorator.ccclass;
      var UIPTPopupHelp = exports('UIPTPopupHelp', (_dec = ccclass('UIPTPopupHelp'), _dec(_class = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UIPTPopupHelp, _UIBase);
        function UIPTPopupHelp() {
          return _UIBase.apply(this, arguments) || this;
        }
        return UIPTPopupHelp;
      }(UIBase)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIPTPopupInfoTable.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts', './LanguageManager.ts', './StringUtils.ts', './Enums.ts', './EventManager.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _extends, cclegacy, _decorator, Label, Node, UIBase, LanguageMananger, pStringUtils, ETypeModePlay, pEventManager;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _extends = module.extends;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Label = module.Label;
      Node = module.Node;
    }, function (module) {
      UIBase = module.UIBase;
    }, function (module) {
      LanguageMananger = module.LanguageMananger;
    }, function (module) {
      pStringUtils = module.pStringUtils;
    }, function (module) {
      ETypeModePlay = module.ETypeModePlay;
    }, function (module) {
      pEventManager = module.pEventManager;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _dec11, _dec12, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9, _descriptor10, _descriptor11;
      cclegacy._RF.push({}, "3f2188BlINL+LnCdr9E7B6s", "UIPTPopupInfoTable", undefined);
      var ccclass = _decorator.ccclass,
        type = _decorator.type;
      var UIPTPopupInfoTable = exports('UIPTPopupInfoTable', (_dec = ccclass('UIPTPopupInfoTable'), _dec2 = type(Label), _dec3 = type(Node), _dec4 = type(Label), _dec5 = type(Label), _dec6 = type(Label), _dec7 = type(Label), _dec8 = type(Label), _dec9 = type(Label), _dec10 = type(Label), _dec11 = type(Label), _dec12 = type(Label), _dec(_class = (_class2 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UIPTPopupInfoTable, _UIBase);
        function UIPTPopupInfoTable() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "txtTableId", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "gidContainer", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "txtGId", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "txtSmallBlind", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "txtBigBlind", _descriptor5, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "txtMinBuyIn", _descriptor6, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "txtMaxBuyIn", _descriptor7, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "txtMaxPlayer", _descriptor8, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "txtZone", _descriptor9, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "txtDealSpeed", _descriptor10, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "txtTypeMode", _descriptor11, _assertThisInitialized(_this));
          _this._data = null;
          _this._onces = [['onClearTable', _this._onClearTable, _assertThisInitialized(_this)], ['onLeaveTable', _this._onLeaveTable, _assertThisInitialized(_this)], ['onTableEvent', _this._onTableEvent, _assertThisInitialized(_this)]];
          _this._bined = false;
          return _this;
        }
        var _proto = UIPTPopupInfoTable.prototype;
        _proto._onClearTable = function _onClearTable(data) {
          var route = data.route;
          if (route != 'onClearTable') return;
          try {
            this.gidContainer.active = false;
          } catch (e) {}
        };
        _proto._onLeaveTable = function _onLeaveTable() {
          try {
            this.gidContainer.active = false;
          } catch (e) {}
        };
        _proto._onTableEvent = function _onTableEvent(data) {
          var route = data.route,
            msg = data.msg;
          if (route != 'onTableEvent') return;
          this.gidContainer.active = true;
          this.txtGId.string = "" + msg.id;
        };
        _proto._onLoad = function _onLoad() {
          this._setup();
        };
        _proto._setup = function _setup() {
          if (this._bined) return;
          pEventManager.on(this._onces);
          this._bined = true;
        };
        _proto._onDestroy = function _onDestroy() {
          pEventManager.off(this._onces);
          this._bined = false;
        };
        _proto.initView = function initView(data) {
          this._data = data;
          this._setup();
        };
        _proto.show = function show() {
          var _data = _extends({}, this._data.data);
          _data['tid'] = this._data.data.id;
          _data.id = this.txtGId.string;
          this.log('[UIPTPopupInfoTable] Show >> ', _data);
          this.node.active = true;
          this.txtTableId.string = "" + this._data.data.id;
          this.txtSmallBlind.string = pStringUtils.formatNumberWithDot2(this._data.data.smallBlind) + " Chips";
          this.txtBigBlind.string = pStringUtils.formatNumberWithDot2(this._data.data.bigBlind) + " Chips";
          this.txtMinBuyIn.string = pStringUtils.formatNumberWithDot2(this._data.data.minBuyIn) + " Chips";
          this.txtMaxBuyIn.string = pStringUtils.formatNumberWithDot2(this._data.data.maxBuyIn) + " Chips";
          this.txtMaxPlayer.string = this._data.data.maxPlayers + " " + LanguageMananger.instance.getString("txt_player");
          this.txtDealSpeed.string = "" + (this._data.data.gameMode == "normal" ? "20ms/s" : "10ms/s");
          this.txtTypeMode.string = "" + ETypeModePlay[this._data.mode];
          switch (this._data.data.zone) {
            case "TS":
              this.txtZone.string = LanguageMananger.instance.getString("txt_title_room_basic") + (" [" + this._data.data.zone + "]");
              break;
            case "TC":
              this.txtZone.string = LanguageMananger.instance.getString("txt_title_room_middle") + (" [" + this._data.data.zone + "]");
              break;
            case "CC":
              this.txtZone.string = LanguageMananger.instance.getString("txt_title_room_high_level") + (" [" + this._data.data.zone + "]");
              break;
          }
        };
        return UIPTPopupInfoTable;
      }(UIBase), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "txtTableId", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "gidContainer", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "txtGId", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "txtSmallBlind", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "txtBigBlind", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, "txtMinBuyIn", [_dec7], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor7 = _applyDecoratedDescriptor(_class2.prototype, "txtMaxBuyIn", [_dec8], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor8 = _applyDecoratedDescriptor(_class2.prototype, "txtMaxPlayer", [_dec9], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor9 = _applyDecoratedDescriptor(_class2.prototype, "txtZone", [_dec10], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor10 = _applyDecoratedDescriptor(_class2.prototype, "txtDealSpeed", [_dec11], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor11 = _applyDecoratedDescriptor(_class2.prototype, "txtTypeMode", [_dec12], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIPTPopupJoinPrivateRoom.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts', './GlobalConfig.ts', './ResponeCode.ts', './UINotice.ts', './LanguageManager.ts', './Decorators.ts', './GameManager.ts', './TableCommand.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _asyncToGenerator, _regeneratorRuntime, cclegacy, _decorator, EditBox, Button, Label, UIBase, GlobalConfig, ResponseCode, UINotice, LanguageMananger, pDecorators, GameManager, request;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      EditBox = module.EditBox;
      Button = module.Button;
      Label = module.Label;
    }, function (module) {
      UIBase = module.UIBase;
    }, function (module) {
      GlobalConfig = module.default;
    }, function (module) {
      ResponseCode = module.ResponseCode;
    }, function (module) {
      UINotice = module.UINotice;
    }, function (module) {
      LanguageMananger = module.LanguageMananger;
    }, function (module) {
      pDecorators = module.pDecorators;
    }, function (module) {
      GameManager = module.GameManager;
    }, function (module) {
      request = module.default;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _class, _class2, _descriptor, _descriptor2, _descriptor3;
      cclegacy._RF.push({}, "c9ca6yLIahL7Z8beJOubkKO", "UIPTPopupJoinPrivateRoom", undefined);
      var ccclass = _decorator.ccclass,
        type = _decorator.type,
        property = _decorator.property;
      var UIPTPopupJoinPrivateRoom = exports('UIPTPopupJoinPrivateRoom', (_dec = ccclass('UIPTPopupJoinPrivateRoom'), _dec2 = type(EditBox), _dec3 = type(Button), _dec4 = property(Label), _dec(_class = (_class2 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UIPTPopupJoinPrivateRoom, _UIBase);
        function UIPTPopupJoinPrivateRoom() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "editPassword", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnJoin", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbTitle", _descriptor3, _assertThisInitialized(_this));
          _this._data = null;
          return _this;
        }
        var _proto = UIPTPopupJoinPrivateRoom.prototype;
        _proto._onStart = function _onStart() {
          this._addClicker(this.btnJoin, this._actJoinPrivateRoom, this);
        };
        _proto._open = function _open() {
          this.editPassword.string = '';
          return _UIBase.prototype._open.call(this);
        };
        _proto.init = function init(data) {
          this._data = data;
          this.lbTitle.string = LanguageMananger.getString({
            key: 'dynamic_join_private_room',
            replacers: [{
              find: "@id",
              replacer: this._data.displayTid
            }]
          });
        };
        _proto._actJoinPrivateRoom = /*#__PURE__*/function () {
          var _actJoinPrivateRoom2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {
            var instance, password, _gm, msg;
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  instance = GlobalConfig.instance;
                  password = this.editPassword.string;
                  _gm = pDecorators.instance(GameManager);
                  _gm.setRoom('PT');
                  //await instance.wait('onPlayingScreenLoadedSuccess', false);

                  instance.loading.open();
                  _context.next = 7;
                  return request('joinTable', {
                    tid: this._data.id,
                    password: password
                  });
                case 7:
                  msg = _context.sent;
                  _context.t0 = msg.code;
                  _context.next = _context.t0 === ResponseCode.SUCCESS ? 11 : _context.t0 === ResponseCode.ERROR ? 14 : _context.t0 === ResponseCode.ERR_INVALID_PASSWORD ? 16 : 18;
                  break;
                case 11:
                  this.close();
                  _gm.joinTable(this._data, msg.msg);
                  return _context.abrupt("break", 18);
                case 14:
                  this.warn("FAIL TO JOIN >>", msg);
                  return _context.abrupt("break", 18);
                case 16:
                  UINotice.instance.show('txt_title', 'txt_invalid_password', 'txt_btn_confirm2');
                  return _context.abrupt("break", 18);
                case 18:
                  instance.loading.close();
                case 19:
                case "end":
                  return _context.stop();
              }
            }, _callee, this);
          }));
          function _actJoinPrivateRoom() {
            return _actJoinPrivateRoom2.apply(this, arguments);
          }
          return _actJoinPrivateRoom;
        }();
        return UIPTPopupJoinPrivateRoom;
      }(UIBase), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "editPassword", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "btnJoin", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "lbTitle", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIPTPopupSearchRoom.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts', './EventManager.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, cclegacy, _decorator, EditBox, Button, UIBase, pEventManager;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      EditBox = module.EditBox;
      Button = module.Button;
    }, function (module) {
      UIBase = module.UIBase;
    }, function (module) {
      pEventManager = module.pEventManager;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _class, _class2, _descriptor, _descriptor2;
      cclegacy._RF.push({}, "65f14fN+DdO8IyDlYmjKmFF", "UIPTPopupSearchRoom", undefined);
      var ccclass = _decorator.ccclass,
        type = _decorator.type;
      var UIPTPopupSearchRoom = exports('UIPTPopupSearchRoom', (_dec = ccclass('UIPTPopupSearchRoom'), _dec2 = type(EditBox), _dec3 = type(Button), _dec(_class = (_class2 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UIPTPopupSearchRoom, _UIBase);
        function UIPTPopupSearchRoom() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "editRoomID", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnSearch", _descriptor2, _assertThisInitialized(_this));
          return _this;
        }
        var _proto = UIPTPopupSearchRoom.prototype;
        _proto._onStart = function _onStart() {
          this._addClicker(this.btnSearch, this._actSearch, this);
          this._addClicker(this.btnClose, this._actSearch, this);
        };
        _proto._actSearch = function _actSearch() {
          var _id = this.editRoomID.string;
          pEventManager.invoke('onPTSearchRoom', _id);
          this.close();
        };
        return UIPTPopupSearchRoom;
      }(UIBase), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "editRoomID", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "btnSearch", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIPTRoomItem.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts', './StringUtils.ts', './UIController.ts', './Enums.ts', './ResponeCode.ts', './EventManager.ts', './GlobalConfig.ts', './Constants.ts', './Decorators.ts', './DBStorage.ts', './JsonUtils.ts', './GameManager.ts', './TableCommand.ts', './UINotice.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _asyncToGenerator, _regeneratorRuntime, cclegacy, _decorator, Sprite, Label, Button, Node, SpriteFrame, UIBase, pStringUtils, UIController, UIType, ResponseCode, pEventManager, GlobalConfig, gameZoneToNumber, pDecorators, DBStorage, JsonUtils, GameManager, request, UINotice;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Sprite = module.Sprite;
      Label = module.Label;
      Button = module.Button;
      Node = module.Node;
      SpriteFrame = module.SpriteFrame;
    }, function (module) {
      UIBase = module.UIBase;
    }, function (module) {
      pStringUtils = module.pStringUtils;
    }, function (module) {
      UIController = module.UIController;
    }, function (module) {
      UIType = module.UIType;
    }, function (module) {
      ResponseCode = module.ResponseCode;
    }, function (module) {
      pEventManager = module.pEventManager;
    }, function (module) {
      GlobalConfig = module.default;
    }, function (module) {
      gameZoneToNumber = module.gameZoneToNumber;
    }, function (module) {
      pDecorators = module.pDecorators;
    }, function (module) {
      DBStorage = module.DBStorage;
    }, function (module) {
      JsonUtils = module.default;
    }, function (module) {
      GameManager = module.GameManager;
    }, function (module) {
      request = module.default;
    }, function (module) {
      UINotice = module.UINotice;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _dec11, _dec12, _dec13, _dec14, _dec15, _dec16, _dec17, _dec18, _dec19, _dec20, _dec21, _dec22, _dec23, _dec24, _dec25, _dec26, _dec27, _dec28, _dec29, _dec30, _dec31, _dec32, _dec33, _dec34, _dec35, _dec36, _dec37, _dec38, _dec39, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9, _descriptor10, _descriptor11, _descriptor12, _descriptor13, _descriptor14, _descriptor15, _descriptor16, _descriptor17, _descriptor18, _descriptor19, _descriptor20, _descriptor21, _descriptor22;
      cclegacy._RF.push({}, "380c7D/FsxC1pPlh8tRczyt", "UIPTRoomItem", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property,
        type = _decorator.type;
      var group = {
        name: 'Item',
        id: 'Common',
        displayOrder: 0
      };
      var UIPTRoomItem = exports('UIPTRoomItem', (_dec = ccclass('UIPTRoomItem'), _dec2 = property({
        group: group
      }), _dec3 = type(Sprite), _dec4 = property({
        group: group
      }), _dec5 = type(Label), _dec6 = property({
        group: group
      }), _dec7 = type(Label), _dec8 = property({
        group: group
      }), _dec9 = type(Label), _dec10 = property({
        group: group
      }), _dec11 = type(Label), _dec12 = property({
        group: group
      }), _dec13 = type(Label), _dec14 = property({
        group: group
      }), _dec15 = type(Sprite), _dec16 = property({
        group: group
      }), _dec17 = type(Label), _dec18 = property({
        group: group
      }), _dec19 = type(Sprite), _dec20 = property({
        group: group
      }), _dec21 = type(Sprite), _dec22 = property({
        group: group
      }), _dec23 = type(Button), _dec24 = property({
        group: group
      }), _dec25 = type(Sprite), _dec26 = property({
        group: group
      }), _dec27 = type(Node), _dec28 = property({
        group: group
      }), _dec29 = type(Node), _dec30 = property({
        group: group
      }), _dec31 = type(Node), _dec32 = type(SpriteFrame), _dec33 = type(SpriteFrame), _dec34 = property({
        group: {
          name: 'Data',
          id: 'Data',
          displayOrder: 0
        }
      }), _dec35 = type([SpriteFrame]), _dec36 = type([SpriteFrame]), _dec37 = type([SpriteFrame]), _dec38 = type([SpriteFrame]), _dec39 = type([SpriteFrame]), _dec(_class = (_class2 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UIPTRoomItem, _UIBase);
        function UIPTRoomItem() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "bg", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lblRoomID", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lblSBBB", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lblMinMaxBuyIn", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lblGold", _descriptor5, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lblPlayersInRoom", _descriptor6, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "bgMaxPlayersInTable", _descriptor7, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lblMaxPlayersInTable", _descriptor8, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "iconPrivate", _descriptor9, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "bgBtnPlay", _descriptor10, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnPlay", _descriptor11, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "imagePrivate", _descriptor12, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "myRoom", _descriptor13, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "iconStarRoomPro", _descriptor14, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "iconStarRoomPro2", _descriptor15, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "iconNumPlayerGray", _descriptor16, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "iconBtnPlayGray", _descriptor17, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "predefineBG", _descriptor18, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "predefineBGNumPlayer", _descriptor19, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "predefineBGBtnPlay", _descriptor20, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "predefineBGLock", _descriptor21, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "predefinePrivate", _descriptor22, _assertThisInitialized(_this));
          _this.data = null;
          _this._eventHandlers = [
            //['onJoinTable', this.onJoinTabelEvent, this]
          ];
          return _this;
        }
        var _proto = UIPTRoomItem.prototype;
        _proto.onDisable = function onDisable() {
          pEventManager.off(this._eventHandlers);
        };
        _proto._onStart = function _onStart() {
          this._addClicker(this.btnPlay, this._actJoinTable, this);
        };
        _proto.is = function is(id) {
          id = typeof id === 'string' ? id : id.id;
          if (!this.data) return false;
          return this.data.id === id;
        };
        _proto.init = function init(data) {
          this.data = data;
          this._init();
        };
        _proto.change = function change(response) {
          var tableDetails = response.tableDetails,
            playerCount = response.playerCount,
            tableId = response.tableId;
          if (!this.is(tableId)) return false;
          var smallBlind = tableDetails.smallBlind,
            bigBlind = tableDetails.bigBlind,
            maxBuyIn = tableDetails.maxBuyIn,
            minBuyIn = tableDetails.minBuyIn;
          this.data.smallBlind = smallBlind;
          this.data.bigBlind = bigBlind;
          this.data.minBuyIn = minBuyIn;
          this.data.maxBuyIn = maxBuyIn;
          this.data.members = playerCount;
          this._init();
          return true;
        };
        _proto.updateData = function updateData(data) {
          for (var key in data) {
            this.data[key] = data[key];
          }
          this._init();
        };
        _proto._init = function _init() {
          var _this$data = this.data,
            zone = _this$data.zone,
            isPrivate = _this$data.isPrivate,
            id = _this$data.id,
            displayTid = _this$data.displayTid,
            smallBlind = _this$data.smallBlind,
            minBuyIn = _this$data.minBuyIn,
            maxBuyIn = _this$data.maxBuyIn,
            gold = _this$data.gold,
            maxPlayers = _this$data.maxPlayers,
            members = _this$data.members;
          var level = gameZoneToNumber(zone);
          if (level < this.predefineBG.length) {
            this.bg.spriteFrame = this.predefineBG[level];
            this.bgMaxPlayersInTable.spriteFrame = this.predefineBGNumPlayer[level];
            this.bgBtnPlay.spriteFrame = this.predefineBGBtnPlay[level];
            this.iconStarRoomPro.active = zone == 'CC';
            this.iconStarRoomPro2.active = zone == 'CC';
          }
          this.lblRoomID.string = pStringUtils.addSpaceHeadTail(displayTid < 10 ? "0" + displayTid : "" + displayTid);
          this.lblSBBB.string = pStringUtils.addSpaceHeadTail(pStringUtils.formatNumberKMB(smallBlind) + '/' + pStringUtils.formatNumberKMB(smallBlind * 2));
          this.lblMinMaxBuyIn.string = pStringUtils.addSpaceHeadTail(pStringUtils.formatNumberKMB(minBuyIn) + '/' + pStringUtils.formatNumberKMB(maxBuyIn));
          this.lblGold.string = pStringUtils.addSpaceHeadTail(pStringUtils.formatNumberKMB(gold));
          this.lblPlayersInRoom.string = pStringUtils.addSpaceHeadTail(members + "/" + maxPlayers);
          this.lblMaxPlayersInTable.string = pStringUtils.addSpaceHeadTail(maxPlayers.toString());
          this.iconPrivate.node.active = isPrivate;
          if (isPrivate) {
            this.imagePrivate.spriteFrame = this.predefinePrivate[level];
            this.bg.spriteFrame = this.predefineBGLock[level];
            this.bgBtnPlay.spriteFrame = this.iconBtnPlayGray;
            this.bgMaxPlayersInTable.spriteFrame = this.iconNumPlayerGray;
          }
          var _db = pDecorators.instance(DBStorage);
          var _myRoom = _db.get('MY_ROOM');
          var _room = JsonUtils.isValidData(_myRoom) ? _myRoom : null;
          this.myRoom.active = !!_room && _room == id;
        };
        _proto._actJoinTable = /*#__PURE__*/function () {
          var _actJoinTable2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {
            var instance, _gm, ui, msg, key;
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  if (this.data) {
                    _context.next = 2;
                    break;
                  }
                  return _context.abrupt("return");
                case 2:
                  pEventManager.on(this._eventHandlers);
                  instance = GlobalConfig.instance;
                  _gm = pDecorators.instance(GameManager);
                  _gm.setRoom('PT');
                  if (!this.data.isPrivate) {
                    _context.next = 12;
                    break;
                  }
                  _context.next = 9;
                  return UIController.Instance.open(UIType.PT_JOIN_PRIVATE_ROOM);
                case 9:
                  ui = _context.sent;
                  ui == null || ui.init(this.data);
                  return _context.abrupt("return");
                case 12:
                  instance.loading.open();
                  _context.next = 15;
                  return request('joinTable', {
                    tid: this.data.id
                  });
                case 15:
                  msg = _context.sent;
                  _context.t0 = msg.code;
                  _context.next = _context.t0 === ResponseCode.SUCCESS ? 19 : _context.t0 === ResponseCode.ERROR ? 23 : 26;
                  break;
                case 19:
                  for (key in msg.tableInfo) this.data[key] = msg.tableInfo[key];
                  _gm.joinTable(this.data, msg.msg);
                  instance.loading.close();
                  return _context.abrupt("break", 26);
                case 23:
                  instance.loading.close();
                  UINotice.show('txt_title', msg.error, 'txt_btn_confirm1');
                  return _context.abrupt("break", 26);
                case 26:
                case "end":
                  return _context.stop();
              }
            }, _callee, this);
          }));
          function _actJoinTable() {
            return _actJoinTable2.apply(this, arguments);
          }
          return _actJoinTable;
        }();
        return UIPTRoomItem;
      }(UIBase), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "bg", [_dec2, _dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "lblRoomID", [_dec4, _dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "lblSBBB", [_dec6, _dec7], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "lblMinMaxBuyIn", [_dec8, _dec9], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "lblGold", [_dec10, _dec11], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, "lblPlayersInRoom", [_dec12, _dec13], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor7 = _applyDecoratedDescriptor(_class2.prototype, "bgMaxPlayersInTable", [_dec14, _dec15], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor8 = _applyDecoratedDescriptor(_class2.prototype, "lblMaxPlayersInTable", [_dec16, _dec17], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor9 = _applyDecoratedDescriptor(_class2.prototype, "iconPrivate", [_dec18, _dec19], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor10 = _applyDecoratedDescriptor(_class2.prototype, "bgBtnPlay", [_dec20, _dec21], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor11 = _applyDecoratedDescriptor(_class2.prototype, "btnPlay", [_dec22, _dec23], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor12 = _applyDecoratedDescriptor(_class2.prototype, "imagePrivate", [_dec24, _dec25], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor13 = _applyDecoratedDescriptor(_class2.prototype, "myRoom", [_dec26, _dec27], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor14 = _applyDecoratedDescriptor(_class2.prototype, "iconStarRoomPro", [_dec28, _dec29], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor15 = _applyDecoratedDescriptor(_class2.prototype, "iconStarRoomPro2", [_dec30, _dec31], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor16 = _applyDecoratedDescriptor(_class2.prototype, "iconNumPlayerGray", [_dec32], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor17 = _applyDecoratedDescriptor(_class2.prototype, "iconBtnPlayGray", [_dec33], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor18 = _applyDecoratedDescriptor(_class2.prototype, "predefineBG", [_dec34, _dec35], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return [];
        }
      }), _descriptor19 = _applyDecoratedDescriptor(_class2.prototype, "predefineBGNumPlayer", [_dec36], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return [];
        }
      }), _descriptor20 = _applyDecoratedDescriptor(_class2.prototype, "predefineBGBtnPlay", [_dec37], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return [];
        }
      }), _descriptor21 = _applyDecoratedDescriptor(_class2.prototype, "predefineBGLock", [_dec38], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return [];
        }
      }), _descriptor22 = _applyDecoratedDescriptor(_class2.prototype, "predefinePrivate", [_dec39], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return [];
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIPTYard.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts', './Enums.ts', './UIPTPageRoom.ts', './UIController.ts', './RoomItemData.ts', './EventManager.ts', './ComponentUtils.ts', './GlobalConfig.ts', './AsyncUtils.ts', './StringUtils.ts', './DynamicButton.ts', './Constants.ts', './MainScreenController.ts', './TableMonitorCommand.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _createForOfIteratorHelperLoose, _createClass, _asyncToGenerator, _regeneratorRuntime, cclegacy, _decorator, EventTarget, Node, Button, ToggleContainer, Label, PageView, Prefab, UIOpacity, Tween, color, tween, instantiate, UIBase, UIType, UIPTPageRoom, UIController, RoomItemData, pEventManager, pComponentUtils, GlobalConfig, pAsyncUtils, pStringUtils, NSDynamicButton, numberToGameZone, MainScreenController, request;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _createForOfIteratorHelperLoose = module.createForOfIteratorHelperLoose;
      _createClass = module.createClass;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      EventTarget = module.EventTarget;
      Node = module.Node;
      Button = module.Button;
      ToggleContainer = module.ToggleContainer;
      Label = module.Label;
      PageView = module.PageView;
      Prefab = module.Prefab;
      UIOpacity = module.UIOpacity;
      Tween = module.Tween;
      color = module.color;
      tween = module.tween;
      instantiate = module.instantiate;
    }, function (module) {
      UIBase = module.UIBase;
    }, function (module) {
      UIType = module.UIType;
    }, function (module) {
      UIPTPageRoom = module.UIPTPageRoom;
    }, function (module) {
      UIController = module.UIController;
    }, function (module) {
      RoomItemData = module.RoomItemData;
    }, function (module) {
      pEventManager = module.pEventManager;
    }, function (module) {
      pComponentUtils = module.pComponentUtils;
    }, function (module) {
      GlobalConfig = module.default;
    }, function (module) {
      pAsyncUtils = module.pAsyncUtils;
    }, function (module) {
      pStringUtils = module.pStringUtils;
    }, function (module) {
      NSDynamicButton = module.NSDynamicButton;
    }, function (module) {
      numberToGameZone = module.numberToGameZone;
    }, function (module) {
      MainScreenController = module.MainScreenController;
    }, function (module) {
      request = module.default;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _dec11, _dec12, _dec13, _dec14, _dec15, _dec16, _dec17, _dec18, _dec19, _dec20, _dec21, _dec22, _dec23, _dec24, _dec25, _dec26, _dec27, _dec28, _dec29, _dec30, _dec31, _dec32, _dec33, _dec34, _dec35, _dec36, _dec37, _dec38, _dec39, _dec40, _dec41, _dec42, _dec43, _dec44, _dec45, _dec46, _dec47, _dec48, _dec49, _dec50, _dec51, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9, _descriptor10, _descriptor11, _descriptor12, _descriptor13, _descriptor14, _descriptor15, _descriptor16, _descriptor17, _descriptor18, _descriptor19, _descriptor20, _descriptor21, _descriptor22, _descriptor23, _descriptor24, _descriptor25, _descriptor26, _descriptor27;
      cclegacy._RF.push({}, "5abd8JEJvFNXIhVtpkgeNCa", "UIPTYard", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property,
        type = _decorator.type;
      var eventTarget = exports('eventTarget', new EventTarget());
      var UIPTYard = exports('UIPTYard', (_dec = ccclass('UIPTYard'), _dec2 = property(Node), _dec3 = property({
        group: {
          name: 'Top',
          id: 'Common',
          displayOrder: 0
        }
      }), _dec4 = type(Button), _dec5 = property({
        group: {
          name: 'Top',
          id: 'Common'
        }
      }), _dec6 = type(Node), _dec7 = property({
        group: {
          name: 'Top',
          id: 'Common'
        }
      }), _dec8 = type(Node), _dec9 = property({
        group: {
          name: 'Top',
          id: 'Common'
        }
      }), _dec10 = type(NSDynamicButton.Component), _dec11 = property({
        group: {
          name: 'Top',
          id: 'Common'
        }
      }), _dec12 = type(NSDynamicButton.Component), _dec13 = property({
        group: {
          name: 'Top',
          id: 'Common'
        }
      }), _dec14 = property({
        group: {
          name: 'Top',
          id: 'Common'
        }
      }), _dec15 = property({
        group: {
          name: 'Top',
          id: 'Common'
        }
      }), _dec16 = type(ToggleContainer), _dec17 = property({
        group: {
          name: 'Top',
          id: 'Common'
        }
      }), _dec18 = type(Button), _dec19 = property({
        group: {
          name: 'Top',
          id: 'Common'
        }
      }), _dec20 = type(Button), _dec21 = property({
        group: {
          name: 'Top',
          id: 'Common'
        }
      }), _dec22 = type(Label), _dec23 = property({
        group: {
          name: 'Top',
          id: 'Common'
        }
      }), _dec24 = type(Button), _dec25 = property({
        group: {
          name: 'Top',
          id: 'Common'
        }
      }), _dec26 = type(Label), _dec27 = property({
        group: {
          name: 'Top',
          id: 'Common'
        }
      }), _dec28 = type(Button), _dec29 = property({
        group: {
          name: 'Bottom',
          id: 'Common'
        }
      }), _dec30 = type(Button), _dec31 = property({
        group: {
          name: 'Bottom',
          id: 'Common'
        }
      }), _dec32 = type(Button), _dec33 = property({
        group: {
          name: 'Bottom',
          id: 'Common'
        }
      }), _dec34 = type(Button), _dec35 = property({
        group: {
          name: 'Bottom',
          id: 'Common'
        }
      }), _dec36 = type(Button), _dec37 = property({
        group: {
          name: 'Center',
          id: 'Common'
        }
      }), _dec38 = type(PageView), _dec39 = property({
        group: {
          name: 'Center',
          id: 'Common'
        }
      }), _dec40 = type(Button), _dec41 = property({
        group: {
          name: 'Center',
          id: 'Common'
        }
      }), _dec42 = type(Button), _dec43 = property({
        group: {
          name: 'Center',
          id: 'Common'
        }
      }), _dec44 = type(Prefab), _dec45 = property({
        group: {
          name: 'Center',
          id: 'Common'
        }
      }), _dec46 = type(Node), _dec47 = property({
        group: {
          name: 'Center',
          id: 'Common'
        }
      }), _dec48 = type(Node), _dec49 = property({
        group: {
          name: 'Center',
          id: 'Common'
        }
      }), _dec50 = type(Node), _dec51 = property(Node), _dec(_class = (_class2 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UIPTYard, _UIBase);
        function UIPTYard() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "selfLoading", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnBackToMain", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lblSmallBig", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lblMinMaxBuyIn", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnSortBySbToBb", _descriptor5, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnSortByMinToMax", _descriptor6, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "clSorted", _descriptor7, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "clUnSorted", _descriptor8, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "roomLevelTC", _descriptor9, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnRoomType", _descriptor10, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnAddChip", _descriptor11, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lblChip", _descriptor12, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnAddGold", _descriptor13, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lblGold", _descriptor14, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnClosePTTable", _descriptor15, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnPrivateRoom", _descriptor16, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnRoomSearch", _descriptor17, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnOtherRoomType", _descriptor18, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnSelectTable", _descriptor19, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "pgViewListRoom", _descriptor20, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnNextPage", _descriptor21, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnPrevPage", _descriptor22, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "pageRoomPrefab", _descriptor23, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "widgetListRoom", _descriptor24, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "widgetTable", _descriptor25, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "empty", _descriptor26, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "blocker", _descriptor27, _assertThisInitialized(_this));
          _this.currentRoomData = [];
          _this.currentRoomLevel = 'TS';
          _this.currentPgViewListRoomIndex = 0;
          _this.currentAmountPage = 0;
          _this.ROOM_PAGE_CAP = 6;
          _this.firstInitListPage = false;
          _this._currentChip = 0;
          _this._currentCoin = 0;
          _this._events = [['onPTSearchRoom', _this._onSearchRoom, _assertThisInitialized(_this)], ['onPTFilterRoom', _this._onFilterRoom, _assertThisInitialized(_this)], ['onJoinTable', _this.close, _assertThisInitialized(_this)], ['onListTableEvent', _this._onListTableEvent, _assertThisInitialized(_this)]];
          _this._pageViewListOPXTw = null;
          _this._pageViewListOPX = null;
          _this._sortData = {
            smallBig: true,
            minMaxBuyIn: true
          };
          _this._blocker = false;
          _this._list = [];
          return _this;
        }
        var _proto = UIPTYard.prototype;
        _proto._onClose = function _onClose() {
          this.blocker.active = true;
          //this.widgetListRoom.active = false;
          this.unscheduleAllCallbacks();
        };
        _proto._onLoad = function _onLoad() {
          this._pageViewListOPX = pComponentUtils.getSafeComponent(this.widgetListRoom, UIOpacity);
          this.selfLoading.active = false;
          //this.widgetListRoom.active = false;
          this.blocker.active = false;
        };
        _proto.onEnable = /*#__PURE__*/function () {
          var _onEnable = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  pEventManager.on(this._events);
                case 1:
                case "end":
                  return _context.stop();
              }
            }, _callee, this);
          }));
          function onEnable() {
            return _onEnable.apply(this, arguments);
          }
          return onEnable;
        }();
        _proto.onDisable = function onDisable() {
          pEventManager.off(this._events);
        };
        _proto._onDestroy = function _onDestroy() {
          //this.widgetListRoom.active = false;
        };
        _proto._onStart = function _onStart() {
          var _this2 = this;
          // Top
          this._addClicker(this.btnBackToMain, this._actBackToMain, this);
          this._addClicker(this.btnRoomType, this.roomType, this);
          this.addToggleContainerEvent(this.roomLevelTC, this._actChangeRoomLevel, this);
          this._addClicker(this.btnClosePTTable, function () {
            return _this2.openTable(false);
          }, this);

          // Bottom
          this._addClicker(this.btnPrivateRoom, this.privateRoom, this);
          this._addClicker(this.btnRoomSearch, this.roomSearch, this);
          this._addClicker(this.btnOtherRoomType, this.otherRoomType, this);
          this._addClicker(this.btnSelectTable, this.selectTable, this);

          // Center
          this._addClicker(this.btnPrevPage, this._actPrevPage, this);
          this._addClicker(this.btnNextPage, this._actNextPage, this);
          this.btnSortBySbToBb.add('onClick', {
            _function: this._actSortBy,
            _this: this,
            _args: ['smallBig']
          });
          this.btnSortByMinToMax.add('onClick', {
            _function: this._actSortBy,
            _this: this,
            _args: ['minMaxBuyIn']
          });
        };
        _proto._onListTableEvent = /*#__PURE__*/function () {
          var _onListTableEvent2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(response) {
            var msg, action, _room, _list, _room2, _list2;
            return _regeneratorRuntime().wrap(function _callee2$(_context2) {
              while (1) switch (_context2.prev = _context2.next) {
                case 0:
                  msg = response.msg;
                  action = msg.action;
                  _context2.t0 = action;
                  _context2.next = _context2.t0 === 'deleted' ? 5 : _context2.t0 === 'join' ? 9 : _context2.t0 === 'leave' ? 15 : 17;
                  break;
                case 5:
                  _room = RoomItemData.generate(response);
                  _list = this._list.filter(function (_i) {
                    return _i.id !== _room.id;
                  });
                  this._actRefreshListRoom(_list);
                  return _context2.abrupt("break", 17);
                case 9:
                  if (!this._refreshRooms(response)) {
                    _context2.next = 11;
                    break;
                  }
                  return _context2.abrupt("break", 17);
                case 11:
                  _room2 = RoomItemData.generate(response);
                  _list2 = this._list.concat(_room2);
                  this._actRefreshListRoom(_list2);
                  return _context2.abrupt("break", 17);
                case 15:
                  this._refreshRooms(response);
                  return _context2.abrupt("break", 17);
                case 17:
                case "end":
                  return _context2.stop();
              }
            }, _callee2, this);
          }));
          function _onListTableEvent(_x) {
            return _onListTableEvent2.apply(this, arguments);
          }
          return _onListTableEvent;
        }();
        _proto._refreshRooms = function _refreshRooms(response) {
          if (!response) return false;
          var msg = response.msg;
          if (!msg) return false;
          var _new = this._list.find(function (_r) {
            return _r.id === msg.tableId;
          });
          if (!!_new) {
            var _page = this.pgViewListRoom.getPages();
            for (var _iterator = _createForOfIteratorHelperLoose(_page), _step; !(_step = _iterator()).done;) {
              var _p = _step.value;
              var _comp = _p.getComponent(UIPTPageRoom);
              if (_comp != null && _comp.change(msg)) return true;
            }
          }
          return false;
        };
        _proto._actSortBy = /*#__PURE__*/function () {
          var _actSortBy2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(renderers, btn, type) {
            var _ref, _ma, _mb, _color, data, duraion;
            return _regeneratorRuntime().wrap(function _callee3$(_context3) {
              while (1) switch (_context3.prev = _context3.next) {
                case 0:
                  btn.interactable = false;
                  _ref = this._sortData[type] ? [-1, 1, this.clUnSorted.clone()] : [1, -1, this.clSorted.clone()], _ma = _ref[0], _mb = _ref[1], _color = _ref[2];
                  data = [].concat(this.currentRoomData).sort(function (_a, _b) {
                    return _a.smallBlind * _ma + _b.smallBlind * _mb;
                  });
                  _context3.next = 5;
                  return this._actRefreshListRoom(data);
                case 5:
                  duraion = 0.25;
                  tween(btn.node).to(duraion, {
                    angle: this._sortData[type] ? 180 : 0
                  }).start();
                  renderers.forEach(function (_renderer) {
                    return _renderer.color = _color;
                  });
                  _context3.next = 10;
                  return pAsyncUtils.wait(duraion);
                case 10:
                  this._sortData[type] = !this._sortData[type];
                  btn.interactable = true;
                case 12:
                case "end":
                  return _context3.stop();
              }
            }, _callee3, this);
          }));
          function _actSortBy(_x2, _x3, _x4) {
            return _actSortBy2.apply(this, arguments);
          }
          return _actSortBy;
        }();
        _proto._resetFilter = function _resetFilter() {
          var _this3 = this;
          Tween.stopAllByTarget(this.btnSortBySbToBb.button.node);
          Tween.stopAllByTarget(this.btnSortByMinToMax.button.node);
          this.btnSortBySbToBb.button.interactable = true;
          this.btnSortByMinToMax.button.interactable = true;
          this.btnSortBySbToBb.button.node.angle = 0;
          this.btnSortByMinToMax.button.node.angle = 0;
          this.btnSortBySbToBb.renderers.forEach(function (_renderer) {
            return _renderer.color = _this3.clSorted.clone();
          });
          this.btnSortByMinToMax.renderers.forEach(function (_renderer) {
            return _renderer.color = _this3.clSorted.clone();
          });
          for (var key in this._sortData) this._sortData[key] = true;
        };
        _proto._open = /*#__PURE__*/function () {
          var _open2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {
            return _regeneratorRuntime().wrap(function _callee4$(_context4) {
              while (1) switch (_context4.prev = _context4.next) {
                case 0:
                  MainScreenController.fetchRoomList('TS', 'CC', 'TC'); //< Temperly
                  _context4.next = 3;
                  return request('subscribe', {
                    type: 'regular'
                  });
                case 3:
                  return _context4.abrupt("return", _UIBase.prototype._open.call(this));
                case 4:
                case "end":
                  return _context4.stop();
              }
            }, _callee4, this);
          }));
          function _open() {
            return _open2.apply(this, arguments);
          }
          return _open;
        }();
        _proto._close = /*#__PURE__*/function () {
          var _close2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5() {
            return _regeneratorRuntime().wrap(function _callee5$(_context5) {
              while (1) switch (_context5.prev = _context5.next) {
                case 0:
                  _context5.next = 2;
                  return request('unsubscribe', {
                    type: 'regular'
                  });
                case 2:
                  return _context5.abrupt("return", _UIBase.prototype._close.call(this));
                case 3:
                case "end":
                  return _context5.stop();
              }
            }, _callee5, this);
          }));
          function _close() {
            return _close2.apply(this, arguments);
          }
          return _close;
        }();
        _proto._onOpen = function _onOpen() {
          this.blocker.active = false;
          this.openTable(false);
          this.roomLevelTC.toggleItems[0].isChecked = true;
          this._resetFilter();
          this.showListRoom('TS');
        };
        _proto._actChangeRoomLevel = function _actChangeRoomLevel(numIndex) {
          if (this._blocker) return;
          this.openTable(false);
          var _zone = numberToGameZone(numIndex);
          if (this.currentRoomLevel !== _zone) {
            this.showListRoom(_zone);
          }
        };
        _proto._actBackToMain = /*#__PURE__*/function () {
          var _actBackToMain2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6() {
            return _regeneratorRuntime().wrap(function _callee6$(_context6) {
              while (1) switch (_context6.prev = _context6.next) {
                case 0:
                  _context6.next = 2;
                  return UIController.Instance.open(UIType.MAIN_SCREEN, false);
                case 2:
                  this.close();
                case 3:
                case "end":
                  return _context6.stop();
              }
            }, _callee6, this);
          }));
          function _actBackToMain() {
            return _actBackToMain2.apply(this, arguments);
          }
          return _actBackToMain;
        }();
        _proto.roomType = function roomType() {
          UIController.Instance.open(UIType.PT_ROOM_TYPE);
        };
        _proto.privateRoom = function privateRoom() {
          UIController.Instance.open(UIType.PT_CREATE_PRIVATE_ROOM);
        };
        _proto.roomSearch = function roomSearch() {
          UIController.Instance.open(UIType.PT_ROOM_SEARCH);
        };
        _proto.otherRoomType = function otherRoomType() {
          UIController.Instance.open(UIType.PT_OTHER_ROOM_TYPE);
        };
        _proto.selectTable = function selectTable() {
          this.openTable(true);
        };
        _proto._actPrevPage = function _actPrevPage() {
          var _index = this.pgViewListRoom.getCurrentPageIndex() - 1;
          _index >= 0 ? this.pgViewListRoom.scrollToPage(_index, 0.15) : this.pgViewListRoom.scrollToPage(this.pgViewListRoom.getPages().length - 1, 0.15);
        };
        _proto._actNextPage = function _actNextPage() {
          var _index = this.pgViewListRoom.getCurrentPageIndex() + 1;
          var _this$pgViewListRoom$ = this.pgViewListRoom.getPages(),
            length = _this$pgViewListRoom$.length;
          _index < length ? this.pgViewListRoom.scrollToPage(_index, 0.15) : this.pgViewListRoom.scrollToPage(0, 0.15);
        };
        _proto.showListRoom = /*#__PURE__*/function () {
          var _showListRoom = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee7(zone) {
            var isHighLevel, data;
            return _regeneratorRuntime().wrap(function _callee7$(_context7) {
              while (1) switch (_context7.prev = _context7.next) {
                case 0:
                  this.currentRoomLevel = zone;
                  isHighLevel = zone === 'CC';
                  this.btnOtherRoomType.node.active = isHighLevel;
                  //this.btnSelectTable.node.active = isHighLevel;
                  this.btnSelectTable.node.active = false;
                  _context7.next = 6;
                  return MainScreenController.getTables(this.currentRoomLevel);
                case 6:
                  data = _context7.sent;
                  this.currentRoomData = data;
                  this._actRefreshListRoom(this.currentRoomData);
                case 9:
                case "end":
                  return _context7.stop();
              }
            }, _callee7, this);
          }));
          function showListRoom(_x5) {
            return _showListRoom.apply(this, arguments);
          }
          return showListRoom;
        }();
        _proto._onSearchRoom = function _onSearchRoom(roomID) {
          if (!roomID || roomID.length <= 0) {
            this._actRefreshListRoom(this.currentRoomData);
            return;
          }
          var _tables = MainScreenController.getAllTables();
          var _arr = Object.values(_tables);
          for (var _idx = 0; _idx < _arr.length; _idx++) {
            var _rooms = _arr[_idx];
            for (var _i2 = 0, _arr2 = _rooms.tables.tables; _i2 < _arr2.length; _i2++) {
              var _room = _arr2[_i2];
              if (_room.displayTid === parseInt(roomID)) {
                this._blocker = true;
                this.roomLevelTC.toggleItems[_idx] && (this.roomLevelTC.toggleItems[_idx].isChecked = true);
                this._blocker = false;
                this._actRefreshListRoom([_room]);
                return;
              }
            }
          }
          this._actRefreshListRoom([]);
        };
        _proto._onFilterRoom = function _onFilterRoom(list) {
          var listRoomData = this.currentRoomData;
          if (list.length == 0) {
            this._actRefreshListRoom(listRoomData);
            return;
          }
          var _rooms = [];
          var _isFilter = false;
          for (var i = 0; i < listRoomData.length; i++) {
            var _room = listRoomData[i];
            _isFilter = false;
            for (var j = 0; j < list.length; j++) {
              switch (list[j]) {
                case 0:
                  if (_room.maxPlayers == 5) {
                    _isFilter = true;
                  }
                  break;
                case 1:
                  if (_room.maxPlayers == 9) {
                    _isFilter = true;
                  }
                  break;
                case 2:
                  if (_room.zone == 'TS') {
                    _isFilter = true;
                  }
                  break;
                case 3:
                  if (_room.zone == 'CC') {
                    _isFilter = true;
                  }
                  break;
                case 4:
                  if (_room.players == _room.maxPlayers) {
                    _isFilter = true;
                  }
                  break;
                case 5:
                  if (_room.players < _room.maxPlayers) {
                    _isFilter = true;
                  }
                  break;
              }
              if (_isFilter) {
                _rooms.push(_room);
                break;
              }
            }
          }
          this._actRefreshListRoom(_rooms);
        };
        _proto._actRefreshListRoom = /*#__PURE__*/function () {
          var _actRefreshListRoom2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee8(list) {
            var _this$_pageViewListOP,
              _this4 = this;
            var loading, _target, _comp, _duraion;
            return _regeneratorRuntime().wrap(function _callee8$(_context8) {
              while (1) switch (_context8.prev = _context8.next) {
                case 0:
                  this._list = list;
                  if (!(list.length <= 0)) {
                    _context8.next = 5;
                    break;
                  }
                  this.pgViewListRoom.removeAllPages();
                  this.empty.active = true;
                  return _context8.abrupt("return");
                case 5:
                  this.empty.active = false;
                  loading = GlobalConfig.instance.loading;
                  loading.close();
                  this.selfLoading.active = true;
                  this.pgViewListRoom.removeAllPages();
                  (_this$_pageViewListOP = this._pageViewListOPXTw) == null || _this$_pageViewListOP.stop();
                  this._pageViewListOPX.opacity = 0;
                  _target = null;
                  _comp = null;
                  list.forEach(function (_item, _index) {
                    if (_index % _this4.ROOM_PAGE_CAP == 0) {
                      _target = instantiate(_this4.pageRoomPrefab);
                      _comp = _target.getComponent(UIPTPageRoom);
                      _this4.pgViewListRoom.addPage(_target);
                    }
                    _comp.setup(_item, _index);
                  });
                  _duraion = 0.25;
                  tween(this._pageViewListOPX).to(_duraion, {
                    opacity: 255
                  }).start();
                  pAsyncUtils.wait(_duraion);
                  this.selfLoading.active = false;
                case 20:
                case "end":
                  return _context8.stop();
              }
            }, _callee8, this);
          }));
          function _actRefreshListRoom(_x6) {
            return _actRefreshListRoom2.apply(this, arguments);
          }
          return _actRefreshListRoom;
        }();
        _proto.openTable = function openTable(isOpen) {
          //this.widgetListRoom.active = !isOpen;
          this.btnBackToMain.node.active = !isOpen;
          this.lblSmallBig.active = !isOpen;
          //this.btnSmallBigDropdown.node.active = !isOpen;
          this.lblMinMaxBuyIn.active = !isOpen;
          //this.btnMinMaxBuyInDropDown.node.active = !isOpen;

          this.widgetTable.active = isOpen;
          this.btnClosePTTable.node.active = isOpen;
        };
        _createClass(UIPTYard, [{
          key: "currentChip",
          get: function get() {
            return this._currentChip;
          },
          set: function set(v) {
            this.lblChip.string = pStringUtils.formatMoneyWithDot(v);
            this._currentChip = v;
          }
        }, {
          key: "currentCoin",
          get: function get() {
            return this._currentCoin;
          },
          set: function set(v) {
            this.lblGold.string = pStringUtils.formatMoneyWithDot(v);
            this._currentCoin = v;
          }
        }]);
        return UIPTYard;
      }(UIBase), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "selfLoading", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "btnBackToMain", [_dec3, _dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "lblSmallBig", [_dec5, _dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "lblMinMaxBuyIn", [_dec7, _dec8], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "btnSortBySbToBb", [_dec9, _dec10], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, "btnSortByMinToMax", [_dec11, _dec12], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor7 = _applyDecoratedDescriptor(_class2.prototype, "clSorted", [_dec13], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return color(255, 255, 255, 255);
        }
      }), _descriptor8 = _applyDecoratedDescriptor(_class2.prototype, "clUnSorted", [_dec14], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return color(255, 255, 0, 255);
        }
      }), _descriptor9 = _applyDecoratedDescriptor(_class2.prototype, "roomLevelTC", [_dec15, _dec16], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor10 = _applyDecoratedDescriptor(_class2.prototype, "btnRoomType", [_dec17, _dec18], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor11 = _applyDecoratedDescriptor(_class2.prototype, "btnAddChip", [_dec19, _dec20], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor12 = _applyDecoratedDescriptor(_class2.prototype, "lblChip", [_dec21, _dec22], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor13 = _applyDecoratedDescriptor(_class2.prototype, "btnAddGold", [_dec23, _dec24], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor14 = _applyDecoratedDescriptor(_class2.prototype, "lblGold", [_dec25, _dec26], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor15 = _applyDecoratedDescriptor(_class2.prototype, "btnClosePTTable", [_dec27, _dec28], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor16 = _applyDecoratedDescriptor(_class2.prototype, "btnPrivateRoom", [_dec29, _dec30], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor17 = _applyDecoratedDescriptor(_class2.prototype, "btnRoomSearch", [_dec31, _dec32], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor18 = _applyDecoratedDescriptor(_class2.prototype, "btnOtherRoomType", [_dec33, _dec34], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor19 = _applyDecoratedDescriptor(_class2.prototype, "btnSelectTable", [_dec35, _dec36], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor20 = _applyDecoratedDescriptor(_class2.prototype, "pgViewListRoom", [_dec37, _dec38], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor21 = _applyDecoratedDescriptor(_class2.prototype, "btnNextPage", [_dec39, _dec40], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor22 = _applyDecoratedDescriptor(_class2.prototype, "btnPrevPage", [_dec41, _dec42], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor23 = _applyDecoratedDescriptor(_class2.prototype, "pageRoomPrefab", [_dec43, _dec44], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor24 = _applyDecoratedDescriptor(_class2.prototype, "widgetListRoom", [_dec45, _dec46], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor25 = _applyDecoratedDescriptor(_class2.prototype, "widgetTable", [_dec47, _dec48], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor26 = _applyDecoratedDescriptor(_class2.prototype, "empty", [_dec49, _dec50], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor27 = _applyDecoratedDescriptor(_class2.prototype, "blocker", [_dec51], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIPurchasedShopPage.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIShopPage.ts', './ResponeCode.ts', './UIItemPurchased.ts', './ShopCommand.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, cclegacy, _decorator, ScrollView, Prefab, instantiate, UIShopPage, ResponseCode, UIItemPurchased, request;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      ScrollView = module.ScrollView;
      Prefab = module.Prefab;
      instantiate = module.instantiate;
    }, function (module) {
      UIShopPage = module.UIShopPage;
    }, function (module) {
      ResponseCode = module.ResponseCode;
    }, function (module) {
      UIItemPurchased = module.UIItemPurchased;
    }, function (module) {
      request = module.default;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _class, _class2, _descriptor, _descriptor2;
      cclegacy._RF.push({}, "512d8tW+jpAwKk4BsDFMDeL", "UIPurchasedShopPage", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var UIPurchasedShopPage = exports('UIPurchasedShopPage', (_dec = ccclass('UIPurchasedShopPage'), _dec2 = property(ScrollView), _dec3 = property(Prefab), _dec(_class = (_class2 = /*#__PURE__*/function (_UIShopPage) {
        _inheritsLoose(UIPurchasedShopPage, _UIShopPage);
        function UIPurchasedShopPage() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIShopPage.call.apply(_UIShopPage, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "scrView", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "itemPrefabs", _descriptor2, _assertThisInitialized(_this));
          return _this;
        }
        var _proto = UIPurchasedShopPage.prototype;
        _proto.init = function init(_data) {
          var _this2 = this;
          this.scrView.content.removeAllChildren();
          request('getPurchaseHistory', {
            offset: 0
          }).then(function (rs) {
            if (rs.code === ResponseCode.SUCCESS) {
              rs.data.forEach(function (d) {
                var c_node = instantiate(_this2.itemPrefabs);
                _this2.scrView.content.addChild(c_node);
                c_node.getComponent(UIItemPurchased).initData(d);
              });
            }
          });
        };
        return UIPurchasedShopPage;
      }(UIShopPage), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "scrView", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "itemPrefabs", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIQuickChat.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './MultiLanguage.ts', './GlobalConfig.ts', './ResponeCode.ts', './UINotice.ts', './ChatCommand.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, cclegacy, _decorator, Button, Component, MultiLanguage, GlobalConfig, ResponseCode, UINotice, request;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Button = module.Button;
      Component = module.Component;
    }, function (module) {
      MultiLanguage = module.default;
    }, function (module) {
      GlobalConfig = module.default;
    }, function (module) {
      ResponseCode = module.ResponseCode;
    }, function (module) {
      UINotice = module.UINotice;
    }, function (module) {
      request = module.default;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _class, _class2, _descriptor, _descriptor2, _class3;
      cclegacy._RF.push({}, "68319NuUkdDJ4R8NuJwZ1nf", "UIQuickChat", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var UIQuickChat = exports('UIQuickChat', (_dec = ccclass('UIQuickChat'), _dec2 = property(Button), _dec3 = property(MultiLanguage), _dec(_class = (_class2 = (_class3 = /*#__PURE__*/function (_Component) {
        _inheritsLoose(UIQuickChat, _Component);
        function UIQuickChat() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _Component.call.apply(_Component, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "click", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lang", _descriptor2, _assertThisInitialized(_this));
          return _this;
        }
        var _proto = UIQuickChat.prototype;
        _proto.onLoad = function onLoad() {
          var _this$click;
          (_this$click = this.click) != null ? _this$click : this.click = this.getComponent(Button);
          this.click.node.on(Button.EventType.CLICK, this._actQuickChat, this);
        };
        _proto._actQuickChat = function _actQuickChat() {
          var _this2 = this;
          this.click.interactable = false;
          var onSuccess = function onSuccess(msg) {
            switch (msg.code) {
              case ResponseCode.ERROR:
                {
                  _this2.click.interactable = true;
                  UINotice.instance.show('txt_title', msg.error, 'txt_btn_confirm2');
                  break;
                }
              case ResponseCode.SUCCESS:
                {
                  _this2.click.interactable = true;
                  break;
                }
            }
            GlobalConfig.instance.eventTarget.emit(UIQuickChat.CLOSE_ON_CLICK_QUICK_CHAT);
          };
          var chat = {
            content: this.lang.getTxt(),
            target: 'table'
          };
          request('sendMessage', chat, {
            onSuccess: onSuccess
          });
        };
        return UIQuickChat;
      }(Component), _class3.CLOSE_ON_CLICK_QUICK_CHAT = "CLOSE_ON_CLICK_QUICK_CHAT", _class3), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "click", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "lang", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIRank.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts', './Enums.ts', './UIRankItem.ts', './LanguageManager.ts', './ResponeCode.ts', './EngineManager.ts', './StringUtils.ts', './MiniLoading.ts', './LeaderBoardCommand.ts'], function (exports) {
  var _applyDecoratedDescriptor, _initializerDefineProperty, _inheritsLoose, _assertThisInitialized, _createForOfIteratorHelperLoose, cclegacy, _decorator, Enum, ToggleContainer, Node, RichText, ScrollView, Prefab, instantiate, UIBase, ERankType, ERankRegion, UIRankItem, LanguageMananger, ResponseCode, pEngineManager, pStringUtils, MiniLoading, request;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _initializerDefineProperty = module.initializerDefineProperty;
      _inheritsLoose = module.inheritsLoose;
      _assertThisInitialized = module.assertThisInitialized;
      _createForOfIteratorHelperLoose = module.createForOfIteratorHelperLoose;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Enum = module.Enum;
      ToggleContainer = module.ToggleContainer;
      Node = module.Node;
      RichText = module.RichText;
      ScrollView = module.ScrollView;
      Prefab = module.Prefab;
      instantiate = module.instantiate;
    }, function (module) {
      UIBase = module.UIBase;
    }, function (module) {
      ERankType = module.ERankType;
      ERankRegion = module.ERankRegion;
    }, function (module) {
      UIRankItem = module.UIRankItem;
    }, function (module) {
      LanguageMananger = module.LanguageMananger;
    }, function (module) {
      ResponseCode = module.ResponseCode;
    }, function (module) {
      pEngineManager = module.pEngineManager;
    }, function (module) {
      pStringUtils = module.pStringUtils;
    }, function (module) {
      MiniLoading = module.MiniLoading;
    }, function (module) {
      request = module.default;
    }],
    execute: function () {
      var _dec, _dec2, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _dec11, _dec12, _dec13, _dec14, _dec15, _dec16, _dec17, _dec18, _dec19, _dec20, _dec21, _dec22, _dec23, _dec24, _dec25, _dec26, _dec27, _dec28, _dec29, _dec30, _dec31, _dec32, _dec33, _dec34, _dec35, _dec36, _dec37, _dec38, _dec39, _class4, _class5, _descriptor8, _descriptor9, _descriptor10, _descriptor11, _descriptor12, _descriptor13, _descriptor14, _descriptor15, _descriptor16, _descriptor17, _descriptor18, _descriptor19, _descriptor20, _descriptor21, _descriptor22, _descriptor23, _descriptor24, _descriptor25, _descriptor26;
      cclegacy._RF.push({}, "9faa0cbTnBOAqPGurjsO6nR", "UIRank", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property,
        type = _decorator.type;
      Enum(ERankType);
      var RankItemData = exports('RankItemData', (_dec = ccclass('RankItemData'), _dec2 = type(ERankType), _dec(_class = (_class2 = function RankItemData() {
        _initializerDefineProperty(this, "rankType", _descriptor, this);
        this.uid = void 0;
        _initializerDefineProperty(this, "rankNumber", _descriptor2, this);
        _initializerDefineProperty(this, "avatarUrl", _descriptor3, this);
        _initializerDefineProperty(this, "isOnline", _descriptor4, this);
        _initializerDefineProperty(this, "playerName", _descriptor5, this);
        _initializerDefineProperty(this, "value", _descriptor6, this);
        _initializerDefineProperty(this, "isRankUp", _descriptor7, this);
      }, (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "rankType", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return ERankType.CHIP;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "rankNumber", [property], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return 0;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "avatarUrl", [property], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return '';
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "isOnline", [property], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return false;
        }
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "playerName", [property], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return '';
        }
      }), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, "value", [property], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return 0;
        }
      }), _descriptor7 = _applyDecoratedDescriptor(_class2.prototype, "isRankUp", [property], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return false;
        }
      })), _class2)) || _class));
      var UIRank = exports('UIRank', (_dec3 = ccclass('UIRank'), _dec4 = property({
        group: {
          name: 'Common',
          id: 'Common',
          displayOrder: 0
        }
      }), _dec5 = type(ToggleContainer), _dec6 = property({
        group: {
          name: 'Common',
          id: 'Common'
        }
      }), _dec7 = type(ToggleContainer), _dec8 = property({
        group: {
          name: 'Common',
          id: 'Common'
        }
      }), _dec9 = type(Node), _dec10 = property({
        group: {
          name: 'Common',
          id: 'Common'
        }
      }), _dec11 = type(Node), _dec12 = property({
        group: {
          name: 'Common',
          id: 'Common'
        }
      }), _dec13 = type(Node), _dec14 = property({
        group: {
          name: 'Common',
          id: 'Common'
        }
      }), _dec15 = type(Node), _dec16 = property({
        group: {
          name: 'Common',
          id: 'Common'
        }
      }), _dec17 = type(Node), _dec18 = property({
        group: {
          name: 'Common',
          id: 'Common'
        }
      }), _dec19 = type(RichText), _dec20 = property({
        group: {
          name: 'Common',
          id: 'Common'
        }
      }), _dec21 = type(ScrollView), _dec22 = property({
        group: {
          name: 'Common',
          id: 'Common'
        }
      }), _dec23 = type(ScrollView), _dec24 = property({
        group: {
          name: 'Common',
          id: 'Common'
        }
      }), _dec25 = type(ScrollView), _dec26 = property({
        group: {
          name: 'Common',
          id: 'Common'
        }
      }), _dec27 = type(ScrollView), _dec28 = property({
        group: {
          name: 'Common',
          id: 'Common'
        }
      }), _dec29 = type(Prefab), _dec30 = property({
        group: {
          name: 'Chip Data',
          id: 'Data',
          displayOrder: 3
        }
      }), _dec31 = type([RankItemData]), _dec32 = property({
        group: {
          name: 'Level Data',
          id: 'Data'
        }
      }), _dec33 = type([RankItemData]), _dec34 = property({
        group: {
          name: 'Achievement Data',
          id: 'Data'
        }
      }), _dec35 = type([RankItemData]), _dec36 = property({
        group: {
          name: 'Strength Data',
          id: 'Data'
        }
      }), _dec37 = type([RankItemData]), _dec38 = property(Node), _dec39 = property(MiniLoading), _dec3(_class4 = (_class5 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UIRank, _UIBase);
        function UIRank() {
          var _this$_data;
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          // group: common
          _initializerDefineProperty(_this, "typeGroupTC", _descriptor8, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "typeRankTC", _descriptor9, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "statusMyRankNode", _descriptor10, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "rankChipNode", _descriptor11, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "rankLevelNode", _descriptor12, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "rankAchievementNode", _descriptor13, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "rankStrengthNode", _descriptor14, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "rtxMyRank", _descriptor15, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "scrViewRankChipItems", _descriptor16, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "scrViewRankLevelItems", _descriptor17, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "scrViewRankAchievementItems", _descriptor18, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "scrViewRankStrengthItems", _descriptor19, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "rankItemPrefab", _descriptor20, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "rankChipData", _descriptor21, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "rankLevelData", _descriptor22, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "rankAchievementData", _descriptor23, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "rankStrengthData", _descriptor24, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "emptyNoticeNode", _descriptor25, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "loading", _descriptor26, _assertThisInitialized(_this));
          _this._region = ERankRegion.GLOBAL;
          _this._type = ERankType.CHIP;
          _this.playerGlobalData = {
            CHIPS: null,
            LEVEL: null,
            BADGES: null
          };
          _this.playerFriendsData = {
            CHIPS: null,
            LEVEL: null,
            BADGES: null
          };
          _this._data = (_this$_data = {}, _this$_data[ERankRegion.GLOBAL] = [], _this$_data[ERankRegion.FRIEND] = [], _this$_data);
          return _this;
        }
        var _proto = UIRank.prototype;
        _proto._onStart = function _onStart() {
          this.addToggleContainerEvent(this.typeGroupTC, this.onTypeGroupChanged, this);
          this.addToggleContainerEvent(this.typeRankTC, this.onTypeRankChanged, this);
        };
        _proto._onOpen = function _onOpen() {
          var _this2 = this;
          this.loading.show();
          Promise.all([this._actLoadPlayerData('CHIPS'), this._actLoadPlayerData('LEVEL'), this._actLoadPlayerData('BADGES')]).then(function () {
            return _this2.goToRankRegion(_this2._region);
          })["catch"](function (err) {
            return pEngineManager.error("Load player rank data", err);
          })["finally"](function () {
            return _this2.loading.close();
          });
        };
        _proto._actLoadPlayerData = function _actLoadPlayerData(type) {
          var _this3 = this;
          return new Promise(function (rs, rj) {
            request('getPlayerRanking', {
              type: type,
              limit: 50
            }).then(function (_res) {
              if (_res.code === ResponseCode.SUCCESS) {
                _this3.playerGlobalData[type] = _res.data.GLOBAL.data;
                _this3.playerFriendsData[type] = _res.data.FRIENDS.data;
              }
              rs();
            })["catch"](rj);
          });
        };
        _proto.onTypeGroupChanged = function onTypeGroupChanged(numIndex) {
          this.goToRankRegion(numIndex);
        };
        _proto.goToRankRegion = function goToRankRegion(rankRegion) {
          this._region = rankRegion;
          this.goToRankType(this._type);
        };
        _proto.onTypeRankChanged = function onTypeRankChanged(numIndex) {
          this.goToRankType(numIndex);
        };
        _proto.getLeaderboardRankType = function getLeaderboardRankType(rankType) {
          switch (rankType) {
            case ERankType.CHIP:
              return 'CHIPS';
            case ERankType.LEVEL:
              return 'LEVEL';
            case ERankType.ACHIEVEMENT:
              return 'BADGES';
            default:
              return undefined;
          }
        };
        _proto.goToRankType = function goToRankType(rankType) {
          var _this4 = this;
          this.cleanScrollUI(rankType);
          this._type = rankType;
          this.rankChipNode.active = rankType === ERankType.CHIP;
          this.rankLevelNode.active = rankType === ERankType.LEVEL;
          this.rankAchievementNode.active = rankType === ERankType.ACHIEVEMENT;
          this.rankStrengthNode.active = rankType === ERankType.STRENGTH;
          var type = this.getLeaderboardRankType(rankType);
          if (!type) {
            //this.statusMyRankNode.active = false;
            this.loadRankData(rankType, []);
            return;
          }
          this.loading.show();
          request('getLeaderboards', {
            type: type
          }).then(function (rs) {
            if (rs.code === ResponseCode.SUCCESS) {
              _this4._data[ERankRegion.GLOBAL] = rs.data.GLOBAL;
              _this4._data[ERankRegion.FRIEND] = rs.data.FRIENDS;
              //if (this._region === ERankRegion.GLOBAL) {
              //    data = rs.data.GLOBAL;
              //}
              //else if (this._region === ERankRegion.FRIEND) {
              //    data = rs.data.FRIENDS;
              //}
              _this4.loadRankData(rankType, _this4._data[_this4._region]);
            }
          })["catch"](function (err) {
            console.error("Failed to load leaderboard type " + type, err);
          })["finally"](function () {
            _this4.updateStatusPlayer(type);
            _this4.loading.close();
          });
        };
        _proto._find = function _find(player) {
          var _list = this._data[this._region];
          var _current = _list.find(function (_p) {
            return _p.player_id === player.player_id;
          });
          if (!_current) return {
            needed: null,
            target: null
          };
          var _tied = [];
          for (var _iterator = _createForOfIteratorHelperLoose(_list), _step; !(_step = _iterator()).done;) {
            var p = _step.value;
            if (p.rank >= _current.rank) break;
            if (p.value === _current.value) {
              _tied.push(p);
            }
          }
          if (_tied.length > 0) {
            var _highest = _tied[0].rank;
            return {
              needed: _current.value + 1,
              target: _highest
            };
          }
          return {
            needed: null,
            target: null
          };
        };
        _proto.updateStatusPlayer = function updateStatusPlayer(type) {
          var playerData = this._region === ERankRegion.FRIEND ? this.playerFriendsData[type] : this.playerGlobalData[type];
          var is = playerData && typeof playerData !== 'string';
          if (!is) {
            this.rtxMyRank.string = LanguageMananger.getString('dynamic_rich_no_rank');
            return;
          }
          var rank = playerData.rank;
          var _is = this._region === ERankRegion.GLOBAL;
          if (rank > 1) {
            var _this$_find = this._find(playerData),
              target = _this$_find.target;
            var _targetRank = rank <= 30 && target ? target : 30;
            var valueNeed = 0;
            var valueType = '';
            switch (this._type) {
              case ERankType.CHIP:
                {
                  var _target = this.rankChipData[_targetRank - 1];
                  valueNeed = _target ? _target.value - playerData.value : 0;
                  valueType = LanguageMananger.getString('txt_chips_view');
                  break;
                }
              case ERankType.LEVEL:
                {
                  var _target2 = this.rankLevelData[_targetRank - 1];
                  valueNeed = _target2 ? _target2.value - playerData.value + 1 : 0;
                  valueType = LanguageMananger.getString('txt_btn_level');
                  break;
                }
              case ERankType.ACHIEVEMENT:
                {
                  var _target3 = this.rankAchievementData[_targetRank - 1];
                  valueNeed = _target3 ? _target3.value - playerData.value + 1 : 0;
                  valueType = LanguageMananger.getString('txt_btn_achievement');
                  break;
                }
            }
            this.rtxMyRank.string = LanguageMananger.getString({
              key: _is ? 'dynamic_rich_your_rank' : "dynamic_rich_your_friend_rank",
              replacers: [{
                find: "@rank",
                replacer: "" + rank
              }, {
                find: "@req",
                replacer: pStringUtils.formatMoneyWithDot(valueNeed)
              }, {
                find: "@target",
                replacer: "" + _targetRank
              }, {
                find: "@type",
                replacer: valueType
              }]
            });
          } else {
            this.rtxMyRank.string = LanguageMananger.getString('txt_ranking_highest');
          }
        };
        _proto.loadRankData = function loadRankData(type, data) {
          // if ()
          this.emptyNoticeNode.active = data.length === 0;
          var list = [];
          data.forEach(function (rankData) {
            list.push({
              uid: rankData.player_id,
              avatarUrl: rankData.avatar,
              isOnline: false,
              isRankUp: rankData.rank_change_status === 'UP',
              playerName: rankData.display_name,
              rankNumber: rankData.rank,
              rankType: type,
              value: rankData.value
            });
          });
          switch (type) {
            case ERankType.CHIP:
              this.rankChipData = list;
              break;
            case ERankType.LEVEL:
              this.rankLevelData = list;
              break;
            case ERankType.ACHIEVEMENT:
              this.rankAchievementData = list;
              break;
            case ERankType.STRENGTH:
              this.rankStrengthData = [];
              break;
          }
          this.refreshScrollUI(type);
        };
        _proto.refreshScrollUI = function refreshScrollUI(type) {
          var _this5 = this;
          switch (type) {
            case ERankType.CHIP:
              this.rankChipData.forEach(function (data) {
                var item = instantiate(_this5.rankItemPrefab);
                _this5.scrViewRankChipItems.content.addChild(item);
                item.getComponent(UIRankItem).init(data);
              });
              break;
            case ERankType.LEVEL:
              this.rankLevelData.forEach(function (data) {
                var item = instantiate(_this5.rankItemPrefab);
                _this5.scrViewRankLevelItems.content.addChild(item);
                item.getComponent(UIRankItem).init(data);
              });
              break;
            case ERankType.ACHIEVEMENT:
              this.rankAchievementData.forEach(function (data) {
                var item = instantiate(_this5.rankItemPrefab);
                _this5.scrViewRankAchievementItems.content.addChild(item);
                item.getComponent(UIRankItem).init(data);
              });
              break;
          }
        };
        _proto.cleanScrollUI = function cleanScrollUI(type) {
          switch (type) {
            case ERankType.CHIP:
              this.scrViewRankChipItems.content.removeAllChildren();
              break;
            case ERankType.LEVEL:
              this.scrViewRankLevelItems.content.removeAllChildren();
              break;
            case ERankType.ACHIEVEMENT:
              this.scrViewRankAchievementItems.content.removeAllChildren();
              break;
            case ERankType.STRENGTH:
              this.scrViewRankStrengthItems.content.removeAllChildren();
              break;
          }
        };
        return UIRank;
      }(UIBase), (_descriptor8 = _applyDecoratedDescriptor(_class5.prototype, "typeGroupTC", [_dec4, _dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor9 = _applyDecoratedDescriptor(_class5.prototype, "typeRankTC", [_dec6, _dec7], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor10 = _applyDecoratedDescriptor(_class5.prototype, "statusMyRankNode", [_dec8, _dec9], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor11 = _applyDecoratedDescriptor(_class5.prototype, "rankChipNode", [_dec10, _dec11], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor12 = _applyDecoratedDescriptor(_class5.prototype, "rankLevelNode", [_dec12, _dec13], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor13 = _applyDecoratedDescriptor(_class5.prototype, "rankAchievementNode", [_dec14, _dec15], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor14 = _applyDecoratedDescriptor(_class5.prototype, "rankStrengthNode", [_dec16, _dec17], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor15 = _applyDecoratedDescriptor(_class5.prototype, "rtxMyRank", [_dec18, _dec19], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor16 = _applyDecoratedDescriptor(_class5.prototype, "scrViewRankChipItems", [_dec20, _dec21], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor17 = _applyDecoratedDescriptor(_class5.prototype, "scrViewRankLevelItems", [_dec22, _dec23], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor18 = _applyDecoratedDescriptor(_class5.prototype, "scrViewRankAchievementItems", [_dec24, _dec25], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor19 = _applyDecoratedDescriptor(_class5.prototype, "scrViewRankStrengthItems", [_dec26, _dec27], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor20 = _applyDecoratedDescriptor(_class5.prototype, "rankItemPrefab", [_dec28, _dec29], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor21 = _applyDecoratedDescriptor(_class5.prototype, "rankChipData", [_dec30, _dec31], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return [];
        }
      }), _descriptor22 = _applyDecoratedDescriptor(_class5.prototype, "rankLevelData", [_dec32, _dec33], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return [];
        }
      }), _descriptor23 = _applyDecoratedDescriptor(_class5.prototype, "rankAchievementData", [_dec34, _dec35], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return [];
        }
      }), _descriptor24 = _applyDecoratedDescriptor(_class5.prototype, "rankStrengthData", [_dec36, _dec37], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return [];
        }
      }), _descriptor25 = _applyDecoratedDescriptor(_class5.prototype, "emptyNoticeNode", [_dec38], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor26 = _applyDecoratedDescriptor(_class5.prototype, "loading", [_dec39], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class5)) || _class4));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIRankItem.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './Enums.ts', './StringUtils.ts', './GameManager.ts', './UIController.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _asyncToGenerator, _regeneratorRuntime, cclegacy, _decorator, Toggle, Sprite, Label, SpriteFrame, Component, ERankType, UIType, pStringUtils, GameManager, UIController;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Toggle = module.Toggle;
      Sprite = module.Sprite;
      Label = module.Label;
      SpriteFrame = module.SpriteFrame;
      Component = module.Component;
    }, function (module) {
      ERankType = module.ERankType;
      UIType = module.UIType;
    }, function (module) {
      pStringUtils = module.pStringUtils;
    }, function (module) {
      GameManager = module.GameManager;
    }, function (module) {
      UIController = module.UIController;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _dec11, _dec12, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9, _descriptor10, _descriptor11;
      cclegacy._RF.push({}, "82820ccNIxN9YI3yVXSOHs5", "UIRankItem", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property,
        type = _decorator.type;
      var UIRankItem = exports('UIRankItem', (_dec = ccclass('UIRankItem'), _dec2 = type(Toggle), _dec3 = type(Sprite), _dec4 = type(Label), _dec5 = type(Sprite), _dec6 = type(Label), _dec7 = type(Sprite), _dec8 = type(Label), _dec9 = type(Label), _dec10 = type(Sprite), _dec11 = property({
        group: "SpriteFrame"
      }), _dec12 = type([SpriteFrame]), _dec(_class = (_class2 = /*#__PURE__*/function (_Component) {
        _inheritsLoose(UIRankItem, _Component);
        function UIRankItem() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _Component.call.apply(_Component, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "data", _descriptor, _assertThisInitialized(_this));
          // @type(Sprite) bg: Sprite = null;
          _initializerDefineProperty(_this, "toggleStatus", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "iconRankTop123", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lblRank", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "imgAvatar", _descriptor5, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lblPlayerName", _descriptor6, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "iconChip", _descriptor7, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbLevel", _descriptor8, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lblValue", _descriptor9, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "iconRankUp", _descriptor10, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "iconRank123s", _descriptor11, _assertThisInitialized(_this));
          return _this;
        }
        var _proto = UIRankItem.prototype;
        // @property({group: "SpriteFrame"})
        // @type([SpriteFrame]) bgs: SpriteFrame[] = [];
        _proto.init = function init(data) {
          this.data = data;
          this.toggleStatus.isChecked = data.isOnline;
          this.iconRankTop123.node.active = data.rankNumber <= 3;
          this.lblRank.node.active = data.rankNumber > 3;
          if (data.rankNumber <= 3) {
            this.iconRankTop123.spriteFrame = this.iconRank123s[data.rankNumber - 1];
            // this.bg.spriteFrame = this.bgs[0];
          } else {
            this.lblRank.string = pStringUtils.addSpaceHeadTail(data.rankNumber.toString());
            // this.bg.spriteFrame = this.bgs[1];
          }

          this.lblPlayerName.string = pStringUtils.addSpaceHeadTail(data.playerName);
          this.lblValue.string = pStringUtils.addSpaceHeadTail(pStringUtils.formatNumberWithDot2(data.value));
          this.iconChip.node.active = data.rankType == ERankType.CHIP;
          this.lbLevel.node.active = data.rankType === ERankType.LEVEL;
          this.iconRankUp.node.active = data.isRankUp;
          GameManager.Instance.setAvatar(data.avatarUrl, this.imgAvatar);
        };
        _proto.onClick = /*#__PURE__*/function () {
          var _onClick = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {
            var _ui;
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  _context.next = 2;
                  return UIController.Instance.open(UIType.RANK_PLAYER_INFO, true, true);
                case 2:
                  _ui = _context.sent;
                  _ui == null || _ui.init(this);
                case 4:
                case "end":
                  return _context.stop();
              }
            }, _callee, this);
          }));
          function onClick() {
            return _onClick.apply(this, arguments);
          }
          return onClick;
        }();
        return UIRankItem;
      }(Component), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "data", [property], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "toggleStatus", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "iconRankTop123", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "lblRank", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "imgAvatar", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, "lblPlayerName", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor7 = _applyDecoratedDescriptor(_class2.prototype, "iconChip", [_dec7], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor8 = _applyDecoratedDescriptor(_class2.prototype, "lbLevel", [_dec8], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor9 = _applyDecoratedDescriptor(_class2.prototype, "lblValue", [_dec9], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor10 = _applyDecoratedDescriptor(_class2.prototype, "iconRankUp", [_dec10], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor11 = _applyDecoratedDescriptor(_class2.prototype, "iconRank123s", [_dec11, _dec12], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return [];
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIRankPlayerInfo.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts', './ResponeCode.ts', './StringUtils.ts', './LanguageManager.ts', './IGameCommand.ts', './EventManager.ts', './UINotice.ts', './MiniLoading.ts', './Decorators.ts', './FriendManager.ts', './UserCommand.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _asyncToGenerator, _regeneratorRuntime, cclegacy, _decorator, Sprite, Label, Node, Button, UIBase, ResponseCode, pStringUtils, LanguageMananger, NSGameCMD, pEventManager, UINotice, MiniLoading, pDecorators, NSFriendManager, request;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Sprite = module.Sprite;
      Label = module.Label;
      Node = module.Node;
      Button = module.Button;
    }, function (module) {
      UIBase = module.UIBase;
    }, function (module) {
      ResponseCode = module.ResponseCode;
    }, function (module) {
      pStringUtils = module.pStringUtils;
    }, function (module) {
      LanguageMananger = module.LanguageMananger;
    }, function (module) {
      NSGameCMD = module.NSGameCMD;
    }, function (module) {
      pEventManager = module.pEventManager;
    }, function (module) {
      UINotice = module.UINotice;
    }, function (module) {
      MiniLoading = module.MiniLoading;
    }, function (module) {
      pDecorators = module.pDecorators;
    }, function (module) {
      NSFriendManager = module.NSFriendManager;
    }, function (module) {
      request = module.default;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _dec11, _dec12, _dec13, _dec14, _dec15, _dec16, _dec17, _dec18, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9, _descriptor10, _descriptor11, _descriptor12, _descriptor13, _descriptor14, _descriptor15, _descriptor16, _descriptor17;
      cclegacy._RF.push({}, "61f67hzHQlBcJdPMKV2tl4i", "UIRankPlayerInfo", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var UIRankPlayerInfo = exports('UIRankPlayerInfo', (_dec = ccclass('UIRankPlayerInfo'), _dec2 = property(Sprite), _dec3 = property(Sprite), _dec4 = property(Label), _dec5 = property(Label), _dec6 = property(Label), _dec7 = property(Label), _dec8 = property(Label), _dec9 = property(Label), _dec10 = property(Label), _dec11 = property(Label), _dec12 = property(Label), _dec13 = property(Node), _dec14 = property(Label), _dec15 = property(Button), _dec16 = property(Button), _dec17 = property(Button), _dec18 = property(MiniLoading), _dec(_class = (_class2 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UIRankPlayerInfo, _UIBase);
        function UIRankPlayerInfo() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "spAvatar", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "spGender", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbPlayerName", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbUID", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbChips", _descriptor5, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbRank", _descriptor6, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbWinRate", _descriptor7, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbLevel", _descriptor8, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbTableTitle", _descriptor9, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbTableChips", _descriptor10, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbTableType", _descriptor11, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "nodeTableState", _descriptor12, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbUserNotInTable", _descriptor13, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnAddFriend", _descriptor14, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnBet", _descriptor15, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnGiveGift", _descriptor16, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "loading", _descriptor17, _assertThisInitialized(_this));
          // @property(Button)
          // btnRemove: Button = null;
          _this._data = null;
          _this.friendType = -1;
          return _this;
        }
        var _proto = UIRankPlayerInfo.prototype;
        _proto.init = /*#__PURE__*/function () {
          var _init = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(_data) {
            var _this$_data, imgAvatar, data, playerName, rankNumber, isOnline, uid, _res, code, info, player_info, table_info, balance, win_rate, level, zone, _roomNameType;
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  this._data = _data;
                  if (this._data) {
                    _context.next = 3;
                    break;
                  }
                  return _context.abrupt("return");
                case 3:
                  _this$_data = this._data, imgAvatar = _this$_data.imgAvatar, data = _this$_data.data;
                  playerName = data.playerName, rankNumber = data.rankNumber, isOnline = data.isOnline, uid = data.uid;
                  this.loading.show();
                  this.spAvatar.spriteFrame = imgAvatar.spriteFrame;
                  this.lbPlayerName.string = playerName;
                  this.lbRank.string = rankNumber.toString();
                  if (!isOnline) this.nodeTableState.active = false;
                  this.nodeTableState.active = this.btnBet.interactable = isOnline;
                  this.lbUserNotInTable.node.active = !isOnline;
                  this.lbUserNotInTable.string = LanguageMananger.instance.getString('user_not_online');
                  _context.next = 15;
                  return request('viewPlayerInfo', {
                    uid: uid
                  });
                case 15:
                  _res = _context.sent;
                  code = _res.code;
                  _context.t0 = code;
                  _context.next = _context.t0 === ResponseCode.SUCCESS ? 20 : _context.t0 === ResponseCode.ERROR ? 28 : 28;
                  break;
                case 20:
                  info = _res.data;
                  player_info = info.player_info, table_info = info.table_info;
                  balance = player_info.balance, win_rate = player_info.win_rate, level = player_info.level;
                  this.lbChips.string = pStringUtils.formatNumberKMB(balance);
                  this.lbWinRate.string = win_rate + "%";
                  this.lbLevel.string = level.toString();
                  if (table_info) {
                    zone = table_info.zone;
                    _roomNameType = zone === 'TS' ? LanguageMananger.instance.getString('txt_title_room_basic') : zone === 'TC' ? LanguageMananger.instance.getString('txt_title_room_middle') : LanguageMananger.instance.getString('txt_title_room_high_level');
                    this.lbTableTitle.string = _roomNameType + ": ";
                    this.lbTableChips.string = pStringUtils.addSpaceHeadTail(pStringUtils.formatNumberKMB(Number(_res.data.table_info.minBuyIn)) + "/" + pStringUtils.formatNumberKMB(Number(table_info.maxBuyIn)));
                  } else if (isOnline) {
                    this.nodeTableState.active = this.btnBet.interactable = false;
                    this.lbUserNotInTable.string = LanguageMananger.instance.getString('player_not_on_table');
                  }
                  return _context.abrupt("break", 31);
                case 28:
                  UINotice.instance.show('txt_title', _res.error, 'txt_btn_confirm2');
                  this.warn("Error >> Get ViewPlayerInfo >>", _res.error);
                  return _context.abrupt("break", 31);
                case 31:
                  _context.next = 33;
                  return this._actReloadButtonState(uid);
                case 33:
                  this.loading.close();
                case 34:
                case "end":
                  return _context.stop();
              }
            }, _callee, this);
          }));
          function init(_x) {
            return _init.apply(this, arguments);
          }
          return init;
        }();
        _proto._actReloadButtonState = /*#__PURE__*/function () {
          var _actReloadButtonState2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(uid) {
            var _fm, _frs, _fr, type;
            return _regeneratorRuntime().wrap(function _callee2$(_context2) {
              while (1) switch (_context2.prev = _context2.next) {
                case 0:
                  _fm = pDecorators.instance(NSFriendManager.Handler);
                  _context2.next = 3;
                  return _fm.getFriend(NSGameCMD.UserHandler.GetFriends.EType.FRIEND);
                case 3:
                  _frs = _context2.sent;
                  _fr = _frs.find(function (_friend) {
                    return _friend.uid === uid;
                  });
                  if (_fr) {
                    _context2.next = 7;
                    break;
                  }
                  return _context2.abrupt("return");
                case 7:
                  type = _fr.type;
                  this.friendType = type;
                  this.btnAddFriend.node.active = type !== 1 && type !== 2;
                  this.btnGiveGift.node.active = type === 1 || type === 2;
                case 11:
                case "end":
                  return _context2.stop();
              }
            }, _callee2, this);
          }));
          function _actReloadButtonState(_x2) {
            return _actReloadButtonState2.apply(this, arguments);
          }
          return _actReloadButtonState;
        }();
        _proto.onEnable = function onEnable() {
          this._addClicker(this.btnAddFriend, this._actAddFriend, this);
          this._addClicker(this.btnBet, this.actionBet, this);
          this._addClicker(this.btnGiveGift, this.giveGift, this);
        };
        _proto.onDisable = function onDisable() {
          this._removeAllClickers(this.btnAddFriend);
          this._removeAllClickers(this.btnBet);
          this._removeAllClickers(this.btnGiveGift);
        };
        _proto.giveGift = function giveGift() {};
        _proto._actAddFriend = /*#__PURE__*/function () {
          var _actAddFriend2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {
            var res;
            return _regeneratorRuntime().wrap(function _callee3$(_context3) {
              while (1) switch (_context3.prev = _context3.next) {
                case 0:
                  _context3.next = 2;
                  return request('addFriend', {
                    fid: this._data.data.uid.toString()
                  });
                case 2:
                  res = _context3.sent;
                  if (res.code === ResponseCode.SUCCESS) {
                    this._actReloadButtonState(this._data.data.uid);
                    pEventManager.invoke('onAddFriendSuccess', this._data.data.uid);
                  }
                case 4:
                case "end":
                  return _context3.stop();
              }
            }, _callee3, this);
          }));
          function _actAddFriend() {
            return _actAddFriend2.apply(this, arguments);
          }
          return _actAddFriend;
        }();
        _proto._actRemoveFriend = /*#__PURE__*/function () {
          var _actRemoveFriend2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {
            var res, _res2, _res3;
            return _regeneratorRuntime().wrap(function _callee4$(_context4) {
              while (1) switch (_context4.prev = _context4.next) {
                case 0:
                  if (!(this.friendType === NSGameCMD.UserHandler.GetFriends.EType.BLACKLIST)) {
                    _context4.next = 6;
                    break;
                  }
                  _context4.next = 3;
                  return request('unBlockFriend', {
                    fid: this._data.data.uid.toString()
                  });
                case 3:
                  res = _context4.sent;
                  if (res.code === ResponseCode.SUCCESS) {
                    pEventManager.invoke('onUnBlockFriend', this._data.data.uid);
                    this._actReloadButtonState(this._data.data.uid);
                  }
                  return _context4.abrupt("return");
                case 6:
                  if (!(this.friendType === NSGameCMD.UserHandler.GetFriends.EType.FOLLOWING)) {
                    _context4.next = 11;
                    break;
                  }
                  _context4.next = 9;
                  return request('unAddFriend', {
                    fid: this._data.data.uid.toString()
                  });
                case 9:
                  _res2 = _context4.sent;
                  if (_res2.code === ResponseCode.SUCCESS) {
                    pEventManager.invoke('onUnAddFriend', this._data.data.uid);
                    this._actReloadButtonState(this._data.data.uid);
                  }
                case 11:
                  if (!(this.friendType === NSGameCMD.UserHandler.GetFriends.EType.FRIEND)) {
                    _context4.next = 16;
                    break;
                  }
                  _context4.next = 14;
                  return request('unFriend', {
                    fid: this._data.data.uid.toString()
                  });
                case 14:
                  _res3 = _context4.sent;
                  if (_res3.code === ResponseCode.SUCCESS) {
                    pEventManager.invoke('onDeleteFriend', this._data.data.uid);
                    this._actReloadButtonState(this._data.data.uid);
                  }
                case 16:
                case "end":
                  return _context4.stop();
              }
            }, _callee4, this);
          }));
          function _actRemoveFriend() {
            return _actRemoveFriend2.apply(this, arguments);
          }
          return _actRemoveFriend;
        }();
        _proto.actionBet = function actionBet() {};
        return UIRankPlayerInfo;
      }(UIBase), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "spAvatar", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "spGender", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "lbPlayerName", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "lbUID", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "lbChips", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, "lbRank", [_dec7], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor7 = _applyDecoratedDescriptor(_class2.prototype, "lbWinRate", [_dec8], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor8 = _applyDecoratedDescriptor(_class2.prototype, "lbLevel", [_dec9], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor9 = _applyDecoratedDescriptor(_class2.prototype, "lbTableTitle", [_dec10], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor10 = _applyDecoratedDescriptor(_class2.prototype, "lbTableChips", [_dec11], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor11 = _applyDecoratedDescriptor(_class2.prototype, "lbTableType", [_dec12], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor12 = _applyDecoratedDescriptor(_class2.prototype, "nodeTableState", [_dec13], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor13 = _applyDecoratedDescriptor(_class2.prototype, "lbUserNotInTable", [_dec14], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor14 = _applyDecoratedDescriptor(_class2.prototype, "btnAddFriend", [_dec15], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor15 = _applyDecoratedDescriptor(_class2.prototype, "btnBet", [_dec16], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor16 = _applyDecoratedDescriptor(_class2.prototype, "btnGiveGift", [_dec17], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor17 = _applyDecoratedDescriptor(_class2.prototype, "loading", [_dec18], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIRebuyPopup.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './Enums.ts', './UIBase.ts', './LanguageManager.ts', './StringUtils.ts', './MiniLoading.ts', './MTTCommand.ts', './ResponeCode.ts', './EventManager.ts', './AsyncUtils.ts', './NotifyToast.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _createClass, _asyncToGenerator, _regeneratorRuntime, cclegacy, _decorator, Label, Button, UIType, UIBase, LanguageMananger, pStringUtils, MiniLoading, request, ResponseCode, pEventManager, pAsyncUtils, NotifyToast;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _createClass = module.createClass;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Label = module.Label;
      Button = module.Button;
    }, function (module) {
      UIType = module.UIType;
    }, function (module) {
      UIBase = module.UIBase;
    }, function (module) {
      LanguageMananger = module.LanguageMananger;
    }, function (module) {
      pStringUtils = module.pStringUtils;
    }, function (module) {
      MiniLoading = module.MiniLoading;
    }, function (module) {
      request = module.default;
    }, function (module) {
      ResponseCode = module.ResponseCode;
    }, function (module) {
      pEventManager = module.pEventManager;
    }, function (module) {
      pAsyncUtils = module.pAsyncUtils;
    }, function (module) {
      NotifyToast = module.NotifyToast;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _dec11, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9, _descriptor10;
      cclegacy._RF.push({}, "e6959fwlkBFP6xBUN0L07CI", "UIRebuyPopup", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property,
        type = _decorator.type;
      var UIRebuyPopup = exports('UIRebuyPopup', (_dec = ccclass("UIRebuyPopup"), _dec2 = property({
        type: UIType,
        override: true,
        readonly: true
      }), _dec3 = type(Label), _dec4 = type(Label), _dec5 = type(Label), _dec6 = type(Label), _dec7 = type(Label), _dec8 = type(Button), _dec9 = type(Button), _dec10 = type(Label), _dec11 = type(MiniLoading), _dec(_class = (_class2 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UIRebuyPopup, _UIBase);
        function UIRebuyPopup() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "uiType", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbTitle", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbCup", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbRank", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbFee", _descriptor5, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbBuy", _descriptor6, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnConfirm", _descriptor7, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnCancel", _descriptor8, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbConfirm", _descriptor9, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "loading", _descriptor10, _assertThisInitialized(_this));
          _this._events = [['onMttRebuyCountdown', _this._onCountdown, _assertThisInitialized(_this)], ['onMttPlayerEliminated', _this.close, _assertThisInitialized(_this)]];
          _this._type = null;
          _this._tournament_id = 0;
          return _this;
        }
        var _proto = UIRebuyPopup.prototype;
        _proto._onLoad = function _onLoad() {
          this._addClickers([{
            target: this.btnConfirm,
            handlers: this._onConfirm
          }, {
            target: this.btnCancel,
            handlers: this._onCancel
          }]);
        };
        _proto._onOpen = function _onOpen(type, msg) {
          this._type = type;
          type === 'rebuy' ? this._onRebuy(msg) : this._onAddon(msg);
        };
        _proto._onRebuy = function _onRebuy(msg) {
          pEventManager.on(this._events);
          var _title = LanguageMananger.getString('txt_rebuy');
          var max_rebuys = msg.max_rebuys,
            current_rebuy_count = msg.current_rebuy_count,
            rebuy_cost = msg.rebuy_cost,
            rebuy_chips = msg.rebuy_chips,
            total_players = msg.total_players,
            current_rank = msg.current_rank,
            decision_timeout = msg.decision_timeout,
            tournament_id = msg.tournament_id;
          this._tournament_id = tournament_id;
          this.lbCup.string = current_rebuy_count + "/" + max_rebuys;
          this.lbTitle.string = _title;
          this.lbRank.string = current_rank + "/" + total_players;
          this.lbBuy.string = pStringUtils.formatMoneyWithDot(rebuy_chips);
          this.lbFee.string = pStringUtils.formatMoneyWithDot(rebuy_cost);
          this.lbConfirm.string = LanguageMananger.getString({
            key: 'txt_add_chips'
          }) + " ( " + Math.floor(decision_timeout) + " )";
        };
        _proto._onAddon = function _onAddon(msg) {
          var _this2 = this;
          var _title = LanguageMananger.getString('txt_addon');
          this.lbCup.string = '0';
          this.lbTitle.string = _title;
          var tournament_id = msg.tournament_id,
            current_rank = msg.current_rank,
            total_players = msg.total_players,
            addon_cost = msg.addon_cost,
            addon_chips = msg.addon_chips;
          this._tournament_id = tournament_id;
          this.lbRank.string = current_rank + "/" + total_players;
          this.lbBuy.string = pStringUtils.formatMoneyWithDot(addon_chips);
          this.lbFee.string = pStringUtils.formatMoneyWithDot(addon_cost);
          this.lbConfirm.string = LanguageMananger.getString({
            key: 'txt_add_chips'
          }) + " ( " + Math.floor(10) + " )";
          pAsyncUtils.countdown(10, 1, function (_left) {
            return _this2.lbConfirm.string = LanguageMananger.getString({
              key: 'txt_add_chips'
            }) + " ( " + Math.floor(_left) + " )";
          }).then(function () {
            return _this2.close(false, false);
          });
        };
        _proto._onClose = /*#__PURE__*/function () {
          var _onClose2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(isLeave) {
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  this._type = null;
                  if (!(this._type === 'addon')) {
                    _context.next = 4;
                    break;
                  }
                  return _context.abrupt("return");
                case 4:
                  pEventManager.off(this._events);
                case 6:
                case "end":
                  return _context.stop();
              }
            }, _callee, this);
          }));
          function _onClose(_x) {
            return _onClose2.apply(this, arguments);
          }
          return _onClose;
        }();
        _proto._onCountdown = function _onCountdown(msg) {
          var data = msg.data;
          var remaining_seconds = data.remaining_seconds;
          this.lbConfirm.string = LanguageMananger.getString({
            key: 'txt_add_chips'
          }) + " ( " + Math.floor(remaining_seconds) + " )";
          if (remaining_seconds <= 0) this.close(false, false);
        };
        _proto._onCancel = /*#__PURE__*/function () {
          var _onCancel2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {
            return _regeneratorRuntime().wrap(function _callee2$(_context2) {
              while (1) switch (_context2.prev = _context2.next) {
                case 0:
                  _context2.t0 = this._type === 'rebuy';
                  if (!_context2.t0) {
                    _context2.next = 4;
                    break;
                  }
                  _context2.next = 4;
                  return request('rebuyDecision', {});
                case 4:
                  this.close(false, false);
                case 5:
                case "end":
                  return _context2.stop();
              }
            }, _callee2, this);
          }));
          function _onCancel() {
            return _onCancel2.apply(this, arguments);
          }
          return _onCancel;
        }();
        _proto._onConfirm = /*#__PURE__*/function () {
          var _onConfirm2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {
            var _data, code;
            return _regeneratorRuntime().wrap(function _callee3$(_context3) {
              while (1) switch (_context3.prev = _context3.next) {
                case 0:
                  this.loading.show();
                  if (!(this._type === 'rebuy')) {
                    _context3.next = 7;
                    break;
                  }
                  _context3.next = 4;
                  return request('rebuyTournament', {
                    tournament_id: this._tournament_id
                  });
                case 4:
                  _context3.t0 = _context3.sent;
                  _context3.next = 10;
                  break;
                case 7:
                  _context3.next = 9;
                  return request('addonTournament', {
                    tournament_id: this._tournament_id
                  });
                case 9:
                  _context3.t0 = _context3.sent;
                case 10:
                  _data = _context3.t0;
                  code = _data.code;
                  if (code !== ResponseCode.SUCCESS) {
                    this.warn('Rebuy/Addon failed', _data);
                    NotifyToast.instance.showWithKey(this._type === 'rebuy' ? 'txt_can_not_rebuy' : 'txt_can_not_addon');
                  }
                  //const {  } = data;

                  this.loading.close();
                  this.close(false, false);
                case 15:
                case "end":
                  return _context3.stop();
              }
            }, _callee3, this);
          }));
          function _onConfirm() {
            return _onConfirm2.apply(this, arguments);
          }
          return _onConfirm;
        }();
        _createClass(UIRebuyPopup, [{
          key: "type",
          get: function get() {
            return this._type;
          }
        }]);
        return UIRebuyPopup;
      }(UIBase), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "uiType", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return UIType.MTT_REBUY;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "lbTitle", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "lbCup", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "lbRank", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "lbFee", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, "lbBuy", [_dec7], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor7 = _applyDecoratedDescriptor(_class2.prototype, "btnConfirm", [_dec8], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor8 = _applyDecoratedDescriptor(_class2.prototype, "btnCancel", [_dec9], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor9 = _applyDecoratedDescriptor(_class2.prototype, "lbConfirm", [_dec10], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor10 = _applyDecoratedDescriptor(_class2.prototype, "loading", [_dec11], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIReconnect.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts', './Enums.ts', './LanguageManager.ts', './Decorators.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, cclegacy, _decorator, Enum, Label, macro, UIBase, UIType, LanguageMananger, pDecorators;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Enum = module.Enum;
      Label = module.Label;
      macro = module.macro;
    }, function (module) {
      UIBase = module.UIBase;
    }, function (module) {
      UIType = module.UIType;
    }, function (module) {
      LanguageMananger = module.LanguageMananger;
    }, function (module) {
      pDecorators = module.pDecorators;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _class, _class2, _descriptor, _descriptor2, _descriptor3;
      cclegacy._RF.push({}, "355d4pFsiJMvbg0VMqBmaDZ", "UIReconnect", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var singleton = pDecorators.singleton;
      var UIReconnect = exports('UIReconnect', (_dec = ccclass("UIReconnect"), _dec2 = singleton(), _dec3 = property({
        type: Enum(UIType)
      }), _dec4 = property(Label), _dec5 = property({
        min: 0
      }), _dec(_class = _dec2(_class = (_class2 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UIReconnect, _UIBase);
        function UIReconnect() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "uiType", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "text$", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "step$", _descriptor3, _assertThisInitialized(_this));
          _this._index = 0;
          return _this;
        }
        var _proto = UIReconnect.prototype;
        _proto.onEnable = function onEnable() {
          this.schedule(this._updator.bind(this), this.step$, macro.REPEAT_FOREVER);
        };
        _proto.onDisable = function onDisable() {
          this.unscheduleAllCallbacks();
        };
        _proto._updator = function _updator() {
          this._index++;
          var _lang = LanguageMananger.instance.get('base', 'txt_reconnecting');
          this.text$.string = "" + _lang + '.'.repeat(this._index % 4);
        };
        return UIReconnect;
      }(UIBase), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "uiType", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return UIType.RECONNECTOR;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "text$", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "step$", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return 1;
        }
      })), _class2)) || _class) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIResetPassword.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts', './LanguageManager.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _createClass, _asyncToGenerator, _regeneratorRuntime, cclegacy, _decorator, EditBox, Node, Label, UIBase, LanguageMananger;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _createClass = module.createClass;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      EditBox = module.EditBox;
      Node = module.Node;
      Label = module.Label;
    }, function (module) {
      UIBase = module.UIBase;
    }, function (module) {
      LanguageMananger = module.LanguageMananger;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5;
      cclegacy._RF.push({}, "2f5f7aIAwNBMbRdt+lxCgr/", "UIResetPassword", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var UIResetPassword = exports('UIResetPassword', (_dec = ccclass('UIResetPassword'), _dec2 = property(EditBox), _dec3 = property(EditBox), _dec4 = property(EditBox), _dec5 = property(Node), _dec6 = property(Label), _dec(_class = (_class2 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UIResetPassword, _UIBase);
        function UIResetPassword() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "editCurrentPassword", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "editNewPassword", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "editConfirmPassword", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "warnNode", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "warnLabel", _descriptor5, _assertThisInitialized(_this));
          _this._onConfirmClick = void 0;
          return _this;
        }
        var _proto = UIResetPassword.prototype;
        _proto._onOpen = function _onOpen() {
          this.warnNode.active = false;
          this.warnLabel.string = '';
        };
        _proto.send = /*#__PURE__*/function () {
          var _send = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {
            var _this2 = this;
            var curPass, newPass, confirmPass, warnText;
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  this.unscheduleAllCallbacks();
                  curPass = this.editCurrentPassword.string.trim();
                  newPass = this.editNewPassword.string.trim();
                  confirmPass = this.editConfirmPassword.string.trim();
                  this.warnNode.active = false;
                  if (!(curPass.length === 0)) {
                    _context.next = 11;
                    break;
                  }
                  warnText = LanguageMananger.instance.getString('txt_edb_input_password');
                  this.warnNode.active = true;
                  this.warnLabel.string = warnText;
                  this.scheduleOnce(function () {
                    _this2.warnNode.active = false;
                  }, 2);
                  return _context.abrupt("return");
                case 11:
                  if (!(newPass.length < 6)) {
                    _context.next = 17;
                    break;
                  }
                  warnText = LanguageMananger.instance.getString('warning_setup_password_safebox_1');
                  this.warnNode.active = true;
                  this.warnLabel.string = warnText;
                  this.scheduleOnce(function () {
                    _this2.warnNode.active = false;
                  }, 2);
                  return _context.abrupt("return");
                case 17:
                  if (!(confirmPass !== newPass)) {
                    _context.next = 23;
                    break;
                  }
                  warnText = LanguageMananger.instance.getString('warning_setup_password_safebox_1');
                  this.warnNode.active = true;
                  this.warnLabel.string = warnText;
                  this.scheduleOnce(function () {
                    _this2.warnNode.active = false;
                  }, 2);
                  return _context.abrupt("return");
                case 23:
                  this._onConfirmClick && this._onConfirmClick(curPass, newPass);

                // const {information} = GlobalConfig.instance.Login.player;
                // const res = await CMDManager.changePassword({
                //     id: information.id,
                //     user_id : information.user_id,
                //     old_password: curPass,
                //     new_password: newPass
                // });
                // if (res.code === ResponseCode.SUCCESS)
                // {
                //     pDecorators.instance(NotifyToast).show('', 'lobby');
                //     return;
                // }

                // pDecorators.instance(NotifyToast).show(res.message || (res as any).msg, 'lobby');
                case 24:
                case "end":
                  return _context.stop();
              }
            }, _callee, this);
          }));
          function send() {
            return _send.apply(this, arguments);
          }
          return send;
        }();
        _proto._onClose = function _onClose() {
          this.unscheduleAllCallbacks();
          this.warnNode.active = false;
          this.warnLabel.string = '';
        };
        _createClass(UIResetPassword, [{
          key: "onConfirmClick",
          set: function set(value) {
            this._onConfirmClick = value;
          }
        }]);
        return UIResetPassword;
      }(UIBase), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "editCurrentPassword", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "editNewPassword", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "editConfirmPassword", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "warnNode", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "warnLabel", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIRewardEndTutorial.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts', './EventManager.ts', './ResponeCode.ts', './GlobalConfig.ts', './UserCommand.ts', './UINotice.ts', './StringUtils.ts'], function (exports) {
  var _inheritsLoose, _asyncToGenerator, _regeneratorRuntime, cclegacy, _decorator, UIBase, pEventManager, ResponseCode, GlobalConfig, request, UINotice, pStringUtils;
  return {
    setters: [function (module) {
      _inheritsLoose = module.inheritsLoose;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
    }, function (module) {
      UIBase = module.UIBase;
    }, function (module) {
      pEventManager = module.pEventManager;
    }, function (module) {
      ResponseCode = module.ResponseCode;
    }, function (module) {
      GlobalConfig = module.default;
    }, function (module) {
      request = module.default;
    }, function (module) {
      UINotice = module.UINotice;
    }, function (module) {
      pStringUtils = module.pStringUtils;
    }],
    execute: function () {
      var _dec, _class;
      cclegacy._RF.push({}, "3d44dmo4FVPlLjClKLv8GIy", "UIRewardEndTutorial", undefined);
      var ccclass = _decorator.ccclass;
      var UIRewardEndTutorial = exports('UIRewardEndTutorial', (_dec = ccclass('UIRewardEndTutorial'), _dec(_class = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UIRewardEndTutorial, _UIBase);
        function UIRewardEndTutorial() {
          return _UIBase.apply(this, arguments) || this;
        }
        var _proto = UIRewardEndTutorial.prototype;
        _proto.onReward = /*#__PURE__*/function () {
          var _onReward = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {
            var _data, msg, balance, player_id, instance, _reward;
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  _context.next = 2;
                  return request('completeTutorial', {});
                case 2:
                  _data = _context.sent;
                  if (_data.code === ResponseCode.SUCCESS) {
                    msg = _data.msg;
                    balance = msg.balance, player_id = msg.player_id;
                    instance = GlobalConfig.instance;
                    _reward = balance - instance.getBalance();
                    instance.isMainPlayer(player_id) && instance.setBalance(balance);
                    UINotice.show('txt_title', {
                      key: 'dyn_complete_tutorial',
                      replacers: {
                        find: '@reward',
                        replacer: pStringUtils.formatNumberKMB(_reward)
                      }
                    });
                    this.close();
                  }
                case 4:
                case "end":
                  return _context.stop();
              }
            }, _callee, this);
          }));
          function onReward() {
            return _onReward.apply(this, arguments);
          }
          return onReward;
        }();
        _proto._onClose = function _onClose() {
          _UIBase.prototype._onClose.call(this);
          pEventManager.invoke('exitTutorial');
        };
        return UIRewardEndTutorial;
      }(UIBase)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIRoomMTT.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts', './Enums.ts', './UIController.ts', './UIPageItemRoomMTT.ts', './LanguageManager.ts', './ComponentUtils.ts', './ArrayUtils.ts', './GlobalConfig.ts', './EventManager.ts', './TableMonitorCommand.ts', './MTTController.ts', './Decorators.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _asyncToGenerator, _regeneratorRuntime, cclegacy, _decorator, Button, ToggleContainer, Node, Prefab, PageView, Label, instantiate, UIBase, ETournType, UIType, UIController, UIPageItemRoomMTT, LanguageMananger, pComponentUtils, pArray, GlobalConfig, pEventManager, request, NSMttConfig, pDecorators;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Button = module.Button;
      ToggleContainer = module.ToggleContainer;
      Node = module.Node;
      Prefab = module.Prefab;
      PageView = module.PageView;
      Label = module.Label;
      instantiate = module.instantiate;
    }, function (module) {
      UIBase = module.UIBase;
    }, function (module) {
      ETournType = module.ETournType;
      UIType = module.UIType;
    }, function (module) {
      UIController = module.UIController;
    }, function (module) {
      UIPageItemRoomMTT = module.UIPageItemRoomMTT;
    }, function (module) {
      LanguageMananger = module.LanguageMananger;
    }, function (module) {
      pComponentUtils = module.pComponentUtils;
    }, function (module) {
      pArray = module.pArray;
    }, function (module) {
      GlobalConfig = module.default;
    }, function (module) {
      pEventManager = module.pEventManager;
    }, function (module) {
      request = module.default;
    }, function (module) {
      NSMttConfig = module.NSMttConfig;
    }, function (module) {
      pDecorators = module.pDecorators;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _dec11, _dec12, _dec13, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9, _descriptor10, _descriptor11, _descriptor12;
      cclegacy._RF.push({}, "a66dcMIe4RB9Y3KMBMUPG2N", "UIRoomMTT", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var _TOP_GROUP = {
        name: "Top",
        id: "Common"
      };
      var _PANEL_LIST_GROUP = {
        name: "PanelListRoom",
        id: "Panel"
      };
      var _PANEL_MINE_GROUP = {
        name: "PanelMineTourn",
        id: "Panel"
      };
      var _EMPTY_GROUP = {
        name: "Empty",
        id: "Panel"
      };
      var _POPUP_GROUP = {
        name: "Popup",
        id: "Popup"
      };
      var _ITEM_AMOUT_PER_PAGE = 6;
      var UIRoomMTT = exports('UIRoomMTT', (_dec = ccclass('UIRoomMTT'), _dec2 = property({
        group: _TOP_GROUP,
        type: Button
      }), _dec3 = property({
        group: _TOP_GROUP,
        type: ToggleContainer
      }), _dec4 = property({
        group: _TOP_GROUP,
        type: Button
      }), _dec5 = property({
        group: _PANEL_LIST_GROUP,
        type: Node
      }), _dec6 = property({
        group: _PANEL_LIST_GROUP,
        type: Prefab
      }), _dec7 = property({
        group: _PANEL_LIST_GROUP,
        type: Node
      }), _dec8 = property({
        group: _PANEL_LIST_GROUP,
        type: Button
      }), _dec9 = property({
        group: _PANEL_LIST_GROUP,
        type: PageView
      }), _dec10 = property({
        group: _EMPTY_GROUP,
        type: Node
      }), _dec11 = property({
        group: _EMPTY_GROUP,
        type: Label
      }), _dec12 = property({
        group: _PANEL_MINE_GROUP,
        type: Node
      }), _dec13 = property({
        group: _POPUP_GROUP,
        type: Node
      }), _dec(_class = (_class2 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UIRoomMTT, _UIBase);
        function UIRoomMTT() {
          var _this$_list;
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "btnBackToMain", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "listTypeRoom", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnHelp", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "PanelListRoom", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "prefabPageItemRoom", _descriptor5, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "rootPage", _descriptor6, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnNextPage", _descriptor7, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "pgViewListRoom", _descriptor8, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "empty", _descriptor9, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbNotifi", _descriptor10, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "PanelMineTourn", _descriptor11, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "popupRoot", _descriptor12, _assertThisInitialized(_this));
          _this._notifies = ["txt_hollow1", "txt_hollow2", "txt_hollow3", "txt_hollow4", "txt_hollow5"];
          _this._current = ETournType.ALL;
          _this._list = (_this$_list = {}, _this$_list[ETournType.ALL] = [], _this$_list[ETournType.HOT] = [], _this$_list[ETournType.LIVE] = [], _this$_list[ETournType.ENDED] = [], _this$_list[ETournType.MINE] = [], _this$_list);
          _this._events = [['onPlayerEventTournament', _this._onPlayerEventTournament, _assertThisInitialized(_this)], ['onMttTournamentTablesEvent', _this._onTable, _assertThisInitialized(_this)]];
          return _this;
        }
        var _proto = UIRoomMTT.prototype;
        _proto._onPlayerEventTournament = function _onPlayerEventTournament(data) {
          var event_type = data.event_type;
          if (event_type === 'player_register') {
            var player = data.player;
            GlobalConfig.instance.isMainPlayer(player) && this.close();
          }
        };
        _proto._onTable = function _onTable(data) {
          var msg = data.msg;
          var action = msg.action,
            tableId = msg.tableId;
          var _pages = this.pgViewListRoom.getPages();
          var _sub = action === 'join' ? 1 : -1;
          var _total = this._actUpdateRegisteredCount(tableId, [ETournType.ALL, ETournType.LIVE, ETournType.MINE], _sub);
          for (var i = 0; i < _pages.length; i++) {
            var _comp = _pages[i].getComponent(UIPageItemRoomMTT);
            if (!_comp) continue;
            if (_comp.actUpdateRegistered(tableId, _total)) break;
          }
        };
        _proto._actUpdateRegisteredCount = function _actUpdateRegisteredCount(id, types, amount) {
          var _this2 = this;
          if (amount === void 0) {
            amount = 1;
          }
          types = pArray.flatter(types);
          var _total = 0;
          var _is = false;
          types.forEach(function (_type) {
            var _find = _this2._list[_type].find(function (_tour) {
              return _tour.id === id;
            });
            if (!_find) return;
            if (_is) return;
            _is = true;
            _find.registered_players += amount;
            _total = _find.registered_players;
          });
          return _total;
        };
        _proto._onOpen = /*#__PURE__*/function () {
          var _onOpen2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {
            var _cfg, _data;
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  _cfg = pDecorators.instance(NSMttConfig.Controller);
                  if (_cfg) {
                    _context.next = 4;
                    break;
                  }
                  console.error('MTT Config is not initialized');
                  return _context.abrupt("return");
                case 4:
                  _context.prev = 4;
                  _context.next = 7;
                  return _cfg.actFetchingRoom();
                case 7:
                  _data = _context.sent;
                  this.init(_data);
                  this._current = ETournType.ALL;
                  this.listTypeRoom.toggleItems[0].isChecked = true;
                  _context.next = 16;
                  break;
                case 13:
                  _context.prev = 13;
                  _context.t0 = _context["catch"](4);
                  console.error('Failed to fetch MTT room data:', _context.t0);
                case 16:
                case "end":
                  return _context.stop();
              }
            }, _callee, this, [[4, 13]]);
          }));
          function _onOpen() {
            return _onOpen2.apply(this, arguments);
          }
          return _onOpen;
        }();
        _proto._open = /*#__PURE__*/function () {
          var _open2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {
            return _regeneratorRuntime().wrap(function _callee2$(_context2) {
              while (1) switch (_context2.prev = _context2.next) {
                case 0:
                  request('subscribe', {
                    type: 'mtt'
                  });
                  pEventManager.on(this._events);
                  return _context2.abrupt("return", _UIBase.prototype._open.call(this));
                case 3:
                case "end":
                  return _context2.stop();
              }
            }, _callee2, this);
          }));
          function _open() {
            return _open2.apply(this, arguments);
          }
          return _open;
        }();
        _proto._close = /*#__PURE__*/function () {
          var _close2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {
            return _regeneratorRuntime().wrap(function _callee3$(_context3) {
              while (1) switch (_context3.prev = _context3.next) {
                case 0:
                  request('unsubscribe', {
                    type: 'mtt'
                  });
                  pEventManager.off(this._events);
                  return _context3.abrupt("return", _UIBase.prototype._close.call(this));
                case 3:
                case "end":
                  return _context3.stop();
              }
            }, _callee3, this);
          }));
          function _close() {
            return _close2.apply(this, arguments);
          }
          return _close;
        }();
        _proto._onStart = function _onStart() {
          this._addClickers([{
            handlers: this._actBackToMain,
            target: this.btnBackToMain
          }, {
            handlers: this._actShowHelp,
            target: this.btnHelp
          }, {
            handlers: this._actNextPage,
            target: this.btnNextPage
          }]);
          pComponentUtils.binds(this.listTypeRoom, 'checkEvents', this, '_onChange');
        };
        _proto.init = function init(data) {
          if (!data) return;
          var tournaments = data.tournaments,
            my_tournaments = data.my_tournaments;
          if (!tournaments) return;
          var _all = tournaments.filter(function (_tour) {
            return _tour.status === 'waiting';
          });
          this._list[ETournType.ALL] = _all;
          this._list[ETournType.HOT] = [];
          this._list[ETournType.LIVE] = tournaments.filter(function (_tour) {
            return _tour.status === 'running';
          });
          this._list[ETournType.ENDED] = tournaments.filter(function (_tour) {
            return _tour.status === 'cancelled' || _tour.status === 'finished';
          });
          this._list[ETournType.MINE] = _all.concat(this._list[ETournType.LIVE]).filter(function (_tour) {
            return my_tournaments.some(function (_my) {
              return _my.id === _tour.id;
            });
          });
          this._actChooseTypeTourn();
        };
        _proto._actBackToMain = /*#__PURE__*/function () {
          var _actBackToMain2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {
            return _regeneratorRuntime().wrap(function _callee4$(_context4) {
              while (1) switch (_context4.prev = _context4.next) {
                case 0:
                  _context4.next = 2;
                  return UIController.Instance.open(UIType.MAIN_SCREEN, false);
                case 2:
                  this.close();
                case 3:
                case "end":
                  return _context4.stop();
              }
            }, _callee4, this);
          }));
          function _actBackToMain() {
            return _actBackToMain2.apply(this, arguments);
          }
          return _actBackToMain;
        }();
        _proto._prevPage = function _prevPage() {
          var _index = this.pgViewListRoom.getCurrentPageIndex() - 1;
          _index >= 0 ? this.pgViewListRoom.scrollToPage(_index, 0.15) : this.pgViewListRoom.scrollToPage(this.pgViewListRoom.getPages().length - 1, 0.15);
        };
        _proto._actNextPage = function _actNextPage() {
          var _index = this.pgViewListRoom.getCurrentPageIndex() + 1;
          var _this$pgViewListRoom$ = this.pgViewListRoom.getPages(),
            length = _this$pgViewListRoom$.length;
          _index < length ? this.pgViewListRoom.scrollToPage(_index, 0.15) : this.pgViewListRoom.scrollToPage(0, 0.15);
        };
        _proto._actChooseTypeTourn = function _actChooseTypeTourn() {
          this.PanelListRoom.active = true;
          this.PanelMineTourn.active = false;
          this._actRefreshListRoom();
        };
        _proto._onChange = function _onChange(toggle) {
          var tournType = toggle.node.getSiblingIndex();
          this._current = tournType;
          this._actChooseTypeTourn();
        };
        _proto._actRefreshListRoom = function _actRefreshListRoom() {
          var _this3 = this;
          var _data = this._list[this._current];
          this.pgViewListRoom.removeAllPages();
          if (_data.length <= 0) {
            this.empty.active = true;
            this.lbNotifi.string = LanguageMananger.instance.getString(this._notifies[this._current]);
            return;
          }
          this.empty.active = false;
          var _list = pArray.chunks(_data, _ITEM_AMOUT_PER_PAGE);
          for (var i = 0; i < _list.length; i++) {
            var _node = instantiate(this.prefabPageItemRoom);
            this.rootPage.addChild(_node);
            var _comp = _node.getComponent(UIPageItemRoomMTT);
            var _comps = _comp.init(_list[i], this._list[ETournType.MINE]);
            _comps.forEach(function (__comp) {
              __comp.set('onRegistered', {
                _function: _this3._onRegistered,
                _this: _this3
              });
              __comp.set('onUnregistered', {
                _function: _this3._onUnregistered,
                _this: _this3
              });
              __comp.set('onStarted', {
                _function: _this3._onStarted,
                _this: _this3
              });
            });
            this.pgViewListRoom.addPage(_node);
          }
          this.pgViewListRoom.scrollToPage(0, 0.15);
        };
        _proto._onCompleteLate = function _onCompleteLate(id) {
          var tournaments = this._list[ETournType.ALL];
          var _tour = tournaments.find(function (_tour) {
            return _tour.id == id;
          });
          if (!_tour) return;
          this._list[ETournType.LIVE].push(_tour);
          this._list[ETournType.LIVE] = pArray.noDuplicated(this._list[ETournType.LIVE], 'id');
          this._list[ETournType.ALL] = this._list[ETournType.ALL].filter(function (_tour) {
            return _tour.id !== id;
          });
          var _pages = this.pgViewListRoom.getPages();
          for (var i = 0; i < _pages.length; i++) {
            var _comp = _pages[i].getComponent(UIPageItemRoomMTT);
            if (!_comp) continue;
            if (_comp.removeItemByTourId(id)) break;
          }
        };
        _proto._onStarted = function _onStarted(id, status) {
          var tournaments = this._list[ETournType.ALL];
          var target = status ? ETournType.LIVE : ETournType.ENDED;
          var runnings = this._list[target];
          this._list[target] = tournaments.filter(function (_tour) {
            return _tour.id == id;
          }).concat(runnings);
          !status && (this._list[ETournType.ALL] = this._list[ETournType.ALL].filter(function (_tour) {
            return _tour.id !== id;
          }));
          if (!status) {
            var _pages = this.pgViewListRoom.getPages();
            for (var i = 0; i < _pages.length; i++) {
              var _comp = _pages[i].getComponent(UIPageItemRoomMTT);
              if (!_comp) continue;
              if (_comp.removeItemByTourId(id)) break;
            }
          }
        };
        _proto._onRegistered = function _onRegistered(id) {
          var tournaments = this._list[ETournType.ALL];
          var my_tournaments = this._list[ETournType.MINE];
          this._list[ETournType.MINE] = tournaments.filter(function (_tour) {
            return _tour.id == id;
          }).concat(my_tournaments);
        };
        _proto._onUnregistered = function _onUnregistered(id) {
          var my_tournaments = this._list[ETournType.MINE];
          this._list[ETournType.MINE] = my_tournaments.filter(function (_tour) {
            return id !== _tour.id;
          });
        };
        _proto._actShowHelp = function _actShowHelp() {
          UIController.Instance.open(UIType.MTT_HELP, true, false, false);
        };
        return UIRoomMTT;
      }(UIBase), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "btnBackToMain", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "listTypeRoom", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "btnHelp", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "PanelListRoom", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "prefabPageItemRoom", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, "rootPage", [_dec7], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor7 = _applyDecoratedDescriptor(_class2.prototype, "btnNextPage", [_dec8], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor8 = _applyDecoratedDescriptor(_class2.prototype, "pgViewListRoom", [_dec9], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor9 = _applyDecoratedDescriptor(_class2.prototype, "empty", [_dec10], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor10 = _applyDecoratedDescriptor(_class2.prototype, "lbNotifi", [_dec11], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor11 = _applyDecoratedDescriptor(_class2.prototype, "PanelMineTourn", [_dec12], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor12 = _applyDecoratedDescriptor(_class2.prototype, "popupRoot", [_dec13], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIRoomSNG.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts', './Enums.ts', './UIController.ts', './UIItemRoomSNG.ts', './JsonUtils.ts', './StringUtils.ts', './ResponeCode.ts', './EventManager.ts', './Decorators.ts', './DBStorage.ts', './SNGCommand.ts', './TableMonitorCommand.ts', './SNGConfig.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _createForOfIteratorHelperLoose, _asyncToGenerator, _regeneratorRuntime, cclegacy, _decorator, EventTarget, Button, Prefab, PageView, ToggleContainer, Label, instantiate, UIBase, UIType, UIController, UIItemRoomSNG, JsonUtils, pStringUtils, ResponseCode, pEventManager, pDecorators, DBStorage, request, request$1, NSngConfig;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _createForOfIteratorHelperLoose = module.createForOfIteratorHelperLoose;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      EventTarget = module.EventTarget;
      Button = module.Button;
      Prefab = module.Prefab;
      PageView = module.PageView;
      ToggleContainer = module.ToggleContainer;
      Label = module.Label;
      instantiate = module.instantiate;
    }, function (module) {
      UIBase = module.UIBase;
    }, function (module) {
      UIType = module.UIType;
    }, function (module) {
      UIController = module.UIController;
    }, function (module) {
      UIItemRoomSNG = module.UIItemRoomSNG;
    }, function (module) {
      JsonUtils = module.default;
    }, function (module) {
      pStringUtils = module.pStringUtils;
    }, function (module) {
      ResponseCode = module.ResponseCode;
    }, function (module) {
      pEventManager = module.pEventManager;
    }, function (module) {
      pDecorators = module.pDecorators;
    }, function (module) {
      DBStorage = module.DBStorage;
    }, function (module) {
      request = module.default;
    }, function (module) {
      request$1 = module.default;
    }, function (module) {
      NSngConfig = module.NSngConfig;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _dec11, _dec12, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9, _descriptor10, _descriptor11;
      cclegacy._RF.push({}, "f745dY1iA5FnoxmSjbuUS4F", "UIRoomSNG", undefined);
      var ccclass = _decorator.ccclass,
        type = _decorator.type;
      var eventTarget = exports('eventTarget', new EventTarget());
      var UIRoomSNG = exports('UIRoomSNG', (_dec = ccclass('UIRoomSNG'), _dec2 = type(Button), _dec3 = type(Button), _dec4 = type(Prefab), _dec5 = type(PageView), _dec6 = type(ToggleContainer), _dec7 = type(Label), _dec8 = type(Label), _dec9 = type(Label), _dec10 = type(Label), _dec11 = type(Label), _dec12 = type(Label), _dec(_class = (_class2 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UIRoomSNG, _UIBase);
        function UIRoomSNG() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "btnHelp", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnBackToMain", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "itemRoom", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "container", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "numberPlayerToggle", _descriptor5, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbTotalMatch", _descriptor6, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbMatchGold", _descriptor7, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbMatchSiliver", _descriptor8, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbMatchCopper", _descriptor9, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbIncomeMonthly", _descriptor10, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbPointLose", _descriptor11, _assertThisInitialized(_this));
          _this._selected = '5_PLAYERS';
          _this._events = [['onSngTournamentEvent', _this.close, _assertThisInitialized(_this)], ['onSngTournamentTablesEvent', _this._onUpdateTables, _assertThisInitialized(_this)]];
          return _this;
        }
        var _proto = UIRoomSNG.prototype;
        _proto.quickLeave = /*#__PURE__*/function () {
          var _quickLeave = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {
            var _id;
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  _id = pDecorators.instance(DBStorage).get('SNG_TOUR_ID');
                  JsonUtils.isValidData(_id) && request('leaveTournament', {
                    tournamentId: JSON.parse(_id)
                  });
                case 2:
                case "end":
                  return _context.stop();
              }
            }, _callee);
          }));
          function quickLeave() {
            return _quickLeave.apply(this, arguments);
          }
          return quickLeave;
        }();
        _proto._open = /*#__PURE__*/function () {
          var _open2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {
            return _regeneratorRuntime().wrap(function _callee2$(_context2) {
              while (1) switch (_context2.prev = _context2.next) {
                case 0:
                  _context2.next = 2;
                  return request$1('subscribe', {
                    type: 'sng'
                  });
                case 2:
                  return _context2.abrupt("return", _UIBase.prototype._open.call(this));
                case 3:
                case "end":
                  return _context2.stop();
              }
            }, _callee2, this);
          }));
          function _open() {
            return _open2.apply(this, arguments);
          }
          return _open;
        }();
        _proto._close = /*#__PURE__*/function () {
          var _close2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {
            return _regeneratorRuntime().wrap(function _callee3$(_context3) {
              while (1) switch (_context3.prev = _context3.next) {
                case 0:
                  _context3.next = 2;
                  return request$1('unsubscribe', {
                    type: 'sng'
                  });
                case 2:
                  return _context3.abrupt("return", _UIBase.prototype._close.call(this));
                case 3:
                case "end":
                  return _context3.stop();
              }
            }, _callee3, this);
          }));
          function _close() {
            return _close2.apply(this, arguments);
          }
          return _close;
        }();
        _proto._onOpen = /*#__PURE__*/function () {
          var _onOpen2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {
            var data;
            return _regeneratorRuntime().wrap(function _callee4$(_context4) {
              while (1) switch (_context4.prev = _context4.next) {
                case 0:
                  this._selected = '5_PLAYERS';
                  this.numberPlayerToggle.toggleItems[0].isChecked = true;
                  pEventManager.on(this._events);
                  _context4.next = 5;
                  return request('getSngStats', {});
                case 5:
                  data = _context4.sent;
                  this.setupPlayer(data);
                  _context4.next = 9;
                  return pDecorators.instance(NSngConfig.Handler).actFetchingRoom();
                case 9:
                  //await pDecorators.instance(NSngConfig.Handler).wait('onFetchedRoom');
                  this._setup();
                case 10:
                case "end":
                  return _context4.stop();
              }
            }, _callee4, this);
          }));
          function _onOpen() {
            return _onOpen2.apply(this, arguments);
          }
          return _onOpen;
        }();
        _proto.onDisable = function onDisable() {
          pEventManager.off(this._events);
        };
        _proto._onStart = function _onStart() {
          this._addClicker(this.btnHelp, this._onClickHelp, this);
          this._addClicker(this.btnBackToMain, this._backToMain, this);
        };
        _proto._backToMain = function _backToMain() {
          UIController.Instance.open(UIType.MAIN_SCREEN, false);
          this.close();
        };
        _proto._onUpdateTables = function _onUpdateTables(data) {
          this.log("_onUpdateTables", data);
          var _config = pDecorators.instance(NSngConfig.Handler);
          var msg = data.msg;
          var tournamentDetails = msg.tournamentDetails,
            playerCount = msg.playerCount;
          var tableType = tournamentDetails.tableType,
            level = tournamentDetails.level;
          for (var _iterator = _createForOfIteratorHelperLoose(_config.rooms.tournaments), _step; !(_step = _iterator()).done;) {
            var ret = _step.value;
            if (ret.table_type === tableType && ret.level === level) {
              ret.registered_players = playerCount;
              break;
            }
          }
          if (this._selected == tableType) {
            for (var _iterator2 = _createForOfIteratorHelperLoose(this.container.getPages()), _step2; !(_step2 = _iterator2()).done;) {
              var _page = _step2.value;
              var _comp = _page.getComponent(UIItemRoomSNG);
              if (_comp != null && _comp.change(msg)) return;
            }
          }
        };
        _proto._onClickHelp = function _onClickHelp() {
          UIController.Instance.open(UIType.HELP_SNG);
        };
        _proto.onChooseNumberPlayer = function onChooseNumberPlayer(toggle) {
          switch (toggle.node.getSiblingIndex()) {
            case 0:
              this._selected = '5_PLAYERS';
              break;
            case 1:
              this._selected = '9_PLAYERS';
              break;
            case 2:
              this._selected = '3_PLAYERS';
              break;
          }
          this._setup();
        };
        _proto._setup = function _setup() {
          var _this2 = this;
          var _config = pDecorators.instance(NSngConfig.Handler);
          if (!_config) return;
          var _data = _config.rooms.tournaments.filter(function (_item) {
            return _item.table_type === _this2._selected;
          });
          this._setupRoom(_data);
        };
        _proto.setupPlayer = function setupPlayer(data) {
          var msg = data.msg,
            code = data.code;
          if (code != ResponseCode.SUCCESS) return;
          var rank_1 = msg.rank_1,
            rank_2 = msg.rank_2,
            rank_3 = msg.rank_3,
            total_amount = msg.total_amount,
            total = msg.total,
            next_point = msg.next_point;
          if (rank_1 === undefined || rank_2 === undefined || rank_3 === undefined) return;
          this.lbTotalMatch.string = "" + total;
          this.lbMatchGold.string = "" + rank_1;
          this.lbMatchSiliver.string = "" + rank_2;
          this.lbMatchCopper.string = "" + rank_3;
          this.lbIncomeMonthly.string = pStringUtils.formatNumberKMB(total_amount, " + ", " - ");
          this.lbPointLose.string = " " + next_point;
        };
        _proto._setupRoom = function _setupRoom(levels) {
          var _this3 = this;
          this.container.removeAllPages();
          levels.forEach(function (_element, _index) {
            var _node$getComponent;
            var node = instantiate(_this3.itemRoom);
            _this3.container.addPage(node);
            (_node$getComponent = node.getComponent(UIItemRoomSNG)) == null || _node$getComponent.init(_element, _index);
          });
        };
        return UIRoomSNG;
      }(UIBase), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "btnHelp", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "btnBackToMain", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "itemRoom", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "container", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "numberPlayerToggle", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, "lbTotalMatch", [_dec7], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor7 = _applyDecoratedDescriptor(_class2.prototype, "lbMatchGold", [_dec8], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor8 = _applyDecoratedDescriptor(_class2.prototype, "lbMatchSiliver", [_dec9], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor9 = _applyDecoratedDescriptor(_class2.prototype, "lbMatchCopper", [_dec10], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor10 = _applyDecoratedDescriptor(_class2.prototype, "lbIncomeMonthly", [_dec11], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor11 = _applyDecoratedDescriptor(_class2.prototype, "lbPointLose", [_dec12], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UISafeboxPassword.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './LanguageManager.ts', './UIBase.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _createClass, _asyncToGenerator, _regeneratorRuntime, cclegacy, _decorator, Node, EditBox, Label, LanguageMananger, UIBase;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _createClass = module.createClass;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Node = module.Node;
      EditBox = module.EditBox;
      Label = module.Label;
    }, function (module) {
      LanguageMananger = module.LanguageMananger;
    }, function (module) {
      UIBase = module.UIBase;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7;
      cclegacy._RF.push({}, "ff926u0mbhLbZyJGsYmUKpG", "UISafeboxPassword", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var UISafeboxPasswordType = exports('UISafeboxPasswordType', /*#__PURE__*/function (UISafeboxPasswordType) {
        UISafeboxPasswordType[UISafeboxPasswordType["SETUP"] = 0] = "SETUP";
        UISafeboxPasswordType[UISafeboxPasswordType["INPUT"] = 1] = "INPUT";
        return UISafeboxPasswordType;
      }({}));
      var UISafeboxPassword = exports('UISafeboxPassword', (_dec = ccclass('UISafeboxPassword'), _dec2 = property(Node), _dec3 = property(Node), _dec4 = property(EditBox), _dec5 = property(EditBox), _dec6 = property(EditBox), _dec7 = property(Label), _dec8 = property(Label), _dec(_class = (_class2 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UISafeboxPassword, _UIBase);
        function UISafeboxPassword() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "setupPasswordNode", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "inputPasswordNode", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "setupPassEditbox", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "setupConfirmPassEditbox", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "inputPassEditbox", _descriptor5, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "setupWarningLabel", _descriptor6, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "inputWarningLabel", _descriptor7, _assertThisInitialized(_this));
          _this._currentType = UISafeboxPasswordType.SETUP;
          _this._onPasswordConfirm = void 0;
          return _this;
        }
        var _proto = UISafeboxPassword.prototype;
        _proto.onPasswordConfirm = function onPasswordConfirm(callback) {
          this._onPasswordConfirm = callback;
        };
        _proto.init = function init(isSetup) {
          if (isSetup === void 0) {
            isSetup = false;
          }
          // this._password = password;
          if (isSetup) {
            this.currentType = UISafeboxPasswordType.SETUP;
          } else {
            this.currentType = UISafeboxPasswordType.INPUT;
          }
        };
        _proto.onEnable = function onEnable() {
          this.setupWarningLabel.string = '';
          this.inputWarningLabel.string = '';
        };
        _proto.confirmSetupPassword = function confirmSetupPassword() {
          var pass = this.setupPassEditbox.string.trim();
          var confirmPass = this.setupConfirmPassEditbox.string.trim();
          if (pass.length < 6 || confirmPass.length < 6 || pass !== confirmPass) {
            this.setupWarningLabel.string = LanguageMananger.instance.getString('warning_setup_password_safebox_1');
            return;
          }
          this.setupWarningLabel.string = '';
          this._onPasswordConfirm && this._onPasswordConfirm(pass);
        };
        _proto.confirmInputPassword = /*#__PURE__*/function () {
          var _confirmInputPassword = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {
            var pass;
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  pass = this.inputPassEditbox.string.trim();
                  this._onPasswordConfirm && this._onPasswordConfirm(pass);
                case 2:
                case "end":
                  return _context.stop();
              }
            }, _callee, this);
          }));
          function confirmInputPassword() {
            return _confirmInputPassword.apply(this, arguments);
          }
          return confirmInputPassword;
        }();
        _proto.onClickForgotPassword = function onClickForgotPassword() {};
        _createClass(UISafeboxPassword, [{
          key: "currentType",
          get: function get() {
            return this._currentType;
          },
          set: function set(value) {
            this._currentType = value;
            this.setupPasswordNode.active = this.inputPasswordNode.active = false;
            switch (value) {
              default:
              case UISafeboxPasswordType.SETUP:
                this.setupPasswordNode.active = true;
                break;
              case UISafeboxPasswordType.INPUT:
                this.inputPasswordNode.active = true;
                break;
            }
          }
        }]);
        return UISafeboxPassword;
      }(UIBase), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "setupPasswordNode", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "inputPasswordNode", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "setupPassEditbox", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "setupConfirmPassEditbox", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "inputPassEditbox", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, "setupWarningLabel", [_dec7], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor7 = _applyDecoratedDescriptor(_class2.prototype, "inputWarningLabel", [_dec8], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIScale.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './Enums.ts', './UIUpdateAlignment.ts'], function (exports) {
  var _inheritsLoose, cclegacy, _decorator, screen, Component, EEventType, eventTarget;
  return {
    setters: [function (module) {
      _inheritsLoose = module.inheritsLoose;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      screen = module.screen;
      Component = module.Component;
    }, function (module) {
      EEventType = module.EEventType;
    }, function (module) {
      eventTarget = module.eventTarget;
    }],
    execute: function () {
      var _dec, _class;
      cclegacy._RF.push({}, "3e558pT9pJIe58HIT/GX/U0", "UIScale", undefined);
      var ccclass = _decorator.ccclass;
      var UIScale = exports('UIScale', (_dec = ccclass('UIScale'), _dec(_class = /*#__PURE__*/function (_Component) {
        _inheritsLoose(UIScale, _Component);
        function UIScale() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _Component.call.apply(_Component, [this].concat(args)) || this;
          _this.designResolutionWidth = 1280;
          _this.designResolutionHeight = 720;
          _this.originalScale = null;
          return _this;
        }
        var _proto = UIScale.prototype;
        _proto.onLoad = function onLoad() {
          this.originalScale = this.node.getScale();
          screen.on('window-resize', this.resizeElements, this);
        };
        _proto.start = function start() {
          this.resizeElements();
        };
        _proto.onDestroy = function onDestroy() {
          screen.off('window-resize', this.resizeElements, this);
        };
        _proto.onWindowResize = function onWindowResize() {
          eventTarget.emit(EEventType.CUSTOM_RESIZE);
        };
        _proto.resizeElements = function resizeElements() {
          var _screen$windowSize = screen.windowSize,
            width = _screen$windowSize.width,
            height = _screen$windowSize.height;
          var screenResolution = width / height;
          var designResolution = this.designResolutionWidth / this.designResolutionHeight;
          var scaleFactor = designResolution < screenResolution ? designResolution / screenResolution : 1;
          this.node.setScale(this.originalScale.x * scaleFactor, this.originalScale.y * scaleFactor);
          eventTarget.emit(EEventType.CUSTOM_RESIZE);
        };
        return UIScale;
      }(Component)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIScaleBG.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './Constants.ts', './ComponentUtils.ts', './MathUtils.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, cclegacy, _decorator, Node, UITransform, screen, Component, DESIGN_RESOLUTION_WIDTH, DESIGN_RESOLUTION_HEIGHT, pComponentUtils, pMathUtils;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Node = module.Node;
      UITransform = module.UITransform;
      screen = module.screen;
      Component = module.Component;
    }, function (module) {
      DESIGN_RESOLUTION_WIDTH = module.DESIGN_RESOLUTION_WIDTH;
      DESIGN_RESOLUTION_HEIGHT = module.DESIGN_RESOLUTION_HEIGHT;
    }, function (module) {
      pComponentUtils = module.pComponentUtils;
    }, function (module) {
      pMathUtils = module.pMathUtils;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _class, _class2, _descriptor, _descriptor2;
      cclegacy._RF.push({}, "79361lH/vJD7oclpC0z1OOn", "UIScaleBG", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var UIScaleBG = exports('UIScaleBG', (_dec = ccclass('UIScaleBG'), _dec2 = property(Node), _dec3 = property({}), _dec(_class = (_class2 = /*#__PURE__*/function (_Component) {
        _inheritsLoose(UIScaleBG, _Component);
        function UIScaleBG() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _Component.call.apply(_Component, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "bg", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "useScaleSystem", _descriptor2, _assertThisInitialized(_this));
          _this._originalScale = null;
          _this._originalContentSize = null;
          _this._transform = null;
          return _this;
        }
        var _proto = UIScaleBG.prototype;
        _proto.onLoad = function onLoad() {
          this.bg = this.bg || this.node;
          this._originalScale = this.bg.getScale();
          this._transform = pComponentUtils.getSafeComponent(this.bg, UITransform);
          this._originalContentSize = this._transform.contentSize.clone();
          screen.on('window-resize', this.resizeBG, this);
        };
        _proto.start = function start() {
          this.resizeBG();
        };
        _proto.onDestroy = function onDestroy() {
          screen.off('window-resize', this.resizeBG, this);
        };
        _proto.resizeBG = function resizeBG() {
          if (!this.bg) return;
          var screenResolution = screen.windowSize.width / screen.windowSize.height;
          var designResolution = DESIGN_RESOLUTION_WIDTH / DESIGN_RESOLUTION_HEIGHT;
          var scaleFactor = designResolution < screenResolution ? screenResolution / designResolution : designResolution / screenResolution;
          if (!this.useScaleSystem) {
            var _size = pMathUtils.mulF('Size', this._originalContentSize, scaleFactor, scaleFactor);
            this._transform.setContentSize(_size);
          } else {
            this.bg.setScale(scaleFactor, scaleFactor);
          }
        };
        return UIScaleBG;
      }(Component), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "bg", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "useScaleSystem", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return false;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UISetting.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts', './GameManager.ts', './Enums.ts', './UIController.ts', './LanguageManager.ts', './GlobalConfig.ts', './UINotice.ts', './EventManager.ts', './Decorators.ts', './DBStorage.ts', './JsonUtils.ts', './AudioManager.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _asyncToGenerator, _regeneratorRuntime, cclegacy, _decorator, Label, Button, Slider, Toggle, Node, ProgressBar, sys, UIBase, GameManager, ELanguageCode, UIType, UIController, LanguageMananger, GlobalConfig, UINotice, pEventManager, pDecorators, DBStorage, JsonUtils, NSAudio;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Label = module.Label;
      Button = module.Button;
      Slider = module.Slider;
      Toggle = module.Toggle;
      Node = module.Node;
      ProgressBar = module.ProgressBar;
      sys = module.sys;
    }, function (module) {
      UIBase = module.UIBase;
    }, function (module) {
      GameManager = module.GameManager;
    }, function (module) {
      ELanguageCode = module.ELanguageCode;
      UIType = module.UIType;
    }, function (module) {
      UIController = module.UIController;
    }, function (module) {
      LanguageMananger = module.LanguageMananger;
    }, function (module) {
      GlobalConfig = module.default;
    }, function (module) {
      UINotice = module.UINotice;
    }, function (module) {
      pEventManager = module.pEventManager;
    }, function (module) {
      pDecorators = module.pDecorators;
    }, function (module) {
      DBStorage = module.DBStorage;
    }, function (module) {
      JsonUtils = module.default;
    }, function (module) {
      NSAudio = module.NSAudio;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _dec11, _dec12, _dec13, _dec14, _dec15, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9, _descriptor10, _descriptor11, _descriptor12, _descriptor13, _descriptor14, _descriptor15;
      cclegacy._RF.push({}, "4f552zB7HZFLLg7+bhNpU9g", "UISetting", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property,
        type = _decorator.type;
      var UISetting = exports('UISetting', (_dec = ccclass('UISetting'), _dec2 = type(Label), _dec3 = type(Label), _dec4 = type(Button), _dec5 = type(Button), _dec6 = type(Slider), _dec7 = type(Toggle), _dec8 = type(Toggle), _dec9 = type(Button), _dec10 = type(Button), _dec11 = type(Toggle), _dec12 = type(Node), _dec13 = type(ProgressBar), _dec14 = type(Button), _dec15 = type(Button), _dec(_class = (_class2 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UISetting, _UIBase);
        function UISetting() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "lblUserName", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lblLang", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnLogout", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnChangeLang", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "sliderSound", _descriptor5, _assertThisInitialized(_this));
          //UISLider
          _initializerDefineProperty(_this, "toggleMusicOn", _descriptor6, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "toggleMusicOff", _descriptor7, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnDecSound", _descriptor8, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnIncSound", _descriptor9, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "toggleVibration", _descriptor10, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "nodeVibration", _descriptor11, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "soundBar", _descriptor12, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnOtherSetting", _descriptor13, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnLinkEmail", _descriptor14, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "sliderStep", _descriptor15, _assertThisInitialized(_this));
          _this.langs = {
            "en": "English",
            "vi": "Vietnamese",
            "ja": "Japanese"
          };
          _this._events = [['onVerifyEmail', _this._onVerifyEmail, _assertThisInitialized(_this)]];
          return _this;
        }
        var _proto = UISetting.prototype;
        _proto._onStart = function _onStart() {
          this._addToggler(this.toggleMusicOn, this.onTurnOnMusic, this);
          this._addToggler(this.toggleMusicOn, this.onTurnOffMusic, this);
          this._addClicker(this.btnLogout, this._actLogout, this);
          this._addClicker(this.btnChangeLang, this._actChangeLang, this);
          this._addClicker(this.btnDecSound, this.decSound, this);
          this._addClicker(this.btnIncSound, this.incSound, this);
          this._addToggler(this.toggleVibration, this.onToggleVibration, this);
          this.addUIComponentEvent(this.sliderSound, 'slide', this.onSlideSound, this, false);
          // this.addUIComponentEvent(this.sliderMusic, 'slide', this.onSlideMusic, this, false);
          this._addClicker(this.btnOtherSetting, this._actOpenOtherSetting, this);
          this._addClicker(this.btnLinkEmail, this.linkEmail, this);
        };
        _proto._onLoad = function _onLoad() {
          pEventManager.on(this._events);
        };
        _proto._onDestroy = function _onDestroy() {
          pEventManager.off(this._events);
        };
        _proto._open = /*#__PURE__*/function () {
          var _open2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {
            var storage, db, _am, _data, _lc;
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  this.nodeVibration.active = !sys.isMobile && !sys.isBrowser;
                  this.lblUserName.string = GlobalConfig.instance.Login.player.information.display_name;
                  storage = GameManager.Instance.getStorage();
                  db = pDecorators.instance(DBStorage);
                  _am = pDecorators.instance(NSAudio.Manager);
                  _data = db.gets("VIBRATION");
                  _context.next = 8;
                  return storage.gets('LANGUAGE');
                case 8:
                  _lc = _context.sent;
                  JsonUtils.isValidData(_lc.LANGUAGE) && this.updateLang(_lc.LANGUAGE);
                  if (!_am.isOnMusic) {
                    this._setProgress(0);
                    this.toggleMusicOff.isChecked = true;
                  } else {
                    this._setProgress(_am.musicVol);
                    this.toggleMusicOn.isChecked = true;
                  }
                  this.toggleVibration.isChecked = _data.VIBRATION == "true" ? false : true;
                  _context.next = 14;
                  return _UIBase.prototype._open.call(this);
                case 14:
                case "end":
                  return _context.stop();
              }
            }, _callee, this);
          }));
          function _open() {
            return _open2.apply(this, arguments);
          }
          return _open;
        }();
        _proto._onOpen = function _onOpen() {
          var player = GlobalConfig.instance.Login.player;
          var information = player.information;
          var email_verified = information.email_verified;
          this.btnLinkEmail.node.active = !email_verified;
          this.lblLang.string = LanguageMananger.instance.code === ELanguageCode.VIETNAMESE ? "Ting Vit" : LanguageMananger.instance.code === ELanguageCode.ENGLISH ? "English" : "";
        };
        _proto._onVerifyEmail = function _onVerifyEmail() {
          this.btnLinkEmail.node.active = false;
        };
        _proto._close = /*#__PURE__*/function () {
          var _close2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {
            return _regeneratorRuntime().wrap(function _callee2$(_context2) {
              while (1) switch (_context2.prev = _context2.next) {
                case 0:
                  _context2.next = 2;
                  return this.saveData();
                case 2:
                  _UIBase.prototype._close.call(this);
                case 3:
                case "end":
                  return _context2.stop();
              }
            }, _callee2, this);
          }));
          function _close() {
            return _close2.apply(this, arguments);
          }
          return _close;
        }();
        _proto._actLogout = function _actLogout() {
          UINotice.instance.show('txt_title_alert_logout1', "txt_logout_alert2", 'txt_btn_confirm1', function () {
            return GlobalConfig.instance.logout();
          }, 'txt_btn_cancel');
        };
        _proto.linkEmail = function linkEmail() {
          UIController.Instance.open(UIType.REGISTER_EMAIL);
        };
        _proto._actChangeLang = /*#__PURE__*/function () {
          var _actChangeLang2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {
            var ui;
            return _regeneratorRuntime().wrap(function _callee3$(_context3) {
              while (1) switch (_context3.prev = _context3.next) {
                case 0:
                  _context3.next = 2;
                  return UIController.Instance.open(UIType.SETTING_LANGUAGE);
                case 2:
                  ui = _context3.sent;
                  ui == null || ui.setCallbackOnClose(this.updateLang, this);
                case 4:
                case "end":
                  return _context3.stop();
              }
            }, _callee3, this);
          }));
          function _actChangeLang() {
            return _actChangeLang2.apply(this, arguments);
          }
          return _actChangeLang;
        }();
        _proto.updateLang = function updateLang(langCode) {
          LanguageMananger.instance.setLanguage(langCode);
          this.lblLang.string = this.langs[langCode];
        };
        _proto.decSound = function decSound() {
          this._setProgress(Math.max(0, this.sliderSound.progress - this.sliderStep));
          this._updateSliderVisual(this.sliderSound);
        };
        _proto.incSound = function incSound() {
          this._setProgress(Math.min(1, this.sliderSound.progress + this.sliderStep));
          this._updateSliderVisual(this.sliderSound);
        };
        _proto.onToggleVibration = function onToggleVibration(toggle) {
          pEventManager.invoke('onVibrateChange', toggle.isChecked);
        };
        _proto._setProgress = function _setProgress(prog) {
          this.sliderSound.progress = prog;
          this.soundBar.progress = prog;
        };
        _proto.onSlideSound = function onSlideSound(slider) {
          this._updateSliderVisual(slider);
        };
        _proto._updateSliderVisual = function _updateSliderVisual(slider) {
          var progress = slider.progress;
          this.soundBar.progress = progress;
          var _am = pDecorators.instance(NSAudio.Manager);
          if (progress > 0) {
            if (!this.toggleMusicOn.isChecked) this.toggleMusicOn.isChecked = true;
            _am.actUpdateMusicVolume(this.sliderSound.progress, false);
          } else {
            if (!this.toggleMusicOff.isChecked) this.toggleMusicOff.isChecked = true;
            _am.actUpdateMusicVolume(this.sliderSound.progress, false);
          }
        };
        _proto.onTurnOnMusic = function onTurnOnMusic() {
          if (this.toggleMusicOn.isChecked) {
            var _am = pDecorators.instance(NSAudio.Manager);
            this.soundBar.progress = this.sliderSound.progress = _am.musicVol;
            _am.actUpdateMusic(true, false);
          }
        };
        _proto.onTurnOffMusic = function onTurnOffMusic() {
          if (this.toggleMusicOff.isChecked) {
            var _am = pDecorators.instance(NSAudio.Manager);
            this.soundBar.progress = this.sliderSound.progress = 0;
            _am.actUpdateMusic(false, false);
          }
        };
        _proto.saveData = function saveData() {
          var _db = pDecorators.instance(DBStorage);
          pDecorators.instance(NSAudio.Manager).actSaveMusic();
          try {
            return _db.save({
              key: 'VIBRATION',
              value: this.toggleVibration.isChecked.toString()
            });
          } catch (error) {}
        };
        _proto._actOpenOtherSetting = /*#__PURE__*/function () {
          var _actOpenOtherSetting2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {
            var ui;
            return _regeneratorRuntime().wrap(function _callee4$(_context4) {
              while (1) switch (_context4.prev = _context4.next) {
                case 0:
                  _context4.next = 2;
                  return UIController.Instance.open(UIType.SETTING_OTHER_SETTING);
                case 2:
                  ui = _context4.sent;
                  ui == null || ui.setBackUI(this.uiType);
                  this.close();
                case 5:
                case "end":
                  return _context4.stop();
              }
            }, _callee4, this);
          }));
          function _actOpenOtherSetting() {
            return _actOpenOtherSetting2.apply(this, arguments);
          }
          return _actOpenOtherSetting;
        }();
        return UISetting;
      }(UIBase), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "lblUserName", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "lblLang", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "btnLogout", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "btnChangeLang", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "sliderSound", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, "toggleMusicOn", [_dec7], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor7 = _applyDecoratedDescriptor(_class2.prototype, "toggleMusicOff", [_dec8], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor8 = _applyDecoratedDescriptor(_class2.prototype, "btnDecSound", [_dec9], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor9 = _applyDecoratedDescriptor(_class2.prototype, "btnIncSound", [_dec10], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor10 = _applyDecoratedDescriptor(_class2.prototype, "toggleVibration", [_dec11], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor11 = _applyDecoratedDescriptor(_class2.prototype, "nodeVibration", [_dec12], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor12 = _applyDecoratedDescriptor(_class2.prototype, "soundBar", [_dec13], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor13 = _applyDecoratedDescriptor(_class2.prototype, "btnOtherSetting", [_dec14], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor14 = _applyDecoratedDescriptor(_class2.prototype, "btnLinkEmail", [_dec15], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor15 = _applyDecoratedDescriptor(_class2.prototype, "sliderStep", [property], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return 0.1;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UISettingLanguage.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts', './Enums.ts', './LanguageManager.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, cclegacy, _decorator, ToggleContainer, UIBase, ELanguageCode, LanguageMananger;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      ToggleContainer = module.ToggleContainer;
    }, function (module) {
      UIBase = module.UIBase;
    }, function (module) {
      ELanguageCode = module.ELanguageCode;
    }, function (module) {
      LanguageMananger = module.LanguageMananger;
    }],
    execute: function () {
      var _dec, _dec2, _class, _class2, _descriptor;
      cclegacy._RF.push({}, "3ceceD7cCpEfYD+okM7Wk1Z", "UISettingLanguage", undefined);
      var ccclass = _decorator.ccclass,
        type = _decorator.type;
      var UISettingLanguage = exports('UISettingLanguage', (_dec = ccclass('UISettingLanguage'), _dec2 = type(ToggleContainer), _dec(_class = (_class2 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UISettingLanguage, _UIBase);
        function UISettingLanguage() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "langTC", _descriptor, _assertThisInitialized(_this));
          _this.callbackOnClose = null;
          _this.callBackOnCloseTarget = null;
          return _this;
        }
        var _proto = UISettingLanguage.prototype;
        _proto.onEnable = function onEnable() {
          switch (LanguageMananger.instance.code) {
            case ELanguageCode.VIETNAMESE:
              this.langTC.toggleItems[0].isChecked = true;
              break;
            case ELanguageCode.ENGLISH:
              this.langTC.toggleItems[1].isChecked = true;
              break;
            case ELanguageCode.JAPANESE:
              this.langTC.toggleItems[2].isChecked = true;
              break;
          }
        };
        _proto._onStart = function _onStart() {
          this.addToggleContainerEvent(this.langTC, this.onChangeLang, this);
        };
        _proto.onChangeLang = function onChangeLang(numIndex) {
          var langcode = ELanguageCode.VIETNAMESE;
          switch (numIndex) {
            case 0:
              langcode = ELanguageCode.VIETNAMESE;
              break;
            case 1:
              langcode = ELanguageCode.ENGLISH;
              break;
            case 2:
              langcode = ELanguageCode.JAPANESE;
              break;
          }
          if (this.callbackOnClose != null && this.callBackOnCloseTarget != null) {
            this.callbackOnClose.call(this.callBackOnCloseTarget, langcode);
          }
        };
        _proto.setCallbackOnClose = function setCallbackOnClose(callback, target) {
          this.callbackOnClose = callback;
          this.callBackOnCloseTarget = target;
        };
        return UISettingLanguage;
      }(UIBase), _descriptor = _applyDecoratedDescriptor(_class2.prototype, "langTC", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UISettingLogOut.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts', './GameManager.ts', './Enums.ts', './GlobalConfig.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, cclegacy, _decorator, Button, UIBase, GameManager, EGameState, GlobalConfig;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Button = module.Button;
    }, function (module) {
      UIBase = module.UIBase;
    }, function (module) {
      GameManager = module.GameManager;
    }, function (module) {
      EGameState = module.EGameState;
    }, function (module) {
      GlobalConfig = module.default;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _class, _class2, _descriptor, _descriptor2;
      cclegacy._RF.push({}, "aaebayBTNFDHq3gGBj9UGyA", "UISettingLogOut", undefined);
      var ccclass = _decorator.ccclass,
        type = _decorator.type;
      var UISettingLogOut = exports('UISettingLogOut', (_dec = ccclass('UISettingLogOut'), _dec2 = type(Button), _dec3 = type(Button), _dec(_class = (_class2 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UISettingLogOut, _UIBase);
        function UISettingLogOut() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "btnCancel", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnOk", _descriptor2, _assertThisInitialized(_this));
          return _this;
        }
        var _proto = UISettingLogOut.prototype;
        _proto._onStart = function _onStart() {
          this._addClicker(this.btnCancel, this.close, this);
          this._addClicker(this.btnOk, this.logout, this);
        };
        _proto.logout = function logout() {
          GameManager.Instance.loadScene(EGameState.LOGIN);
          GlobalConfig.instance.onLoginFail();
        };
        return UISettingLogOut;
      }(UIBase), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "btnCancel", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "btnOk", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UISettingOther.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts', './Enums.ts', './UIController.ts', './Decorators.ts', './DBStorage.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _asyncToGenerator, _regeneratorRuntime, cclegacy, _decorator, Toggle, Button, Label, UIBase, UIType, UIController, pDecorators, DBStorage;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Toggle = module.Toggle;
      Button = module.Button;
      Label = module.Label;
    }, function (module) {
      UIBase = module.UIBase;
    }, function (module) {
      UIType = module.UIType;
    }, function (module) {
      UIController = module.UIController;
    }, function (module) {
      pDecorators = module.pDecorators;
    }, function (module) {
      DBStorage = module.DBStorage;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7;
      cclegacy._RF.push({}, "374471CEi9A3bHCFLTNmyMV", "UISettingOther", undefined);
      var ccclass = _decorator.ccclass,
        type = _decorator.type;
      var UISettingOther = exports('UISettingOther', (_dec = ccclass('UISettingOther'), _dec2 = type(Toggle), _dec3 = type(Toggle), _dec4 = type(Button), _dec5 = type(Button), _dec6 = type(Button), _dec7 = type(Button), _dec8 = type(Label), _dec(_class = (_class2 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UISettingOther, _UIBase);
        function UISettingOther() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "toggleAutoSitDown", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "toggleAutoBuy", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnPrivacy", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnRemoveCache", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnRate", _descriptor5, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnRemoveAcc", _descriptor6, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lblVersion", _descriptor7, _assertThisInitialized(_this));
          return _this;
        }
        var _proto = UISettingOther.prototype;
        _proto._onStart = function _onStart() {
          this._addToggler(this.toggleAutoBuy, this._onToggleAutoBuy, this);
          this._addToggler(this.toggleAutoSitDown, this._onToggleAutoSitDown, this);
          this._addClicker(this.btnPrivacy, this._actViewPrivacy, this);
          this._addClicker(this.btnRemoveCache, this._actRemoveCache, this);
          this._addClicker(this.btnRate, this._actRatingGame, this);
          this._addClicker(this.btnRemoveAcc, this._actRemoveAcc, this);
        };
        _proto._onOpen = function _onOpen() {
          this.loadData();
        };
        _proto._onClose = function _onClose() {
          this.saveData();
        };
        _proto._onToggleAutoBuy = function _onToggleAutoBuy() {};
        _proto._onToggleAutoSitDown = function _onToggleAutoSitDown() {};
        _proto.saveData = function saveData() {
          var _db = pDecorators.instance(DBStorage);
          _db.save({
            key: 'AUTO_BUY_IN',
            value: this.toggleAutoBuy.isChecked.toString()
          }, {
            key: 'AUTO_SIT_DOWN',
            value: this.toggleAutoSitDown.isChecked.toString()
          });
        };
        _proto.loadData = /*#__PURE__*/function () {
          var _loadData = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {
            var _db;
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  _db = pDecorators.instance(DBStorage);
                  this.toggleAutoSitDown.isChecked = _db.load('AUTO_SIT_DOWN', false);
                  this.toggleAutoBuy.isChecked = _db.load('AUTO_BUY_IN', false);
                case 3:
                case "end":
                  return _context.stop();
              }
            }, _callee, this);
          }));
          function loadData() {
            return _loadData.apply(this, arguments);
          }
          return loadData;
        }();
        _proto._actViewPrivacy = function _actViewPrivacy() {
          UIController.Instance.open(UIType.SETTING_PRIVACY);
        };
        _proto._actRemoveCache = function _actRemoveCache() {
          UIController.Instance.open(UIType.SETTING_REMOVE_CACHE);
        };
        _proto._actRatingGame = function _actRatingGame() {};
        _proto._actRemoveAcc = function _actRemoveAcc() {
          UIController.Instance.open(UIType.SETTING_REMOVE_ACC);
        };
        return UISettingOther;
      }(UIBase), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "toggleAutoSitDown", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "toggleAutoBuy", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "btnPrivacy", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "btnRemoveCache", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "btnRate", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, "btnRemoveAcc", [_dec7], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor7 = _applyDecoratedDescriptor(_class2.prototype, "lblVersion", [_dec8], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UISettingPrivacy.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, cclegacy, _decorator, Button, UIBase;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Button = module.Button;
    }, function (module) {
      UIBase = module.UIBase;
    }],
    execute: function () {
      var _dec, _dec2, _class, _class2, _descriptor;
      cclegacy._RF.push({}, "d2217ijxyREr6W0M6RjT5CQ", "UISettingPrivacy", undefined);
      var ccclass = _decorator.ccclass,
        type = _decorator.type;
      var UISettingPrivacy = exports('UISettingPrivacy', (_dec = ccclass('UISettingPrivacy'), _dec2 = type(Button), _dec(_class = (_class2 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UISettingPrivacy, _UIBase);
        function UISettingPrivacy() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "btnOk", _descriptor, _assertThisInitialized(_this));
          return _this;
        }
        var _proto = UISettingPrivacy.prototype;
        _proto._onStart = function _onStart() {
          this._addClicker(this.btnOk, this.close, this);
        };
        return UISettingPrivacy;
      }(UIBase), _descriptor = _applyDecoratedDescriptor(_class2.prototype, "btnOk", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UISettingRemoveAcc.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts', './GlobalConfig.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, cclegacy, _decorator, Button, UIBase, GlobalConfig;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Button = module.Button;
    }, function (module) {
      UIBase = module.UIBase;
    }, function (module) {
      GlobalConfig = module.default;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _class, _class2, _descriptor, _descriptor2;
      cclegacy._RF.push({}, "c5224PGb1hGw6wZChD7Lmjh", "UISettingRemoveAcc", undefined);
      var ccclass = _decorator.ccclass,
        type = _decorator.type;
      var UISettingRemoveAcc = exports('UISettingRemoveAcc', (_dec = ccclass('UISettingRemoveAcc'), _dec2 = type(Button), _dec3 = type(Button), _dec(_class = (_class2 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UISettingRemoveAcc, _UIBase);
        function UISettingRemoveAcc() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "btnRemove", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnCancel", _descriptor2, _assertThisInitialized(_this));
          return _this;
        }
        var _proto = UISettingRemoveAcc.prototype;
        _proto._onStart = function _onStart() {
          this._addClicker(this.btnRemove, this._actConfirm, this);
          this._addClicker(this.btnCancel, this.close, this);
        };
        _proto._actConfirm = function _actConfirm() {
          GlobalConfig.instance.logout();
        };
        return UISettingRemoveAcc;
      }(UIBase), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "btnRemove", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "btnCancel", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UISettingRemoveCache.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts'], function (exports) {
  var _inheritsLoose, cclegacy, _decorator, UIBase;
  return {
    setters: [function (module) {
      _inheritsLoose = module.inheritsLoose;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
    }, function (module) {
      UIBase = module.UIBase;
    }],
    execute: function () {
      var _dec, _class;
      cclegacy._RF.push({}, "38c8fBKE5VKPIqstXrYCmTu", "UISettingRemoveCache", undefined);
      var ccclass = _decorator.ccclass;
      var UISettingRemoveCache = exports('UISettingRemoveCache', (_dec = ccclass('UISettingRemoveCache'), _dec(_class = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UISettingRemoveCache, _UIBase);
        function UISettingRemoveCache() {
          return _UIBase.apply(this, arguments) || this;
        }
        return UISettingRemoveCache;
      }(UIBase)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIShop.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts', './Enums.ts', './UIShopPage.ts', './GlobalConfig.ts', './TogglerManager.ts', './EnumUtils.ts', './ShopManager.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _createClass, _asyncToGenerator, _regeneratorRuntime, cclegacy, _decorator, Prefab, Node, instantiate, UIBase, EShopType, UIShopPage, GlobalConfig, NSToggler, NSEnumUtils, NSShopManager;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _createClass = module.createClass;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Prefab = module.Prefab;
      Node = module.Node;
      instantiate = module.instantiate;
    }, function (module) {
      UIBase = module.UIBase;
    }, function (module) {
      EShopType = module.EShopType;
    }, function (module) {
      UIShopPage = module.UIShopPage;
    }, function (module) {
      GlobalConfig = module.default;
    }, function (module) {
      NSToggler = module.NSToggler;
    }, function (module) {
      NSEnumUtils = module.NSEnumUtils;
    }, function (module) {
      NSShopManager = module.NSShopManager;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _class, _class2, _descriptor, _descriptor2, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _class4, _class5, _descriptor3, _descriptor4, _descriptor5;
      cclegacy._RF.push({}, "235achP9PRIBabYWCrd7OuO", "UIShop", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var _UIShopPage = (_dec = ccclass('UIShop.UIShopPage'), _dec2 = property({
        type: EShopType,
        readonly: true
      }), _dec3 = property(Prefab), _dec(_class = (_class2 = /*#__PURE__*/function () {
        function _UIShopPage() {
          _initializerDefineProperty(this, "filter", _descriptor, this);
          _initializerDefineProperty(this, "prefab", _descriptor2, this);
        }
        _UIShopPage.create = function create(filter) {
          var _data = new _UIShopPage();
          _data.filter = filter;
          return _data;
        };
        return _UIShopPage;
      }(), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "filter", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return EShopType.CHIP;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "prefab", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class);
      var UIShop = exports('UIShop', (_dec4 = ccclass('UIShop'), _dec5 = property(NSToggler.Manager), _dec6 = property({
        type: NSToggler.Manager
      }), _dec7 = property([_UIShopPage]), _dec8 = property({
        type: [_UIShopPage],
        readonly: true
      }), _dec9 = property(Node), _dec4(_class4 = (_class5 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UIShop, _UIBase);
        function UIShop() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "_toggler", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "_pages", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "content", _descriptor5, _assertThisInitialized(_this));
          _this._filter = null;
          return _this;
        }
        var _proto = UIShop.prototype;
        _proto._onLoad = function _onLoad() {
          this._toggler.add('onToggle', {
            _function: this._onFilterChange,
            _this: this
          });
        };
        _proto._onOpen = /*#__PURE__*/function () {
          var _onOpen2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(page) {
            var _page;
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  GlobalConfig.instance.loading.open();
                  _page = this.toggler.get(page);
                  if (!_page) {
                    _context.next = 6;
                    break;
                  }
                  _page.check(true);
                  _context.next = 6;
                  return this._actLoadData(page);
                case 6:
                  GlobalConfig.instance.loading.close();
                case 7:
                case "end":
                  return _context.stop();
              }
            }, _callee, this);
          }));
          function _onOpen(_x) {
            return _onOpen2.apply(this, arguments);
          }
          return _onOpen;
        }();
        _proto._onClose = function _onClose() {};
        _proto._onFilterChange = /*#__PURE__*/function () {
          var _onFilterChange2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(type) {
            return _regeneratorRuntime().wrap(function _callee2$(_context2) {
              while (1) switch (_context2.prev = _context2.next) {
                case 0:
                  GlobalConfig.instance.loading.open();
                  type = Number(EShopType[type]);
                  if (!(this._filter === type)) {
                    _context2.next = 4;
                    break;
                  }
                  return _context2.abrupt("return");
                case 4:
                  this._filter = type;
                  _context2.next = 7;
                  return this._actLoadData(type);
                case 7:
                  GlobalConfig.instance.loading.close();
                case 8:
                case "end":
                  return _context2.stop();
              }
            }, _callee2, this);
          }));
          function _onFilterChange(_x2) {
            return _onFilterChange2.apply(this, arguments);
          }
          return _onFilterChange;
        }();
        _proto._actLoadData = /*#__PURE__*/function () {
          var _actLoadData2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(type) {
            var _target, _node, _comp, _data;
            return _regeneratorRuntime().wrap(function _callee3$(_context3) {
              while (1) switch (_context3.prev = _context3.next) {
                case 0:
                  _target = this._pages.find(function (_page) {
                    return _page.filter === type;
                  });
                  if (!_target) this.log("Err _actLoadData: No page found for type", type);
                  _node = instantiate(_target.prefab);
                  _comp = _node.getComponent(UIShopPage);
                  if (_comp) {
                    _context3.next = 6;
                    break;
                  }
                  return _context3.abrupt("return");
                case 6:
                  this.content.removeAllChildren();
                  this.content.addChild(_node);
                  _context3.next = 10;
                  return NSShopManager.instance().get();
                case 10:
                  _data = _context3.sent;
                  _comp.init(_data[EShopType[type]], type);
                case 12:
                case "end":
                  return _context3.stop();
              }
            }, _callee3, this);
          }));
          function _actLoadData(_x3) {
            return _actLoadData2.apply(this, arguments);
          }
          return _actLoadData;
        }();
        _createClass(UIShop, [{
          key: "toggler",
          get: function get() {
            return this._toggler;
          },
          set: function set(v) {
            var _this$_toggler;
            this._toggler = v;
            (_this$_toggler = this._toggler) == null || _this$_toggler.resetup(NSEnumUtils.utils.array(EShopType));
          }
        }, {
          key: "pages",
          get: function get() {
            var _this2 = this;
            NSEnumUtils.utils.array(EShopType).forEach(function (_type, _index) {
              if (_this2._pages[_index]) return;
              _this2._pages[_index] = _UIShopPage.create(_index);
            });
            return this._pages;
          }
        }]);
        return UIShop;
      }(UIBase), (_descriptor3 = _applyDecoratedDescriptor(_class5.prototype, "_toggler", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _applyDecoratedDescriptor(_class5.prototype, "toggler", [_dec6], Object.getOwnPropertyDescriptor(_class5.prototype, "toggler"), _class5.prototype), _descriptor4 = _applyDecoratedDescriptor(_class5.prototype, "_pages", [_dec7], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return [];
        }
      }), _applyDecoratedDescriptor(_class5.prototype, "pages", [_dec8], Object.getOwnPropertyDescriptor(_class5.prototype, "pages"), _class5.prototype), _descriptor5 = _applyDecoratedDescriptor(_class5.prototype, "content", [_dec9], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class5)) || _class4));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIShopPage.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc'], function (exports) {
  var _inheritsLoose, cclegacy, _decorator, Component;
  return {
    setters: [function (module) {
      _inheritsLoose = module.inheritsLoose;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Component = module.Component;
    }],
    execute: function () {
      var _dec, _class;
      cclegacy._RF.push({}, "37d48SIZOZGFaT8xVxB2kkV", "UIShopPage", undefined);
      var ccclass = _decorator.ccclass;
      var UIShopPage = exports('UIShopPage', (_dec = ccclass('UIShopPage'), _dec(_class = /*#__PURE__*/function (_Component) {
        _inheritsLoose(UIShopPage, _Component);
        function UIShopPage() {
          return _Component.apply(this, arguments) || this;
        }
        var _proto = UIShopPage.prototype;
        _proto.init = function init(_data, type) {};
        return UIShopPage;
      }(Component)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIShortText.ts", ['cc'], function () {
  var cclegacy;
  return {
    setters: [function (module) {
      cclegacy = module.cclegacy;
    }],
    execute: function () {
      cclegacy._RF.push({}, "5396a9LZzREsZcrIUlWvUt8", "UIShortText", undefined);
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UISlider.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './EventDriver.ts', './Enums.ts'], function (exports) {
  var _inheritsLoose, _createClass, _applyDecoratedDescriptor, _initializerDefineProperty, _assertThisInitialized, cclegacy, _decorator, Slider, Sprite, Enum, NodeEventType, v3, NSEventDriver, EAudioID;
  return {
    setters: [function (module) {
      _inheritsLoose = module.inheritsLoose;
      _createClass = module.createClass;
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Slider = module.Slider;
      Sprite = module.Sprite;
      Enum = module.Enum;
      NodeEventType = module.NodeEventType;
      v3 = module.v3;
    }, function (module) {
      NSEventDriver = module.NSEventDriver;
    }, function (module) {
      EAudioID = module.EAudioID;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4;
      cclegacy._RF.push({}, "f5856/MuYJIkZkYPTeZjjZx", "UISlider", undefined);
      var ccclass = _decorator.ccclass,
        type = _decorator.type,
        property = _decorator.property;
      var UISlider = exports('UISlider', (_dec = ccclass('UISlider'), _dec2 = type(Slider), _dec3 = type(Sprite), _dec4 = type(Enum(EAudioID)), _dec5 = property({}), _dec(_class = (_class2 = /*#__PURE__*/function (_NSEventDriver$Compon) {
        _inheritsLoose(UISlider, _NSEventDriver$Compon);
        function UISlider() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _NSEventDriver$Compon.call.apply(_NSEventDriver$Compon, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "sliderCpm", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "imageProcess", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "audio", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "floor", _descriptor4, _assertThisInitialized(_this));
          _this._current = 0;
          _this._min = 0;
          _this._max = 1;
          _this._slideChecker = function () {
            return true;
          };
          _this._save = {
            position: v3(),
            progress: 0
          };
          return _this;
        }
        var _proto = UISlider.prototype;
        _proto.onLoad = function onLoad() {
          this._binder('on');
        };
        _proto._binder = function _binder(type) {
          if (!this.sliderCpm || !this.sliderCpm.node) return;
          this.sliderCpm.node[type]('slide', this._onSliderSlide, this);
          this.sliderCpm.handle.node[type](NodeEventType.TOUCH_END, this._onSlideDone, this);
          this.sliderCpm.handle.node[type](NodeEventType.TOUCH_CANCEL, this._onSlideDone, this);
          this.sliderCpm.handle.node[type](NodeEventType.TOUCH_START, this._onSlideStart, this);
        };
        _proto.onEnable = function onEnable() {
          if (this.imageProcess.type == Sprite.Type.FILLED) {
            this.imageProcess.fillRange = this.sliderCpm.progress;
          }
          this._onSliderSlide();
        };
        _proto.onDestroy = function onDestroy() {
          this._binder('off');
        };
        _proto._onSlideStart = function _onSlideStart() {
          this._save.position = this.sliderCpm.handle.node.position.clone();
          this._save.progress = this.sliderCpm.progress;
        };
        _proto.set = function set(event, listener) {
          var _NSEventDriver$Compon2;
          for (var _len2 = arguments.length, listeners = new Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {
            listeners[_key2 - 2] = arguments[_key2];
          }
          (_NSEventDriver$Compon2 = _NSEventDriver$Compon.prototype.set).call.apply(_NSEventDriver$Compon2, [this, event, listener].concat(listeners));
        };
        _proto.add = function add(event, listener) {
          var _NSEventDriver$Compon3;
          for (var _len3 = arguments.length, listeners = new Array(_len3 > 2 ? _len3 - 2 : 0), _key3 = 2; _key3 < _len3; _key3++) {
            listeners[_key3 - 2] = arguments[_key3];
          }
          (_NSEventDriver$Compon3 = _NSEventDriver$Compon.prototype.add).call.apply(_NSEventDriver$Compon3, [this, event, listener].concat(listeners));
        };
        _proto._onSlideDone = function _onSlideDone() {
          var progress = this.sliderCpm.progress;
          var current = this._min + (this._max - this._min) * progress;
          var is = !this._event.isEmpty('checker') ? this.invoke('checker', progress, current).every(function (e) {
            return !!e;
          }) : true;
          if (is) return;
          this.sliderCpm.handle.node.setPosition(this._save.position);
          this.sliderCpm.progress = this._save.progress;
          this._onSliderSlide();
        };
        _proto._onSliderSlide = function _onSliderSlide() {
          this.setDisplayProcess(this.sliderCpm.progress);
        };
        _proto.setValue = function setValue(value, isInvokeEvent) {
          if (isInvokeEvent === void 0) {
            isInvokeEvent = true;
          }
          this.setDisplayProcess(this._min == this._max ? 1 : (value - this._min) / (this._max - this._min), isInvokeEvent);
        };
        _proto.setDisplayProcess = function setDisplayProcess(value, isInvokeEvent) {
          if (isInvokeEvent === void 0) {
            isInvokeEvent = true;
          }
          if (isNaN(value)) return;
          this._current = this._min + (this._max - this._min) * value;
          this.floor && (this._current = Math.floor(this._current));
          //pDecorators.instance(NSAudio.Manager).play(this.audio)

          this.sliderCpm.progress = value;
          if (this.imageProcess.type == Sprite.Type.FILLED) {
            this.imageProcess.fillRange = value;
          }
          if (isInvokeEvent) {
            this.invoke('onSlide', value, this._current);
            this._current >= this._max && this.invoke('onReachMax', value, this._current);
            this._current <= this._min && this.invoke('onReachMin', value, this._current);
          }
        };
        _proto.setValueSlider = function setValueSlider(min, max) {
          var _ref = min <= max ? [min, max] : [max, min];
          this._min = _ref[0];
          this._max = _ref[1];
        };
        _proto.setMaxCurrentValue = function setMaxCurrentValue() {
          this.setValue(this._max);
        };
        _proto.setMinCurrentValue = function setMinCurrentValue() {
          this.setValue(this._min);
        };
        _createClass(UISlider, [{
          key: "current",
          get: function get() {
            return this._current;
          }
        }, {
          key: "progress",
          get: function get() {
            return this.sliderCpm.progress;
          }
        }]);
        return UISlider;
      }(NSEventDriver.Component), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "sliderCpm", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "imageProcess", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "audio", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return EAudioID.SFX_SLIDER;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "floor", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return false;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UISpecialItem.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, cclegacy, _decorator, Label, RichText, Sprite, Node, Component;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Label = module.Label;
      RichText = module.RichText;
      Sprite = module.Sprite;
      Node = module.Node;
      Component = module.Component;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6;
      cclegacy._RF.push({}, "33e7afu5QVKwKX6qujJH8DW", "UISpecialItem", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var UISpecialItem = exports('UISpecialItem', (_dec = ccclass('UISpecialItem'), _dec2 = property(Label), _dec3 = property(Label), _dec4 = property(RichText), _dec5 = property(Sprite), _dec6 = property(Label), _dec7 = property(Node), _dec(_class = (_class2 = /*#__PURE__*/function (_Component) {
        _inheritsLoose(UISpecialItem, _Component);
        function UISpecialItem() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _Component.call.apply(_Component, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "lbTitle", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbNumberMustBuy", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "rtBonus", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "spPayIcon", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbPayNum", _descriptor5, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "saleNode", _descriptor6, _assertThisInitialized(_this));
          return _this;
        }
        var _proto = UISpecialItem.prototype;
        _proto.onButtonClick = function onButtonClick() {};
        return UISpecialItem;
      }(Component), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "lbTitle", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "lbNumberMustBuy", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "rtBonus", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "spPayIcon", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "lbPayNum", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, "saleNode", [_dec7], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UISpinHistory.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UISpinHistoryItem.ts', './UIBase.ts', './SpinGameCommand.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _asyncToGenerator, _regeneratorRuntime, cclegacy, _decorator, Prefab, Layout, Node, CCInteger, Button, Label, instantiate, UISpinHistoryItem, UIBase, request;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Prefab = module.Prefab;
      Layout = module.Layout;
      Node = module.Node;
      CCInteger = module.CCInteger;
      Button = module.Button;
      Label = module.Label;
      instantiate = module.instantiate;
    }, function (module) {
      UISpinHistoryItem = module.UISpinHistoryItem;
    }, function (module) {
      UIBase = module.UIBase;
    }, function (module) {
      request = module.default;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7;
      cclegacy._RF.push({}, "1abc7RoEdVEHbDAW/2nYLLB", "UISpinHistory", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var UISpinHistory = exports('UISpinHistory', (_dec = ccclass("UISpinHistory"), _dec2 = property(Prefab), _dec3 = property(Layout), _dec4 = property(Node), _dec5 = property({
        type: CCInteger,
        min: 1
      }), _dec6 = property(Button), _dec7 = property(Button), _dec8 = property(Label), _dec(_class = (_class2 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UISpinHistory, _UIBase);
        function UISpinHistory() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "item", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "items", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "loading", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "size", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "next", _descriptor5, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "prev", _descriptor6, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "page", _descriptor7, _assertThisInitialized(_this));
          _this._page = 1;
          return _this;
        }
        var _proto = UISpinHistory.prototype;
        _proto._onLoad = function _onLoad() {
          this._addClickers([{
            handlers: this._actNext,
            target: this.next
          }, {
            handlers: this._actPrev,
            target: this.prev
          }]);
        };
        _proto._actNext = function _actNext() {
          this._page++;
          this._fetch(this._page);
        };
        _proto._actPrev = function _actPrev() {
          this._page--;
          this._fetch(this._page);
        };
        _proto._onOpen = function _onOpen() {
          this._fetch(this._page);
        };
        _proto._fetch = /*#__PURE__*/function () {
          var _fetch2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(page) {
            var msg, data, history, pagination, length, _is, i, _his, _node, _item, _history, _i, _node2, currentPage, totalPages;
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  this.prev.interactable = false;
                  this.next.interactable = false;
                  this.loading.active = true;
                  _context.next = 5;
                  return request('getSpinHistory', {
                    page: page,
                    pageSize: this.size
                  });
                case 5:
                  msg = _context.sent;
                  data = msg.data;
                  history = data.history, pagination = data.pagination;
                  length = this.items.node.children.length;
                  _is = history.length < length;
                  for (i = 0; i < history.length; i++) {
                    _his = history[i];
                    _node = this.items.node.children[i];
                    _item = !!_node ? _node : instantiate(this.item);
                    _history = _item.getComponent(UISpinHistoryItem);
                    _history.init(_his, i != this.size - 1);
                    !_node && this.items.node.addChild(_item);
                  }
                  if (_is) {
                    for (_i = history.length; _i < length; _i++) {
                      _node2 = this.items.node.children[_i];
                      _node2 && _node2.removeFromParent();
                    }
                  }
                  this.loading.active = false;
                  currentPage = pagination.currentPage, totalPages = pagination.totalPages;
                  this.prev.interactable = currentPage > 1;
                  this.next.interactable = currentPage < totalPages;
                  this.page.string = "" + this._page;
                case 17:
                case "end":
                  return _context.stop();
              }
            }, _callee, this);
          }));
          function _fetch(_x) {
            return _fetch2.apply(this, arguments);
          }
          return _fetch;
        }();
        return UISpinHistory;
      }(UIBase), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "item", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "items", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "loading", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "size", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return 3;
        }
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "next", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, "prev", [_dec7], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor7 = _applyDecoratedDescriptor(_class2.prototype, "page", [_dec8], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UISpinHistoryItem.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './LinkListToggle.ts', './StringUtils.ts', './Constants.ts', './Enums.ts', './LanguageManager.ts', './UICardConfig.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, cclegacy, _decorator, Label, Sprite, Node, Component, NSLinkListToggle, pStringUtils, CardRank, getEnumFromKeys, ECardRank, LanguageMananger, UICardConfig;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Label = module.Label;
      Sprite = module.Sprite;
      Node = module.Node;
      Component = module.Component;
    }, function (module) {
      NSLinkListToggle = module.NSLinkListToggle;
    }, function (module) {
      pStringUtils = module.pStringUtils;
    }, function (module) {
      CardRank = module.CardRank;
    }, function (module) {
      getEnumFromKeys = module.getEnumFromKeys;
      ECardRank = module.ECardRank;
    }, function (module) {
      LanguageMananger = module.LanguageMananger;
    }, function (module) {
      UICardConfig = module.UICardConfig;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8;
      cclegacy._RF.push({}, "f9b69MKFE9GObBzdJ7WcKxl", "UISpinHistoryItem", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var UISpinHistoryItem = exports('UISpinHistoryItem', (_dec = ccclass('UISpinHistoryItem'), _dec2 = property(Label), _dec3 = property(Label), _dec4 = property(Label), _dec5 = property(Label), _dec6 = property([Sprite]), _dec7 = property(NSLinkListToggle.Component), _dec8 = property(Label), _dec9 = property(Node), _dec(_class = (_class2 = /*#__PURE__*/function (_Component) {
        _inheritsLoose(UISpinHistoryItem, _Component);
        function UISpinHistoryItem() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key2 = 0; _key2 < _len; _key2++) {
            args[_key2] = arguments[_key2];
          }
          _this = _Component.call.apply(_Component, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "date", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "bet", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "win", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "type", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "cards", _descriptor5, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lucky", _descriptor6, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "multiplier", _descriptor7, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "line", _descriptor8, _assertThisInitialized(_this));
          _this._hid = '';
          return _this;
        }
        var _proto = UISpinHistoryItem.prototype;
        _proto.init = function init(data, isActiveLine) {
          if (isActiveLine === void 0) {
            isActiveLine = true;
          }
          var timestamp = data.timestamp,
            betAmount = data.betAmount,
            handType = data.handType,
            cards = data.cards,
            reward = data.reward,
            isLucky = data.isLucky,
            multiplier = data.multiplier,
            id = data.id;
          try {
            this._hid = id;
            var date = new Date(timestamp);
            this.date.string = date.getDay + "/" + date.getMonth + "/" + date.getFullYear() + "\n" + date.getSeconds() + "-" + date.getMinutes() + "-" + date.getHours();
            this.bet.string = pStringUtils.formatNumberKMB(betAmount);
            this.win.string = pStringUtils.formatNumberKMB(reward);
            var _enum = getEnumFromKeys(ECardRank, handType);
            var _key = CardRank[_enum];
            this.type.string = LanguageMananger.instance.getString(_key);
            this.multiplier.string = "x" + multiplier;
            this.lucky.jump(isLucky ? 'on' : 'off');
            for (var i = 0; i < cards.length; i++) {
              var _card = cards[i];
              var _view = this.cards[i];
              var _info = UICardConfig.instance.get(_card);
              if (!_view || !_info) continue;
              _view.spriteFrame = _info.frame;
            }
            this.line.active = isActiveLine;
          } catch (e) {
            console.error('Error in UISpinHistoryItem init:', e);
            return false;
          }
          return true;
        };
        return UISpinHistoryItem;
      }(Component), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "date", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "bet", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "win", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "type", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "cards", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return [];
        }
      }), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, "lucky", [_dec7], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor7 = _applyDecoratedDescriptor(_class2.prototype, "multiplier", [_dec8], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor8 = _applyDecoratedDescriptor(_class2.prototype, "line", [_dec9], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UISpinRule.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './ResponeCode.ts', './Decorators.ts', './LanguageManager.ts', './UICardConfig.ts', './UIBase.ts', './SpinGameCommand.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _asyncToGenerator, _regeneratorRuntime, cclegacy, _decorator, Sprite, RichText, Label, ResponseCode, pDecorators, LanguageMananger, UICardConfig, UIBase, request;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Sprite = module.Sprite;
      RichText = module.RichText;
      Label = module.Label;
    }, function (module) {
      ResponseCode = module.ResponseCode;
    }, function (module) {
      pDecorators = module.pDecorators;
    }, function (module) {
      LanguageMananger = module.LanguageMananger;
    }, function (module) {
      UICardConfig = module.UICardConfig;
    }, function (module) {
      UIBase = module.UIBase;
    }, function (module) {
      request = module.default;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _dec11, _dec12, _dec13, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9, _descriptor10, _descriptor11;
      cclegacy._RF.push({}, "0ad53nW5ctAw7beOeSEsFbX", "UISpinRule", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var _LuckyGroup = {
        name: "Lucky",
        id: "1",
        displayOrder: 1
      };
      var _RuleGroup = {
        name: "Rule",
        id: "1",
        displayOrder: 2
      };
      var UISpinRule = exports('UISpinRule', (_dec = ccclass("UISpinRule"), _dec2 = pDecorators.logger("UISpinRule"), _dec3 = property({
        type: [Sprite],
        group: _LuckyGroup
      }), _dec4 = property({
        type: RichText,
        group: _LuckyGroup
      }), _dec5 = property({
        type: Label,
        group: _RuleGroup
      }), _dec6 = property({
        type: Label,
        group: _RuleGroup
      }), _dec7 = property({
        type: Label,
        group: _RuleGroup
      }), _dec8 = property({
        type: Label,
        group: _RuleGroup
      }), _dec9 = property({
        type: Label,
        group: _RuleGroup
      }), _dec10 = property({
        type: Label,
        group: _RuleGroup
      }), _dec11 = property({
        type: Label,
        group: _RuleGroup
      }), _dec12 = property({
        type: Label,
        group: _RuleGroup
      }), _dec13 = property({
        type: Label,
        group: _RuleGroup
      }), _dec(_class = _dec2(_class = (_class2 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UISpinRule, _UIBase);
        function UISpinRule() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "cards", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "rate", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lblRoyalFlushMul", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lblStraightFlushMul", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lblFourKindMul", _descriptor5, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lblFullHouseMul", _descriptor6, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lblFlushMul", _descriptor7, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lblStraightMul", _descriptor8, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lblThreeKindMul", _descriptor9, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lblTwoPair", _descriptor10, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lblOnePair", _descriptor11, _assertThisInitialized(_this));
          _this._expriedDate = 0;
          return _this;
        }
        var _proto = UISpinRule.prototype;
        _proto._onOpen = function _onOpen(payoutRate) {
          var _time = LanguageMananger.instance.getString('txt_multiply_time');
          this.lblRoyalFlushMul.string = payoutRate.ROYAL_FLUSH + " " + _time;
          this.lblStraightFlushMul.string = payoutRate.STRAIGHT_FLUSH + " " + _time;
          this.lblFourKindMul.string = payoutRate.FOUR_OF_A_KIND + " " + _time;
          this.lblFullHouseMul.string = payoutRate.FULL_HOUSE + " " + _time;
          this.lblFlushMul.string = payoutRate.FLUSH + " " + _time;
          this.lblStraightMul.string = payoutRate.STRAIGHT + " " + _time;
          this.lblThreeKindMul.string = payoutRate.THREE_OF_A_KIND + " " + _time;
          this.lblTwoPair.string = payoutRate.TWO_PAIR + " " + _time;
          this.lblOnePair.string = payoutRate.ONE_PAIR + " " + _time;
        };
        _proto._onLoad = /*#__PURE__*/function () {
          var _onLoad2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {
            var msg, code, data, multiplier, _code, _txt;
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  _context.next = 2;
                  return request('getLuckyCard', {});
                case 2:
                  msg = _context.sent;
                  code = msg.code, data = msg.data;
                  _context.t0 = code;
                  _context.next = _context.t0 === ResponseCode.SUCCESS ? 7 : _context.t0 === ResponseCode.ERROR ? 9 : 11;
                  break;
                case 7:
                  try {
                    multiplier = data.multiplier, _code = data.code;
                    _txt = LanguageMananger.instance.getString('rich_txt_spin_win_rule').replace(/@X/g, "" + multiplier);
                    this.rate.string = _txt;
                    this.cards[0].spriteFrame = UICardConfig.instance.get(_code).frame;
                  } catch (e) {}
                  return _context.abrupt("break", 11);
                case 9:
                  this.warn("Get Lucky Card Error", msg);
                  return _context.abrupt("break", 11);
                case 11:
                case "end":
                  return _context.stop();
              }
            }, _callee, this);
          }));
          function _onLoad() {
            return _onLoad2.apply(this, arguments);
          }
          return _onLoad;
        }();
        return UISpinRule;
      }(UIBase), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "cards", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return [];
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "rate", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "lblRoyalFlushMul", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "lblStraightFlushMul", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "lblFourKindMul", [_dec7], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, "lblFullHouseMul", [_dec8], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor7 = _applyDecoratedDescriptor(_class2.prototype, "lblFlushMul", [_dec9], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor8 = _applyDecoratedDescriptor(_class2.prototype, "lblStraightMul", [_dec10], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor9 = _applyDecoratedDescriptor(_class2.prototype, "lblThreeKindMul", [_dec11], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor10 = _applyDecoratedDescriptor(_class2.prototype, "lblTwoPair", [_dec12], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor11 = _applyDecoratedDescriptor(_class2.prototype, "lblOnePair", [_dec13], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UISplash.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts', './Enums.ts', './MathUtils.ts', './GameManager.ts', './LanguageManager.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, cclegacy, _decorator, ProgressBar, Label, UIBase, EGameState, pMathUtils, GameManager, LanguageMananger;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      ProgressBar = module.ProgressBar;
      Label = module.Label;
    }, function (module) {
      UIBase = module.UIBase;
    }, function (module) {
      EGameState = module.EGameState;
    }, function (module) {
      pMathUtils = module.pMathUtils;
    }, function (module) {
      GameManager = module.GameManager;
    }, function (module) {
      LanguageMananger = module.LanguageMananger;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _class, _class2, _descriptor, _descriptor2;
      cclegacy._RF.push({}, "02ad0MW8FBFj6UiUtGkRTSb", "UISplash", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property,
        type = _decorator.type;
      var UISplash = exports('UISplash', (_dec = ccclass('UISplash'), _dec2 = type(ProgressBar), _dec3 = property(Label), _dec(_class = (_class2 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UISplash, _UIBase);
        function UISplash() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "loadingBar", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "txtProcess", _descriptor2, _assertThisInitialized(_this));
          _this.loadingPercent = 0;
          _this.timer = 0;
          _this.interval = 0.33;
          return _this;
        }
        var _proto = UISplash.prototype;
        _proto.update = function update(deltaTime) {
          this.timer += deltaTime;
          if (this.timer >= this.interval) {
            this.onLoading();
            this.timer = 0;
          }
        };
        _proto.onLoading = function onLoading() {
          this.loadingPercent += pMathUtils.randomFromInterval(0.5, 1);
          this.loadingBar.progress = this.loadingPercent;
          this.txtProcess.string = this.loadingPercent <= 1 ? LanguageMananger.instance.getString("txt_loading") + " " + Math.floor(this.loadingPercent * 100) + "%" : LanguageMananger.instance.getString("txt_loading") + " 100%";
          if (this.loadingPercent >= 1) {
            this.unschedule(this.onLoading);
            GameManager.Instance.loadScene(EGameState.LOGIN);
          }
        };
        return UISplash;
      }(UIBase), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "loadingBar", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "txtProcess", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIStandUpRegister.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './LinkListToggle.ts', './UIBase.ts', './EventManager.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _assertThisInitialized, _initializerDefineProperty, _createForOfIteratorHelperLoose, _createClass, cclegacy, _decorator, UIRenderer, Color, NSLinkListToggle, UIBase, pEventManager;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _assertThisInitialized = module.assertThisInitialized;
      _initializerDefineProperty = module.initializerDefineProperty;
      _createForOfIteratorHelperLoose = module.createForOfIteratorHelperLoose;
      _createClass = module.createClass;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      UIRenderer = module.UIRenderer;
      Color = module.Color;
    }, function (module) {
      NSLinkListToggle = module.NSLinkListToggle;
    }, function (module) {
      UIBase = module.UIBase;
    }, function (module) {
      pEventManager = module.pEventManager;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _class, _class2, _descriptor, _descriptor2, _descriptor3;
      cclegacy._RF.push({}, "0a3cfdpMupIgYis0HzPDyZ/", "UIStandUpRegister", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var UIStandUpRegister = exports('UIStandUpRegister', (_dec = ccclass("UIStandUpRegister"), _dec2 = property(NSLinkListToggle.Component), _dec3 = property([UIRenderer]), _dec4 = property(Color), _dec(_class = (_class2 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UIStandUpRegister, _UIBase);
        function UIStandUpRegister() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          _this._onces = [['onStandUp', _this._onStandUp, _assertThisInitialized(_this)]];
          _initializerDefineProperty(_this, "toggle", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "uiStandUps", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "registeredColor", _descriptor3, _assertThisInitialized(_this));
          _this._savedColor = {};
          _this._isOn = false;
          return _this;
        }
        var _proto = UIStandUpRegister.prototype;
        _proto._onLoad = function _onLoad() {
          pEventManager.on(this._onces);
          for (var _iterator = _createForOfIteratorHelperLoose(this.uiStandUps), _step; !(_step = _iterator()).done;) {
            var ret = _step.value;
            this._savedColor[ret.uuid] = ret.color.clone();
          }
          this.toggle.get('on').add('onLanding', {
            _function: this._onTurnOn,
            _this: this
          });
          this.toggle.get('off').add('onLanding', {
            _function: this._onTurnOff,
            _this: this
          });
          this.toggle.jump('off');
        };
        _proto._onDestroy = function _onDestroy() {
          pEventManager.off(this._onces);
          this.toggle.get('on').clear('onLanding');
          this.toggle.get('off').clear('onLanding');
        };
        _proto._onTurnOn = function _onTurnOn() {
          this._isOn = true;
          for (var _iterator2 = _createForOfIteratorHelperLoose(this.uiStandUps), _step2; !(_step2 = _iterator2()).done;) {
            var ret = _step2.value;
            ret.color = this.registeredColor;
          }
        };
        _proto._onTurnOff = function _onTurnOff() {
          this._isOn = false;
          for (var _iterator3 = _createForOfIteratorHelperLoose(this.uiStandUps), _step3; !(_step3 = _iterator3()).done;) {
            var ret = _step3.value;
            ret.color = this._savedColor[ret.uuid];
          }
        };
        _proto._onStandUp = function _onStandUp() {
          this.toggle.jump('off');
        };
        _createClass(UIStandUpRegister, [{
          key: "isOn",
          get: function get() {
            return this._isOn;
          }
        }]);
        return UIStandUpRegister;
      }(UIBase), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "toggle", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "uiStandUps", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return [];
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "registeredColor", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return new Color(0, 255, 0, 255);
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UISupport.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts', './Enums.ts', './UISupportItem.ts', './LanguageManager.ts', './ResponeCode.ts', './NotifyToast.ts', './FileUtils.ts', './HttpUtils.ts', './GlobalConfig.ts', './GameManager.ts', './MathUtils.ts', './UIHistoryFeedbackItem.ts', './MiniLoading.ts', './SupportCommand.ts'], function (exports) {
  var _applyDecoratedDescriptor, _initializerDefineProperty, _inheritsLoose, _assertThisInitialized, _asyncToGenerator, _regeneratorRuntime, cclegacy, _decorator, Enum, ToggleContainer, Node, Prefab, ScrollView, EditBox, Button, Sprite, CCString, instantiate, UITransform, UIBase, ESupportType, ESupportFeedbackFilter, ESupportIssueFilter, ESupportLevelFilter, ESupportRuleFilter, UISupportItem, LanguageMananger, ResponseCode, NotifyToast, pFileUtils, HttpUtils, GlobalConfig, GameManager, pMathUtils, UIHistoryFeedbackItem, MiniLoading, request;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _initializerDefineProperty = module.initializerDefineProperty;
      _inheritsLoose = module.inheritsLoose;
      _assertThisInitialized = module.assertThisInitialized;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Enum = module.Enum;
      ToggleContainer = module.ToggleContainer;
      Node = module.Node;
      Prefab = module.Prefab;
      ScrollView = module.ScrollView;
      EditBox = module.EditBox;
      Button = module.Button;
      Sprite = module.Sprite;
      CCString = module.CCString;
      instantiate = module.instantiate;
      UITransform = module.UITransform;
    }, function (module) {
      UIBase = module.UIBase;
    }, function (module) {
      ESupportType = module.ESupportType;
      ESupportFeedbackFilter = module.ESupportFeedbackFilter;
      ESupportIssueFilter = module.ESupportIssueFilter;
      ESupportLevelFilter = module.ESupportLevelFilter;
      ESupportRuleFilter = module.ESupportRuleFilter;
    }, function (module) {
      UISupportItem = module.UISupportItem;
    }, function (module) {
      LanguageMananger = module.LanguageMananger;
    }, function (module) {
      ResponseCode = module.ResponseCode;
    }, function (module) {
      NotifyToast = module.NotifyToast;
    }, function (module) {
      pFileUtils = module.pFileUtils;
    }, function (module) {
      HttpUtils = module.HttpUtils;
    }, function (module) {
      GlobalConfig = module.default;
    }, function (module) {
      GameManager = module.GameManager;
    }, function (module) {
      pMathUtils = module.pMathUtils;
    }, function (module) {
      UIHistoryFeedbackItem = module.UIHistoryFeedbackItem;
    }, function (module) {
      MiniLoading = module.MiniLoading;
    }, function (module) {
      request = module.default;
    }],
    execute: function () {
      var _dec, _class, _class2, _descriptor, _descriptor2, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _dec11, _dec12, _dec13, _dec14, _dec15, _dec16, _dec17, _dec18, _dec19, _dec20, _dec21, _dec22, _dec23, _dec24, _dec25, _dec26, _dec27, _dec28, _dec29, _dec30, _dec31, _dec32, _dec33, _dec34, _dec35, _dec36, _dec37, _dec38, _dec39, _dec40, _dec41, _dec42, _dec43, _dec44, _dec45, _dec46, _dec47, _dec48, _dec49, _class4, _class5, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9, _descriptor10, _descriptor11, _descriptor12, _descriptor13, _descriptor14, _descriptor15, _descriptor16, _descriptor17, _descriptor18, _descriptor19, _descriptor20, _descriptor21, _descriptor22, _descriptor23, _descriptor24, _descriptor25, _descriptor26, _descriptor27;
      cclegacy._RF.push({}, "ca849Tx3RVH+5uFgMOMMk4i", "UISupport", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property,
        type = _decorator.type;
      Enum(ESupportType);
      var SupportIssueItemData = exports('SupportIssueItemData', (_dec = ccclass('SupportIssueItemData'), _dec(_class = (_class2 = function SupportIssueItemData() {
        this.id = void 0;
        _initializerDefineProperty(this, "question", _descriptor, this);
        _initializerDefineProperty(this, "answer", _descriptor2, this);
      }, (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "question", [property], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return '';
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "answer", [property], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return '';
        }
      })), _class2)) || _class));
      var _CommonGroup = {
        name: 'Common',
        id: 'Common'
      };
      var _IssueGroup = {
        name: 'Issue',
        id: 'Issue'
      };
      var _RuleGroup = {
        name: 'Rule',
        id: 'Rule'
      };
      var _FeedBackGroup = {
        name: 'Feedback',
        id: 'Feedback'
      };
      var _LevelGroup = {
        name: 'Level',
        id: 'Level'
      };
      var UISupport = exports('UISupport', (_dec2 = ccclass('UISupport'), _dec3 = property({
        group: _CommonGroup
      }), _dec4 = type(ToggleContainer), _dec5 = property({
        group: _CommonGroup
      }), _dec6 = type(ToggleContainer), _dec7 = property({
        group: _CommonGroup
      }), _dec8 = type(ToggleContainer), _dec9 = property({
        group: _CommonGroup
      }), _dec10 = type(ToggleContainer), _dec11 = property({
        group: _CommonGroup
      }), _dec12 = type(Node), _dec13 = property({
        group: _CommonGroup
      }), _dec14 = type(Node), _dec15 = property({
        group: _CommonGroup
      }), _dec16 = type(Node), _dec17 = property({
        group: _CommonGroup
      }), _dec18 = type(Node), _dec19 = property({
        group: _CommonGroup
      }), _dec20 = type(Prefab), _dec21 = property({
        group: _IssueGroup
      }), _dec22 = type(ScrollView), _dec23 = property({
        group: _IssueGroup
      }), _dec24 = type(ToggleContainer), _dec25 = property({
        group: _FeedBackGroup
      }), _dec26 = type(EditBox), _dec27 = property({
        group: _FeedBackGroup
      }), _dec28 = type(Button), _dec29 = property({
        group: _FeedBackGroup
      }), _dec30 = type(Button), _dec31 = property({
        group: _FeedBackGroup
      }), _dec32 = type(Sprite), _dec33 = property({
        group: _FeedBackGroup
      }), _dec34 = type(Node), _dec35 = property({
        group: _FeedBackGroup
      }), _dec36 = type(ScrollView), _dec37 = property({
        group: _FeedBackGroup
      }), _dec38 = type(Prefab), _dec39 = property({
        group: _RuleGroup
      }), _dec40 = type([Node]), _dec41 = property({
        group: _LevelGroup
      }), _dec42 = type([Node]), _dec43 = property({
        group: {
          name: 'Issue Data',
          id: 'Data',
          displayOrder: 3
        }
      }), _dec44 = type([SupportIssueItemData]), _dec45 = property({
        group: {
          name: 'Feedback Data',
          id: 'Data',
          displayOrder: 3
        }
      }), _dec46 = type([CCString]), _dec47 = property({
        type: ToggleContainer,
        group: _RuleGroup
      }), _dec48 = property({
        type: ToggleContainer,
        group: _LevelGroup
      }), _dec49 = property(MiniLoading), _dec2(_class4 = (_class5 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UISupport, _UIBase);
        function UISupport() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          // group: common
          _initializerDefineProperty(_this, "typeGroupTC", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "feedbackFilterTC", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "ruleFilterTC", _descriptor5, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "levelFilterTC", _descriptor6, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "issueNode", _descriptor7, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "ruleNode", _descriptor8, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "levelNode", _descriptor9, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "feedbackNode", _descriptor10, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "supportItemPrefab", _descriptor11, _assertThisInitialized(_this));
          // group: issue node
          _initializerDefineProperty(_this, "scrViewIssueItems", _descriptor12, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "issueFilterTC", _descriptor13, _assertThisInitialized(_this));
          // group: issue node
          _initializerDefineProperty(_this, "editFeedbackContent", _descriptor14, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnAttachImage", _descriptor15, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnSendFeedback", _descriptor16, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "imageAttacked", _descriptor17, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "nodeTipImage", _descriptor18, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "scrviewHistoryFeedback", _descriptor19, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "prfHistoryFeedbackItem", _descriptor20, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "rulePages", _descriptor21, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "levelPages", _descriptor22, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "supportIssueItemData", _descriptor23, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "supportFeedbackFilterPlaceHolder", _descriptor24, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "ruleToggleContainer", _descriptor25, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "levelToggleContainer", _descriptor26, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "loading", _descriptor27, _assertThisInitialized(_this));
          _this._dataIssues = void 0;
          _this._currentFeedbackType = ESupportFeedbackFilter.CHIP;
          _this._currentFile = null;
          return _this;
        }
        var _proto = UISupport.prototype;
        _proto._onStart = function _onStart() {
          this.addToggleContainerEvent(this.typeGroupTC, this.onTypeGroupChanged, this);
          this.addToggleContainerEvent(this.issueFilterTC, this.onIssueFilterChanged, this);
          this.addToggleContainerEvent(this.feedbackFilterTC, this.feedbackFilterChanged, this);
          this.addToggleContainerEvent(this.ruleFilterTC, this.ruleFilterChanged, this);
          this.addToggleContainerEvent(this.levelFilterTC, this.levelFilterChanged, this);
          this._addClicker(this.btnAttachImage, this._actUploadImage, this);
          this._addClicker(this.btnSendFeedback, this._actSendFeedback, this);
        };
        _proto._onOpen = /*#__PURE__*/function () {
          var _onOpen2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(page, filter) {
            var res;
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  this.loading.show();
                  this.imageAttacked.node.active = false;
                  this.nodeTipImage.active = true;
                  this._currentFile = null;
                  _context.next = 6;
                  return request('getFaqs', {});
                case 6:
                  res = _context.sent;
                  if (res.code === ResponseCode.SUCCESS) {
                    this._dataIssues = res.data;
                    this.typeGroupTC.toggleItems[ESupportType.ISSUE].isChecked = true;
                    this.goToSupportType(ESupportType.ISSUE);
                    this.feedbackFilterTC.toggleItems[ESupportFeedbackFilter.CHIP].isChecked = true;
                    this.filterFeedback(ESupportFeedbackFilter.CHIP);
                    !!page && this.gotoPage(page, filter);
                  }
                  this.updateHistoryFeedback(ESupportFeedbackFilter.CHIP);
                  this.loading.close();
                case 10:
                case "end":
                  return _context.stop();
              }
            }, _callee, this);
          }));
          function _onOpen(_x, _x2) {
            return _onOpen2.apply(this, arguments);
          }
          return _onOpen;
        }();
        _proto.updateHistoryFeedback = /*#__PURE__*/function () {
          var _updateHistoryFeedback = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(_type) {
            var _this2 = this;
            var _res, code, data, _list;
            return _regeneratorRuntime().wrap(function _callee2$(_context2) {
              while (1) switch (_context2.prev = _context2.next) {
                case 0:
                  this.scrviewHistoryFeedback.content.removeAllChildren();
                  _context2.next = 3;
                  return request('getMyFeedbacks', {});
                case 3:
                  _res = _context2.sent;
                  code = _res.code;
                  _context2.t0 = code;
                  _context2.next = _context2.t0 === ResponseCode.SUCCESS ? 8 : _context2.t0 === ResponseCode.ERROR ? 14 : 15;
                  break;
                case 8:
                  data = _res.data;
                  this.log("___SUPPORT FEEDBACK ___ >>> RES >>", data, _type, ESupportFeedbackFilter[_type]);
                  _list = data.filter(function (_data) {
                    var type = _data.type;
                    if (_type === ESupportFeedbackFilter.CHIP) return type === 'DEPOSIT_ISSUES';
                    if (_type === ESupportFeedbackFilter.ACCOUNT) return type === 'ACCOUNT_ISSUES';
                    if (_type === ESupportFeedbackFilter.GAME_BUG) return type === 'GAME_BUGS';
                    if (_type === ESupportFeedbackFilter.FEEDBACK) return type === 'SUGGESTIONS';
                    return true;
                  });
                  this.log("___SUPPORT FEEDBACK ___ >>> LIST >>", _list);
                  _list.forEach(function (_data) {
                    _this2.log("___SUPPORT FEEDBACK ___", _data);
                    var message = _data.message,
                      createdAt = _data.createdAt;
                    var _node = instantiate(_this2.prfHistoryFeedbackItem);
                    var _comp = _node.getComponent(UIHistoryFeedbackItem);
                    if (!_comp) return;
                    _this2.scrviewHistoryFeedback.content.addChild(_node);
                    _comp.init({
                      content: message,
                      isResolve: false,
                      date: createdAt
                    });
                  });
                  return _context2.abrupt("break", 15);
                case 14:
                  return _context2.abrupt("break", 15);
                case 15:
                case "end":
                  return _context2.stop();
              }
            }, _callee2, this);
          }));
          function updateHistoryFeedback(_x3) {
            return _updateHistoryFeedback.apply(this, arguments);
          }
          return updateHistoryFeedback;
        }();
        _proto.gotoPage = function gotoPage(pageFilter, type) {
          this.typeGroupTC.toggleItems[pageFilter].isChecked = true;
          this.goToSupportType(pageFilter);
          if (!type) return;
          switch (pageFilter) {
            case ESupportType.ISSUE:
              this.filterIssue(type);
              break;
            case ESupportType.RULE:
              this.filterRule(type);
              break;
            case ESupportType.LEVEL:
              this.filterLevel(type);
              break;
            case ESupportType.FEEDBACK:
              this.filterFeedback(type);
              break;
          }
        };
        _proto.onTypeGroupChanged = function onTypeGroupChanged(numIndex) {
          this.goToSupportType(numIndex);
        };
        _proto.onIssueFilterChanged = function onIssueFilterChanged(numIndex) {
          this.filterIssue(numIndex);
        };
        _proto.feedbackFilterChanged = function feedbackFilterChanged(numIndex) {
          this.filterFeedback(numIndex);
        };
        _proto.ruleFilterChanged = function ruleFilterChanged(numIndex) {
          this.filterRule(numIndex);
        };
        _proto.levelFilterChanged = function levelFilterChanged(numIndex) {
          this.filterLevel(numIndex);
        };
        _proto.goToSupportType = function goToSupportType(supportType) {
          this.issueNode.active = supportType === ESupportType.ISSUE;
          this.ruleNode.active = supportType === ESupportType.RULE;
          this.levelNode.active = supportType === ESupportType.LEVEL;
          this.feedbackNode.active = supportType === ESupportType.FEEDBACK;
          this._loadDataSupport(supportType);
        };
        _proto._loadDataSupport = function _loadDataSupport(supportType) {
          if (supportType === ESupportType.ISSUE) {
            this.filterIssue(ESupportIssueFilter.HOT);
            return;
          }
          if (supportType === ESupportType.FEEDBACK) {
            this.clearContentFeedback();
            this.filterFeedback(ESupportFeedbackFilter.CHIP);
            return;
          }
          if (supportType === ESupportType.LEVEL) {
            this.filterLevel(ESupportLevelFilter.WAY_TO_RECEIVE_EXP);
            return;
          }
          if (supportType === ESupportType.RULE) {
            this.filterRule(ESupportRuleFilter.TYPE_CARDS);
            return;
          }
        };
        _proto.filterLevel = function filterLevel(filter) {
          this.levelToggleContainer.toggleItems[filter].isChecked = true;
          this.levelPages.forEach(function (v, i) {
            return v.active = i === filter;
          });
        };
        _proto.filterRule = function filterRule(filter) {
          this.ruleToggleContainer.toggleItems[filter].isChecked = true;
          this.rulePages.forEach(function (v, i) {
            return v.active = i === filter;
          });
        };
        _proto.filterIssue = function filterIssue(issueFilter) {
          var _this3 = this;
          if (!this._dataIssues) return;
          this.scrViewIssueItems.content.removeAllChildren();
          this.supportIssueItemData = [];
          var data = [];
          switch (issueFilter) {
            case ESupportIssueFilter.HOT:
              data = this._dataIssues.HOT_ISSUES;
              break;
            case ESupportIssueFilter.CHIP:
              data = this._dataIssues.DEPOSIT_ISSUES;
              break;
            case ESupportIssueFilter.ACCOUNT:
              data = this._dataIssues.ACCOUNT_ISSUES;
              break;
            case ESupportIssueFilter.LOGIN_REWARD:
              data = this._dataIssues.LOGIN_REWARDS;
              break;
            default:
              data = [];
              break;
          }
          data.forEach(function (v) {
            _this3.supportIssueItemData.push({
              id: v.id,
              answer: v.answer,
              question: v.question
            });
          });
          for (var i = 0; i < this.supportIssueItemData.length; i++) {
            var item = instantiate(this.supportItemPrefab);
            var _data2 = this.supportIssueItemData[i];
            this.scrViewIssueItems.content.addChild(item);
            item.getComponent(UISupportItem).init(_data2);
          }
        };
        _proto.filterFeedback = function filterFeedback(feedbackFilter) {
          this._currentFeedbackType = feedbackFilter;
          if (feedbackFilter < this.supportFeedbackFilterPlaceHolder.length) {
            this.editFeedbackContent.placeholder = LanguageMananger.instance.getString(this.supportFeedbackFilterPlaceHolder[feedbackFilter]);
          }
          this.updateHistoryFeedback(feedbackFilter);
        };
        _proto._actUploadImage = function _actUploadImage() {
          var _this4 = this;
          pFileUtils.setupInputer();
          pFileUtils.selectFile(function (res) {
            _this4._currentFile = res;
            var reader = new FileReader();
            reader.onload = function () {
              GameManager.Instance.setImageFromBase64(reader.result, _this4.imageAttacked, true).then(function () {
                _this4.imageAttacked.node.active = true;
                _this4.nodeTipImage.active = false;
                var spriteUITransform = _this4.imageAttacked.node.parent.getComponent(UITransform);
                var spriteSize = spriteUITransform.contentSize;
                _this4.imageAttacked.node.getComponent(UITransform).setContentSize(pMathUtils.scaleImageInsideBound(spriteSize.width, spriteSize.height, _this4.imageAttacked.spriteFrame.texture.width, _this4.imageAttacked.spriteFrame.texture.height));
              })["catch"](function (err) {
                console.error(err);
              });
            };
            reader.onerror = function (ev) {
              _this4.error("Khng th load nh:", ev);
            };
            reader.readAsDataURL(res);
          }, function () {
            for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
              args[_key2] = arguments[_key2];
            }
            _this4.log('cancle import file', args);
          });
        };
        _proto._actSendFeedback = /*#__PURE__*/function () {
          var _actSendFeedback2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {
            var _this5 = this;
            var content, type, instance, loading;
            return _regeneratorRuntime().wrap(function _callee3$(_context3) {
              while (1) switch (_context3.prev = _context3.next) {
                case 0:
                  content = this.editFeedbackContent.string.trim();
                  this.editFeedbackContent.string = content;
                  if (!(content.length === 0)) {
                    _context3.next = 5;
                    break;
                  }
                  GameManager.Instance.showToastNotice(LanguageMananger.instance.getString('text_not_empty_feedback_content'));
                  return _context3.abrupt("return");
                case 5:
                  _context3.t0 = this._currentFeedbackType;
                  _context3.next = _context3.t0 === ESupportFeedbackFilter.CHIP ? 8 : _context3.t0 === ESupportFeedbackFilter.ACCOUNT ? 10 : _context3.t0 === ESupportFeedbackFilter.GAME_BUG ? 12 : _context3.t0 === ESupportFeedbackFilter.FEEDBACK ? 14 : 16;
                  break;
                case 8:
                  type = 'DEPOSIT_ISSUES';
                  return _context3.abrupt("break", 17);
                case 10:
                  type = 'ACCOUNT_ISSUES';
                  return _context3.abrupt("break", 17);
                case 12:
                  type = 'GAME_BUGS';
                  return _context3.abrupt("break", 17);
                case 14:
                  type = 'SUGGESTIONS';
                  return _context3.abrupt("break", 17);
                case 16:
                  return _context3.abrupt("return");
                case 17:
                  instance = GlobalConfig.instance;
                  loading = instance.loading;
                  loading.open();
                  if (!this._currentFile) {
                    _context3.next = 23;
                    break;
                  }
                  HttpUtils.instance.uploadImage(this._currentFile, function (res) {
                    var images = res.images;
                    var _img = images[0];
                    if (!_img) {
                      NotifyToast.instance.showWithKey('txt_upload_error', 'lobby');
                      loading.close();
                      return;
                    }
                    var versions = _img.versions;
                    var _thumbnail = versions.find(function (_v) {
                      return _v.version_type === 'large';
                    });
                    _this5.clearContentFeedback();
                    if (!_thumbnail) {
                      NotifyToast.instance.showWithKey('txt_upload_error', 'lobby');
                      loading.close();
                      return;
                    }
                    var absolute_path = _thumbnail.absolute_path;
                    _this5._sendFeedback(type, content, [absolute_path])["finally"](function () {
                      loading.close();
                    });
                  });
                  return _context3.abrupt("return");
                case 23:
                  this._sendFeedback(type, content, [])["finally"](function () {
                    loading.close();
                  });
                case 24:
                case "end":
                  return _context3.stop();
              }
            }, _callee3, this);
          }));
          function _actSendFeedback() {
            return _actSendFeedback2.apply(this, arguments);
          }
          return _actSendFeedback;
        }();
        _proto._sendFeedback = /*#__PURE__*/function () {
          var _sendFeedback2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(type, message, attachments) {
            var res, msg;
            return _regeneratorRuntime().wrap(function _callee4$(_context4) {
              while (1) switch (_context4.prev = _context4.next) {
                case 0:
                  _context4.next = 2;
                  return request('sendFeedback', {
                    type: type,
                    message: message,
                    attachments: attachments
                  });
                case 2:
                  res = _context4.sent;
                  if (res.code === ResponseCode.SUCCESS) {
                    NotifyToast.instance && NotifyToast.instance.show(LanguageMananger.instance.getString('txt_send_feedback_success'), 'lobby');
                    this.updateHistoryFeedback(this._currentFeedbackType);
                  } else {
                    msg = res.message || res.msg || LanguageMananger.instance.getString('txt_send_feedback_fail');
                    NotifyToast.instance && NotifyToast.instance.show(msg, 'lobby');
                  }
                case 4:
                case "end":
                  return _context4.stop();
              }
            }, _callee4, this);
          }));
          function _sendFeedback(_x4, _x5, _x6) {
            return _sendFeedback2.apply(this, arguments);
          }
          return _sendFeedback;
        }();
        _proto.onDisable = function onDisable() {
          this.clearContentFeedback();
        };
        _proto.clearContentFeedback = function clearContentFeedback() {
          this.editFeedbackContent.string = '';
          this.imageAttacked.node.active = false;
          this.nodeTipImage.active = true;
        };
        return UISupport;
      }(UIBase), (_descriptor3 = _applyDecoratedDescriptor(_class5.prototype, "typeGroupTC", [_dec3, _dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class5.prototype, "feedbackFilterTC", [_dec5, _dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor5 = _applyDecoratedDescriptor(_class5.prototype, "ruleFilterTC", [_dec7, _dec8], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor6 = _applyDecoratedDescriptor(_class5.prototype, "levelFilterTC", [_dec9, _dec10], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor7 = _applyDecoratedDescriptor(_class5.prototype, "issueNode", [_dec11, _dec12], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor8 = _applyDecoratedDescriptor(_class5.prototype, "ruleNode", [_dec13, _dec14], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor9 = _applyDecoratedDescriptor(_class5.prototype, "levelNode", [_dec15, _dec16], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor10 = _applyDecoratedDescriptor(_class5.prototype, "feedbackNode", [_dec17, _dec18], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor11 = _applyDecoratedDescriptor(_class5.prototype, "supportItemPrefab", [_dec19, _dec20], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor12 = _applyDecoratedDescriptor(_class5.prototype, "scrViewIssueItems", [_dec21, _dec22], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor13 = _applyDecoratedDescriptor(_class5.prototype, "issueFilterTC", [_dec23, _dec24], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor14 = _applyDecoratedDescriptor(_class5.prototype, "editFeedbackContent", [_dec25, _dec26], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor15 = _applyDecoratedDescriptor(_class5.prototype, "btnAttachImage", [_dec27, _dec28], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor16 = _applyDecoratedDescriptor(_class5.prototype, "btnSendFeedback", [_dec29, _dec30], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor17 = _applyDecoratedDescriptor(_class5.prototype, "imageAttacked", [_dec31, _dec32], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor18 = _applyDecoratedDescriptor(_class5.prototype, "nodeTipImage", [_dec33, _dec34], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor19 = _applyDecoratedDescriptor(_class5.prototype, "scrviewHistoryFeedback", [_dec35, _dec36], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor20 = _applyDecoratedDescriptor(_class5.prototype, "prfHistoryFeedbackItem", [_dec37, _dec38], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor21 = _applyDecoratedDescriptor(_class5.prototype, "rulePages", [_dec39, _dec40], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return [];
        }
      }), _descriptor22 = _applyDecoratedDescriptor(_class5.prototype, "levelPages", [_dec41, _dec42], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return [];
        }
      }), _descriptor23 = _applyDecoratedDescriptor(_class5.prototype, "supportIssueItemData", [_dec43, _dec44], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return [];
        }
      }), _descriptor24 = _applyDecoratedDescriptor(_class5.prototype, "supportFeedbackFilterPlaceHolder", [_dec45, _dec46], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return [];
        }
      }), _descriptor25 = _applyDecoratedDescriptor(_class5.prototype, "ruleToggleContainer", [_dec47], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor26 = _applyDecoratedDescriptor(_class5.prototype, "levelToggleContainer", [_dec48], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor27 = _applyDecoratedDescriptor(_class5.prototype, "loading", [_dec49], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class5)) || _class4));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UISupportItem.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts', './LanguageManager.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, cclegacy, _decorator, Sprite, Label, Button, size, UITransform, tween, UIBase, LanguageMananger;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Sprite = module.Sprite;
      Label = module.Label;
      Button = module.Button;
      size = module.size;
      UITransform = module.UITransform;
      tween = module.tween;
    }, function (module) {
      UIBase = module.UIBase;
    }, function (module) {
      LanguageMananger = module.LanguageMananger;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8;
      cclegacy._RF.push({}, "6c061V3OXJORrkNzx7MEoxG", "UISupportItem", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property,
        type = _decorator.type;
      var UISupportItem = exports('UISupportItem', (_dec = ccclass('UISupportItem'), _dec2 = type(Sprite), _dec3 = type(Label), _dec4 = type(Label), _dec5 = type(Button), _dec6 = type(Button), _dec(_class = (_class2 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UISupportItem, _UIBase);
        function UISupportItem() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "data", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "bg", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lblQuestion", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lblAnswer", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnExpand", _descriptor5, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnCollapse", _descriptor6, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "expandTime", _descriptor7, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "_contentSize", _descriptor8, _assertThisInitialized(_this));
          return _this;
        }
        var _proto = UISupportItem.prototype;
        _proto._onStart = function _onStart() {
          this._addClicker(this.btnExpand, this.expand, this);
          this._addClicker(this.btnCollapse, this.collapse, this);
          this._contentSize = size(this.getComponent(UITransform).contentSize.width, this.getComponent(UITransform).contentSize.height);
          this.expandTime = 0.1;
        };
        _proto.init = function init(data) {
          this.data = data;
          this.lblQuestion.string = LanguageMananger.instance.getString(data.question);
          this.lblAnswer.string = LanguageMananger.instance.getString(data.answer);
          this.lblAnswer.node.active = false;
        };
        _proto.expand = function expand() {
          var _this2 = this;
          tween().target(this.getComponent(UITransform)).call(function () {
            _this2.btnExpand.node.active = false;
            _this2.btnCollapse.node.active = true;
            // if (this.bg) {
            //     this.bg.markForUpdateRenderData();
            // }
          })
          // .parallel(
          //     tween(this.getComponent(UITransform))
          //         .to(this.expandTime, {_contentSize: size(this._contentSize.width, this._contentSize.height + 50)}),
          //     tween(this.bg.getComponent(UITransform))
          //         .to(this.expandTime, {_contentSize: size(this._contentSize.width, this._contentSize.height + 50)}),
          // )
          .to(this.expandTime, {
            contentSize: size(this._contentSize.width, this._contentSize.height + 50)
          })
          // .call(() => {
          //     this.node.parent.getComponent(Layout).updateLayout(true);
          //     const bg: Sprite = this.node.getComponent(Sprite);
          //     if (bg) {
          //         bg.markForUpdateRenderData();
          //     }
          //     for (let i = 0; i < this.node.children.length; i++) {
          //         const w = this.node.children[i].getComponent(Widget);
          //         if (w != null) {
          //             w.updateAlignment();
          //         }
          //     }
          // })
          .call(function () {
            _this2.lblAnswer.node.active = true;
          }).start();
        };
        _proto.collapse = function collapse() {
          var _this3 = this;
          tween().target(this.getComponent(UITransform)).call(function () {
            _this3.lblAnswer.node.active = false;
            // if (this.bg) {
            //     this.bg.markForUpdateRenderData();
            // }
          })
          // .parallel(
          //     tween(this.getComponent(UITransform))
          //         .to(this.expandTime, {contentSize: size(this._contentSize.width, this._contentSize.height)}),
          //     tween(this.bg.getComponent(UITransform))
          //         .to(this.expandTime, {contentSize: size(this._contentSize.width, this._contentSize.height)}),
          // )
          .to(this.expandTime, {
            contentSize: size(this._contentSize.width, this._contentSize.height)
          }).call(function () {
            _this3.btnExpand.node.active = true;
            _this3.btnCollapse.node.active = false;
          })
          // .parallel(
          //     tween(this.getComponent(UITransform))
          //         .to(this.expandTime, {contentSize: size(this._contentSize.width, this._contentSize.height)}),
          //     tween(this.node)
          //         .call(() => {
          //             for (let i = 0; i < this.node.children.length; i++) {
          //                 const w = this.node.children[i].getComponent(Widget);
          //                 if (w != null) {
          //                     w.updateAlignment();
          //                 }
          //             }
          //         })
          // )
          .start();
        };
        return UISupportItem;
      }(UIBase), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "data", [property], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "bg", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "lblQuestion", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "lblAnswer", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "btnExpand", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, "btnCollapse", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor7 = _applyDecoratedDescriptor(_class2.prototype, "expandTime", [property], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return 1.0;
        }
      }), _descriptor8 = _applyDecoratedDescriptor(_class2.prototype, "_contentSize", [property], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return size();
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UISupportLevelRuleItem.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './StringUtils.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, cclegacy, _decorator, Label, Component, pStringUtils;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Label = module.Label;
      Component = module.Component;
    }, function (module) {
      pStringUtils = module.pStringUtils;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5;
      cclegacy._RF.push({}, "7f65aUtDkJDAZHwBroQbn8U", "UISupportLevelRuleItem", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var UISupportLevelRuleItem = exports('UISupportLevelRuleItem', (_dec = ccclass('UISupportLevelRuleItem'), _dec2 = property(Label), _dec3 = property(Label), _dec4 = property(Label), _dec5 = property(Label), _dec6 = property(Label), _dec(_class = (_class2 = /*#__PURE__*/function (_Component) {
        _inheritsLoose(UISupportLevelRuleItem, _Component);
        function UISupportLevelRuleItem() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _Component.call.apply(_Component, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "lbLevel", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbName", _descriptor2, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbRequireEXP", _descriptor3, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbTotalEXP", _descriptor4, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "lbReward", _descriptor5, _assertThisInitialized(_this));
          return _this;
        }
        var _proto = UISupportLevelRuleItem.prototype;
        _proto.init = function init(data) {
          this.lbLevel.string = data.level.toString();
          this.lbName.string = data.title;
          this.lbRequireEXP.string = data.exp_required.toString();
          this.lbTotalEXP.string = data.total_exp.toString();
          this.lbReward.string = pStringUtils.formatMoneyWithDot(data.reward) + " chips";
        };
        return UISupportLevelRuleItem;
      }(Component), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "lbLevel", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "lbName", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "lbRequireEXP", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "lbTotalEXP", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "lbReward", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UISupportTableLevelRule.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './ResponeCode.ts', './UISupportLevelRuleItem.ts', './ExpCommand.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _asyncToGenerator, _regeneratorRuntime, cclegacy, _decorator, Prefab, Node, Component, instantiate, ResponseCode, UISupportLevelRuleItem, request;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Prefab = module.Prefab;
      Node = module.Node;
      Component = module.Component;
      instantiate = module.instantiate;
    }, function (module) {
      ResponseCode = module.ResponseCode;
    }, function (module) {
      UISupportLevelRuleItem = module.UISupportLevelRuleItem;
    }, function (module) {
      request = module.default;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _class, _class2, _descriptor, _descriptor2;
      cclegacy._RF.push({}, "2da4aEkYERKa5i2eeUPMWzP", "UISupportTableLevelRule", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var UISupportTableLevelRule = exports('UISupportTableLevelRule', (_dec = ccclass('UISupportTableLevelRule'), _dec2 = property(Prefab), _dec3 = property(Node), _dec(_class = (_class2 = /*#__PURE__*/function (_Component) {
        _inheritsLoose(UISupportTableLevelRule, _Component);
        function UISupportTableLevelRule() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _Component.call.apply(_Component, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "lineContent", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "table", _descriptor2, _assertThisInitialized(_this));
          return _this;
        }
        var _proto = UISupportTableLevelRule.prototype;
        _proto.onLoad = /*#__PURE__*/function () {
          var _onLoad = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {
            var _this2 = this;
            var _res;
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  _context.next = 2;
                  return request('getAllLevelRanks', {});
                case 2:
                  _res = _context.sent;
                  if (!(_res.code !== ResponseCode.SUCCESS)) {
                    _context.next = 5;
                    break;
                  }
                  return _context.abrupt("return");
                case 5:
                  _res.msg.levelRanks.forEach(function (_data) {
                    var _node = instantiate(_this2.lineContent);
                    _this2.table.addChild(_node);
                    _node.getComponent(UISupportLevelRuleItem).init(_data);
                  });
                case 6:
                case "end":
                  return _context.stop();
              }
            }, _callee);
          }));
          function onLoad() {
            return _onLoad.apply(this, arguments);
          }
          return onLoad;
        }();
        return UISupportTableLevelRule;
      }(Component), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "lineContent", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "table", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: null
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UITipChipFly.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './NodeUtils.ts', './EventDriver.ts', './StringUtils.ts', './EventManager.ts', './Enums.ts'], function (exports) {
  var _inheritsLoose, _createClass, _applyDecoratedDescriptor, _initializerDefineProperty, _assertThisInitialized, cclegacy, _decorator, Label, easing, macro, v3, pNodeUtils, NSEventDriver, pStringUtils, pEventManager, CCETweenEasing, ETweenEasing;
  return {
    setters: [function (module) {
      _inheritsLoose = module.inheritsLoose;
      _createClass = module.createClass;
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Label = module.Label;
      easing = module.easing;
      macro = module.macro;
      v3 = module.v3;
    }, function (module) {
      pNodeUtils = module.pNodeUtils;
    }, function (module) {
      NSEventDriver = module.NSEventDriver;
    }, function (module) {
      pStringUtils = module.pStringUtils;
    }, function (module) {
      pEventManager = module.pEventManager;
    }, function (module) {
      CCETweenEasing = module.CCETweenEasing;
      ETweenEasing = module.ETweenEasing;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _class, _class2, _descriptor, _descriptor2;
      cclegacy._RF.push({}, "e9eff6SxXNKwojSxpbdEXlt", "UITipChipFly", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var UITipChipFly = exports('UITipChipFly', (_dec = ccclass("UITipChipFly"), _dec2 = property(Label), _dec3 = property({
        type: CCETweenEasing,
        visible: true
      }), _dec(_class = (_class2 = /*#__PURE__*/function (_NSEventDriver$Compon) {
        _inheritsLoose(UITipChipFly, _NSEventDriver$Compon);
        function UITipChipFly() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _NSEventDriver$Compon.call.apply(_NSEventDriver$Compon, [this].concat(args)) || this;
          _this._target = v3();
          _this._duration = 1;
          _this._start = v3();
          _this._elapsed = 0;
          _initializerDefineProperty(_this, "view", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "_easing", _descriptor2, _assertThisInitialized(_this));
          _this.__events = [['onLeaveTable', _this._onLeaveTable, _assertThisInitialized(_this)]];
          _this._easer = function (x) {
            return x;
          };
          return _this;
        }
        var _proto = UITipChipFly.prototype;
        _proto.onLoad = function onLoad() {
          pEventManager.on(this.__events);
        };
        _proto.onDestroy = function onDestroy() {
          pEventManager.off(this.__events);
        };
        _proto.init = function init(target, amount, duration) {
          if (duration === void 0) {
            duration = 0.5;
          }
          this._target = pNodeUtils.getLocalPosition(this, target);
          this._duration = duration;
          this.view.string = pStringUtils.formatNumberKMB(amount);
          this._start = this.node.position.clone();
          var _easer = easing[this.easing];
          _easer && (this._easer = _easer);
          this.schedule(this._fly.bind(this), 0, macro.REPEAT_FOREVER, 0);
        };
        _proto._fly = function _fly(_dt) {
          this._elapsed += _dt;
          var progress = Math.min(this._elapsed / this._duration, 1.0);
          var _progress = this._easer(progress);
          var _x = this._start.x + (this._target.x - this._start.x) * _progress;
          var _y = this._start.y + (this._target.y - this._start.y) * _progress;
          this.node.setPosition(_x, _y);
          progress >= 1.0 && this._onMoveComplete();
        };
        _proto._onMoveComplete = function _onMoveComplete() {
          this.unscheduleAllCallbacks();
          this._target && this.node.setPosition(this._target.x, this._target.y);
          this._start = null;
          this._target = null;
          this._elapsed = 0;
          this.invoke('onDone');
        };
        _proto._onLeaveTable = function _onLeaveTable() {
          this._onMoveComplete();
          this.node.destroy();
        };
        _createClass(UITipChipFly, [{
          key: "easing",
          get: function get() {
            return ETweenEasing[this._easing];
          }
        }]);
        return UITipChipFly;
      }(NSEventDriver.Component), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "view", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "_easing", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return ETweenEasing.backIn;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UITutorial.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts', './Enums.ts', './UIController.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, cclegacy, _decorator, Button, Sprite, UITransform, UIBase, UIType, UIController;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      Button = module.Button;
      Sprite = module.Sprite;
      UITransform = module.UITransform;
    }, function (module) {
      UIBase = module.UIBase;
    }, function (module) {
      UIType = module.UIType;
    }, function (module) {
      UIController = module.UIController;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _class, _class2, _descriptor, _descriptor2;
      cclegacy._RF.push({}, "e52b7KbvPVExYX/S61TL0JU", "UITutorial", undefined);
      var ccclass = _decorator.ccclass,
        type = _decorator.type;
      var UITutorial = exports('UITutorial', (_dec = ccclass('UITutorial'), _dec2 = type(Button), _dec3 = type(Button), _dec(_class = (_class2 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UITutorial, _UIBase);
        function UITutorial() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "btnExitTut", _descriptor, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnStartTut", _descriptor2, _assertThisInitialized(_this));
          return _this;
        }
        var _proto = UITutorial.prototype;
        _proto._onStart = function _onStart() {
          this._addClicker(this.btnExitTut, this.exitTut, this);
          this._addClicker(this.btnStartTut, this.startTut, this);
          //this.applyRoundRectMat();
        };

        _proto.applyRoundRectMat = function applyRoundRectMat() {
          var sp = null;
          sp = this.btnExitTut.getComponent(Sprite);
          if (sp != null && sp.material != null) {
            sp.material.setProperty('width', this.getComponent(UITransform).width);
            sp.material.setProperty('height', this.getComponent(UITransform).height);
            sp.material.setProperty('cornerRadius', 10);
          }
        };
        _proto.exitTut = function exitTut() {
          this.close();
        };
        _proto.startTut = function startTut() {
          UIController.Instance.open(UIType.TUTORIAL_SCENE, false);
          this.close();
        };
        return UITutorial;
      }(UIBase), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "btnExitTut", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "btnStartTut", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UITutorialScene.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './UIBase.ts', './TutorialStep.ts', './GlobalConfig.ts', './StringUtils.ts', './GameManager.ts', './UIController.ts', './Enums.ts', './EventManager.ts'], function (exports) {
  var _applyDecoratedDescriptor, _initializerDefineProperty, _inheritsLoose, _assertThisInitialized, cclegacy, _decorator, CCInteger, Node, Label, Sprite, Button, Vec2, UIBase, TutorialStep, GlobalConfig, pStringUtils, GameManager, UIController, UIType, pEventManager;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _initializerDefineProperty = module.initializerDefineProperty;
      _inheritsLoose = module.inheritsLoose;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      CCInteger = module.CCInteger;
      Node = module.Node;
      Label = module.Label;
      Sprite = module.Sprite;
      Button = module.Button;
      Vec2 = module.Vec2;
    }, function (module) {
      UIBase = module.UIBase;
    }, function (module) {
      TutorialStep = module.TutorialStep;
    }, function (module) {
      GlobalConfig = module.default;
    }, function (module) {
      pStringUtils = module.pStringUtils;
    }, function (module) {
      GameManager = module.GameManager;
    }, function (module) {
      UIController = module.UIController;
    }, function (module) {
      UIType = module.UIType;
    }, function (module) {
      pEventManager = module.pEventManager;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _dec7, _dec8, _dec9, _dec10, _class4, _class5, _descriptor6, _descriptor7, _descriptor8, _dec11, _dec12, _dec13, _dec14, _dec15, _dec16, _dec17, _dec18, _dec19, _dec20, _class7, _class8, _descriptor9, _descriptor10, _descriptor11, _descriptor12, _descriptor13, _descriptor14, _descriptor15, _descriptor16, _descriptor17;
      cclegacy._RF.push({}, "8c33fu7nR1K8Yyh/FGSRSV3", "UITutorialScene", undefined);
      var ccclass = _decorator.ccclass,
        type = _decorator.type,
        property = _decorator.property;
      var PointerConfig = (_dec = ccclass('PointerConfig'), _dec2 = property(CCInteger), _dec3 = property(CCInteger), _dec4 = property(Node), _dec5 = property({}), _dec6 = property({}), _dec(_class = (_class2 = function PointerConfig() {
        _initializerDefineProperty(this, "step", _descriptor, this);
        _initializerDefineProperty(this, "childStep", _descriptor2, this);
        _initializerDefineProperty(this, "target", _descriptor3, this);
        _initializerDefineProperty(this, "flipY", _descriptor4, this);
        _initializerDefineProperty(this, "lookAtPoint", _descriptor5, this);
      }, (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "step", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return 1;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "childStep", [_dec3], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return 1;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "target", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "flipY", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return false;
        }
      }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "lookAtPoint", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return new Vec2();
        }
      })), _class2)) || _class);
      var PlayerDataConfig = (_dec7 = ccclass('PlayerDataConfig'), _dec8 = property(Label), _dec9 = property(Label), _dec10 = property(Sprite), _dec7(_class4 = (_class5 = function PlayerDataConfig() {
        _initializerDefineProperty(this, "lbName", _descriptor6, this);
        _initializerDefineProperty(this, "lbChip", _descriptor7, this);
        _initializerDefineProperty(this, "imgAvatar", _descriptor8, this);
      }, (_descriptor6 = _applyDecoratedDescriptor(_class5.prototype, "lbName", [_dec8], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor7 = _applyDecoratedDescriptor(_class5.prototype, "lbChip", [_dec9], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor8 = _applyDecoratedDescriptor(_class5.prototype, "imgAvatar", [_dec10], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      })), _class5)) || _class4);
      var UITutorialScene = exports('UITutorialScene', (_dec11 = ccclass('UITutorialScene'), _dec12 = type(Button), _dec13 = type(Button), _dec14 = type(Node), _dec15 = type(Node), _dec16 = type([PointerConfig]), _dec17 = type(Node), _dec18 = type([PlayerDataConfig]), _dec19 = type([PlayerDataConfig]), _dec20 = type([PlayerDataConfig]), _dec11(_class7 = (_class8 = /*#__PURE__*/function (_UIBase) {
        _inheritsLoose(UITutorialScene, _UIBase);
        function UITutorialScene() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _UIBase.call.apply(_UIBase, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "btnExitTutorial", _descriptor9, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "btnNextStep", _descriptor10, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "listStep", _descriptor11, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "pointerNode", _descriptor12, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "pointerConfig", _descriptor13, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "nodeLabelFinishTutorial", _descriptor14, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "mainData", _descriptor15, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "playerAData", _descriptor16, _assertThisInitialized(_this));
          _initializerDefineProperty(_this, "playerBData", _descriptor17, _assertThisInitialized(_this));
          _this.currentStep = 0;
          _this.currentStepUI = null;
          // protected _onStart() {
          //     // this.addButtonClickEvent(this.btnExitTutorial, this.exitTut, this);
          //     // this.addButtonClickEvent(this.btnNextStep, this.nextStep, this);
          // }
          _this._events = [['exitTutorial', _this.close, _assertThisInitialized(_this)]];
          return _this;
        }
        var _proto = UITutorialScene.prototype;
        _proto.onEnable = function onEnable() {
          var _this2 = this;
          this.mainData.forEach(function (s) {
            s.lbName.string = GlobalConfig.instance.Login.player.information.display_name;
            s.lbChip.string = pStringUtils.formatNumberKMB(10000000);
            GameManager.Instance.setAvatar(GlobalConfig.instance.Login.player.information.avatar, s.imgAvatar);
          });
          this.playerAData.forEach(function (s) {
            s.lbName.string = 'Player A';
            s.lbChip.string = pStringUtils.formatNumberKMB(10000000);
            GameManager.Instance.setAvatar(1, s.imgAvatar);
          });
          this.playerBData.forEach(function (s) {
            s.lbName.string = 'Player B';
            s.lbChip.string = pStringUtils.formatNumberKMB(10000000);
            GameManager.Instance.setAvatar(2, s.imgAvatar);
          });
          this.openStep(this.currentStep);
          this.scheduleOnce(function () {
            _this2.updatePointer(_this2.currentStep, 0);
          }, 0.1);
          pEventManager.on(this._events);
        };
        _proto.onDisable = function onDisable() {
          this.listStep.forEach(function (s) {
            return s.active = false;
          });
          this.currentStep = 0;
          pEventManager.off(this._events);
        };
        _proto.exitTut = function exitTut() {
          this.currentStep = 0;
          this.close();
        };
        _proto.nextStep = function nextStep() {
          var _this$currentStepUI$g,
            _this3 = this;
          this.btnNextStep.node.active = this.currentStep === 5 ? true : false;
          this.pointerNode.active = false;
          (_this$currentStepUI$g = this.currentStepUI.getComponent(TutorialStep)) == null || _this$currentStepUI$g.nextStep().then(function (v) {
            if (v) {
              _this3.currentStep++;
              if (_this3.currentStep >= _this3.listStep.length) {
                _this3.currentStep = 0;
                !GlobalConfig.instance.isCompleteTut ? UIController.Instance.open(UIType.REWARD_TUTORIAL, true) : _this3.close();
                return;
              }
              _this3.openStep(_this3.currentStep);
            }
            var childStep = _this3.currentStepUI.getComponent(TutorialStep).currentStep;
            _this3.updatePointer(_this3.currentStep, childStep);
            _this3.btnNextStep.node.active = true;
          });
        };
        _proto.updatePointer = function updatePointer(step, childStep) {
          var config = this.pointerConfig.find(function (pc) {
            return pc.step === step && pc.childStep === childStep;
          });
          if (!config) return;
          this.showAt(config.target, config.lookAtPoint, config.flipY);
        };
        _proto.showAt = function showAt(target, lookAtPoint, flipY) {
          if (lookAtPoint === void 0) {
            lookAtPoint = new Vec2();
          }
          if (flipY === void 0) {
            flipY = false;
          }
          this.pointerNode.active = true;
          this.pointerNode.setScale(1, flipY ? -1 : 1, 1);
          this.pointerNode.setWorldPosition(target.getWorldPosition().add3f(lookAtPoint.x, lookAtPoint.y, 0));
        };
        _proto.openStep = function openStep(currentStep) {
          // console.log("openStep");
          this.nodeLabelFinishTutorial.active = currentStep === 5;
          for (var index = 0; index < this.listStep.length; index++) {
            // console.log(currentStep == index);
            this.listStep[index].active = currentStep == index;
            if (currentStep == index) {
              this.currentStepUI = this.listStep[index];
            }
          }
        };
        _proto._onStart = function _onStart() {
          // this.updatePointer(this.currentStep + 1, 1);
        };
        return UITutorialScene;
      }(UIBase), (_descriptor9 = _applyDecoratedDescriptor(_class8.prototype, "btnExitTutorial", [_dec12], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor10 = _applyDecoratedDescriptor(_class8.prototype, "btnNextStep", [_dec13], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor11 = _applyDecoratedDescriptor(_class8.prototype, "listStep", [_dec14], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return [];
        }
      }), _descriptor12 = _applyDecoratedDescriptor(_class8.prototype, "pointerNode", [_dec15], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor13 = _applyDecoratedDescriptor(_class8.prototype, "pointerConfig", [_dec16], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return [];
        }
      }), _descriptor14 = _applyDecoratedDescriptor(_class8.prototype, "nodeLabelFinishTutorial", [_dec17], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _descriptor15 = _applyDecoratedDescriptor(_class8.prototype, "mainData", [_dec18], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return [];
        }
      }), _descriptor16 = _applyDecoratedDescriptor(_class8.prototype, "playerAData", [_dec19], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return [];
        }
      }), _descriptor17 = _applyDecoratedDescriptor(_class8.prototype, "playerBData", [_dec20], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return [];
        }
      })), _class8)) || _class7));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UIUpdateAlignment.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './Enums.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, _createClass, cclegacy, _decorator, EventTarget, Widget, Component, EEventType;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
      _createClass = module.createClass;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      EventTarget = module.EventTarget;
      Widget = module.Widget;
      Component = module.Component;
    }, function (module) {
      EEventType = module.EEventType;
    }],
    execute: function () {
      var _dec, _dec2, _class, _class2, _descriptor;
      cclegacy._RF.push({}, "b0480jdiexF7br8wEzRqNIN", "UIUpdateAlignment", undefined);
      var ccclass = _decorator.ccclass,
        property = _decorator.property;
      var eventTarget = exports('eventTarget', new EventTarget());
      var UIUpdateAlignment = exports('UIUpdateAlignment', (_dec = ccclass('UIUpdateAlignment'), _dec2 = property({
        type: Widget,
        visible: true
      }), _dec(_class = (_class2 = /*#__PURE__*/function (_Component) {
        _inheritsLoose(UIUpdateAlignment, _Component);
        function UIUpdateAlignment() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _Component.call.apply(_Component, [this].concat(args)) || this;
          _initializerDefineProperty(_this, "_widget", _descriptor, _assertThisInitialized(_this));
          return _this;
        }
        var _proto = UIUpdateAlignment.prototype;
        _proto.onLoad = function onLoad() {
          if (!this.widget) {
            this.destroy();
            return;
          }
          eventTarget.on(EEventType.CUSTOM_RESIZE, this.updateAlignment, this);
        };
        _proto.onDestroy = function onDestroy() {
          if (!this.widget) return;
          eventTarget.off(EEventType.CUSTOM_RESIZE, this.updateAlignment, this);
        };
        _proto.onEnable = function onEnable() {
          this.updateAlignment();
        };
        _proto.updateAlignment = function updateAlignment() {
          var _this$widget;
          (_this$widget = this.widget) == null || _this$widget.updateAlignment();
        };
        _createClass(UIUpdateAlignment, [{
          key: "widget",
          get: function get() {
            var _this$_widget;
            return (_this$_widget = this._widget) != null ? _this$_widget : this._widget = this.getComponent(Widget);
          }
        }]);
        return UIUpdateAlignment;
      }(Component), _descriptor = _applyDecoratedDescriptor(_class2.prototype, "_widget", [_dec2], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return null;
        }
      }), _class2)) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UpdateManager.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './Decorators.ts', './ArrayUtils.ts'], function (exports) {
  var _applyDecoratedDescriptor, _inheritsLoose, _initializerDefineProperty, _assertThisInitialized, cclegacy, _decorator, EventHandler, macro, Component, pDecorators, pArray;
  return {
    setters: [function (module) {
      _applyDecoratedDescriptor = module.applyDecoratedDescriptor;
      _inheritsLoose = module.inheritsLoose;
      _initializerDefineProperty = module.initializerDefineProperty;
      _assertThisInitialized = module.assertThisInitialized;
    }, function (module) {
      cclegacy = module.cclegacy;
      _decorator = module._decorator;
      EventHandler = module.EventHandler;
      macro = module.macro;
      Component = module.Component;
    }, function (module) {
      pDecorators = module.pDecorators;
    }, function (module) {
      pArray = module.pArray;
    }],
    execute: function () {
      var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _class, _class2, _descriptor, _descriptor2, _descriptor3;
      cclegacy._RF.push({}, "7d141hayS1GzYWKUFpX02J5", "UpdateManager", undefined);
      var ccclass = _decorator.ccclass,
        disallowMultiple = _decorator.disallowMultiple,
        property = _decorator.property;
      var singleton = pDecorators.singleton;
      var UpdateManager = exports('UpdateManager', (_dec = ccclass("UpdateManager"), _dec2 = disallowMultiple(), _dec3 = singleton(), _dec4 = property({
        min: 0
      }), _dec5 = property({
        min: 0
      }), _dec6 = property({
        type: EventHandler
      }), _dec(_class = _dec2(_class = _dec3(_class = (_class2 = /*#__PURE__*/function (_Component) {
        _inheritsLoose(UpdateManager, _Component);
        function UpdateManager() {
          var _this2;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this2 = _Component.call.apply(_Component, [this].concat(args)) || this;
          _initializerDefineProperty(_this2, "interval", _descriptor, _assertThisInitialized(_this2));
          _initializerDefineProperty(_this2, "delay", _descriptor2, _assertThisInitialized(_this2));
          _initializerDefineProperty(_this2, "events", _descriptor3, _assertThisInitialized(_this2));
          _this2._events = [];
          _this2._updater = null;
          return _this2;
        }
        var _proto = UpdateManager.prototype;
        _proto._map = function _map(listener) {
          return listener.map(function (ret) {
            var _ret$_priority;
            return typeof ret === 'function' ? {
              _function: ret,
              _priority: 0,
              _this: null
            } : {
              _function: ret._function,
              _this: ret._this,
              _priority: (_ret$_priority = ret._priority) != null ? _ret$_priority : 0
            };
          });
        };
        _proto._setup = function _setup() {
          var _this3 = this;
          if (this._events.length <= 0) return;
          if (this._updater) return;
          this._updater = function (_dt) {
            return _this3._events.forEach(function (_ref) {
              var _this = _ref._this,
                _function = _ref._function;
              return _this ? _function.call(_this, _dt) : _function(_dt);
            });
          };
          this.schedule(this._updater, this.interval, macro.REPEAT_FOREVER, this.delay);
        };
        _proto.add = function add(listener) {
          var _this$_events;
          for (var _len2 = arguments.length, listeners = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {
            listeners[_key2 - 1] = arguments[_key2];
          }
          listeners = pArray.flatter.apply(pArray, [listener].concat(listeners));
          (_this$_events = this._events).push.apply(_this$_events, this._map(listeners));
          this._setup();
        };
        _proto.remove = function remove(listener) {
          for (var _len3 = arguments.length, listeners = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {
            listeners[_key3 - 1] = arguments[_key3];
          }
          listeners = pArray.flatter.apply(pArray, [listener].concat(listeners));
          var map = this._map(listeners);
          this._events = this._events.filter(function (opt) {
            var index = map.findIndex(function (_opt) {
              return _opt._function === opt._function && _opt._this === opt._this;
            });
            if (index < 0) return true;
            map.splice(index, 1);
            return false;
          });
        };
        _proto.onLoad = function onLoad() {
          var _this4 = this;
          this.events.length > 0 && this._events.push({
            _function: function _function() {
              return EventHandler.emitEvents(_this4.events);
            },
            _this: null,
            _priority: 0
          });
          this._setup();
        };
        _proto.onDestroy = function onDestroy() {
          this.unscheduleAllCallbacks;
          this._updater = null;
          this._events = [];
        };
        return UpdateManager;
      }(Component), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "interval", [_dec4], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return 0.0;
        }
      }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "delay", [_dec5], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return 0.0;
        }
      }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "events", [_dec6], {
        configurable: true,
        enumerable: true,
        writable: true,
        initializer: function initializer() {
          return [];
        }
      })), _class2)) || _class) || _class) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/UserCommand.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './Connection.ts'], function (exports) {
  var _asyncToGenerator, _regeneratorRuntime, cclegacy, _connection;
  return {
    setters: [function (module) {
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
    }, function (module) {
      _connection = module.default;
    }],
    execute: function () {
      exports('default', request);
      cclegacy._RF.push({}, "5ec77xjF8BItqlNr4XmVfRs", "UserCommand", undefined);
      var UHC;
      (function (_UHC) {
        var prefix = _UHC.prefix = "game.userHandler.";
      })(UHC || (UHC = {}));
      function request(_x, _x2, _x3) {
        return _request.apply(this, arguments);
      }
      function _request() {
        _request = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(command, payload, cb) {
          return _regeneratorRuntime().wrap(function _callee$(_context) {
            while (1) switch (_context.prev = _context.next) {
              case 0:
                return _context.abrupt("return", _connection.send(UHC.prefix + command, payload, cb));
              case 1:
              case "end":
                return _context.stop();
            }
          }, _callee);
        }));
        return _request.apply(this, arguments);
      }
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/util.ts", ['cc'], function (exports) {
  var cclegacy;
  return {
    setters: [function (module) {
      cclegacy = module.cclegacy;
    }],
    execute: function () {
      cclegacy._RF.push({}, "340d636pGlJm5O1lIyZk2vm", "util", undefined);
      var Util = exports('Util', /*#__PURE__*/function () {
        function Util() {}
        Util.isSimpleType = function isSimpleType(type) {
          return type === 'uInt32' || type === 'sInt32' || type === 'int32' || type === 'uInt64' || type === 'sInt64' || type === 'float' || type === 'double';
        };
        return Util;
      }());
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/YardGamePlayer.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './Enums.ts', './GameController.ts', './IEventResponse.ts', './Decorators.ts', './UIGamePlay.ts', './UIPlayingScene.ts', './GlobalConfig.ts', './UINotice.ts', './EventManager.ts', './ResponeCode.ts', './NotifyToast.ts', './UIController.ts', './DBStorage.ts', './MathUtils.ts', './TableCommand.ts', './UIGamePots.ts'], function (exports) {
  var _inheritsLoose, _assertThisInitialized, _asyncToGenerator, _regeneratorRuntime, cclegacy, UIType, ETypeModePlay, EStatusGame, EStatusPlayer, EShopType, GameController, NSEventResponse, pDecorators, UIGamePlay, UIPlayingScene, GlobalConfig, UINotice, pEventManager, ResponseCode, NotifyToast, UIController, DBStorage, pMathUtils, request, NSGamePots;
  return {
    setters: [function (module) {
      _inheritsLoose = module.inheritsLoose;
      _assertThisInitialized = module.assertThisInitialized;
      _asyncToGenerator = module.asyncToGenerator;
      _regeneratorRuntime = module.regeneratorRuntime;
    }, function (module) {
      cclegacy = module.cclegacy;
    }, function (module) {
      UIType = module.UIType;
      ETypeModePlay = module.ETypeModePlay;
      EStatusGame = module.EStatusGame;
      EStatusPlayer = module.EStatusPlayer;
      EShopType = module.EShopType;
    }, function (module) {
      GameController = module.GameController;
    }, function (module) {
      NSEventResponse = module.NSEventResponse;
    }, function (module) {
      pDecorators = module.pDecorators;
    }, function (module) {
      UIGamePlay = module.default;
    }, function (module) {
      UIPlayingScene = module.default;
    }, function (module) {
      GlobalConfig = module.default;
    }, function (module) {
      UINotice = module.UINotice;
    }, function (module) {
      pEventManager = module.pEventManager;
    }, function (module) {
      ResponseCode = module.ResponseCode;
    }, function (module) {
      NotifyToast = module.NotifyToast;
    }, function (module) {
      UIController = module.UIController;
    }, function (module) {
      DBStorage = module.DBStorage;
    }, function (module) {
      pMathUtils = module.pMathUtils;
    }, function (module) {
      request = module.default;
    }, function (module) {
      NSGamePots = module.NSGamePots;
    }],
    execute: function () {
      var _dec, _dec2, _class;
      cclegacy._RF.push({}, "bfa14R+KvBIlLAoi3XhwBl3", "YardGamePlayer", undefined);
      var logger = pDecorators.logger,
        singleton = pDecorators.singleton;
      var YardGamePlayer = exports('YardGamePlayer', (_dec = singleton({
        initer: '_init',
        destroyer: '_destroy',
        wake: "Instantly"
      }), _dec2 = logger('YardGamePlayer'), _dec(_class = _dec2(_class = /*#__PURE__*/function (_GameController) {
        _inheritsLoose(YardGamePlayer, _GameController);
        function YardGamePlayer() {
          var _this;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _GameController.call.apply(_GameController, [this].concat(args)) || this;
          _this._events = [['onStandUp', _this._onStandUp, _assertThisInitialized(_this)]];
          _this._autoBuyInValue = 0;
          _this._onJoinTableData = null;
          _this._indexX = 0;
          _this._listWaiters = [];
          return _this;
        }
        var _proto = YardGamePlayer.prototype;
        _proto.leaveTable = /*#__PURE__*/function () {
          var _leaveTable = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(onSuccess, onError) {
            var _res, code, instance, notice;
            return _regeneratorRuntime().wrap(function _callee$(_context) {
              while (1) switch (_context.prev = _context.next) {
                case 0:
                  _context.next = 2;
                  return request('leaveTable', {});
                case 2:
                  _res = _context.sent;
                  code = _res.code;
                  instance = GlobalConfig.instance;
                  notice = instance.notice;
                  _context.t0 = code;
                  _context.next = _context.t0 === ResponseCode.SUCCESS ? 9 : _context.t0 === ResponseCode.ERROR ? 15 : 16;
                  break;
                case 9:
                  this.isMainSitDown && pEventManager.invoke('onStandUp');
                  _context.next = 12;
                  return UIController.Instance.open(UIType.PT_YARD, false);
                case 12:
                  pEventManager.invoke('onLeaveTable');
                  onSuccess(_res);
                  return _context.abrupt("break", 18);
                case 15:
                  onError();
                case 16:
                  notice.show('txt_title', _res['error'], 'txt_btn_confirm');
                  return _context.abrupt("break", 18);
                case 18:
                case "end":
                  return _context.stop();
              }
            }, _callee, this);
          }));
          function leaveTable(_x, _x2) {
            return _leaveTable.apply(this, arguments);
          }
          return leaveTable;
        }();
        _proto._getWinnerDuration = function _getWinnerDuration() {
          return 100;
        };
        _proto.leaveRoomChecker = function leaveRoomChecker(onConfirm, onSuccess) {
          console.log('[LEAVE ROOM CHECKER] >>>', this.table);
          if (!this.table) {
            onConfirm();
            return;
          }
          var extendData = this.table.data;
          var _isp = extendData.isPrivate && GlobalConfig.instance.isMainPlayer(extendData.creator);
          if (this.isPlaying) {
            _isp ? UINotice.instance.show('txt_title_system_warning', 'txt_other_out_room', 'txt_btn_confirm2', onConfirm, 'txt_btn_cancel') : UINotice.instance.show('txt_title_getout_table', 'txt_standup_notifi', 'txt_btn_confirm2', onConfirm, 'txt_btn_cancel');
          } else {
            _isp ? UINotice.instance.show('txt_title_system_warning', "txt_other_out_room_non_playing", 'txt_btn_confirm2', onConfirm, 'txt_btn_cancel') : onSuccess();
          }
        };
        _proto._onStandUp = function _onStandUp() {
          var _gp = pDecorators.instance(UIGamePlay);
          _gp.resetPosIndexItemPlayer();
        };
        _proto.onDisconnect = /*#__PURE__*/function () {
          var _onDisconnect = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {
            return _regeneratorRuntime().wrap(function _callee2$(_context2) {
              while (1) switch (_context2.prev = _context2.next) {
                case 0:
                case 1:
                case "end":
                  return _context2.stop();
              }
            }, _callee2, this);
          }));
          function onDisconnect() {
            return _onDisconnect.apply(this, arguments);
          }
          return onDisconnect;
        }();
        _proto._onDoneInitViewPlaying = function _onDoneInitViewPlaying() {
          this._handleAutoSit();
        };
        _proto._handleAutoSit = /*#__PURE__*/function () {
          var _handleAutoSit2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {
            var _this$_table, typeModePlay, extendData, maxPlayers, maxBuyIn, _db, auto_sit, auto_buy, _gp, sit, buyIn;
            return _regeneratorRuntime().wrap(function _callee3$(_context3) {
              while (1) switch (_context3.prev = _context3.next) {
                case 0:
                  _this$_table = this._table, typeModePlay = _this$_table.mode, extendData = _this$_table.data;
                  if (!(typeModePlay != ETypeModePlay.YARD)) {
                    _context3.next = 3;
                    break;
                  }
                  return _context3.abrupt("return");
                case 3:
                  maxPlayers = extendData.maxPlayers, maxBuyIn = extendData.maxBuyIn;
                  _db = pDecorators.instance(DBStorage);
                  auto_sit = _db.load('AUTO_SIT_DOWN', false);
                  auto_buy = _db.load('AUTO_BUY_IN', false);
                  _context3.next = 9;
                  return pDecorators.wait(UIGamePlay);
                case 9:
                  _gp = _context3.sent;
                  _context3.next = 12;
                  return _gp == null ? void 0 : _gp.wait('onReady');
                case 12:
                  if (!auto_sit) {
                    _context3.next = 17;
                    break;
                  }
                  sit = pMathUtils.random(1, maxPlayers);
                  buyIn = GlobalConfig.instance.getBalance(Math.floor(maxBuyIn / 2));
                  _context3.next = 17;
                  return this.actBuyIn(sit, extendData, auto_buy, buyIn);
                case 17:
                case "end":
                  return _context3.stop();
              }
            }, _callee3, this);
          }));
          function _handleAutoSit() {
            return _handleAutoSit2.apply(this, arguments);
          }
          return _handleAutoSit;
        }();
        _proto.onJoinTable = /*#__PURE__*/function () {
          var _onJoinTable2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(msg) {
            var _this$table;
            var route, _p;
            return _regeneratorRuntime().wrap(function _callee4$(_context4) {
              while (1) switch (_context4.prev = _context4.next) {
                case 0:
                  route = msg.route;
                  this._onRecheckData = msg;
                  if (!(route != 'onJoinTable')) {
                    _context4.next = 4;
                    break;
                  }
                  return _context4.abrupt("return");
                case 4:
                  _p = pDecorators.instance(NSGamePots.Component);
                  _p == null || _p.setStep(((_this$table = this.table) == null || (_this$table = _this$table.data) == null ? void 0 : _this$table.smallBlind) || 1000);
                  this._onJoinTable(msg);
                case 7:
                case "end":
                  return _context4.stop();
              }
            }, _callee4, this);
          }));
          function onJoinTable(_x3) {
            return _onJoinTable2.apply(this, arguments);
          }
          return onJoinTable;
        }();
        _proto._onJoinTable = /*#__PURE__*/function () {
          var _onJoinTable3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(msg, log) {
            var _this2 = this;
            var members, players, waitings, currentPlayerTime, currentPlayerIndex, _pw, _gp, uiGameAction, uiAutoPlayer, i, _player, _item, list;
            return _regeneratorRuntime().wrap(function _callee5$(_context5) {
              while (1) switch (_context5.prev = _context5.next) {
                case 0:
                  if (log === void 0) {
                    log = null;
                  }
                  log && this.warn("onJoinTable >> Retry >>", log);
                  members = msg.members, players = msg.players, waitings = msg.waitings, currentPlayerTime = msg.currentPlayerTime, currentPlayerIndex = msg.currentPlayerIndex;
                  this.listCurrPlayerInTabel = players;
                  this._listWaiters = waitings;
                  this._membersAfterClear = members;
                  _context5.next = 8;
                  return pDecorators.wait(UIPlayingScene);
                case 8:
                  _pw = _context5.sent;
                  _context5.next = 11;
                  return pDecorators.wait(UIGamePlay);
                case 11:
                  _gp = _context5.sent;
                  if (!(!_pw || !_gp)) {
                    _context5.next = 18;
                    break;
                  }
                  if (!this._actRetryCatcher("CHECK NULL _PW_GP TOO MANY TIMES", _pw, _gp)) {
                    _context5.next = 15;
                    break;
                  }
                  return _context5.abrupt("return");
                case 15:
                  _context5.next = 17;
                  return this._onJoinTable(msg, "NULL _PW, GP LINE 136");
                case 17:
                  return _context5.abrupt("return");
                case 18:
                  _gp.setDBMessage(function (_raw) {
                    return _raw + "> " + _this2._indexX + " ";
                  });
                  this._indexX++;
                  _context5.t0 = this.mainState;
                  _context5.next = _context5.t0 === EStatusPlayer.WATCH ? 24 : _context5.t0 === EStatusPlayer.JOIN_GAME ? 54 : 60;
                  break;
                case 24:
                  uiGameAction = _pw.uiGameAction, uiAutoPlayer = _pw.uiAutoPlayer;
                  uiGameAction.active = false;
                  uiAutoPlayer.active = false;
                  if (!(players.length > 0)) {
                    _context5.next = 49;
                    break;
                  }
                  this._checkFold(players);
                  if (GlobalConfig.instance.hasMainById(players)) {
                    _context5.next = 32;
                    break;
                  }
                  _context5.next = 32;
                  return _gp.resetPosIndexItemPlayer();
                case 32:
                  _context5.next = 34;
                  return _gp.actRotation('watch', players, waitings);
                case 34:
                  i = 0;
                case 35:
                  if (!(i < players.length)) {
                    _context5.next = 45;
                    break;
                  }
                  _player = players[i];
                  _item = _gp.getPlayerByUserName(_player);
                  if (_item) {
                    _context5.next = 40;
                    break;
                  }
                  return _context5.abrupt("continue", 42);
                case 40:
                  _item.showBackCardPlayer();
                  if (i === currentPlayerIndex) {
                    _item.onTurn(true, 0);
                    _gp.showTimeCountTurn(_item, true, currentPlayerTime);
                  } else {
                    _item.onTurn(false);
                  }
                case 42:
                  i++;
                  _context5.next = 35;
                  break;
                case 45:
                  _context5.next = 47;
                  return this._checkDisplayer(players, waitings, this._onJoinTable.bind(this), "WATCH >> PLAYERS > 0");
                case 47:
                  _context5.next = 53;
                  break;
                case 49:
                  _context5.next = 51;
                  return _gp.actRotation('watch', members, []);
                case 51:
                  _context5.next = 53;
                  return this._checkDisplayer(members, [], this._onJoinTable.bind(this), "WATCH >> PLAYERS <= 0");
                case 53:
                  return _context5.abrupt("break", 60);
                case 54:
                  list = this._gameState == EStatusGame.IN_PROGRESS && players.length > 0 ? players : members;
                  _context5.next = 57;
                  return _gp.actRotation('main', list, waitings);
                case 57:
                  _context5.next = 59;
                  return this._checkDisplayer(list, waitings, this._onJoinTable.bind(this), "JOIN_GAME >>");
                case 59:
                  return _context5.abrupt("break", 60);
                case 60:
                case "end":
                  return _context5.stop();
              }
            }, _callee5, this);
          }));
          function _onJoinTable(_x4, _x5) {
            return _onJoinTable3.apply(this, arguments);
          }
          return _onJoinTable;
        }();
        _proto.onJoinGame = function onJoinGame(msg) {
          var route = msg.route;
          if (route !== 'onJoinGame') return;
          this._onJoinGameState(msg);
        };
        _proto._onJoinGameWithJoinState = /*#__PURE__*/function () {
          var _onJoinGameWithJoinState2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6(msg) {
            var members, waitings, _pv, _gp, hasMain;
            return _regeneratorRuntime().wrap(function _callee6$(_context6) {
              while (1) switch (_context6.prev = _context6.next) {
                case 0:
                  members = msg.members, waitings = msg.waitings;
                  _pv = pDecorators.instance(UIPlayingScene);
                  _gp = pDecorators.instance(UIGamePlay);
                  if (_pv) {
                    _context6.next = 5;
                    break;
                  }
                  return _context6.abrupt("return");
                case 5:
                  hasMain = GlobalConfig.instance.hasMainById(members);
                  if (!hasMain) {
                    _context6.next = 15;
                    break;
                  }
                  _pv.updateLeavingBtn(true);
                  !this.isMainSitDown && pEventManager.invoke('onSitDown');
                  members.length == 1 && NotifyToast.instance.showWithKey('txt_please_wait_other_player');
                  _context6.next = 12;
                  return _gp.actRotation('main', members, waitings);
                case 12:
                  !this.isMainSitDown && (this.mainState = EStatusPlayer.JOIN_GAME);
                  _context6.next = 16;
                  break;
                case 15:
                  this.isMainSitDown ? _gp.actRotation('other', members, waitings) : _gp.actRotation('watch', members, waitings);
                case 16:
                case "end":
                  return _context6.stop();
              }
            }, _callee6, this);
          }));
          function _onJoinGameWithJoinState(_x6) {
            return _onJoinGameWithJoinState2.apply(this, arguments);
          }
          return _onJoinGameWithJoinState;
        }();
        _proto._onJoinGameInProgressState = /*#__PURE__*/function () {
          var _onJoinGameInProgressState2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee7(msg) {
            var _gp, _pv, members, waitings, currentPlayerIndex, players, hasMain;
            return _regeneratorRuntime().wrap(function _callee7$(_context7) {
              while (1) switch (_context7.prev = _context7.next) {
                case 0:
                  _gp = pDecorators.instance(UIGamePlay);
                  _pv = pDecorators.instance(UIPlayingScene);
                  if (!(!_pv || !_gp)) {
                    _context7.next = 4;
                    break;
                  }
                  return _context7.abrupt("return");
                case 4:
                  members = msg.members, waitings = msg.waitings, currentPlayerIndex = msg.currentPlayerIndex, players = msg.players;
                  hasMain = waitings.some(function (e) {
                    var player = _gp.getPlayerByID(e);
                    player == null || player.setTxtStatus('waiting');
                    return GlobalConfig.instance.isMainPlayer(e);
                  });
                  if (!(hasMain && this.mainState != EStatusPlayer.WAITING)) {
                    _context7.next = 17;
                    break;
                  }
                  !this.isMainSitDown && pEventManager.invoke('onSitDown');
                  _pv.updateLeavingBtn(true);
                  NotifyToast.instance.showWithKey('txt_please_wait_the_next_game');
                  UINotice.instance.show({
                    key: 'txt_title',
                    handler: function handler(str) {
                      return str.toUpperCase();
                    }
                  }, 'txt_notice_game_is_playing', 'txt_agree');
                  _context7.next = 13;
                  return _gp.actRotation('main', members, waitings);
                case 13:
                  !this.isMainSitDown && (this.mainState = EStatusPlayer.WAITING);
                  _gp.lightDirector(players, currentPlayerIndex);
                  _context7.next = 18;
                  break;
                case 17:
                  _gp.actRotation('watch', members, waitings);
                case 18:
                case "end":
                  return _context7.stop();
              }
            }, _callee7, this);
          }));
          function _onJoinGameInProgressState(_x7) {
            return _onJoinGameInProgressState2.apply(this, arguments);
          }
          return _onJoinGameInProgressState;
        }();
        _proto._onJoinGameDefaultState = /*#__PURE__*/function () {
          var _onJoinGameDefaultState2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee8(msg) {
            var members, waitings, hasMain, _pv, _gp;
            return _regeneratorRuntime().wrap(function _callee8$(_context8) {
              while (1) switch (_context8.prev = _context8.next) {
                case 0:
                  members = msg.members, waitings = msg.waitings;
                  hasMain = GlobalConfig.instance.hasMainById(members);
                  _pv = pDecorators.instance(UIPlayingScene);
                  _gp = pDecorators.instance(UIGamePlay);
                  if (!(!_pv || !_gp)) {
                    _context8.next = 6;
                    break;
                  }
                  return _context8.abrupt("return");
                case 6:
                  _pv.updateLeavingBtn(hasMain);
                  if (!hasMain) {
                    _context8.next = 15;
                    break;
                  }
                  !this.isMainSitDown && pEventManager.invoke('onSitDown');
                  members.length == 1 && NotifyToast.instance.showWithKey('txt_please_wait_other_player');
                  _context8.next = 12;
                  return _gp.actRotation('main', members, waitings);
                case 12:
                  !this.isMainSitDown && (this.mainState = EStatusPlayer.JOIN_GAME);
                  _context8.next = 16;
                  break;
                case 15:
                  _gp.actRotation('watch', members, waitings);
                case 16:
                case "end":
                  return _context8.stop();
              }
            }, _callee8, this);
          }));
          function _onJoinGameDefaultState(_x8) {
            return _onJoinGameDefaultState2.apply(this, arguments);
          }
          return _onJoinGameDefaultState;
        }();
        _proto._onJoinGameState = /*#__PURE__*/function () {
          var _onJoinGameState2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee9(msg) {
            var members, state, waitings, players, _pv, _gp, hasMain;
            return _regeneratorRuntime().wrap(function _callee9$(_context9) {
              while (1) switch (_context9.prev = _context9.next) {
                case 0:
                  members = msg.members, state = msg.state, waitings = msg.waitings, players = msg.players;
                  _pv = pDecorators.instance(UIPlayingScene);
                  _gp = pDecorators.instance(UIGamePlay);
                  this.listCurrPlayerInTabel = players;
                  this._listWaiters = waitings;
                  if (!state) {
                    _context9.next = 19;
                    break;
                  }
                  _context9.t0 = state;
                  _context9.next = _context9.t0 === "JOIN" ? 9 : _context9.t0 === 'IN_PROGRESS' ? 12 : _context9.t0 === 'END_GAME' ? 14 : 15;
                  break;
                case 9:
                  this.setGame(NSEventResponse.dGame, 0);
                  this._onJoinGameWithJoinState(msg);
                  return _context9.abrupt("break", 17);
                case 12:
                  this._onJoinGameInProgressState(msg);
                  return _context9.abrupt("break", 17);
                case 14:
                  this.setGame(NSEventResponse.dGame, 0);
                case 15:
                  this._onJoinGameDefaultState(msg);
                  return _context9.abrupt("break", 17);
                case 17:
                  _context9.next = 30;
                  break;
                case 19:
                  hasMain = GlobalConfig.instance.hasMainById(members);
                  _pv.updateLeavingBtn(hasMain);
                  if (!hasMain) {
                    _context9.next = 28;
                    break;
                  }
                  !this.isMainSitDown && pEventManager.invoke('onSitDown');
                  _context9.next = 25;
                  return _gp.actRotation('main', members, waitings);
                case 25:
                  !this.isMainSitDown && (this.mainState = EStatusPlayer.JOIN_GAME);
                  _context9.next = 30;
                  break;
                case 28:
                  _context9.next = 30;
                  return _gp.actRotation('watch', members, waitings);
                case 30:
                case "end":
                  return _context9.stop();
              }
            }, _callee9, this);
          }));
          function _onJoinGameState(_x9) {
            return _onJoinGameState2.apply(this, arguments);
          }
          return _onJoinGameState;
        }();
        _proto.onStartTurn = function onStartTurn(data) {
          this.log('[999] _onStartTurn >>>', data);
        };
        _proto.onUpdateSelf = function onUpdateSelf(msg) {};
        _proto.onKickUser = function onKickUser() {};
        _proto.actBuyIn = /*#__PURE__*/function () {
          var _actBuyIn2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee10(slot, table, auto, amount) {
            var _this3 = this;
            var _pv;
            return _regeneratorRuntime().wrap(function _callee10$(_context10) {
              while (1) switch (_context10.prev = _context10.next) {
                case 0:
                  if (auto === void 0) {
                    auto = false;
                  }
                  if (amount === void 0) {
                    amount = 0;
                  }
                  _context10.next = 4;
                  return pDecorators.wait(UIPlayingScene);
                case 4:
                  _pv = _context10.sent;
                  amount = this._getBuyInValue(amount);
                  !!auto ? this._actBuyIn(amount, slot) : _pv.showBuyInPopup(table, function (_value) {
                    return _this3._actBuyIn(_value, slot);
                  }, function () {
                    return void 0;
                  });
                case 7:
                case "end":
                  return _context10.stop();
              }
            }, _callee10, this);
          }));
          function actBuyIn(_x10, _x11, _x12, _x13) {
            return _actBuyIn2.apply(this, arguments);
          }
          return actBuyIn;
        }();
        _proto._actBuyIn = /*#__PURE__*/function () {
          var _actBuyIn3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee11(value, slot) {
            var instance, information, _pv;
            return _regeneratorRuntime().wrap(function _callee11$(_context11) {
              while (1) switch (_context11.prev = _context11.next) {
                case 0:
                  instance = UINotice.instance;
                  information = GlobalConfig.instance.Login.player.information;
                  _context11.next = 4;
                  return pDecorators.wait(UIPlayingScene);
                case 4:
                  _pv = _context11.sent;
                  if (!(value > information.balance)) {
                    _context11.next = 10;
                    break;
                  }
                  instance.show('txt_title_system_warning', 'txt_notifi_not_money_buy_in', 'txt_btn_buy_chip', function () {
                    return UIController.Instance.open(UIType.SHOP, false, true, true, EShopType.MY_PROPS);
                  }, 'txt_btn_change_room', function () {
                    return _pv.actChangeRoom();
                  });
                  return _context11.abrupt("return");
                case 10:
                  this._rebuyChecker(value, slot);
                case 11:
                case "end":
                  return _context11.stop();
              }
            }, _callee11, this);
          }));
          function _actBuyIn(_x14, _x15) {
            return _actBuyIn3.apply(this, arguments);
          }
          return _actBuyIn;
        }();
        _proto._rebuyChecker = /*#__PURE__*/function () {
          var _rebuyChecker2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee12(value, slot) {
            var _this4 = this;
            var instance, _res, _gp, sit;
            return _regeneratorRuntime().wrap(function _callee12$(_context12) {
              while (1) switch (_context12.prev = _context12.next) {
                case 0:
                  instance = UINotice.instance;
                  _context12.next = 3;
                  return request('joinGame', {
                    buyIn: value,
                    index: slot
                  });
                case 3:
                  _res = _context12.sent;
                  _context12.t0 = _res.code;
                  _context12.next = _context12.t0 === ResponseCode.SUCCESS ? 7 : _context12.t0 === ResponseCode.ERROR ? 11 : _context12.t0 === ResponseCode.ERR_MINIMUM_BUY_IN ? 13 : _context12.t0 === ResponseCode.ERR_INVALID_SIT ? 15 : _context12.t0 === ResponseCode.ERR_USER_IS_PLAYING ? 18 : _context12.t0 === ResponseCode.ERR_NOT_ENOUGH_MONEY ? 20 : 22;
                  break;
                case 7:
                  this._autoBuyInValue = value;
                  _gp = pDecorators.instance(UIGamePlay);
                  _gp.actRotation('main', this.listCurrPlayerInTabel, this._listWaiters);
                  //this.mainState = EStatusPlayer.JOIN_GAME;
                  return _context12.abrupt("break", 22);
                case 11:
                  this.actStandUp();
                  return _context12.abrupt("break", 22);
                case 13:
                  instance.show({
                    key: "txt_btn_notifi",
                    handler: function handler(str) {
                      return str.toUpperCase();
                    }
                  }, 'below-minimum-buyin', {
                    key: 'txt_btn_confirm',
                    handler: function handler(str) {
                      return str.toUpperCase();
                    }
                  }, undefined, undefined, undefined, function () {
                    return _this4.actStandUp();
                  });
                  return _context12.abrupt("break", 22);
                case 15:
                  sit = pDecorators.instance(UIGamePlay).players.find(function (e) {
                    return e.isEmptySit();
                  });
                  if (!!sit) this._rebuyChecker(value, sit.indexSlot);else instance.show({
                    key: "txt_btn_notifi",
                    handler: function handler(str) {
                      return str.toUpperCase();
                    }
                  }, 'below-minimum-buyin', {
                    key: 'txt_btn_confirm',
                    handler: function handler(str) {
                      return str.toUpperCase();
                    }
                  }, undefined, undefined, undefined, function () {
                    return _this4.actStandUp();
                  });
                  return _context12.abrupt("break", 22);
                case 18:
                  instance.show({
                    key: "txt_btn_notifi",
                    handler: function handler(str) {
                      return str.toUpperCase();
                    }
                  }, {
                    key: "txt_left_game_interval",
                    handler: function handler(str) {
                      return str + "!.";
                    }
                  }, {
                    key: 'txt_btn_confirm',
                    handler: function handler(str) {
                      return str.toUpperCase();
                    }
                  });
                  return _context12.abrupt("break", 22);
                case 20:
                  instance.show('txt_title', 'txt_notifi_not_money_buy_in');
                  return _context12.abrupt("break", 22);
                case 22:
                case "end":
                  return _context12.stop();
              }
            }, _callee12, this);
          }));
          function _rebuyChecker(_x16, _x17) {
            return _rebuyChecker2.apply(this, arguments);
          }
          return _rebuyChecker;
        }();
        _proto._getBuyInValue = function _getBuyInValue(amount) {
          return amount > 0 ? amount : this._autoBuyInValue;
        };
        _proto._actKick = /*#__PURE__*/function () {
          var _actKick2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee13(playersToNotEnough) {
            var _this5 = this;
            var _pv, isAutoBuy, instance, hasMain, _gp, data, extendData, bigBlind, mainPlayer, chips, playerInfo;
            return _regeneratorRuntime().wrap(function _callee13$(_context13) {
              while (1) switch (_context13.prev = _context13.next) {
                case 0:
                  _pv = pDecorators.instance(UIPlayingScene);
                  if (_pv) {
                    _context13.next = 3;
                    break;
                  }
                  return _context13.abrupt("return", false);
                case 3:
                  isAutoBuy = _pv.uiPopupBuyChip.isAutoBuy;
                  instance = GlobalConfig.instance;
                  hasMain = false;
                  _gp = pDecorators.instance(UIGamePlay);
                  data = _gp.data;
                  extendData = data.data;
                  bigBlind = extendData.bigBlind;
                  mainPlayer = playersToNotEnough.find(function (player) {
                    return instance.isMainPlayer(player);
                  });
                  this.log("_ACT KICK >>> MAIN >>", isAutoBuy);
                  if (mainPlayer) {
                    _context13.next = 14;
                    break;
                  }
                  return _context13.abrupt("return", false);
                case 14:
                  chips = mainPlayer.chips;
                  playerInfo = _gp.getPlayerByUserName(mainPlayer);
                  if (!(!playerInfo || !playerInfo.clonedPlayerData)) {
                    _context13.next = 18;
                    break;
                  }
                  return _context13.abrupt("return", false);
                case 18:
                  if (!(chips >= bigBlind && extendData.minBuyIn > chips)) {
                    _context13.next = 22;
                    break;
                  }
                  return _context13.abrupt("return", false);
                case 22:
                  if (!(chips < bigBlind)) {
                    _context13.next = 33;
                    break;
                  }
                  hasMain = true;
                  this.mainState = EStatusPlayer.WATCH;
                  _context13.next = 27;
                  return this.actStandUp();
                case 27:
                  if (isAutoBuy) {
                    _context13.next = 31;
                    break;
                  }
                  UINotice.instance.show({
                    key: 'txt_btn_notifi'
                  }, {
                    key: 'txt_msg_dont_have_enough_money'
                  }, {
                    key: 'txt_btn_buyin'
                  }, function () {
                    return _this5.actBuyIn(playerInfo.indexSlot, data.data, false);
                  }, {
                    key: 'txt_btn_change_room'
                  }, function () {
                    return pDecorators.instance(UIPlayingScene).actChangeRoom();
                  });
                  _context13.next = 33;
                  break;
                case 31:
                  _context13.next = 33;
                  return this.actBuyIn(playerInfo.indexSlot, data.data, true);
                case 33:
                  return _context13.abrupt("return", hasMain);
                case 34:
                case "end":
                  return _context13.stop();
              }
            }, _callee13, this);
          }));
          function _actKick(_x18) {
            return _actKick2.apply(this, arguments);
          }
          return _actKick;
        }();
        _proto._actStandUpCMD = /*#__PURE__*/function () {
          var _actStandUpCMD2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee14() {
            var instance, msg, notice;
            return _regeneratorRuntime().wrap(function _callee14$(_context14) {
              while (1) switch (_context14.prev = _context14.next) {
                case 0:
                  instance = GlobalConfig.instance;
                  _context14.next = 3;
                  return request('standUp', {});
                case 3:
                  msg = _context14.sent;
                  _context14.t0 = msg.code;
                  _context14.next = _context14.t0 === ResponseCode.ERROR ? 7 : _context14.t0 === ResponseCode.SUCCESS ? 10 : 13;
                  break;
                case 7:
                  notice = instance.notice;
                  notice.show('txt_title', msg.error, 'txt_btn_confirm');
                  return _context14.abrupt("break", 13);
                case 10:
                  this.mainState = EStatusPlayer.WATCH;
                  pEventManager.invoke('onStandUp');
                  return _context14.abrupt("break", 13);
                case 13:
                case "end":
                  return _context14.stop();
              }
            }, _callee14, this);
          }));
          function _actStandUpCMD() {
            return _actStandUpCMD2.apply(this, arguments);
          }
          return _actStandUpCMD;
        }();
        _proto._actCallCMD = function _actCallCMD() {
          var _pDecorators$instance = pDecorators.instance(UIGamePlay),
            main = _pDecorators$instance.main;
          return request('execute', {
            action: 'call',
            amt: main.callRq
          });
        };
        _proto._actFoldCMD = function _actFoldCMD() {
          return request('execute', {
            action: "fold",
            amt: 0
          });
        };
        _proto._actAllInCMD = function _actAllInCMD(amt) {
          return request('execute', {
            action: "allin",
            amt: amt
          });
        };
        _proto._actBetCMD = function _actBetCMD(amt) {
          return request('execute', {
            action: "bet",
            amt: amt
          });
        };
        _proto._actCheckCMD = function _actCheckCMD() {
          return request('execute', {
            action: "check",
            amt: 0
          });
        };
        return YardGamePlayer;
      }(GameController)) || _class) || _class));
      cclegacy._RF.pop();
    }
  };
});

System.register("chunks:///_virtual/YardPlayerData.ts", ['./rollupPluginModLoBabelHelpers.js', 'cc', './ItemPlayerData.ts'], function (exports) {
  var _inheritsLoose, _extends, _createClass, cclegacy, ItemPlayerData;
  return {
    setters: [function (module) {
      _inheritsLoose = module.inheritsLoose;
      _extends = module.extends;
      _createClass = module.createClass;
    }, function (module) {
      cclegacy = module.cclegacy;
    }, function (module) {
      ItemPlayerData = module.ItemPlayerData;
    }],
    execute: function () {
      cclegacy._RF.push({}, "c0421pDgTBDvYIQ3EoaPdoF", "YardPlayerData", undefined);
      var YardPlayerData = exports('YardPlayerData', /*#__PURE__*/function (_ItemPlayerData) {
        _inheritsLoose(YardPlayerData, _ItemPlayerData);
        function YardPlayerData() {
          return _ItemPlayerData.apply(this, arguments) || this;
        }
        YardPlayerData._create = function _create() {
          return new YardPlayerData();
        };
        var _proto = YardPlayerData.prototype;
        _proto.update = function update(key, data) {
          if (!this._data) return;
          switch (key) {
            case "username":
              {
                this._data = _extends({}, this._data, {
                  playerName: String(data)
                });
                break;
              }
            default:
              {
                var _extends2;
                this._data = _extends({}, this._data, (_extends2 = {}, _extends2[key] = data, _extends2));
              }
          }
        };
        _proto.fold = function fold() {
          this._data.folded = true;
        };
        _createClass(YardPlayerData, [{
          key: "vippoint",
          get: function get() {
            var _this$_data;
            return ((_this$_data = this._data) == null ? void 0 : _this$_data.vippoint) || 0;
          }
        }, {
          key: "fullName",
          get: function get() {
            var _this$_data2;
            return ((_this$_data2 = this._data) == null ? void 0 : _this$_data2.playerName) || "";
          }
        }, {
          key: "cards",
          get: function get() {
            var _this$_data3;
            return ((_this$_data3 = this._data) == null ? void 0 : _this$_data3.cards) || [];
          }
        }, {
          key: "folded",
          get: function get() {
            var _this$_data4;
            return ((_this$_data4 = this._data) == null ? void 0 : _this$_data4.folded) || false;
          }
        }, {
          key: "username",
          get: function get() {
            var _this$_data5;
            return ((_this$_data5 = this._data) == null ? void 0 : _this$_data5.playerName) || "";
          }
        }, {
          key: "chips",
          get: function get() {
            var _this$_data6;
            return ((_this$_data6 = this._data) == null ? void 0 : _this$_data6.chips) || 0;
          }
        }, {
          key: "avatar",
          get: function get() {
            var _this$_data7;
            return ((_this$_data7 = this._data) == null ? void 0 : _this$_data7.avatar) || "1";
          }
        }, {
          key: "index",
          get: function get() {
            if (!this.valid) return -1;
            return this._data.index;
          }
        }, {
          key: "actorNr",
          get: function get() {
            if (!this.valid) return -1;
            return this._data.actorNr;
          }
        }, {
          key: "id",
          get: function get() {
            var _this$_data8;
            return (_this$_data8 = this._data) == null ? void 0 : _this$_data8.id;
          }
        }]);
        return YardPlayerData;
      }(ItemPlayerData));
      cclegacy._RF.pop();
    }
  };
});

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});